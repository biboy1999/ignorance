/*! For license information please see main.755dd10f.js.LICENSE.txt */
!function(){var e={3369:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),a=Math.max(i,o),s=0,u=e.map([t,n],(function(t){var n=a-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=a-Math.min(i,o)),a-=1;a>=s;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===s)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var s=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)s();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t,n,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(n=null)&&a(t.prototype,n),r&&a(t,r),e}();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(92)),i=u(n(93)),o=u(n(94)),a=u(n(95)),s=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(i[t]=a,o+=1):"object"==typeof a&&(n[t]=a,r+=1)})),r>0){var a=Object.keys(n),u=s.default.find(a,(function(e){return t.isOS(e)}));if(u){var l=this.satisfies(n[u]);if(void 0!==l)return l}var c=s.default.find(a,(function(e){return t.isPlatform(e)}));if(c){var f=this.satisfies(n[c]);if(void 0!==f)return f}}if(o>0){var h=Object.keys(i),d=s.default.find(h,(function(e){return t.isBrowser(e,!0)}));if(void 0!==d)return this.compareVersion(i[d])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=s.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=l,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}})},5905:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},5816:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(t,n){t.exports=e},function(e,t,n){"use strict";var r=n(0).FDLayoutConstants;function i(){}for(var o in r)i[o]=r[o];i.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,i.DEFAULT_RADIAL_SEPARATION=r.DEFAULT_EDGE_LENGTH,i.DEFAULT_COMPONENT_SEPERATION=60,i.TILE=!0,i.TILING_PADDING_VERTICAL=10,i.TILING_PADDING_HORIZONTAL=10,i.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,i.ENFORCE_CONSTRAINTS=!0,i.APPLY_LAYOUT=!0,i.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,i.TREE_REDUCTION_ON_INCREMENTAL=!0,i.PURE_INCREMENTAL=i.DEFAULT_INCREMENTAL,e.exports=i},function(e,t,n){"use strict";var r=n(0).FDLayoutEdge;function i(e,t,n){r.call(this,e,t,n)}for(var o in i.prototype=Object.create(r.prototype),r)i[o]=r[o];e.exports=i},function(e,t,n){"use strict";var r=n(0).LGraph;function i(e,t,n){r.call(this,e,t,n)}for(var o in i.prototype=Object.create(r.prototype),r)i[o]=r[o];e.exports=i},function(e,t,n){"use strict";var r=n(0).LGraphManager;function i(e){r.call(this,e)}for(var o in i.prototype=Object.create(r.prototype),r)i[o]=r[o];e.exports=i},function(e,t,n){"use strict";var r=n(0).FDLayoutNode,i=n(0).IMath;function o(e,t,n,i){r.call(this,e,t,n,i)}for(var a in o.prototype=Object.create(r.prototype),r)o[a]=r[a];o.prototype.calculateDisplacement=function(){var e=this.graphManager.getLayout();null!=this.getChild()&&this.fixedNodeWeight?(this.displacementX+=e.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=e.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=e.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=e.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementX=e.coolingFactor*e.maxNodeDisplacement*i.sign(this.displacementX)),Math.abs(this.displacementY)>e.coolingFactor*e.maxNodeDisplacement&&(this.displacementY=e.coolingFactor*e.maxNodeDisplacement*i.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},o.prototype.propogateDisplacementToChildren=function(e,t){for(var n,r=this.getChild().getNodes(),i=0;i<r.length;i++)null==(n=r[i]).getChild()?(n.displacementX+=e,n.displacementY+=t):n.propogateDisplacementToChildren(e,t)},o.prototype.move=function(){var e=this.graphManager.getLayout();null!=this.child&&0!=this.child.getNodes().length||(this.moveBy(this.displacementX,this.displacementY),e.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},o.prototype.setPred1=function(e){this.pred1=e},o.prototype.getPred1=function(){return pred1},o.prototype.getPred2=function(){return pred2},o.prototype.setNext=function(e){this.next=e},o.prototype.getNext=function(){return next},o.prototype.setProcessed=function(e){this.processed=e},o.prototype.isProcessed=function(){return processed},e.exports=o},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(1),o=n(0).LinkedList,a=n(0).Matrix,s=n(0).SVD;function u(){}u.handleConstraints=function(e){var t={};t.fixedNodeConstraint=e.constraints.fixedNodeConstraint,t.alignmentConstraint=e.constraints.alignmentConstraint,t.relativePlacementConstraint=e.constraints.relativePlacementConstraint;for(var n=new Map,u=new Map,l=[],c=[],f=e.getAllNodes(),h=0,d=0;d<f.length;d++){var p=f[d];null==p.getChild()&&(u.set(p.id,h++),l.push(p.getCenterX()),c.push(p.getCenterY()),n.set(p.id,p))}t.relativePlacementConstraint&&t.relativePlacementConstraint.forEach((function(e){e.gap||0==e.gap||(e.left?e.gap=i.DEFAULT_EDGE_LENGTH+n.get(e.left).getWidth()/2+n.get(e.right).getWidth()/2:e.gap=i.DEFAULT_EDGE_LENGTH+n.get(e.top).getHeight()/2+n.get(e.bottom).getHeight()/2)}));var g=function(e){var t=0,n=0;return e.forEach((function(e){t+=l[u.get(e)],n+=c[u.get(e)]})),{x:t/e.size,y:n/e.size}},v=function(e,t,n,i,a){var s=new Map;e.forEach((function(e,t){s.set(t,0)})),e.forEach((function(e,t){e.forEach((function(e){s.set(e.id,s.get(e.id)+1)}))}));var f=new Map,h=new Map,d=new o;s.forEach((function(e,r){0==e?(d.push(r),n||("horizontal"==t?f.set(r,u.has(r)?l[u.get(r)]:i.get(r)):f.set(r,u.has(r)?c[u.get(r)]:i.get(r)))):f.set(r,Number.NEGATIVE_INFINITY),n&&h.set(r,new Set([r]))})),n&&a.forEach((function(e){var r=[];if(e.forEach((function(e){n.has(e)&&r.push(e)})),r.length>0){var o=0;r.forEach((function(e){"horizontal"==t?(f.set(e,u.has(e)?l[u.get(e)]:i.get(e)),o+=f.get(e)):(f.set(e,u.has(e)?c[u.get(e)]:i.get(e)),o+=f.get(e))})),o/=r.length,e.forEach((function(e){n.has(e)||f.set(e,o)}))}else{var a=0;e.forEach((function(e){a+="horizontal"==t?u.has(e)?l[u.get(e)]:i.get(e):u.has(e)?c[u.get(e)]:i.get(e)})),a/=e.length,e.forEach((function(e){f.set(e,a)}))}}));for(var p=function(){var r=d.shift();e.get(r).forEach((function(e){if(f.get(e.id)<f.get(r)+e.gap)if(n&&n.has(e.id)){var o=void 0;if(o="horizontal"==t?u.has(e.id)?l[u.get(e.id)]:i.get(e.id):u.has(e.id)?c[u.get(e.id)]:i.get(e.id),f.set(e.id,o),o<f.get(r)+e.gap){var a=f.get(r)+e.gap-o;h.get(r).forEach((function(e){f.set(e,f.get(e)-a)}))}}else f.set(e.id,f.get(r)+e.gap);s.set(e.id,s.get(e.id)-1),0==s.get(e.id)&&d.push(e.id),n&&h.set(e.id,function(e,t){var n=new Set(e),r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;n.add(u)}}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(h.get(r),h.get(e.id)))}))};0!=d.length;)p();if(n){var g=new Set;e.forEach((function(e,t){0==e.length&&g.add(t)}));var v=[];h.forEach((function(e,t){if(g.has(t)){var i=!1,o=!0,a=!1,s=void 0;try{for(var u,l=e[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var c=u.value;n.has(c)&&(i=!0)}}catch(d){a=!0,s=d}finally{try{!o&&l.return&&l.return()}finally{if(a)throw s}}if(!i){var f=!1,h=void 0;v.forEach((function(t,n){t.has([].concat(r(e))[0])&&(f=!0,h=n)})),f?e.forEach((function(e){v[h].add(e)})):v.push(new Set(e))}}})),v.forEach((function(e,n){var r=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,h=!0,d=!1,p=void 0;try{for(var g,v=e[Symbol.iterator]();!(h=(g=v.next()).done);h=!0){var y=g.value,m=void 0;m="horizontal"==t?u.has(y)?l[u.get(y)]:i.get(y):u.has(y)?c[u.get(y)]:i.get(y);var b=f.get(y);m<r&&(r=m),m>a&&(a=m),b<o&&(o=b),b>s&&(s=b)}}catch(N){d=!0,p=N}finally{try{!h&&v.return&&v.return()}finally{if(d)throw p}}var _=(r+a)/2-(o+s)/2,w=!0,x=!1,E=void 0;try{for(var k,C=e[Symbol.iterator]();!(w=(k=C.next()).done);w=!0){var S=k.value;f.set(S,f.get(S)+_)}}catch(N){x=!0,E=N}finally{try{!w&&C.return&&C.return()}finally{if(x)throw E}}}))}return f},y=function(e){var t=0,n=0,r=0,i=0;if(e.forEach((function(e){e.left?l[u.get(e.left)]-l[u.get(e.right)]>=0?t++:n++:c[u.get(e.top)]-c[u.get(e.bottom)]>=0?r++:i++})),t>n&&r>i)for(var o=0;o<u.size;o++)l[o]=-1*l[o],c[o]=-1*c[o];else if(t>n)for(var a=0;a<u.size;a++)l[a]=-1*l[a];else if(r>i)for(var s=0;s<u.size;s++)c[s]=-1*c[s]},m=function(e){var t=[],n=new o,r=new Set,i=0;return e.forEach((function(o,a){if(!r.has(a)){t[i]=[];var s=a;for(n.push(s),r.add(s),t[i].push(s);0!=n.length;)s=n.shift(),e.get(s).forEach((function(e){r.has(e.id)||(n.push(e.id),r.add(e.id),t[i].push(e.id))}));i++}})),t},b=function(e){var t=new Map;return e.forEach((function(e,n){t.set(n,[])})),e.forEach((function(e,n){e.forEach((function(e){t.get(n).push(e),t.get(e.id).push({id:n,gap:e.gap,direction:e.direction})}))})),t},_=function(e){var t=new Map;return e.forEach((function(e,n){t.set(n,[])})),e.forEach((function(e,n){e.forEach((function(e){t.get(e.id).push({id:n,gap:e.gap,direction:e.direction})}))})),t},w=[],x=[],E=!1,k=!1,C=new Set,S=new Map,N=new Map,T=[];if(t.fixedNodeConstraint&&t.fixedNodeConstraint.forEach((function(e){C.add(e.nodeId)})),t.relativePlacementConstraint&&(t.relativePlacementConstraint.forEach((function(e){e.left?(S.has(e.left)?S.get(e.left).push({id:e.right,gap:e.gap,direction:"horizontal"}):S.set(e.left,[{id:e.right,gap:e.gap,direction:"horizontal"}]),S.has(e.right)||S.set(e.right,[])):(S.has(e.top)?S.get(e.top).push({id:e.bottom,gap:e.gap,direction:"vertical"}):S.set(e.top,[{id:e.bottom,gap:e.gap,direction:"vertical"}]),S.has(e.bottom)||S.set(e.bottom,[]))})),N=b(S),T=m(N)),i.TRANSFORM_ON_CONSTRAINT_HANDLING){if(t.fixedNodeConstraint&&t.fixedNodeConstraint.length>1)t.fixedNodeConstraint.forEach((function(e,t){w[t]=[e.position.x,e.position.y],x[t]=[l[u.get(e.nodeId)],c[u.get(e.nodeId)]]})),E=!0;else if(t.alignmentConstraint)!function(){var e=0;if(t.alignmentConstraint.vertical){for(var n=t.alignmentConstraint.vertical,i=function(t){var i=new Set;n[t].forEach((function(e){i.add(e)}));var o=new Set([].concat(r(i)).filter((function(e){return C.has(e)}))),a=void 0;a=o.size>0?l[u.get(o.values().next().value)]:g(i).x,n[t].forEach((function(t){w[e]=[a,c[u.get(t)]],x[e]=[l[u.get(t)],c[u.get(t)]],e++}))},o=0;o<n.length;o++)i(o);E=!0}if(t.alignmentConstraint.horizontal){for(var a=t.alignmentConstraint.horizontal,s=function(t){var n=new Set;a[t].forEach((function(e){n.add(e)}));var i=new Set([].concat(r(n)).filter((function(e){return C.has(e)}))),o=void 0;o=i.size>0?l[u.get(i.values().next().value)]:g(n).y,a[t].forEach((function(t){w[e]=[l[u.get(t)],o],x[e]=[l[u.get(t)],c[u.get(t)]],e++}))},f=0;f<a.length;f++)s(f);E=!0}t.relativePlacementConstraint&&(k=!0)}();else if(t.relativePlacementConstraint){for(var I=0,D=0,M=0;M<T.length;M++)T[M].length>I&&(I=T[M].length,D=M);if(I<N.size/2)y(t.relativePlacementConstraint),E=!1,k=!1;else{var O=new Map,P=new Map,L=[];T[D].forEach((function(e){S.get(e).forEach((function(t){"horizontal"==t.direction?(O.has(e)?O.get(e).push(t):O.set(e,[t]),O.has(t.id)||O.set(t.id,[]),L.push({left:e,right:t.id})):(P.has(e)?P.get(e).push(t):P.set(e,[t]),P.has(t.id)||P.set(t.id,[]),L.push({top:e,bottom:t.id}))}))})),y(L),k=!1;var A=v(O,"horizontal"),R=v(P,"vertical");T[D].forEach((function(e,t){x[t]=[l[u.get(e)],c[u.get(e)]],w[t]=[],A.has(e)?w[t][0]=A.get(e):w[t][0]=l[u.get(e)],R.has(e)?w[t][1]=R.get(e):w[t][1]=c[u.get(e)]})),E=!0}}if(E){for(var F,z=a.transpose(w),j=a.transpose(x),B=0;B<z.length;B++)z[B]=a.multGamma(z[B]),j[B]=a.multGamma(j[B]);var V=a.multMat(z,a.transpose(j)),U=s.svd(V);F=a.multMat(U.V,a.transpose(U.U));for(var G=0;G<u.size;G++){var H=[l[G],c[G]],q=[F[0][0],F[1][0]],Y=[F[0][1],F[1][1]];l[G]=a.dotProduct(H,q),c[G]=a.dotProduct(H,Y)}k&&y(t.relativePlacementConstraint)}}if(i.ENFORCE_CONSTRAINTS){if(t.fixedNodeConstraint&&t.fixedNodeConstraint.length>0){var W={x:0,y:0};t.fixedNodeConstraint.forEach((function(e,t){var n,r,i={x:l[u.get(e.nodeId)],y:c[u.get(e.nodeId)]},o=e.position,a=(r=i,{x:(n=o).x-r.x,y:n.y-r.y});W.x+=a.x,W.y+=a.y})),W.x/=t.fixedNodeConstraint.length,W.y/=t.fixedNodeConstraint.length,l.forEach((function(e,t){l[t]+=W.x})),c.forEach((function(e,t){c[t]+=W.y})),t.fixedNodeConstraint.forEach((function(e){l[u.get(e.nodeId)]=e.position.x,c[u.get(e.nodeId)]=e.position.y}))}if(t.alignmentConstraint){if(t.alignmentConstraint.vertical)for(var X=t.alignmentConstraint.vertical,K=function(e){var t=new Set;X[e].forEach((function(e){t.add(e)}));var n=new Set([].concat(r(t)).filter((function(e){return C.has(e)}))),i=void 0;i=n.size>0?l[u.get(n.values().next().value)]:g(t).x,t.forEach((function(e){C.has(e)||(l[u.get(e)]=i)}))},$=0;$<X.length;$++)K($);if(t.alignmentConstraint.horizontal)for(var Q=t.alignmentConstraint.horizontal,Z=function(e){var t=new Set;Q[e].forEach((function(e){t.add(e)}));var n=new Set([].concat(r(t)).filter((function(e){return C.has(e)}))),i=void 0;i=n.size>0?c[u.get(n.values().next().value)]:g(t).y,t.forEach((function(e){C.has(e)||(c[u.get(e)]=i)}))},J=0;J<Q.length;J++)Z(J)}t.relativePlacementConstraint&&function(){var e=new Map,n=new Map,r=new Map,i=new Map,o=new Map,a=new Map,s=new Set,f=new Set;if(C.forEach((function(e){s.add(e),f.add(e)})),t.alignmentConstraint){if(t.alignmentConstraint.vertical)for(var h=t.alignmentConstraint.vertical,d=function(t){r.set("dummy"+t,[]),h[t].forEach((function(n){e.set(n,"dummy"+t),r.get("dummy"+t).push(n),C.has(n)&&s.add("dummy"+t)})),o.set("dummy"+t,l[u.get(h[t][0])])},p=0;p<h.length;p++)d(p);if(t.alignmentConstraint.horizontal)for(var g=t.alignmentConstraint.horizontal,y=function(e){i.set("dummy"+e,[]),g[e].forEach((function(t){n.set(t,"dummy"+e),i.get("dummy"+e).push(t),C.has(t)&&f.add("dummy"+e)})),a.set("dummy"+e,c[u.get(g[e][0])])},w=0;w<g.length;w++)y(w)}var x=new Map,E=new Map,k=function(t){S.get(t).forEach((function(r){var i=void 0,o=void 0;"horizontal"==r.direction?(i=e.get(t)?e.get(t):t,o=e.get(r.id)?{id:e.get(r.id),gap:r.gap,direction:r.direction}:r,x.has(i)?x.get(i).push(o):x.set(i,[o]),x.has(o.id)||x.set(o.id,[])):(i=n.get(t)?n.get(t):t,o=n.get(r.id)?{id:n.get(r.id),gap:r.gap,direction:r.direction}:r,E.has(i)?E.get(i).push(o):E.set(i,[o]),E.has(o.id)||E.set(o.id,[]))}))},N=!0,T=!1,I=void 0;try{for(var D,M=S.keys()[Symbol.iterator]();!(N=(D=M.next()).done);N=!0)k(D.value)}catch(ee){T=!0,I=ee}finally{try{!N&&M.return&&M.return()}finally{if(T)throw I}}var O=b(x),P=b(E),L=m(O),A=m(P),R=_(x),F=_(E),z=[],j=[];L.forEach((function(e,t){z[t]=[],e.forEach((function(e){0==R.get(e).length&&z[t].push(e)}))})),A.forEach((function(e,t){j[t]=[],e.forEach((function(e){0==F.get(e).length&&j[t].push(e)}))}));var B=v(x,"horizontal",s,o,z),V=v(E,"vertical",f,a,j),U=function(e){r.get(e)?r.get(e).forEach((function(t){l[u.get(t)]=B.get(e)})):l[u.get(e)]=B.get(e)},G=!0,H=!1,q=void 0;try{for(var Y,W=B.keys()[Symbol.iterator]();!(G=(Y=W.next()).done);G=!0)U(Y.value)}catch(ee){H=!0,q=ee}finally{try{!G&&W.return&&W.return()}finally{if(H)throw q}}var X=function(e){i.get(e)?i.get(e).forEach((function(t){c[u.get(t)]=V.get(e)})):c[u.get(e)]=V.get(e)},K=!0,$=!1,Q=void 0;try{for(var Z,J=V.keys()[Symbol.iterator]();!(K=(Z=J.next()).done);K=!0)X(Z.value)}catch(ee){$=!0,Q=ee}finally{try{!K&&J.return&&J.return()}finally{if($)throw Q}}}()}for(var ee=0;ee<f.length;ee++){var te=f[ee];null==te.getChild()&&te.setCenter(l[u.get(te.id)],c[u.get(te.id)])}},e.exports=u},function(e,t,n){"use strict";var r=n(0).FDLayout,i=n(4),o=n(3),a=n(5),s=n(2),u=n(1),l=n(6),c=n(0).FDLayoutConstants,f=n(0).LayoutConstants,h=n(0).Point,d=n(0).PointD,p=n(0).DimensionD,g=n(0).Layout,v=n(0).Integer,y=n(0).IGeometry,m=n(0).LGraph,b=n(0).Transform,_=n(0).LinkedList;function w(){r.call(this),this.toBeTiled={},this.constraints={}}for(var x in w.prototype=Object.create(r.prototype),r)w[x]=r[x];w.prototype.newGraphManager=function(){var e=new i(this);return this.graphManager=e,e},w.prototype.newGraph=function(e){return new o(null,this.graphManager,e)},w.prototype.newNode=function(e){return new a(this.graphManager,e)},w.prototype.newEdge=function(e){return new s(null,null,e)},w.prototype.initParameters=function(){r.prototype.initParameters.call(this,arguments),this.isSubLayout||(u.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=u.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=u.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=c.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=c.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=c.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=c.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},w.prototype.initSpringEmbedder=function(){r.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/c.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},w.prototype.layout=function(){return f.DEFAULT_CREATE_BENDS_AS_NEEDED&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},w.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental)u.TREE_REDUCTION_ON_INCREMENTAL&&(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),t=new Set(this.getAllNodes()),n=this.nodesWithGravity.filter((function(e){return t.has(e)})),this.graphManager.setAllNodesToApplyGravitation(n));else{var e=this.getFlatForest();if(e.length>0)this.positionNodesRadially(e);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var t=new Set(this.getAllNodes()),n=this.nodesWithGravity.filter((function(e){return t.has(e)}));this.graphManager.setAllNodesToApplyGravitation(n),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(l.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),u.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},w.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}if(this.totalIterations%c.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged()){if(!(this.prunedNodesAll.length>0))return!0;this.isTreeGrowing=!0}this.coolingCycle++,0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var e=new Set(this.getAllNodes()),t=this.nodesWithGravity.filter((function(t){return e.has(t)}));this.graphManager.setAllNodesToApplyGravitation(t),this.graphManager.updateBounds(),this.updateGrid(),u.PURE_INCREMENTAL?this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),u.PURE_INCREMENTAL?this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var n=!this.isTreeGrowing&&!this.isGrowthFinished,r=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(n,r),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},w.prototype.getPositionsData=function(){for(var e=this.graphManager.getAllNodes(),t={},n=0;n<e.length;n++){var r=e[n].rect,i=e[n].id;t[i]={id:i,x:r.getCenterX(),y:r.getCenterY(),w:r.width,h:r.height}}return t},w.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var e=!1;if("during"===c.ANIMATE)this.emit("layoutstarted");else{for(;!e;)e=this.tick();this.graphManager.updateBounds()}},w.prototype.moveNodes=function(){for(var e=this.getAllNodes(),t=0;t<e.length;t++)e[t].calculateDisplacement();for(Object.keys(this.constraints).length>0&&this.updateDisplacements(),t=0;t<e.length;t++)e[t].move()},w.prototype.initConstraintVariables=function(){var e=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var t=this.graphManager.getAllNodes(),n=0;n<t.length;n++){var r=t[n];this.idToNodeMap.set(r.id,r)}var i=function t(n){for(var r,i=n.getChild().getNodes(),o=0,a=0;a<i.length;a++)null==(r=i[a]).getChild()?e.fixedNodeSet.has(r.id)&&(o+=100):o+=t(r);return o};if(this.constraints.fixedNodeConstraint)for(this.constraints.fixedNodeConstraint.forEach((function(t){e.fixedNodeSet.add(t.nodeId)})),t=this.graphManager.getAllNodes(),n=0;n<t.length;n++)if(null!=(r=t[n]).getChild()){var o=i(r);o>0&&(r.fixedNodeWeight=o)}if(this.constraints.relativePlacementConstraint){var a=new Map,s=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach((function(t){e.fixedNodesOnHorizontal.add(t),e.fixedNodesOnVertical.add(t)})),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical){var l=this.constraints.alignmentConstraint.vertical;for(n=0;n<l.length;n++)this.dummyToNodeForVerticalAlignment.set("dummy"+n,[]),l[n].forEach((function(t){a.set(t,"dummy"+n),e.dummyToNodeForVerticalAlignment.get("dummy"+n).push(t),e.fixedNodeSet.has(t)&&e.fixedNodesOnHorizontal.add("dummy"+n)}))}if(this.constraints.alignmentConstraint.horizontal){var c=this.constraints.alignmentConstraint.horizontal;for(n=0;n<c.length;n++)this.dummyToNodeForHorizontalAlignment.set("dummy"+n,[]),c[n].forEach((function(t){s.set(t,"dummy"+n),e.dummyToNodeForHorizontalAlignment.get("dummy"+n).push(t),e.fixedNodeSet.has(t)&&e.fixedNodesOnVertical.add("dummy"+n)}))}}if(u.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(e){var t,n,r;for(r=e.length-1;r>=2*e.length/3;r--)t=Math.floor(Math.random()*(r+1)),n=e[r],e[r]=e[t],e[t]=n;return e},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach((function(t){if(t.left){var n=a.has(t.left)?a.get(t.left):t.left,r=a.has(t.right)?a.get(t.right):t.right;e.nodesInRelativeHorizontal.includes(n)||(e.nodesInRelativeHorizontal.push(n),e.nodeToRelativeConstraintMapHorizontal.set(n,[]),e.dummyToNodeForVerticalAlignment.has(n)?e.nodeToTempPositionMapHorizontal.set(n,e.idToNodeMap.get(e.dummyToNodeForVerticalAlignment.get(n)[0]).getCenterX()):e.nodeToTempPositionMapHorizontal.set(n,e.idToNodeMap.get(n).getCenterX())),e.nodesInRelativeHorizontal.includes(r)||(e.nodesInRelativeHorizontal.push(r),e.nodeToRelativeConstraintMapHorizontal.set(r,[]),e.dummyToNodeForVerticalAlignment.has(r)?e.nodeToTempPositionMapHorizontal.set(r,e.idToNodeMap.get(e.dummyToNodeForVerticalAlignment.get(r)[0]).getCenterX()):e.nodeToTempPositionMapHorizontal.set(r,e.idToNodeMap.get(r).getCenterX())),e.nodeToRelativeConstraintMapHorizontal.get(n).push({right:r,gap:t.gap}),e.nodeToRelativeConstraintMapHorizontal.get(r).push({left:n,gap:t.gap})}else{var i=s.has(t.top)?s.get(t.top):t.top,o=s.has(t.bottom)?s.get(t.bottom):t.bottom;e.nodesInRelativeVertical.includes(i)||(e.nodesInRelativeVertical.push(i),e.nodeToRelativeConstraintMapVertical.set(i,[]),e.dummyToNodeForHorizontalAlignment.has(i)?e.nodeToTempPositionMapVertical.set(i,e.idToNodeMap.get(e.dummyToNodeForHorizontalAlignment.get(i)[0]).getCenterY()):e.nodeToTempPositionMapVertical.set(i,e.idToNodeMap.get(i).getCenterY())),e.nodesInRelativeVertical.includes(o)||(e.nodesInRelativeVertical.push(o),e.nodeToRelativeConstraintMapVertical.set(o,[]),e.dummyToNodeForHorizontalAlignment.has(o)?e.nodeToTempPositionMapVertical.set(o,e.idToNodeMap.get(e.dummyToNodeForHorizontalAlignment.get(o)[0]).getCenterY()):e.nodeToTempPositionMapVertical.set(o,e.idToNodeMap.get(o).getCenterY())),e.nodeToRelativeConstraintMapVertical.get(i).push({bottom:o,gap:t.gap}),e.nodeToRelativeConstraintMapVertical.get(o).push({top:i,gap:t.gap})}}));else{var f=new Map,h=new Map;this.constraints.relativePlacementConstraint.forEach((function(e){if(e.left){var t=a.has(e.left)?a.get(e.left):e.left,n=a.has(e.right)?a.get(e.right):e.right;f.has(t)?f.get(t).push(n):f.set(t,[n]),f.has(n)?f.get(n).push(t):f.set(n,[t])}else{var r=s.has(e.top)?s.get(e.top):e.top,i=s.has(e.bottom)?s.get(e.bottom):e.bottom;h.has(r)?h.get(r).push(i):h.set(r,[i]),h.has(i)?h.get(i).push(r):h.set(i,[r])}}));var d=function(e,t){var n=[],r=[],i=new _,o=new Set,a=0;return e.forEach((function(s,u){if(!o.has(u)){n[a]=[],r[a]=!1;var l=u;for(i.push(l),o.add(l),n[a].push(l);0!=i.length;)l=i.shift(),t.has(l)&&(r[a]=!0),e.get(l).forEach((function(e){o.has(e)||(i.push(e),o.add(e),n[a].push(e))}));a++}})),{components:n,isFixed:r}},p=d(f,e.fixedNodesOnHorizontal);this.componentsOnHorizontal=p.components,this.fixedComponentsOnHorizontal=p.isFixed;var g=d(h,e.fixedNodesOnVertical);this.componentsOnVertical=g.components,this.fixedComponentsOnVertical=g.isFixed}}},w.prototype.updateDisplacements=function(){var e=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach((function(t){var n=e.idToNodeMap.get(t.nodeId);n.displacementX=0,n.displacementY=0})),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var t=this.constraints.alignmentConstraint.vertical,n=0;n<t.length;n++){for(var r=0,i=0;i<t[n].length;i++){if(this.fixedNodeSet.has(t[n][i])){r=0;break}r+=this.idToNodeMap.get(t[n][i]).displacementX}var o=r/t[n].length;for(i=0;i<t[n].length;i++)this.idToNodeMap.get(t[n][i]).displacementX=o}if(this.constraints.alignmentConstraint.horizontal){var a=this.constraints.alignmentConstraint.horizontal;for(n=0;n<a.length;n++){var s=0;for(i=0;i<a[n].length;i++){if(this.fixedNodeSet.has(a[n][i])){s=0;break}s+=this.idToNodeMap.get(a[n][i]).displacementY}var l=s/a[n].length;for(i=0;i<a[n].length;i++)this.idToNodeMap.get(a[n][i]).displacementY=l}}}if(this.constraints.relativePlacementConstraint)if(u.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach((function(t){if(!e.fixedNodesOnHorizontal.has(t)){var n=0;n=e.dummyToNodeForVerticalAlignment.has(t)?e.idToNodeMap.get(e.dummyToNodeForVerticalAlignment.get(t)[0]).displacementX:e.idToNodeMap.get(t).displacementX,e.nodeToRelativeConstraintMapHorizontal.get(t).forEach((function(r){var i;r.right?(i=e.nodeToTempPositionMapHorizontal.get(r.right)-e.nodeToTempPositionMapHorizontal.get(t)-n)<r.gap&&(n-=r.gap-i):(i=e.nodeToTempPositionMapHorizontal.get(t)-e.nodeToTempPositionMapHorizontal.get(r.left)+n)<r.gap&&(n+=r.gap-i)})),e.nodeToTempPositionMapHorizontal.set(t,e.nodeToTempPositionMapHorizontal.get(t)+n),e.dummyToNodeForVerticalAlignment.has(t)?e.dummyToNodeForVerticalAlignment.get(t).forEach((function(t){e.idToNodeMap.get(t).displacementX=n})):e.idToNodeMap.get(t).displacementX=n}})),this.nodesInRelativeVertical.forEach((function(t){if(!e.fixedNodesOnHorizontal.has(t)){var n=0;n=e.dummyToNodeForHorizontalAlignment.has(t)?e.idToNodeMap.get(e.dummyToNodeForHorizontalAlignment.get(t)[0]).displacementY:e.idToNodeMap.get(t).displacementY,e.nodeToRelativeConstraintMapVertical.get(t).forEach((function(r){var i;r.bottom?(i=e.nodeToTempPositionMapVertical.get(r.bottom)-e.nodeToTempPositionMapVertical.get(t)-n)<r.gap&&(n-=r.gap-i):(i=e.nodeToTempPositionMapVertical.get(t)-e.nodeToTempPositionMapVertical.get(r.top)+n)<r.gap&&(n+=r.gap-i)})),e.nodeToTempPositionMapVertical.set(t,e.nodeToTempPositionMapVertical.get(t)+n),e.dummyToNodeForHorizontalAlignment.has(t)?e.dummyToNodeForHorizontalAlignment.get(t).forEach((function(t){e.idToNodeMap.get(t).displacementY=n})):e.idToNodeMap.get(t).displacementY=n}}));else{for(n=0;n<this.componentsOnHorizontal.length;n++){var c=this.componentsOnHorizontal[n];if(this.fixedComponentsOnHorizontal[n])for(i=0;i<c.length;i++)this.dummyToNodeForVerticalAlignment.has(c[i])?this.dummyToNodeForVerticalAlignment.get(c[i]).forEach((function(t){e.idToNodeMap.get(t).displacementX=0})):this.idToNodeMap.get(c[i]).displacementX=0;else{var f=0,h=0;for(i=0;i<c.length;i++)this.dummyToNodeForVerticalAlignment.has(c[i])?(f+=(p=this.dummyToNodeForVerticalAlignment.get(c[i])).length*this.idToNodeMap.get(p[0]).displacementX,h+=p.length):(f+=this.idToNodeMap.get(c[i]).displacementX,h++);var d=f/h;for(i=0;i<c.length;i++)this.dummyToNodeForVerticalAlignment.has(c[i])?this.dummyToNodeForVerticalAlignment.get(c[i]).forEach((function(t){e.idToNodeMap.get(t).displacementX=d})):this.idToNodeMap.get(c[i]).displacementX=d}}for(n=0;n<this.componentsOnVertical.length;n++)if(c=this.componentsOnVertical[n],this.fixedComponentsOnVertical[n])for(i=0;i<c.length;i++)this.dummyToNodeForHorizontalAlignment.has(c[i])?this.dummyToNodeForHorizontalAlignment.get(c[i]).forEach((function(t){e.idToNodeMap.get(t).displacementY=0})):this.idToNodeMap.get(c[i]).displacementY=0;else{for(f=0,h=0,i=0;i<c.length;i++){var p;this.dummyToNodeForHorizontalAlignment.has(c[i])?(f+=(p=this.dummyToNodeForHorizontalAlignment.get(c[i])).length*this.idToNodeMap.get(p[0]).displacementY,h+=p.length):(f+=this.idToNodeMap.get(c[i]).displacementY,h++)}for(d=f/h,i=0;i<c.length;i++)this.dummyToNodeForHorizontalAlignment.has(c[i])?this.dummyToNodeForHorizontalAlignment.get(c[i]).forEach((function(t){e.idToNodeMap.get(t).displacementY=d})):this.idToNodeMap.get(c[i]).displacementY=d}}},w.prototype.calculateNodesToApplyGravitationTo=function(){var e,t,n=[],r=this.graphManager.getGraphs(),i=r.length;for(t=0;t<i;t++)(e=r[t]).updateConnected(),e.isConnected||(n=n.concat(e.getNodes()));return n},w.prototype.createBendpoints=function(){var e=[];e=e.concat(this.graphManager.getAllEdges());var t,n=new Set;for(t=0;t<e.length;t++){var r=e[t];if(!n.has(r)){var i=r.getSource(),o=r.getTarget();if(i==o)r.getBendpoints().push(new d),r.getBendpoints().push(new d),this.createDummyNodesForBendpoints(r),n.add(r);else{var a=[];if(a=(a=a.concat(i.getEdgeListToNode(o))).concat(o.getEdgeListToNode(i)),!n.has(a[0])){var s;if(a.length>1)for(s=0;s<a.length;s++){var u=a[s];u.getBendpoints().push(new d),this.createDummyNodesForBendpoints(u)}a.forEach((function(e){n.add(e)}))}}}if(n.size==e.length)break}},w.prototype.positionNodesRadially=function(e){for(var t=new h(0,0),n=Math.ceil(Math.sqrt(e.length)),r=0,i=0,o=0,a=new d(0,0),s=0;s<e.length;s++){s%n==0&&(o=0,i=r,0!=s&&(i+=u.DEFAULT_COMPONENT_SEPERATION),r=0);var l=e[s],c=g.findCenterOfTree(l);t.x=o,t.y=i,(a=w.radialLayout(l,c,t)).y>r&&(r=Math.floor(a.y)),o=Math.floor(a.x+u.DEFAULT_COMPONENT_SEPERATION)}this.transform(new d(f.WORLD_CENTER_X-a.x/2,f.WORLD_CENTER_Y-a.y/2))},w.radialLayout=function(e,t,n){var r=Math.max(this.maxDiagonalInTree(e),u.DEFAULT_RADIAL_SEPARATION);w.branchRadialLayout(t,null,0,359,0,r);var i=m.calculateBounds(e),o=new b;o.setDeviceOrgX(i.getMinX()),o.setDeviceOrgY(i.getMinY()),o.setWorldOrgX(n.x),o.setWorldOrgY(n.y);for(var a=0;a<e.length;a++)e[a].transform(o);var s=new d(i.getMaxX(),i.getMaxY());return o.inverseTransformPoint(s)},w.branchRadialLayout=function(e,t,n,r,i,o){var a=(r-n+1)/2;a<0&&(a+=180);var s=(a+n)%360*y.TWO_PI/360,u=(Math.cos(s),i*Math.cos(s)),l=i*Math.sin(s);e.setCenter(u,l);var c=[],f=(c=c.concat(e.getEdges())).length;null!=t&&f--;for(var h,d=0,p=c.length,g=e.getEdgesBetween(t);g.length>1;){var v=g[0];g.splice(0,1);var m=c.indexOf(v);m>=0&&c.splice(m,1),p--,f--}h=null!=t?(c.indexOf(g[0])+1)%p:0;for(var b=Math.abs(r-n)/f,_=h;d!=f;_=++_%p){var x=c[_].getOtherEnd(e);if(x!=t){var E=(n+d*b)%360,k=(E+b)%360;w.branchRadialLayout(x,e,E,k,i+o,o),d++}}},w.maxDiagonalInTree=function(e){for(var t=v.MIN_VALUE,n=0;n<e.length;n++){var r=e[n].getDiagonal();r>t&&(t=r)}return t},w.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},w.prototype.groupZeroDegreeMembers=function(){var e=this,t={};this.memberGroups={},this.idToDummyNode={};for(var n=[],r=this.graphManager.getAllNodes(),i=0;i<r.length;i++){var o=(s=r[i]).getParent();0!==this.getNodeDegreeWithChildren(s)||void 0!=o.id&&this.getToBeTiled(o)||n.push(s)}for(i=0;i<n.length;i++){var s,u=(s=n[i]).getParent().id;"undefined"===typeof t[u]&&(t[u]=[]),t[u]=t[u].concat(s)}Object.keys(t).forEach((function(n){if(t[n].length>1){var r="DummyCompound_"+n;e.memberGroups[r]=t[n];var i=t[n][0].getParent(),o=new a(e.graphManager);o.id=r,o.paddingLeft=i.paddingLeft||0,o.paddingRight=i.paddingRight||0,o.paddingBottom=i.paddingBottom||0,o.paddingTop=i.paddingTop||0,e.idToDummyNode[r]=o;var s=e.getGraphManager().add(e.newGraph(),o),u=i.getChild();u.add(o);for(var l=0;l<t[n].length;l++){var c=t[n][l];u.remove(c),s.add(c)}}}))},w.prototype.clearCompounds=function(){var e={},t={};this.performDFSOnCompounds();for(var n=0;n<this.compoundOrder.length;n++)t[this.compoundOrder[n].id]=this.compoundOrder[n],e[this.compoundOrder[n].id]=[].concat(this.compoundOrder[n].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[n].getChild()),this.compoundOrder[n].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(e,t)},w.prototype.clearZeroDegreeMembers=function(){var e=this,t=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach((function(n){var r=e.idToDummyNode[n];if(t[n]=e.tileNodes(e.memberGroups[n],r.paddingLeft+r.paddingRight),r.rect.width=t[n].width,r.rect.height=t[n].height,r.setCenter(t[n].centerX,t[n].centerY),r.labelMarginLeft=0,r.labelMarginTop=0,u.NODE_DIMENSIONS_INCLUDE_LABELS){var i=r.rect.width,o=r.rect.height;r.labelWidth&&("left"==r.labelPosHorizontal?(r.rect.x-=r.labelWidth,r.setWidth(i+r.labelWidth),r.labelMarginLeft=r.labelWidth):"center"==r.labelPosHorizontal&&r.labelWidth>i?(r.rect.x-=(r.labelWidth-i)/2,r.setWidth(r.labelWidth),r.labelMarginLeft=(r.labelWidth-i)/2):"right"==r.labelPosHorizontal&&r.setWidth(i+r.labelWidth)),r.labelHeight&&("top"==r.labelPosVertical?(r.rect.y-=r.labelHeight,r.setHeight(o+r.labelHeight),r.labelMarginTop=r.labelHeight):"center"==r.labelPosVertical&&r.labelHeight>o?(r.rect.y-=(r.labelHeight-o)/2,r.setHeight(r.labelHeight),r.labelMarginTop=(r.labelHeight-o)/2):"bottom"==r.labelPosVertical&&r.setHeight(o+r.labelHeight))}}))},w.prototype.repopulateCompounds=function(){for(var e=this.compoundOrder.length-1;e>=0;e--){var t=this.compoundOrder[e],n=t.id,r=t.paddingLeft,i=t.paddingTop,o=t.labelMarginLeft,a=t.labelMarginTop;this.adjustLocations(this.tiledMemberPack[n],t.rect.x,t.rect.y,r,i,o,a)}},w.prototype.repopulateZeroDegreeMembers=function(){var e=this,t=this.tiledZeroDegreePack;Object.keys(t).forEach((function(n){var r=e.idToDummyNode[n],i=r.paddingLeft,o=r.paddingTop,a=r.labelMarginLeft,s=r.labelMarginTop;e.adjustLocations(t[n],r.rect.x,r.rect.y,i,o,a,s)}))},w.prototype.getToBeTiled=function(e){var t=e.id;if(null!=this.toBeTiled[t])return this.toBeTiled[t];var n=e.getChild();if(null==n)return this.toBeTiled[t]=!1,!1;for(var r=n.getNodes(),i=0;i<r.length;i++){var o=r[i];if(this.getNodeDegree(o)>0)return this.toBeTiled[t]=!1,!1;if(null!=o.getChild()){if(!this.getToBeTiled(o))return this.toBeTiled[t]=!1,!1}else this.toBeTiled[o.id]=!1}return this.toBeTiled[t]=!0,!0},w.prototype.getNodeDegree=function(e){e.id;for(var t=e.getEdges(),n=0,r=0;r<t.length;r++){var i=t[r];i.getSource().id!==i.getTarget().id&&(n+=1)}return n},w.prototype.getNodeDegreeWithChildren=function(e){var t=this.getNodeDegree(e);if(null==e.getChild())return t;for(var n=e.getChild().getNodes(),r=0;r<n.length;r++){var i=n[r];t+=this.getNodeDegreeWithChildren(i)}return t},w.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},w.prototype.fillCompexOrderByDFS=function(e){for(var t=0;t<e.length;t++){var n=e[t];null!=n.getChild()&&this.fillCompexOrderByDFS(n.getChild().getNodes()),this.getToBeTiled(n)&&this.compoundOrder.push(n)}},w.prototype.adjustLocations=function(e,t,n,r,i,o,a){n+=i+a;for(var s=t+=r+o,u=0;u<e.rows.length;u++){var l=e.rows[u];t=s;for(var c=0,f=0;f<l.length;f++){var h=l[f];h.rect.x=t,h.rect.y=n,t+=h.rect.width+e.horizontalPadding,h.rect.height>c&&(c=h.rect.height)}n+=c+e.verticalPadding}},w.prototype.tileCompoundMembers=function(e,t){var n=this;this.tiledMemberPack=[],Object.keys(e).forEach((function(r){var i=t[r];if(n.tiledMemberPack[r]=n.tileNodes(e[r],i.paddingLeft+i.paddingRight),i.rect.width=n.tiledMemberPack[r].width,i.rect.height=n.tiledMemberPack[r].height,i.setCenter(n.tiledMemberPack[r].centerX,n.tiledMemberPack[r].centerY),i.labelMarginLeft=0,i.labelMarginTop=0,u.NODE_DIMENSIONS_INCLUDE_LABELS){var o=i.rect.width,a=i.rect.height;i.labelWidth&&("left"==i.labelPosHorizontal?(i.rect.x-=i.labelWidth,i.setWidth(o+i.labelWidth),i.labelMarginLeft=i.labelWidth):"center"==i.labelPosHorizontal&&i.labelWidth>o?(i.rect.x-=(i.labelWidth-o)/2,i.setWidth(i.labelWidth),i.labelMarginLeft=(i.labelWidth-o)/2):"right"==i.labelPosHorizontal&&i.setWidth(o+i.labelWidth)),i.labelHeight&&("top"==i.labelPosVertical?(i.rect.y-=i.labelHeight,i.setHeight(a+i.labelHeight),i.labelMarginTop=i.labelHeight):"center"==i.labelPosVertical&&i.labelHeight>a?(i.rect.y-=(i.labelHeight-a)/2,i.setHeight(i.labelHeight),i.labelMarginTop=(i.labelHeight-a)/2):"bottom"==i.labelPosVertical&&i.setHeight(a+i.labelHeight))}}))},w.prototype.tileNodes=function(e,t){var n={rows:[],rowWidth:[],rowHeight:[],width:0,height:t,verticalPadding:u.TILING_PADDING_VERTICAL,horizontalPadding:u.TILING_PADDING_HORIZONTAL,centerX:0,centerY:0};e.sort((function(e,t){return e.rect.width*e.rect.height>t.rect.width*t.rect.height?-1:e.rect.width*e.rect.height<t.rect.width*t.rect.height?1:0}));for(var r=0,i=0,o=0;o<e.length;o++)r+=(a=e[o]).getCenterX(),i+=a.getCenterY();for(n.centerX=r/e.length,n.centerY=i/e.length,o=0;o<e.length;o++){var a=e[o];0==n.rows.length?this.insertNodeToRow(n,a,0,t):this.canAddHorizontal(n,a.rect.width,a.rect.height)?this.insertNodeToRow(n,a,this.getShortestRowIndex(n),t):this.insertNodeToRow(n,a,n.rows.length,t),this.shiftToLastRow(n)}return n},w.prototype.insertNodeToRow=function(e,t,n,r){var i=r;n==e.rows.length&&(e.rows.push([]),e.rowWidth.push(i),e.rowHeight.push(0));var o=e.rowWidth[n]+t.rect.width;e.rows[n].length>0&&(o+=e.horizontalPadding),e.rowWidth[n]=o,e.width<o&&(e.width=o);var a=t.rect.height;n>0&&(a+=e.verticalPadding);var s=0;a>e.rowHeight[n]&&(s=e.rowHeight[n],e.rowHeight[n]=a,s=e.rowHeight[n]-s),e.height+=s,e.rows[n].push(t)},w.prototype.getShortestRowIndex=function(e){for(var t=-1,n=Number.MAX_VALUE,r=0;r<e.rows.length;r++)e.rowWidth[r]<n&&(t=r,n=e.rowWidth[r]);return t},w.prototype.getLongestRowIndex=function(e){for(var t=-1,n=Number.MIN_VALUE,r=0;r<e.rows.length;r++)e.rowWidth[r]>n&&(t=r,n=e.rowWidth[r]);return t},w.prototype.canAddHorizontal=function(e,t,n){var r=this.getShortestRowIndex(e);if(r<0)return!0;var i=e.rowWidth[r];if(i+e.horizontalPadding+t<=e.width)return!0;var o,a,s=0;return e.rowHeight[r]<n&&r>0&&(s=n+e.verticalPadding-e.rowHeight[r]),o=e.width-i>=t+e.horizontalPadding?(e.height+s)/(i+t+e.horizontalPadding):(e.height+s)/e.width,s=n+e.verticalPadding,(a=e.width<t?(e.height+s)/t:(e.height+s)/e.width)<1&&(a=1/a),o<1&&(o=1/o),o<a},w.prototype.shiftToLastRow=function(e){var t=this.getLongestRowIndex(e),n=e.rowWidth.length-1,r=e.rows[t],i=r[r.length-1],o=i.width+e.horizontalPadding;if(e.width-e.rowWidth[n]>o&&t!=n){r.splice(-1,1),e.rows[n].push(i),e.rowWidth[t]=e.rowWidth[t]-o,e.rowWidth[n]=e.rowWidth[n]+o,e.width=e.rowWidth[instance.getLongestRowIndex(e)];for(var a=Number.MIN_VALUE,s=0;s<r.length;s++)r[s].height>a&&(a=r[s].height);t>0&&(a+=e.verticalPadding);var u=e.rowHeight[t]+e.rowHeight[n];e.rowHeight[t]=a,e.rowHeight[n]<i.height+e.verticalPadding&&(e.rowHeight[n]=i.height+e.verticalPadding);var l=e.rowHeight[t]+e.rowHeight[n];e.height+=l-u,this.shiftToLastRow(e)}},w.prototype.tilingPreLayout=function(){u.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},w.prototype.tilingPostLayout=function(){u.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},w.prototype.reduceTrees=function(){for(var e,t=[],n=!0;n;){var r=this.graphManager.getAllNodes(),i=[];n=!1;for(var o=0;o<r.length;o++)if(1==(e=r[o]).getEdges().length&&!e.getEdges()[0].isInterGraph&&null==e.getChild()){if(u.PURE_INCREMENTAL){var a=e.getEdges()[0].getOtherEnd(e),s=new p(e.getCenterX()-a.getCenterX(),e.getCenterY()-a.getCenterY());i.push([e,e.getEdges()[0],e.getOwner(),s])}else i.push([e,e.getEdges()[0],e.getOwner()]);n=!0}if(1==n){for(var l=[],c=0;c<i.length;c++)1==i[c][0].getEdges().length&&(l.push(i[c]),i[c][0].getOwner().remove(i[c][0]));t.push(l),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=t},w.prototype.growTree=function(e){for(var t,n=e[e.length-1],r=0;r<n.length;r++)t=n[r],this.findPlaceforPrunedNode(t),t[2].add(t[0]),t[2].add(t[1],t[1].source,t[1].target);e.splice(e.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},w.prototype.findPlaceforPrunedNode=function(e){var t,n,r=e[0];if(n=r==e[1].source?e[1].target:e[1].source,u.PURE_INCREMENTAL)r.setCenter(n.getCenterX()+e[3].getWidth(),n.getCenterY()+e[3].getHeight());else{var i=n.startX,o=n.finishX,a=n.startY,s=n.finishY,l=[0,0,0,0];if(a>0)for(var f=i;f<=o;f++)l[0]+=this.grid[f][a-1].length+this.grid[f][a].length-1;if(o<this.grid.length-1)for(f=a;f<=s;f++)l[1]+=this.grid[o+1][f].length+this.grid[o][f].length-1;if(s<this.grid[0].length-1)for(f=i;f<=o;f++)l[2]+=this.grid[f][s+1].length+this.grid[f][s].length-1;if(i>0)for(f=a;f<=s;f++)l[3]+=this.grid[i-1][f].length+this.grid[i][f].length-1;for(var h,d,p=v.MAX_VALUE,g=0;g<l.length;g++)l[g]<p?(p=l[g],h=1,d=g):l[g]==p&&h++;if(3==h&&0==p)0==l[0]&&0==l[1]&&0==l[2]?t=1:0==l[0]&&0==l[1]&&0==l[3]?t=0:0==l[0]&&0==l[2]&&0==l[3]?t=3:0==l[1]&&0==l[2]&&0==l[3]&&(t=2);else if(2==h&&0==p){var y=Math.floor(2*Math.random());t=0==l[0]&&0==l[1]?0==y?0:1:0==l[0]&&0==l[2]?0==y?0:2:0==l[0]&&0==l[3]?0==y?0:3:0==l[1]&&0==l[2]?0==y?1:2:0==l[1]&&0==l[3]?0==y?1:3:0==y?2:3}else t=4==h&&0==p?y=Math.floor(4*Math.random()):d;0==t?r.setCenter(n.getCenterX(),n.getCenterY()-n.getHeight()/2-c.DEFAULT_EDGE_LENGTH-r.getHeight()/2):1==t?r.setCenter(n.getCenterX()+n.getWidth()/2+c.DEFAULT_EDGE_LENGTH+r.getWidth()/2,n.getCenterY()):2==t?r.setCenter(n.getCenterX(),n.getCenterY()+n.getHeight()/2+c.DEFAULT_EDGE_LENGTH+r.getHeight()/2):r.setCenter(n.getCenterX()-n.getWidth()/2-c.DEFAULT_EDGE_LENGTH-r.getWidth()/2,n.getCenterY())}},e.exports=w},function(e,t,n){"use strict";var r={};r.layoutBase=n(0),r.CoSEConstants=n(1),r.CoSEEdge=n(2),r.CoSEGraph=n(3),r.CoSEGraphManager=n(4),r.CoSELayout=n(7),r.CoSENode=n(5),r.ConstraintHandler=n(6),e.exports=r}])},e.exports=r(n(9170))},1497:function(e,t,n){var r;r=function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=12)}([function(e,t,n){"use strict";e.exports=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.filter((function(e){return null!=e})).forEach((function(t){Object.keys(t).forEach((function(n){return e[n]=t[n]}))})),e}},function(e,t,n){"use strict";var r=n(10),i=n(0);e.exports=function(e){return new r(i({cy:this},e))}},function(e,t,n){"use strict";e.exports={disableGestures:function(){if(this.saveGestureState(),this.cy.zoomingEnabled(!1).panningEnabled(!1).boxSelectionEnabled(!1),this.options.disableBrowserGestures){var e=this.windowListenerOptions;window.addEventListener("touchstart",this.preventDefault,e),window.addEventListener("touchmove",this.preventDefault,e),window.addEventListener("wheel",this.preventDefault,e)}return this},resetGestures:function(){if(this.cy.zoomingEnabled(this.lastZoomingEnabled).panningEnabled(this.lastPanningEnabled).boxSelectionEnabled(this.lastBoxSelectionEnabled),this.options.disableBrowserGestures){var e=this.windowListenerOptions;window.removeEventListener("touchstart",this.preventDefault,e),window.removeEventListener("touchmove",this.preventDefault,e),window.removeEventListener("wheel",this.preventDefault,e)}return this},saveGestureState:function(){var e=this.cy;return this.lastPanningEnabled=e.panningEnabled(),this.lastZoomingEnabled=e.zoomingEnabled(),this.lastBoxSelectionEnabled=e.boxSelectionEnabled(),this}}},function(e,t,n){"use strict";e.exports={addCytoscapeListeners:function(){var e=this,t=this.cy,n=this.options;return this.addListener(t,"drag",(function(){return e.grabbingNode=!0})),this.addListener(t,"free",(function(){return e.grabbingNode=!1})),this.addListener(t,"tapstart","node",(function(t){var n=t.target;e.drawMode&&e.start(n)})),this.addListener(t,"tapdrag",(function(t){e.update(t.position)})),this.addListener(t,"tapdragover","node",(function(t){n.snap||e.preview(t.target)})),this.addListener(t,"tapdragout","node",(function(t){n.snap||e.unpreview(t.target)})),this.addListener(t,"tapend",(function(){e.stop()})),this}}},function(e,t,n){"use strict";e.exports={canConnect:function(e,t){return!e.same(t)},edgeParams:function(e,t){return{}},hoverDelay:150,snap:!0,snapThreshold:50,snapFrequency:15,noEdgeEventsInDraw:!0,disableBrowserGestures:!0}},function(e,t,n){"use strict";e.exports={toggleDrawMode:function(e){var t=this.cy;return this.drawMode=null!=e?e:!this.drawMode,this.drawMode?(this.prevUngrabifyState=t.autoungrabify(),t.autoungrabify(!0),this.emit("drawon")):(t.autoungrabify(this.prevUngrabifyState),this.emit("drawoff")),this},enableDrawMode:function(){return this.toggleDrawMode(!0)},disableDrawMode:function(){return this.toggleDrawMode(!1)}}},function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(0);function o(e,t,n){var o,a={};return i(a,t,e),i(a.data,t.data,e.data),("undefined"===typeof(o=t.classes)?"undefined":r(o))===r("")?a.classes=t.classes+" "+n:function(e){return("undefined"===typeof e?"undefined":r(e))===r([])&&null!=e.length}(t.classes)?a.classes=t.classes.join(" ")+" "+n:a.classes=n,a}e.exports={makeEdges:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy,n=(this.options,this.presumptiveTargets),r=this.previewEles,i=this.active,a=this.sourceNode,s=this.targetNode,u=e?"eh-preview":"",l=t.collection(),c=this.canConnect(s);if(i&&c){if(!s||0===s.size())return r.remove(),void this.emit("cancel",this.mp(),a,n);if(!e)return r.removeClass("eh-preview").style("events",""),void this.emit("complete",this.mp(),a,s,r);var f=t.add(o({group:"edges",data:{source:a.id(),target:s.id()}},this.edgeParams(s),u));return l=l.merge(f),e?(this.previewEles=l,l.style("events","no")):(l.style("events",""),this.emit("complete",this.mp(),a,s,l)),this}},makePreview:function(){return this.makeEdges(!0),this},removePreview:function(){return this.previewShown()&&this.previewEles.remove(),this},previewShown:function(){return this.previewEles.nonempty()&&this.previewEles.inside()},updateEdge:function(){var e=this,t=this.sourceNode,n=this.ghostNode,r=this.cy,o=this.mx,a=this.my,s=void 0,u=void 0;if(t)return n&&0!==n.length&&!n.removed()||(u=this.ghostEles=r.collection(),r.batch((function(){(n=e.ghostNode=r.add({group:"nodes",classes:"eh-ghost eh-ghost-node",position:{x:0,y:0}})).style({"background-color":"blue",width:1e-4,height:1e-4,opacity:0,events:"no"});var o={};(s=r.add(i({},o,{group:"edges",data:i({},o.data,{source:t.id(),target:n.id()}),classes:"eh-ghost eh-ghost-edge"}))).style({events:"no"})})),u.merge(n).merge(s)),n.position({x:o,y:a}),this}}},function(e,t,n){"use strict";e.exports={disableEdgeEvents:function(){return this.options.noEdgeEventsInDraw&&this.cy.edges().style("events","no"),this},enableEdgeEvents:function(){return this.options.noEdgeEventsInDraw&&this.cy.edges().style("events",""),this}}},function(e,t,n){"use strict";e.exports={enable:function(){return this.enabled=!0,this.emit("enable"),this},disable:function(){return this.enabled=!1,this.emit("disable"),this}}},function(e,t,n){"use strict";var r=n(13),i=Math.sqrt(2);e.exports={start:function(e){var t=this;if(this.canStartOn(e)){this.active=!0,this.sourceNode=e,this.sourceNode.addClass("eh-source"),this.disableGestures(),this.disableEdgeEvents();var n=function(e){return e.id()};this.canConnect=r((function(e){return t.options.canConnect(t.sourceNode,e)}),n),this.edgeParams=r((function(e){return t.options.edgeParams(t.sourceNode,e)}),n),this.emit("start",this.hp(),e)}},update:function(e){if(this.active){var t=e;return this.mx=t.x,this.my=t.y,this.updateEdge(),this.throttledSnap(),this}},preview:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.options,i=this.sourceNode,o=this.ghostNode,a=this.ghostEles,s=this.presumptiveTargets,u=this.previewEles,l=this.active,c=i,f=e.same(o),h=!this.canConnect(e),d=e.same(this.targetNode);if(!l||f||h||d)return!1;this.targetNode.nonempty()&&this.unpreview(this.targetNode),clearTimeout(this.previewTimeout);var p=function(){t.targetNode=e,s.merge(e),e.addClass("eh-presumptive-target"),e.addClass("eh-target"),t.emit("hoverover",t.mp(),c,e),e.addClass("eh-preview"),a.addClass("eh-preview-active"),i.addClass("eh-preview-active"),e.addClass("eh-preview-active"),t.makePreview(),t.emit("previewon",t.mp(),c,e,u)};return n&&r.hoverDelay>0?this.previewTimeout=setTimeout(p,r.hoverDelay):p(),!0},unpreview:function(e){if(this.active){var t=this.previewTimeout,n=this.sourceNode,r=this.previewEles,i=this.ghostEles,o=this.cy;clearTimeout(t),this.previewTimeout=null;var a=n;return e.removeClass("eh-preview eh-target eh-presumptive-target eh-preview-active"),i.removeClass("eh-preview-active"),n.removeClass("eh-preview-active"),this.targetNode=o.collection(),this.removePreview(a,e),this.emit("hoverout",this.mp(),a,e),this.emit("previewoff",this.mp(),a,e,r),this}},stop:function(){if(this.active){var e=this.sourceNode,t=this.targetNode,n=this.ghostEles,r=this.presumptiveTargets;return clearTimeout(this.previewTimeout),e.removeClass("eh-source eh-preview-active"),t.removeClass("eh-target eh-preview eh-hover eh-preview-active"),r.removeClass("eh-presumptive-target"),this.makeEdges(),n.remove(),this.clearCollections(),this.resetGestures(),this.enableEdgeEvents(),this.active=!1,this.emit("stop",this.mp(),e),this}},snap:function(){if(!this.active||!this.options.snap)return!1;var e=this.cy,t=this.targetNode,n=this.options.snapThreshold,r=this.mp(),o=this.previewEles,a=this.ghostNode,s=function(e,t,n,r){var i=n-e,o=r-t;return i*i+o*o},u=function(e){return t=e.position(),n=r,s(t.x,t.y,n.x,n.y);var t,n},l=function(e){var t=function(e){return i*Math.max(e.outerWidth(),e.outerHeight())/2}(e),r=t+n;return r*r},c=function(e){return u(e)<=l(e)},f=function(e){var t=e.position(),n=e.outerWidth()/2,i=e.outerHeight()/2,o=t.x,a=t.y,u=r.x,l=r.y,c=o-n,f=o+n,h=a-i,d=a+i,p=c<=u&&u<=f,g=h<=l&&l<=d;if(p&&g)return 0;if(p){var v=l-h,y=l-d;return Math.min(v*v,y*y)}if(g){var m=u-c,b=u-f;return Math.min(m*m,b*b)}return u<c&&l<h?s(u,l,c,h):u>f&&l<h?s(u,l,f,h):s(u,l,u<c&&l>d?c:f,d)},h=function(e,t){return f(e)-f(t)},d=function(e){var t=r,n=e.outerWidth()/2,i=e.outerHeight()/2,o=e.position(),a=o.x-n,s=o.x+n,u=o.y-i,l=o.y+i;return a<=t.x&&t.x<=s&&u<=t.y&&t.y<=l},p=e.nodes((function(e){return!function(e){return e.same(o)||e.same(a)}(e)&&c(e)})).sort(h),g=!1;t.nonempty()&&!c(t)&&this.unpreview(t);for(var v=0;v<p.length;v++){var y=p[v];if((!y.isParent()||!d(y))&&(!y.isChild()||d(y.parent()))&&(y.same(t)||this.preview(y,!1))){g=!0;break}}return g},canStartOn:function(e){var t,n=this.previewEles,r=this.ghostEles,i=this.enabled,o=this.active,a=this.grabbingNode;return i&&!o&&!a&&null!=e&&e.nonempty()&&!(function(e){return n.anySame(e)}(t=e)||function(e){return r.anySame(e)}(t))},canStartDrawModeOn:function(e){return this.canStartOn(e)&&this.drawMode},canStartNonDrawModeOn:function(e){return this.canStartOn(e)&&!this.drawMode}}},function(e,t,n){"use strict";var r=n(4),i=n(0),o=n(14),a=n(2),s=n(3),u=n(5),l=n(6),c=n(8),f=n(9),h=n(11),d=n(7);function p(e){var t=e.cy;this.cy=t,this.listeners=[],this.enabled=!0,this.drawMode=!1,this.active=!1,this.grabbingNode=!1,this.clearCollections(),this.mx=0,this.my=0,this.options=i({},r,e),this.saveGestureState(),this.addListeners(),this.throttledSnap=o(this.snap.bind(this),1e3/e.snapFrequency),this.preventDefault=function(e){return e.preventDefault()},this.canConnect=function(){return!1};var n=!1;try{var a=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,a)}catch(s){}this.windowListenerOptions=!n||{capture:!0,passive:!1}}var g=p.prototype={};g.destroy=function(){this.removeListeners()},g.setOptions=function(e){i(this.options,e)},g.mp=function(){return{x:this.mx,y:this.my}},g.hp=function(){return{x:this.hx,y:this.hy}},g.clearCollections=function(){var e=this.cy;this.previewEles=e.collection(),this.ghostEles=e.collection(),this.ghostNode=e.collection(),this.sourceNode=e.collection(),this.targetNode=e.collection(),this.presumptiveTargets=e.collection()},[a,s,u,l,c,f,h,d].forEach((function(e){return i(g,e)})),e.exports=p},function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t,n,i,o){return("undefined"===typeof n?"undefined":r(n))!==r("")&&(o=i=n,n=null),null==o&&(o=!1),{target:e,event:t,selector:n,callback:i,options:o}}function o(e){return e instanceof Element}e.exports={addListener:function(e,t,n,r,a){var s=i(e,t,n,r,a);return this.listeners.push(s),o(s.target)?s.target.addEventListener(s.event,s.callback,s.options):s.selector?s.target.addListener(s.event,s.selector,s.callback,s.options):s.target.addListener(s.event,s.callback,s.options),this},addListeners:function(){var e=this;return this.addCytoscapeListeners(),this.addListener(this.cy,"destroy",(function(){return e.destroy()})),this},removeListener:function(e,t,n,r,a){for(var s=i(e,t,n,r,a),u=this.listeners.length-1;u>=0;u--){var l=this.listeners[u];if(s.target===l.target&&s.event===l.event&&(null==s.selector||s.selector===l.selector)&&(null==s.callback||s.callback===l.callback)){this.listeners.splice(u,1),o(s.target)?s.target.removeEventListener(s.event,s.callback,s.options):s.selector?s.target.removeListener(s.event,s.selector,s.callback,s.options):s.target.removeListener(s.event,s.callback,s.options);break}}return this},removeListeners:function(){for(var e=this.listeners.length-1;e>=0;e--){var t=this.listeners[e];this.removeListener(t.target,t.event,t.selector,t.callback,t.options)}return this},emit:function(e,t){for(var n=this.cy,r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return n.emit({type:"eh"+e,position:t},i),this}}},function(e,t,n){"use strict";var r=n(1),i=function(e){e&&e("core","edgehandles",r)};"undefined"!==typeof cytoscape&&i(cytoscape),e.exports=i},function(t,n){t.exports=e},function(e,n){e.exports=t}])},e.exports=r(n(9636),n(153))},3486:function(e,t,n){var r;self,r=function(e){return function(){"use strict";var t={658:function(e){e.exports=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach((function(t){Object.keys(t).forEach((function(n){return e[n]=t[n]}))})),e}},548:function(e,t,n){var r=n(281).layoutBase.LinkedList,i={getTopMostNodes:function(e){for(var t={},n=0;n<e.length;n++)t[e[n].id()]=!0;var r=e.filter((function(e,n){"number"===typeof e&&(e=n);for(var r=e.parent()[0];null!=r;){if(t[r.id()])return!1;r=r.parent()[0]}return!0}));return r},connectComponents:function(e,t,n,i){var o=new r,a=new Set,s=[],u=void 0,l=void 0,c=void 0,f=!1,h=1,d=[],p=[],g=function(){var r=e.collection();p.push(r);var i=n[0],g=e.collection();g.merge(i).merge(i.descendants().intersection(t)),s.push(i),g.forEach((function(e){o.push(e),a.add(e),r.merge(e)}));for(var v=function(){i=o.shift();var l=e.collection();i.neighborhood().nodes().forEach((function(e){t.intersection(i.edgesWith(e)).length>0&&l.merge(e)}));for(var c=0;c<l.length;c++){var f=l[c];null==(u=n.intersection(f.union(f.ancestors())))||a.has(u[0])||u.union(u.descendants()).forEach((function(e){o.push(e),a.add(e),r.merge(e),n.has(e)&&s.push(e)}))}};0!=o.length;)v();if(r.forEach((function(e){t.intersection(e.connectedEdges()).forEach((function(e){r.has(e.source())&&r.has(e.target())&&r.merge(e)}))})),s.length==n.length&&(f=!0),!f||f&&h>1){l=s[0],c=l.connectedEdges().length,s.forEach((function(e){e.connectedEdges().length<c&&(c=e.connectedEdges().length,l=e)})),d.push(l.id());var y=e.collection();y.merge(s[0]),s.forEach((function(e){y.merge(e)})),s=[],n=n.difference(y),h++}};do{g()}while(!f);return i&&d.length>0&&i.set("dummy"+(i.size+1),d),p},calcBoundingBox:function(e,t,n,r){for(var i=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,u=void 0,l=void 0,c=void 0,f=void 0,h=e.descendants().not(":parent"),d=h.length,p=0;p<d;p++){var g=h[p];i>(u=t[r.get(g.id())]-g.width()/2)&&(i=u),o<(l=t[r.get(g.id())]+g.width()/2)&&(o=l),a>(c=n[r.get(g.id())]-g.height()/2)&&(a=c),s<(f=n[r.get(g.id())]+g.height()/2)&&(s=f)}var v={};return v.topLeftX=i,v.topLeftY=a,v.width=o-i,v.height=s-a,v}};e.exports=i},816:function(e,t,n){var r=n(548),i=n(281).CoSELayout,o=n(281).CoSENode,a=n(281).layoutBase.PointD,s=n(281).layoutBase.DimensionD,u=n(281).layoutBase.LayoutConstants,l=n(281).layoutBase.FDLayoutConstants,c=n(281).CoSEConstants;e.exports={coseLayout:function(e,t){var n=e.eles,f=n.nodes(),h=n.edges(),d=void 0,p=void 0,g=void 0,v={};e.randomize&&(d=t.nodeIndexes,p=t.xCoords,g=t.yCoords);var y=function(e){return"function"===typeof e},m=function(e,t){return y(e)?e(t):e};null!=e.nestingFactor&&(c.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=l.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=e.nestingFactor),null!=e.gravity&&(c.DEFAULT_GRAVITY_STRENGTH=l.DEFAULT_GRAVITY_STRENGTH=e.gravity),null!=e.numIter&&(c.MAX_ITERATIONS=l.MAX_ITERATIONS=e.numIter),null!=e.gravityRange&&(c.DEFAULT_GRAVITY_RANGE_FACTOR=l.DEFAULT_GRAVITY_RANGE_FACTOR=e.gravityRange),null!=e.gravityCompound&&(c.DEFAULT_COMPOUND_GRAVITY_STRENGTH=l.DEFAULT_COMPOUND_GRAVITY_STRENGTH=e.gravityCompound),null!=e.gravityRangeCompound&&(c.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=l.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=e.gravityRangeCompound),null!=e.initialEnergyOnIncremental&&(c.DEFAULT_COOLING_FACTOR_INCREMENTAL=l.DEFAULT_COOLING_FACTOR_INCREMENTAL=e.initialEnergyOnIncremental),"proof"==e.quality?u.QUALITY=2:u.QUALITY=0,c.NODE_DIMENSIONS_INCLUDE_LABELS=l.NODE_DIMENSIONS_INCLUDE_LABELS=u.NODE_DIMENSIONS_INCLUDE_LABELS=e.nodeDimensionsIncludeLabels,c.DEFAULT_INCREMENTAL=l.DEFAULT_INCREMENTAL=u.DEFAULT_INCREMENTAL=!e.randomize,c.ANIMATE=l.ANIMATE=u.ANIMATE=e.animate,c.TILE=e.tile,c.TILING_PADDING_VERTICAL="function"===typeof e.tilingPaddingVertical?e.tilingPaddingVertical.call():e.tilingPaddingVertical,c.TILING_PADDING_HORIZONTAL="function"===typeof e.tilingPaddingHorizontal?e.tilingPaddingHorizontal.call():e.tilingPaddingHorizontal,c.DEFAULT_INCREMENTAL=l.DEFAULT_INCREMENTAL=u.DEFAULT_INCREMENTAL=!0,c.PURE_INCREMENTAL=!e.randomize,u.DEFAULT_UNIFORM_LEAF_NODE_SIZES=e.uniformNodeDimensions,"transformed"==e.step&&(c.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,c.ENFORCE_CONSTRAINTS=!1,c.APPLY_LAYOUT=!1),"enforced"==e.step&&(c.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,c.ENFORCE_CONSTRAINTS=!0,c.APPLY_LAYOUT=!1),"cose"==e.step&&(c.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,c.ENFORCE_CONSTRAINTS=!1,c.APPLY_LAYOUT=!0),"all"==e.step&&(e.randomize?c.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:c.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,c.ENFORCE_CONSTRAINTS=!0,c.APPLY_LAYOUT=!0),e.fixedNodeConstraint||e.alignmentConstraint||e.relativePlacementConstraint?c.TREE_REDUCTION_ON_INCREMENTAL=!1:c.TREE_REDUCTION_ON_INCREMENTAL=!0;var b=new i,_=b.newGraphManager();return function e(t,n,i,u){for(var l=n.length,c=0;c<l;c++){var f=n[c],h=f.children(),y=void 0,b=f.layoutDimensions({nodeDimensionsIncludeLabels:u.nodeDimensionsIncludeLabels});if(null!=f.outerWidth()&&null!=f.outerHeight())if(u.randomize)if(f.isParent()){var _=r.calcBoundingBox(f,p,g,d);y=t.add(new o(i.graphManager,new a(_.topLeftX,_.topLeftY),new s(_.width,_.height)))}else y=t.add(new o(i.graphManager,new a(p[d.get(f.id())]-b.w/2,g[d.get(f.id())]-b.h/2),new s(parseFloat(b.w),parseFloat(b.h))));else y=t.add(new o(i.graphManager,new a(f.position("x")-b.w/2,f.position("y")-b.h/2),new s(parseFloat(b.w),parseFloat(b.h))));else y=t.add(new o(this.graphManager));y.id=f.data("id"),y.nodeRepulsion=m(u.nodeRepulsion,f),y.paddingLeft=parseInt(f.css("padding")),y.paddingTop=parseInt(f.css("padding")),y.paddingRight=parseInt(f.css("padding")),y.paddingBottom=parseInt(f.css("padding")),u.nodeDimensionsIncludeLabels&&(y.labelWidth=f.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,y.labelHeight=f.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,y.labelPosVertical=f.css("text-valign"),y.labelPosHorizontal=f.css("text-halign")),v[f.data("id")]=y,isNaN(y.rect.x)&&(y.rect.x=0),isNaN(y.rect.y)&&(y.rect.y=0),null!=h&&h.length>0&&e(i.getGraphManager().add(i.newGraph(),y),h,i,u)}}(_.addRoot(),r.getTopMostNodes(f),b,e),function(t,n,r){for(var i=0,o=0,a=0;a<r.length;a++){var s=r[a],u=v[s.data("source")],f=v[s.data("target")];if(u!==f&&0==u.getEdgesBetween(f).length){var h=n.add(t.newEdge(),u,f);h.id=s.id(),h.idealLength=m(e.idealEdgeLength,s),h.edgeElasticity=m(e.edgeElasticity,s),i+=h.idealLength,o++}}null!=e.idealEdgeLength&&(o>0?c.DEFAULT_EDGE_LENGTH=l.DEFAULT_EDGE_LENGTH=i/o:y(e.idealEdgeLength)?c.DEFAULT_EDGE_LENGTH=l.DEFAULT_EDGE_LENGTH=50:c.DEFAULT_EDGE_LENGTH=l.DEFAULT_EDGE_LENGTH=e.idealEdgeLength,c.MIN_REPULSION_DIST=l.MIN_REPULSION_DIST=l.DEFAULT_EDGE_LENGTH/10,c.DEFAULT_RADIAL_SEPARATION=l.DEFAULT_EDGE_LENGTH)}(b,_,h),function(e,t){t.fixedNodeConstraint&&(e.constraints.fixedNodeConstraint=t.fixedNodeConstraint),t.alignmentConstraint&&(e.constraints.alignmentConstraint=t.alignmentConstraint),t.relativePlacementConstraint&&(e.constraints.relativePlacementConstraint=t.relativePlacementConstraint)}(b,e),b.runLayout(),v}}},212:function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(658),o=n(548),a=n(657).spectralLayout,s=n(816).coseLayout,u=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(e){return 4500},idealEdgeLength:function(e){return 50},edgeElasticity:function(e){return.45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=i({},u,t)}return r(e,[{key:"run",value:function(){var e=this.options,t=e.cy,n=e.eles,r=[],i=[],u=void 0;!e.fixedNodeConstraint||Array.isArray(e.fixedNodeConstraint)&&0!=e.fixedNodeConstraint.length||(e.fixedNodeConstraint=void 0),e.alignmentConstraint&&(!e.alignmentConstraint.vertical||Array.isArray(e.alignmentConstraint.vertical)&&0!=e.alignmentConstraint.vertical.length||(e.alignmentConstraint.vertical=void 0),!e.alignmentConstraint.horizontal||Array.isArray(e.alignmentConstraint.horizontal)&&0!=e.alignmentConstraint.horizontal.length||(e.alignmentConstraint.horizontal=void 0)),!e.relativePlacementConstraint||Array.isArray(e.relativePlacementConstraint)&&0!=e.relativePlacementConstraint.length||(e.relativePlacementConstraint=void 0),(e.fixedNodeConstraint||e.alignmentConstraint||e.relativePlacementConstraint)&&(e.tile=!1,e.packComponents=!1);var l=void 0,c=!1;if(t.layoutUtilities&&e.packComponents&&((l=t.layoutUtilities("get"))||(l=t.layoutUtilities()),c=!0),n.nodes().length>0){if(c){var f=o.getTopMostNodes(e.eles.nodes());if(u=o.connectComponents(t,e.eles,f),e.randomize&&u.forEach((function(t){e.eles=t,r.push(a(e))})),"default"==e.quality||"proof"==e.quality){var h=t.collection();if(e.tile){var d=new Map,p=0,g={nodeIndexes:d,xCoords:[],yCoords:[]},v=[];if(u.forEach((function(e,t){0==e.edges().length&&(e.nodes().forEach((function(t,n){h.merge(e.nodes()[n]),t.isParent()||(g.nodeIndexes.set(e.nodes()[n].id(),p++),g.xCoords.push(e.nodes()[0].position().x),g.yCoords.push(e.nodes()[0].position().y))})),v.push(t))})),h.length>1){u.push(h),r.push(g);for(var y=v.length-1;y>=0;y--)u.splice(v[y],1),r.splice(v[y],1)}}u.forEach((function(t,n){e.eles=t,i.push(s(e,r[n]))}))}if(u.length>1){var m=[];u.forEach((function(t,n){var a=void 0;"draft"==e.quality&&(a=r[n].nodeIndexes);var s={nodes:[],edges:[]},u=void 0;t.nodes().forEach((function(t){if("draft"==e.quality)if(t.isParent()){var l=o.calcBoundingBox(t,r[n].xCoords,r[n].yCoords,a);s.nodes.push({x:l.topLeftX,y:l.topLeftY,width:l.width,height:l.height})}else u=a.get(t.id()),s.nodes.push({x:r[n].xCoords[u]-t.boundingbox().w/2,y:r[n].yCoords[u]-t.boundingbox().h/2,width:t.boundingbox().w,height:t.boundingbox().h});else s.nodes.push({x:i[n][t.id()].getLeft(),y:i[n][t.id()].getTop(),width:i[n][t.id()].getWidth(),height:i[n][t.id()].getHeight()})})),t.edges().forEach((function(t){var u=t.source(),l=t.target();if("draft"==e.quality){var c=a.get(u.id()),f=a.get(l.id()),h=[],d=[];if(u.isParent()){var p=o.calcBoundingBox(u,r[n].xCoords,r[n].yCoords,a);h.push(p.topLeftX+p.width/2),h.push(p.topLeftY+p.height/2)}else h.push(r[n].xCoords[c]),h.push(r[n].yCoords[c]);if(l.isParent()){var g=o.calcBoundingBox(l,r[n].xCoords,r[n].yCoords,a);d.push(g.topLeftX+g.width/2),d.push(g.topLeftY+g.height/2)}else d.push(r[n].xCoords[f]),d.push(r[n].yCoords[f]);s.edges.push({startX:h[0],startY:h[1],endX:d[0],endY:d[1]})}else s.edges.push({startX:i[n][u.id()].getCenterX(),startY:i[n][u.id()].getCenterY(),endX:i[n][l.id()].getCenterX(),endY:i[n][l.id()].getCenterY()})})),m.push(s)}));var b=l.packComponents(m,e.randomize).shifts;"draft"==e.quality?r.forEach((function(e,t){var n=e.xCoords.map((function(e){return e+b[t].dx})),r=e.yCoords.map((function(e){return e+b[t].dy}));e.xCoords=n,e.yCoords=r})):i.forEach((function(e,t){Object.keys(e).forEach((function(n){var r=e[n];r.setCenter(r.getCenterX()+b[t].dx,r.getCenterY()+b[t].dy)}))}))}}else{if(e.randomize){var _=a(e);r.push(_)}"default"!=e.quality&&"proof"!=e.quality||i.push(s(e,r[0]))}if(e.randomize&&!e.fixedNodeConstraint){var w=Number.POSITIVE_INFINITY,x=Number.NEGATIVE_INFINITY,E=Number.POSITIVE_INFINITY,k=Number.NEGATIVE_INFINITY;if("draft"==e.quality){r.forEach((function(e){e.xCoords.forEach((function(e){e<w&&(w=e),e>x&&(x=e)})),e.yCoords.forEach((function(e){e<E&&(E=e),e>k&&(k=e)}))}));var C=e.eles.boundingBox(),S=C.x1+C.w/2-(x+w)/2,N=C.y1+C.h/2-(k+E)/2;r.forEach((function(e){e.xCoords=e.xCoords.map((function(e){return e+S})),e.yCoords=e.yCoords.map((function(e){return e+N}))}))}else{i.forEach((function(e){Object.keys(e).forEach((function(t){var n=e[t];n.getCenterX()<w&&(w=n.getCenterX()),n.getCenterX()>x&&(x=n.getCenterX()),n.getCenterY()<E&&(E=n.getCenterY()),n.getCenterY()>k&&(k=n.getCenterY())}))}));var T=e.eles.boundingBox(),I=T.x1+T.w/2-(x+w)/2,D=T.y1+T.h/2-(k+E)/2;i.forEach((function(e,t){Object.keys(e).forEach((function(t){var n=e[t];n.setCenter(n.getCenterX()+I,n.getCenterY()+D)}))}))}}}"default"==e.quality||"proof"==e.quality||e.randomize?(e.eles=n,n.nodes().not(":parent").layoutPositions(this,e,(function(t,n){if("default"==e.quality||"proof"==e.quality){"number"===typeof t&&(t=n);var o=void 0,a=void 0,s=t.data("id");return i.forEach((function(e){s in e&&(o={x:e[s].getRect().getCenterX(),y:e[s].getRect().getCenterY()},a=e[s])})),e.nodeDimensionsIncludeLabels&&(a.labelWidth&&("left"==a.labelPosHorizontal?o.x+=a.labelWidth/2:"right"==a.labelPosHorizontal&&(o.x-=a.labelWidth/2)),a.labelHeight&&("top"==a.labelPosVertical?o.y+=a.labelHeight/2:"bottom"==a.labelPosVertical&&(o.y-=a.labelHeight/2))),{x:o.x,y:o.y}}var u=void 0;return r.forEach((function(e){var n=e.nodeIndexes.get(t.id());void 0!=n&&(u={x:e.xCoords[n],y:e.yCoords[n]})})),void 0==u&&(u={x:t.position("x"),y:t.position("y")}),{x:u.x,y:u.y}}))):console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),e}();e.exports=l},657:function(e,t,n){var r=n(548),i=n(281).layoutBase.Matrix,o=n(281).layoutBase.SVD;e.exports={spectralLayout:function(e){var t=e.cy,n=e.eles,a=n.nodes(),s=n.nodes(":parent"),u=new Map,l=new Map,c=new Map,f=[],h=[],d=[],p=[],g=[],v=[],y=[],m=[],b=void 0,_=1e8,w=1e-9,x=e.piTol,E=e.samplingType,k=e.nodeSeparation,C=void 0,S=function(e,t,n){for(var r=[],i=0,o=0,a=0,s=void 0,u=[],c=0,h=1,d=0;d<b;d++)u[d]=_;for(r[o]=e,u[e]=0;o>=i;){a=r[i++];for(var p=f[a],y=0;y<p.length;y++)u[s=l.get(p[y])]==_&&(u[s]=u[a]+1,r[++o]=s);v[a][t]=u[a]*k}if(n){for(var m=0;m<b;m++)v[m][t]<g[m]&&(g[m]=v[m][t]);for(var w=0;w<b;w++)g[w]>c&&(c=g[w],h=w)}return h};r.connectComponents(t,n,r.getTopMostNodes(a),u),s.forEach((function(e){r.connectComponents(t,n,r.getTopMostNodes(e.descendants().intersection(n)),u)}));for(var N=0,T=0;T<a.length;T++)a[T].isParent()||l.set(a[T].id(),N++);var I=!0,D=!1,M=void 0;try{for(var O,P=u.keys()[Symbol.iterator]();!(I=(O=P.next()).done);I=!0){var L=O.value;l.set(L,N++)}}catch($){D=!0,M=$}finally{try{!I&&P.return&&P.return()}finally{if(D)throw M}}for(var A=0;A<l.size;A++)f[A]=[];s.forEach((function(e){for(var t=e.children().intersection(n);0==t.nodes(":childless").length;)t=t.nodes()[0].children().intersection(n);var r=0,i=t.nodes(":childless")[0].connectedEdges().length;t.nodes(":childless").forEach((function(e,t){e.connectedEdges().length<i&&(i=e.connectedEdges().length,r=t)})),c.set(e.id(),t.nodes(":childless")[r].id())})),a.forEach((function(e){var t=void 0;t=e.isParent()?l.get(c.get(e.id())):l.get(e.id()),e.neighborhood().nodes().forEach((function(r){n.intersection(e.edgesWith(r)).length>0&&(r.isParent()?f[t].push(c.get(r.id())):f[t].push(r.id()))}))}));var R=function(e){var n=l.get(e),r=void 0;u.get(e).forEach((function(i){r=t.getElementById(i).isParent()?c.get(i):i,f[n].push(r),f[l.get(r)].push(e)}))},F=!0,z=!1,j=void 0;try{for(var B,V=u.keys()[Symbol.iterator]();!(F=(B=V.next()).done);F=!0)R(B.value)}catch($){z=!0,j=$}finally{try{!F&&V.return&&V.return()}finally{if(z)throw j}}var U=void 0;if((b=l.size)>2){C=b<e.sampleSize?b:e.sampleSize;for(var G=0;G<b;G++)v[G]=[];for(var H=0;H<C;H++)m[H]=[];return"draft"==e.quality||"all"==e.step?(function(e){var t=void 0;if(e){t=Math.floor(Math.random()*b);for(var n=0;n<b;n++)g[n]=_;for(var r=0;r<C;r++)p[r]=t,t=S(t,r,e)}else{!function(){for(var e=0,t=0,n=!1;t<C;){e=Math.floor(Math.random()*b),n=!1;for(var r=0;r<t;r++)if(p[r]==e){n=!0;break}n||(p[t]=e,t++)}}();for(var i=0;i<C;i++)S(p[i],i,e)}for(var o=0;o<b;o++)for(var a=0;a<C;a++)v[o][a]*=v[o][a];for(var s=0;s<C;s++)y[s]=[];for(var u=0;u<C;u++)for(var l=0;l<C;l++)y[u][l]=v[p[l]][u]}(E),function(){for(var e=o.svd(y),t=e.S,n=e.U,r=e.V,a=t[0]*t[0]*t[0],s=[],u=0;u<C;u++){s[u]=[];for(var l=0;l<C;l++)s[u][l]=0,u==l&&(s[u][l]=t[u]/(t[u]*t[u]+a/(t[u]*t[u])))}m=i.multMat(i.multMat(r,s),i.transpose(n))}(),function(){for(var e=void 0,t=void 0,n=[],r=[],o=[],a=[],s=0;s<b;s++)n[s]=Math.random(),r[s]=Math.random();n=i.normalize(n),r=i.normalize(r);for(var u=w,l=w,c=void 0;;){for(var f=0;f<b;f++)o[f]=n[f];if(n=i.multGamma(i.multL(i.multGamma(o),v,m)),e=i.dotProduct(o,n),n=i.normalize(n),u=i.dotProduct(o,n),(c=Math.abs(u/l))<=1+x&&c>=1)break;l=u}for(var p=0;p<b;p++)o[p]=n[p];for(l=w;;){for(var g=0;g<b;g++)a[g]=r[g];if(a=i.minusOp(a,i.multCons(o,i.dotProduct(o,a))),r=i.multGamma(i.multL(i.multGamma(a),v,m)),t=i.dotProduct(a,r),r=i.normalize(r),u=i.dotProduct(a,r),(c=Math.abs(u/l))<=1+x&&c>=1)break;l=u}for(var y=0;y<b;y++)a[y]=r[y];h=i.multCons(o,Math.sqrt(Math.abs(e))),d=i.multCons(a,Math.sqrt(Math.abs(t)))}(),U={nodeIndexes:l,xCoords:h,yCoords:d}):(l.forEach((function(e,n){h.push(t.getElementById(n).position("x")),d.push(t.getElementById(n).position("y"))})),U={nodeIndexes:l,xCoords:h,yCoords:d}),U}var q=l.keys(),Y=t.getElementById(q.next().value),W=Y.position(),X=Y.outerWidth();if(h.push(W.x),d.push(W.y),2==b){var K=t.getElementById(q.next().value).outerWidth();h.push(W.x+X/2+K/2+e.idealEdgeLength),d.push(W.y)}return U={nodeIndexes:l,xCoords:h,yCoords:d}}}},579:function(e,t,n){var r=n(212),i=function(e){e&&e("layout","fcose",r)};"undefined"!==typeof cytoscape&&i(cytoscape),e.exports=i},281:function(t){t.exports=e}},n={},r=function e(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={exports:{}};return t[r](o,o.exports,e),o.exports}(579);return r}()},e.exports=r(n(5816))},2012:function(e){e.exports=function(e,t,n){function r(e,t,n){e.union(e.descendants()).filter(":childless").positions((function(e,r){"number"===typeof e&&(e=r);var i=e.position();return{x:i.x+t,y:i.y+n}}))}if(n||e("collection","align",(function(e,t,n){var i=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].id()]=!0;var r=e.filter((function(e,n){"number"===typeof e&&(e=n);for(var r=e.parent()[0];null!=r;){if(t[r.id()])return!1;r=r.parent()[0]}return!0}));return r}(this.nodes(":visible")),o=n||i[0];i=i.not(o);var a=0,s=0;"left"==(t=t||"none")?a=-1:"right"==t&&(a=1),"top"==(e=e||"none")?s=-1:"bottom"==e&&(s=1);for(var u=0;u<i.length;u++){var l=i[u],c=Object.assign({},l.position()),f=Object.assign({},l.position());"none"!=t&&(f.x=o.position("x")+a*(o.outerWidth()-l.outerWidth())/2),"none"!=e&&(f.y=o.position("y")+s*(o.outerHeight()-l.outerHeight())/2),r(l,f.x-c.x,f.y-c.y)}return this})),t.undoRedo){var i=function(e){var n={};return t.nodes().not(":parent").positions((function(t,r){"number"===typeof t&&(t=r),n[t.id()]={x:t.position("x"),y:t.position("y")};var i=e[t.id()];return{x:i.x,y:i.y}})),n};t.undoRedo(null,!0).action("align",(function(e){var n;return e.firstTime?(n=function(){for(var e={},n=t.nodes(),r=0;r<n.length;r++){var i=n[r];e[i.id()]={x:i.position("x"),y:i.position("y")}}return e}(),e.nodes.align(e.horizontal,e.vertical,e.alignTo)):n=i(e),n}),(function(e){return i(e)}))}}},2454:function(e){var t=function(){var e=Math.max,t=Date.now||function(){return(new Date).getTime()};return function(n,r,i){var o,a,s,u,l,c,f,h=0,d=!1,p=!0;if("function"!=typeof n)throw new TypeError("Expected a function");if(r=r<0?0:+r||0,!0===i){var g=!0;p=!1}else(function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)})(i)&&(g=!!i.leading,d="maxWait"in i&&e(+i.maxWait||0,r),p="trailing"in i?!!i.trailing:p);function v(e,r){r&&clearTimeout(r),a=c=f=void 0,e&&(h=t(),s=n.apply(l,o),c||a||(o=l=void 0))}function y(){var e=r-(t()-u);e<=0||e>r?v(f,a):c=setTimeout(y,e)}function m(){v(p,c)}function b(){if(o=arguments,u=t(),l=this,f=p&&(c||!g),!1===d)var e=g&&!c;else{a||g||(h=u);var i=d-(u-h),v=i<=0||i>d;v?(a&&(a=clearTimeout(a)),h=u,s=n.apply(l,o)):a||(a=setTimeout(m,i))}return v&&c?c=clearTimeout(c):c||r===d||(c=setTimeout(y,r)),e&&(v=!0,s=n.apply(l,o)),!v||c||a||(o=l=void 0),s}return b.cancel=function(){c&&clearTimeout(c),a&&clearTimeout(a),h=0,a=c=f=void 0},b}}();e.exports=t},3242:function(e){e.exports=function(e,t,n){var r=e,i=function(e){var t=e.getBoundingClientRect();return{top:t.top+document.documentElement.scrollTop,left:t.left+document.documentElement.scrollLeft}},o=document.createElement("canvas"),a=t.container(),s=o.getContext("2d");a.appendChild(o);var u=function(){o.height=0,o.width=0,o.style.position="absolute",o.style.top=0,o.style.left=0,o.style.zIndex=r.gridStackOrder};u();var l=function(){var e=t.zoom(),n=t.width(),i=t.height(),o=r.gridSpacing*e,a=t.pan(),u=a.x%o,l=a.y%o;s.strokeStyle=r.gridColor,s.lineWidth=r.lineWidth;var f='\t<svg width="'+n+'" height="'+i+'" xmlns="http://www.w3.org/2000/svg">\n            <defs>\n                <pattern id="horizontalLines" width="'+o+'" height="'+o+'" patternUnits="userSpaceOnUse">\n                    <path d="M '+o+' 0 L 0 0 0 0" fill="none" stroke="'+r.gridColor+'" stroke-width="'+r.lineWidth+'" />\n                </pattern>\n                <pattern id="verticalLines" width="'+o+'" height="'+o+'" patternUnits="userSpaceOnUse">\n                    <path d="M 0 0 L 0 0 0 '+o+'" fill="none" stroke="'+r.gridColor+'" stroke-width="'+r.lineWidth+'" />\n                </pattern>\n            </defs>\n            <rect width="100%" height="100%" fill="url(#horizontalLines)" transform="translate(0, '+l+')" />\n            <rect width="100%" height="100%" fill="url(#verticalLines)" transform="translate('+u+', 0)" />\n        </svg>\n',h=new Image;f=encodeURIComponent(f),h.onload=function(){c(),s.drawImage(h,0,0)},h.src="data:image/svg+xml,"+f},c=function(){var e=t.width(),n=t.height();s.clearRect(0,0,e,n)},f=n((function(){o.height=t.height(),o.width=t.width(),o.style.position="absolute",o.style.top=0,o.style.left=0,o.style.zIndex=r.gridStackOrder,setTimeout((function(){o.height=t.height(),o.width=t.width();var e=i(o),n=i(a);o.style.top=-(e.top-n.top),o.style.left=-(e.left-n.left),l()}),0)}),250);return{initCanvas:f,resizeCanvas:f,resetCanvas:u,clearCanvas:c,drawGrid:l,changeOptions:function(e){r=e},sizeCanvas:l}}},6291:function(e){e.exports=function(e,t,n,r,i,o,a,s){var u=function(e){return function(t){e(t)}},l={snapToGridDuringDrag:new u((function(t){e[d(t)]("tapstart","node",r.onTapStartNode)})),resize:new u((function(t){e[d(t)]("ready",p),t?p():g()})),snapToGridOnRelease:new u((function(n){e[d(n)]("add","node",m),e[d(n)]("ready",v),e[d(n)]("free","node",t.onFreeNode),n?v():y()})),drawGrid:new u((function(t){e[d(t)]("zoom",b),e[d(t)]("pan",_),t?(i.initCanvas(),e.on("resize",i.resizeCanvas)):(i.clearCanvas(),i.resetCanvas(),e.off("resize",i.resizeCanvas))})),guidelines:new u((function(t){t?(o.resizeCanvas(),e.on("tapstart","node",S),e.on("grab",x),e.on("pan",N),e.on("drag","node",E),e.on("free",k),window.addEventListener("resize",C)):(e.off("tapstart","node",S),e.off("grab",x),e.off("pan",N),e.off("drag","node",E),e.off("free",k),o.resetCanvas(),window.removeEventListener("resize",C))})),parentPadding:new u((function(t){T(t),e[d(t)]("ready",T),e[d(t)]("add","node:parent",c(I,!0))}))};function c(e,t){return function(n){var r=n.target||n.cyTarget;r.is(":parent")&&!t||e(r)}}function f(t){return function(){e.nodes().not(":parent").each((function(e,n){"number"===typeof e&&(e=n),t(e)}))}}function h(t){return function(){e.nodes().each((function(e,n){"number"===typeof e&&(e=n),t(e)}))}}function d(e){return e?"on":"off"}var p=f(n.resizeNode),g=(c(n.resizeNode),f(n.recoverNodeDimensions));var v=h(t.snapNodesTopDown),y=h(t.recoverSnapNode),m=c(t.snapNode,!0);var b=function(){D.zoomDash&&i.drawGrid()},_=function(){D.panGrid&&i.drawGrid()};var w=null,x=function(e){var t=e.target||e.cyTarget,n=t.selected()?e.cy.$(":selected"):t;w=o.getTopMostNodes(n.nodes()),o.lines.init(w)},E=function(e){this.id()==w.id()&&(o.lines.update(w),D.snapToAlignmentLocationDuringDrag&&o.lines.snapToAlignmentLocation(w))},k=function(e){D.snapToAlignmentLocationOnRelease&&o.lines.snapToAlignmentLocation(w),o.lines.destroy(),w=null},C=function(e){o.lines.resize()},S=function(e){o.getMousePos(e)},N=function(t){w&&(o.setMousePos(e.pan()),o.lines.init(w))};var T=function(t){a.setPaddingOfParent(e.nodes(":parent"),t)},I=function(e){a.setPaddingOfParent(e,!0)};var D,M={},O={drawGrid:["gridSpacing","zoomDash","panGrid","gridStackOrder","gridColor","lineWidth","lineDash"],guidelines:["gridSpacing","guidelinesStackOrder","guidelinesTolerance","guidelinesStyle","distributionGuidelines","range","minDistRange","geometricGuidelineRange"],resize:["gridSpacing"],parentPadding:["gridSpacing","parentSpacing"],snapToGridOnRelease:["gridSpacing","snapToGridCenter"]};function P(e){for(var r in D=Object.extend({},e),e.guidelines=e.initPosAlignment||e.distributionGuidelines||e.geometricGuideline,e)if(M[r]!=e[r])if(l.hasOwnProperty(r))l[r](e[r]);else for(var s in O){O[s].indexOf(r)>=0&&("drawGrid"==s&&(i.changeOptions(e),e.drawGrid&&i.resizeCanvas()),"snapToGridOnRelease"==s&&(t.changeOptions(e),e.snapToGridOnRelease&&v()),"guidelines"==s&&o.changeOptions(e),"resize"==s&&(n.changeOptions(e),e.resize&&p()),"parentPadding"==s&&a.changeOptions(e))}M=Object.extend({},M,e)}return{init:P,syncWithOptions:P}}},8492:function(){Object.extend=function(e){e=e||{};for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var r in n)n.hasOwnProperty(r)&&(Array.isArray(n[r])?e[r]=n[r].slice():"object"===typeof n[r]?e[r]=Object.extend(e[r],n[r]):e[r]=n[r])}return e}},3301:function(e,t,n){e.exports=function(e,t,r){var i=n(4737),o=e,a=function(e){var t=e.getBoundingClientRect();return{top:t.top+document.documentElement.scrollTop,left:t.left+document.documentElement.scrollLeft}},s=r((function(){u(),l.height=t.height(),l.width=t.width(),l.style.position="absolute",l.style.top=0,l.style.left=0,l.style.zIndex=o.guidelinesStackOrder,setTimeout((function(){l.height=t.height(),l.width=t.width();var e=a(l),n=a(c);l.style.top=-(e.top-n.top),l.style.left=-(e.left-n.left)}),0)}),250),u=function(){var e=t.width(),n=t.height();f.clearRect(0,0,e,n)},l=document.createElement("canvas"),c=t.container(),f=l.getContext("2d");c.appendChild(l);var h=function(){l.height=0,l.width=0,l.style.position="absolute",l.style.top=0,l.style.left=0,l.style.zIndex=o.guidelinesStackOrder};h();var d,p,g=null,v=null,y={},m={},b={h:null,v:null};y.getDims=function(e){var t=e.renderedPosition(),n=e.renderedWidth(),r=e.renderedHeight(),i=Number(e.renderedStyle("padding-left").replace("px","")),o=Number(e.renderedStyle("padding-right").replace("px","")),a=Number(e.renderedStyle("padding-top").replace("px","")),s=Number(e.renderedStyle("padding-bottom").replace("px",""));return{horizontal:{center:t.x,left:Math.round(t.x-(i+n/2)),right:Math.round(t.x+(o+n/2))},vertical:{center:t.y,top:Math.round(t.y-(a+r/2)),bottom:Math.round(t.y+(s+r/2))}}},y.init=function(e){g=i(),v=i(),d||(m.x=t.pan("x"),m.y=t.pan("y"),d=e.renderedPosition());var n=t.nodes(":visible");p=(p=e.union(e.ancestors())).union(e.descendants()),n.not(p).each((function(e,t){"number"===typeof e&&(e=t);var n=y.getDims(e);["left","center","right"].forEach((function(t){var r=n.horizontal[t];v.get(r)?v.get(r).push(e):v=v.insert(r,[e])})),["top","center","bottom"].forEach((function(t){var r=n.vertical[t];g.get(r)?g.get(r).push(e):g=g.insert(r,[e])}))})),f.lineWidth=o.lineWidth,y.update(e)},y.destroy=function(){y.clear(),g=null,v=null,d=null,E={},b={h:null,v:null},N&&(N.unlock(),N=void 0)},y.clear=u,y.drawLine=function(e,t,n,r){f.setLineDash(r),f.beginPath(),f.moveTo(e.x,e.y),f.lineTo(t.x,t.y),f.strokeStyle=n,f.stroke()},y.drawArrow=function(e,t){"right"==t?(f.setLineDash([]),f.beginPath(),f.moveTo(e.x-5,e.y-5),f.lineTo(e.x,e.y),f.lineTo(e.x-5,e.y+5),f.stroke()):"left"==t?(f.setLineDash([]),f.beginPath(),f.moveTo(e.x+5,e.y-5),f.lineTo(e.x,e.y),f.lineTo(e.x+5,e.y+5),f.stroke()):"top"==t?(f.setLineDash([]),f.beginPath(),f.moveTo(e.x-5,e.y+5),f.lineTo(e.x,e.y),f.lineTo(e.x+5,e.y+5),f.stroke()):"bottom"==t&&(f.setLineDash([]),f.beginPath(),f.moveTo(e.x-5,e.y-5),f.lineTo(e.x,e.y),f.lineTo(e.x+5,e.y-5),f.stroke())},y.drawCross=function(e){f.setLineDash([]),f.beginPath(),f.moveTo(e.x-5,e.y+5),f.lineTo(e.x+5,e.y-5),f.moveTo(e.x-5,e.y-5),f.lineTo(e.x+5,e.y+5),f.stroke()};var _=function(e,n){for(var r=e[0],i=y.getDims(r)[n].center,a=e[0],s=y.getDims(a)[n].center,u=0;u<e.length;u++){var l=e[u];y.getDims(l)[n].center<i&&(i=y.getDims(l)[n].center,r=l),y.getDims(l)[n].center>s&&(s=y.getDims(l)[n].center,a=l)}if("horizontal"==n)var c=(i+s)/2<y.getDims(e[1])[n].center?s+(.5*a.width()+o.guidelinesStyle.distGuidelineOffset)*t.zoom():i-(.5*r.width()+o.guidelinesStyle.distGuidelineOffset)*t.zoom();else c=(i+s)/2<y.getDims(e[1])[n].center?s+(.5*a.height()+o.guidelinesStyle.distGuidelineOffset)*t.zoom():i-(.5*r.height()+o.guidelinesStyle.distGuidelineOffset)*t.zoom();return c};function w(e){for(var t={},n=0;n<e.length;n++)t[e[n].id()]=!0;var r=e.filter((function(e,n){"number"===typeof e&&(e=n);for(var r=e.parent()[0];null!=r;){if(t[r.id()])return!1;r=r.parent()[0]}return!0}));return r}y.horizontalDistribution=function(e){var n=null,r=null,i=y.getDims(e),a=i.horizontal.center,s=i.vertical.center;if(v.forEach((function(e,u){for(var l=0;l<u.length;l++){var c=u[l],f=y.getDims(c);if(Math.abs(f.vertical.center-i.vertical.center)<o.guidelinesStyle.range*t.zoom()&&f.horizontal.right==e&&i.horizontal.left-f.horizontal.right>o.guidelinesStyle.minDistRange){var h=Math.round(2*a)-e;v.forEach((function(e,i){for(var a=0;a<i.length;a++){var u=i[a];Math.abs(y.getDims(u).vertical.center-s)<o.guidelinesStyle.range*t.zoom()&&Math.abs(h-y.getDims(u).horizontal.left)<2*o.guidelinesTolerance&&(n=c,r=u)}}),h-o.guidelinesTolerance,h+o.guidelinesTolerance)}}}),a-o.guidelinesStyle.range*t.zoom(),a),n){b.hd=a-(y.getDims(r).horizontal.left+y.getDims(n).horizontal.right)/2,(!o.geometricGuideline||null==b.h||Math.abs(b.h)>Math.abs(b.hd))&&(b.h=b.hd);var u=_([n,e,r],"vertical");y.drawLine({x:y.getDims(n).horizontal.right,y:u},{x:i.horizontal.left,y:u},o.guidelinesStyle.horizontalDistColor,o.guidelinesStyle.horizontalDistLine),y.drawLine({x:y.getDims(r).horizontal.left,y:u},{x:i.horizontal.right,y:u},o.guidelinesStyle.horizontalDistColor,o.guidelinesStyle.horizontalDistLine),y.drawLine({x:y.getDims(n).horizontal.right,y:u},{x:y.getDims(n).horizontal.right,y:y.getDims(n).vertical.center},o.guidelinesStyle.horizontalDistColor,o.guidelinesStyle.horizontalDistLine),y.drawLine({x:y.getDims(r).horizontal.left,y:u},{x:y.getDims(r).horizontal.left,y:y.getDims(r).vertical.center},o.guidelinesStyle.horizontalDistColor,o.guidelinesStyle.horizontalDistLine),y.drawLine({x:i.horizontal.left,y:u},{x:i.horizontal.left,y:s},o.guidelinesStyle.horizontalDistColor,o.guidelinesStyle.horizontalDistLine),y.drawLine({x:i.horizontal.right,y:u},{x:i.horizontal.right,y:s},o.guidelinesStyle.horizontalDistColor,o.guidelinesStyle.horizontalDistLine),y.drawArrow({x:y.getDims(n).horizontal.right,y:u},"left"),y.drawArrow({x:i.horizontal.left,y:u},"right"),y.drawArrow({x:i.horizontal.right,y:u},"left"),y.drawArrow({x:y.getDims(r).horizontal.left,y:u},"right")}else{y.horizontalDistributionNext(e,"left")||y.horizontalDistributionNext(e,"right")}},y.verticalDistribution=function(e){var n=null,r=null,i=y.getDims(e),a=i.horizontal.center,s=i.vertical.center;if(g.forEach((function(e,u){for(var l=0;l<u.length;l++){var c=u[l],f=y.getDims(c);if(Math.abs(f.horizontal.center-i.horizontal.center)<o.guidelinesStyle.range*t.zoom()&&f.vertical.bottom==e&&i.vertical.top-f.vertical.bottom>o.guidelinesStyle.minDistRange){var h=Math.round(2*s-e);g.forEach((function(e,i){for(var s=0;s<i.length;s++){var u=i[s];Math.abs(y.getDims(u).horizontal.center-a)<o.guidelinesStyle.range*t.zoom()&&Math.abs(h-y.getDims(u).vertical.top)<2*o.guidelinesTolerance&&(n=c,r=u)}}),h-o.guidelinesTolerance,h+o.guidelinesTolerance)}}}),s-o.guidelinesStyle.range*t.zoom(),s),n){b.vd=s-(y.getDims(n).vertical.bottom+y.getDims(r).vertical.top)/2,(!o.geometricGuideline||null==b.v||Math.abs(b.v)>Math.abs(b.vd))&&(b.v=b.vd);var u=_([n,e,r],"horizontal");y.drawLine({y:y.getDims(n).vertical.bottom,x:u},{y:i.vertical.top,x:u},o.guidelinesStyle.verticalDistColor,o.guidelinesStyle.verticalDistLine),y.drawLine({y:y.getDims(r).vertical.top,x:u},{y:i.vertical.bottom,x:u},o.guidelinesStyle.verticalDistColor,o.guidelinesStyle.verticalDistLine),y.drawLine({y:y.getDims(n).vertical.bottom,x:u},{y:y.getDims(n).vertical.bottom,x:y.getDims(n).horizontal.center},o.guidelinesStyle.verticalDistColor,o.guidelinesStyle.verticalDistLine),y.drawLine({y:y.getDims(r).vertical.top,x:u},{y:y.getDims(r).vertical.top,x:y.getDims(r).horizontal.center},o.guidelinesStyle.verticalDistColor,o.guidelinesStyle.verticalDistLine),y.drawLine({y:i.vertical.bottom,x:u},{y:i.vertical.bottom,x:a},o.guidelinesStyle.verticalDistColor,o.guidelinesStyle.verticalDistLine),y.drawLine({y:i.vertical.top,x:u},{y:i.vertical.top,x:a},o.guidelinesStyle.verticalDistColor,o.guidelinesStyle.verticalDistLine),y.drawArrow({x:u,y:y.getDims(n).vertical.bottom},"top"),y.drawArrow({x:u,y:i.vertical.top},"bottom"),y.drawArrow({x:u,y:y.getDims(r).vertical.top},"bottom"),y.drawArrow({x:u,y:i.vertical.bottom},"top")}else{y.verticalDistributionNext(e,"below")||y.verticalDistributionNext(e,"above")}},y.searchForLine=function(e,n){var r,i,a,s,u,l,c,f=y.getDims(n)[e],h=Number.MAX_SAFE_INTEGER;for(var d in"horizontal"==e?(l=v,s="y",u="x",b.h=null):(l=g,s="x",u="y",b.v=null),a=n.renderedPosition(s),f)if(r=f[d],l.forEach((function(e,n){for(var r=0;r<n.length;r++){var l=n[r];if(o.centerToEdgeAlignment||"center"!=d&&l.renderedPosition(u)!=e||"center"==d&&l.renderedPosition(u)==e){var f=Math.abs(a-l.renderedPosition(s));f<h&&f<o.guidelinesStyle.geometricGuidelineRange*t.zoom()&&(i=l,h=f,c=e)}}}),r-Number(o.guidelinesTolerance),r+Number(o.guidelinesTolerance)),i){h=y.getDims(n)[e][d],"horizontal"==e?(b.h=h-c,y.drawLine({x:h,y:n.renderedPosition("y")},{x:h,y:i.renderedPosition("y")},o.guidelinesStyle.strokeStyle,o.guidelinesStyle.lineDash)):(b.v=h-c,y.drawLine({x:n.renderedPosition("x"),y:h},{x:i.renderedPosition("x"),y:h},o.guidelinesStyle.strokeStyle,o.guidelinesStyle.lineDash));break}},y.horizontalDistributionNext=function(e,n){var r=null,i=null,a=y.getDims(e),s=a.horizontal.center,u=a.vertical.center,l="right",c="left",f=s;if("left"==n){l="left",c="right";f=s-o.guidelinesStyle.range*t.zoom()}var h={left:function(e,t){return t-e>o.guidelinesStyle.minDistRange},right:function(e,t){return e-t>o.guidelinesStyle.minDistRange}};return v.forEach((function(e,s){for(var f=0;f<s.length;f++){var d=s[f],p=y.getDims(d);if(Math.abs(p.vertical.center-a.vertical.center)<o.guidelinesStyle.range*t.zoom()&&p.horizontal[c]==e&&h[n](p.horizontal[c],a.horizontal[l])){var g=p.horizontal[l]-(a.horizontal[l]-e);v.forEach((function(e,n){for(var a=0;a<n.length;a++){var s=n[a];Math.abs(y.getDims(s).vertical.center-u)<o.guidelinesStyle.range*t.zoom()&&Math.abs(g-y.getDims(s).horizontal[c])<2*o.guidelinesTolerance&&(r=d,i=s)}}),g-o.guidelinesTolerance,g+o.guidelinesTolerance)}}}),f,f+o.guidelinesStyle.range*t.zoom()),r?(b.hd=y.getDims(e).horizontal[l]-y.getDims(r).horizontal[c]-(y.getDims(r).horizontal[l]-y.getDims(i).horizontal[c]),(!o.geometricGuideline||null==b.h||Math.abs(b.h)>Math.abs(b.hd))&&(b.h=b.hd),y.drawDH(e,r,i,n),!0):(o.geometricGuideline||(b.h=null),!1)},y.drawDH=function(e,t,n,r){var i=y.getDims(e).vertical.center,a="right",s="left";"left"==r&&(a="left",s="right");var u=_([t,e,n],"vertical");y.drawLine({x:y.getDims(t).horizontal[s],y:u},{x:y.getDims(e).horizontal[a],y:u},o.guidelinesStyle.horizontalDistColor,o.guidelinesStyle.horizontalDistLine),y.drawLine({x:y.getDims(e).horizontal[a],y:u},{x:y.getDims(e).horizontal[a],y:i},o.guidelinesStyle.horizontalDistColor,o.guidelinesStyle.horizontalDistLine),y.drawLine({x:y.getDims(n).horizontal[s],y:u},{x:y.getDims(t).horizontal[a],y:u},o.guidelinesStyle.horizontalDistColor,o.guidelinesStyle.horizontalDistLine),y.drawLine({x:y.getDims(n).horizontal[s],y:u},{x:y.getDims(n).horizontal[s],y:y.getDims(n).vertical.center},o.guidelinesStyle.horizontalDistColor,o.guidelinesStyle.horizontalDistLine),y.drawLine({x:y.getDims(t).horizontal[s],y:u},{x:y.getDims(t).horizontal[s],y:y.getDims(t).vertical.center},o.guidelinesStyle.horizontalDistColor,o.guidelinesStyle.horizontalDistLine),y.drawLine({x:y.getDims(t).horizontal[a],y:u},{x:y.getDims(t).horizontal[a],y:y.getDims(t).vertical.center},o.guidelinesStyle.horizontalDistColor,o.guidelinesStyle.horizontalDistLine),y.drawArrow({x:y.getDims(e).horizontal[a],y:u},s),y.drawArrow({x:y.getDims(t).horizontal[s],y:u},a),y.drawArrow({x:y.getDims(t).horizontal[a],y:u},s),y.drawArrow({x:y.getDims(n).horizontal[s],y:u},a)},y.verticalDistributionNext=function(e,n){var r=null,i=null,a=y.getDims(e),s=a.horizontal.center,u=a.vertical.center,l="top",c="bottom",f=u-o.guidelinesStyle.range*t.zoom();"above"==n&&(l="bottom",c="top",f=u);var h={below:function(e,t){return t-e>o.guidelinesStyle.minDistRange},above:function(e,t){return e-t>o.guidelinesStyle.minDistRange}};return g.forEach((function(e,u){for(var f=0;f<u.length;f++){var d=u[f],p=y.getDims(d);if(Math.abs(p.horizontal.center-a.horizontal.center)<o.guidelinesStyle.range*t.zoom()&&p.vertical[c]==e&&h[n](p.vertical[c],a.vertical[l])){var v=p.vertical[l]-(a.vertical[l]-e);g.forEach((function(e,n){for(var a=0;a<n.length;a++){var u=n[a];Math.abs(y.getDims(u).horizontal.center-s)<o.guidelinesStyle.range*t.zoom()&&Math.abs(v-y.getDims(u).vertical[c])<2*o.guidelinesTolerance&&(r=d,i=u)}}),v-o.guidelinesTolerance,v+o.guidelinesTolerance)}}}),f,f+o.guidelinesStyle.range*t.zoom()),r?(b.vd=y.getDims(e).vertical[l]-y.getDims(r).vertical[c]-(y.getDims(r).vertical[l]-y.getDims(i).vertical[c]),(!o.geometricGuideline||null==b.v||Math.abs(b.v)>Math.abs(b.vd))&&(b.v=b.vd),y.drawDV(e,r,i,n),!0):(o.geometricGuideline||(b.v=null),!1)},y.drawDV=function(e,t,n,r){var i=y.getDims(e),a=i.horizontal.center,s="top",u="bottom";"above"==r&&(s="bottom",u="top");var l=_([t,e,n],"horizontal");y.drawLine({x:l,y:i.vertical[s]},{x:l,y:y.getDims(t).vertical[u]},o.guidelinesStyle.verticalDistColor,o.guidelinesStyle.verticalDistLine),y.drawLine({x:l,y:y.getDims(t).vertical[s]},{x:l,y:y.getDims(n).vertical[u]},o.guidelinesStyle.verticalDistColor,o.guidelinesStyle.verticalDistLine),y.drawLine({x:a,y:i.vertical[s]},{x:l,y:i.vertical[s]},o.guidelinesStyle.verticalDistColor,o.guidelinesStyle.verticalDistLine),y.drawLine({x:y.getDims(t).horizontal.center,y:y.getDims(t).vertical[u]},{x:l,y:y.getDims(t).vertical[u]},o.guidelinesStyle.verticalDistColor,o.guidelinesStyle.verticalDistLine),y.drawLine({x:y.getDims(t).horizontal.center,y:y.getDims(t).vertical[s]},{x:l,y:y.getDims(t).vertical[s]},o.guidelinesStyle.verticalDistColor,o.guidelinesStyle.verticalDistLine),y.drawLine({x:l,y:y.getDims(n).vertical[u]},{x:y.getDims(n).horizontal.center,y:y.getDims(n).vertical[u]},o.guidelinesStyle.verticalDistColor,o.guidelinesStyle.verticalDistLine),y.drawArrow({x:l,y:i.vertical[s]},u),y.drawArrow({x:l,y:y.getDims(t).vertical[u]},s),y.drawArrow({x:l,y:y.getDims(t).vertical[s]},u),y.drawArrow({x:l,y:y.getDims(n).vertical[u]},s)},y.update=function(e){y.clear(),o.initPosAlignment&&C(e),e.each((function(e,t){"number"===typeof e&&(e=t),o.geometricGuideline&&(y.searchForLine("horizontal",e),y.searchForLine("vertical",e)),o.distributionGuidelines&&(y.horizontalDistribution(e),y.verticalDistribution(e))}))},y.resize=function(){s()};var x,E={},k={},C=function(e){var t=e.renderedPosition();Math.abs(d.y-t.y)<o.guidelinesTolerance?(y.drawLine({x:k.x,y:E.y},{x:t.x,y:E.y},o.guidelinesStyle.initPosAlignmentColor,o.guidelinesStyle.initPosAlignmentLine),E.y==k.y?y.drawCross(k):y.drawCross(E)):Math.abs(d.x-t.x)<o.guidelinesTolerance&&(y.drawLine({x:E.x,y:k.y},{x:E.x,y:t.y},o.guidelinesStyle.initPosAlignmentColor,o.guidelinesStyle.initPosAlignmentLine),E.x==k.x?y.drawCross(k):y.drawCross(E))};t.on("tapstart","node",(function(){x=this}));var S,N,T={x:0,y:0};return t.on("mousemove",(function(e){S=e.renderedPosition||e.cyRenderedPosition,N&&N.each((function(e,t){if("number"===typeof e&&(e=t),e.locked()&&(Math.abs(S.x-T.x)>2*o.guidelinesTolerance||Math.abs(S.y-T.y)>2*o.guidelinesTolerance)){e.unlock();var n={};n.x=S.x-x.renderedPosition("x"),n.y=S.y-x.renderedPosition("y"),function(e,t){var n=w(t);n.union(n.descendants()).filter(":childless").forEach((function(t,n){"number"===typeof t&&(t=n);var r={x:e.x+t.renderedPosition("x"),y:e.y+t.renderedPosition("y")};t.renderedPosition(r)}))}(n,e)}}))})),y.snapToAlignmentLocation=function(e){N=e,e.each((function(e,t){"number"===typeof e&&(e=t);var n=e.renderedPosition();b.h&&(T=S,n.x-=b.h,e.renderedPosition(n)),b.v&&(T=S,n.y-=b.v,e.renderedPosition(n)),(b.v||b.h)&&(b.h=null,b.v=null,N.lock())})),y.update(e)},{changeOptions:function(e){0==(o=e).guidelinesTolerance&&(o.guidelinesTolerance=.001)},lines:y,getTopMostNodes:w,getMousePos:function(e){E=e.renderedPosition||e.cyRenderedPosition,k.x=E.x,k.y=E.y},setMousePos:function(e){k.x+=e.x-m.x,k.y+=e.y-m.y,m.x=e.x,m.y=e.y},resizeCanvas:s,resetCanvas:h}}},9230:function(e,t,n){var r;!function(){"use strict";var i=function(e){if(e){n(8492);var t=!1,r={snapToGridOnRelease:!0,snapToGridDuringDrag:!1,snapToAlignmentLocationOnRelease:!1,snapToAlignmentLocationDuringDrag:!1,distributionGuidelines:!1,geometricGuideline:!1,initPosAlignment:!1,centerToEdgeAlignment:!1,resize:!1,parentPadding:!1,drawGrid:!0,gridSpacing:20,snapToGridCenter:!0,zoomDash:!0,panGrid:!1,gridStackOrder:-1,gridColor:"#dedede",lineWidth:1,guidelinesStackOrder:4,guidelinesTolerance:2,guidelinesStyle:{strokeStyle:"#8b7d6b",geometricGuidelineRange:400,range:100,minDistRange:10,distGuidelineOffset:10,horizontalDistColor:"#ff0000",verticalDistColor:"#00ff00",initPosAlignmentColor:"#0000ff",lineDash:[0,0],horizontalDistLine:[0,0],verticalDistLine:[0,0],initPosAlignmentLine:[0,0]},parentSpacing:-1},i=n(5963),o=n(6694),a=n(3242),s=n(5273),u=n(6291),l=n(3301),c=n(3010),f=n(2012),h=n(2454);e("core","gridGuide",(function(n){var d,p,g,v,y,m,b,_=this,w=function(e){return e.scratch("_gridGuide")||e.scratch("_gridGuide",{}),e.scratch("_gridGuide")}(_),x=Object.extend({},w.options||r,n);(w.options=x,w.initialized)?(y=w.eventsController).syncWithOptions(x):(d=i(_,x.gridSpacing,x.snapToGridCenter),p=s(x.gridSpacing),g=o(_,d),v=a(x,_,h),m=l(x,_,h),b=c(x,_),y=u(_,d,p,g,v,m,b,x),f(e,_,t),t=!0,y.init(x),w.initialized=!0,w.eventsController=y);return this}))}};e.exports&&(e.exports=i),void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r),"undefined"!==typeof cytoscape&&i(cytoscape)}()},3010:function(e){e.exports=function(e,t){var n,r=e,i="_gridParentPadding";return{changeOptions:function(e){n=(r=e).parentSpacing<0?r.gridSpacing:r.parentSpacing,t.style().selector("."+i).style("compound-sizing-wrt-labels","exclude").style("padding-left",n).style("padding-right",n).style("padding-top",n).style("padding-bottom",n).update()},setPaddingOfParent:function(e,t){t?e.addClass(i):e.removeClass(i)}}}},5273:function(e){e.exports=function(e){var t=function(e){return e.scratch("_gridGuide")||e.scratch("_gridGuide",{}),e.scratch("_gridGuide")};return{resizeNode:function(n){var r=n.width(),i=n.height(),o=Math.round((r-e)/(2*e))*(2*e),a=Math.round((i-e)/(2*e))*(2*e);a=a>0?a+e:e,r==(o=o>0?o+e:e)&&i==a||(n.style({width:o,height:a}),t(n).resize={oldWidth:r,oldHeight:i})},recoverNodeDimensions:function(e){var n=t(e).resize;n&&e.style({width:n.oldWidth,height:n.oldHeight})},changeOptions:function(t){e=Number(t.gridSpacing)}}}},6694:function(e){e.exports=function(e,t){var n,r,i,o,a={};a.onTapStartNode=function(t){if(!(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)){var o=t.target||t.cyTarget;r=o.selected()?t.cy.$(":selected"):o,i=t.position||t.cyPosition,o.grabbable()&&!o.locked()&&((n=o).lock(),e.on("tapdrag",u),e.on("tapend",s))}};var s=function t(r){e.off("tapdrag",u),e.off("tapend",t),n.unlock(),r.preventDefault()},u=function(e){n.position();o=e.position||e.cyPosition;var a={x:(o=t.snapPos(o)).x-i.x,y:o.y-i.y};0==a.x&&0==a.y||(n.unlock(),r.union(r.descendants()).filter(":childless").positions((function(e,n){"number"===typeof e&&(e=n);var r=e.position();return t.snapPos({x:r.x+a.x,y:r.y+a.y})})),i=o,n.lock(),n.trigger("drag"))};return a}},5963:function(e){e.exports=function(e,t,n){var r={changeOptions:function(e){t=e.gridSpacing,n=e.snapToGridCenter?.5:0}};return r.snapPos=function(e){var r=n?Math.floor(e.x/t):Math.round(e.x/t),i=n?Math.floor(e.y/t):Math.round(e.y/t);return{x:(r+n)*t,y:(i+n)*t}},r.snapNode=function(e){var t=e.position(),n=r.snapPos(t);e.position(n)},r.snapNodesTopDown=function(t){e.startBatch(),t.union(t.descendants()).filter(":childless").positions((function(e,t){"number"===typeof e&&(e=t);var n=e.position();return r.snapPos(n)})),e.endBatch()},r.onFreeNode=function(e){var t,n=e.target||e.cyTarget;t=n.selected()?e.cy.$(":selected"):n,r.snapNodesTopDown(t)},r.recoverSnapNode=function(e){var t=function(e){return e.scratch("_gridGuide")||e.scratch("_gridGuide",{}),e.scratch("_gridGuide")}(e).snap;t&&e.position(t.oldPos)},r}},1562:function(e,t,n){var r=n(279).default,i=n(7722).default,o=n(9522).default,a=n(6779).default,s=n(6332).default,u=n(9189).default,l=n(8482).default;!function(e){"use strict";var t={position:"absolute",left:"0",top:"0",userSelect:"none",outlineStyle:"none",width:"100%",height:"100%"};function n(e){e.stopPropagation()}function c(e){e.addEventListener("click",n),e.addEventListener("mousedown",n),e.addEventListener("mouseup",n),e.addEventListener("mousemove",n)}var f=function(){function e(t){u(this,e),this.adapter=t,this.updateOnRenderEnabled=!1}return l(e,[{key:"inVisibleBounds",value:function(e){return this.adapter.inVisibleBounds(e)}},{key:"updateOnRender",get:function(){return this.updateOnRenderEnabled},set:function(e){this.updateOnRenderEnabled!==e&&(this.updateOnRenderEnabled=e,e?this.cy.on("render",this.update):this.cy.off("render",this.update))}},{key:"cy",get:function(){return this.adapter.cy}},{key:"moveUp",value:function(){this.adapter.move(this,-1)}},{key:"moveDown",value:function(){this.adapter.move(this,1)}},{key:"moveBack",value:function(){this.adapter.move(this,Number.NEGATIVE_INFINITY)}},{key:"moveFront",value:function(){this.adapter.move(this,Number.POSITIVE_INFINITY)}},{key:"insertBefore",value:function(e,t){return this.adapter.insert("before",this,e,t)}},{key:"insertAfter",value:function(e,t){return this.adapter.insert("after",this,e,t)}}]),e}(),h=function(e){a(r,e);var n=s(r);function r(e,i){var a;return u(this,r),(a=n.call(this,e)).callbacks=[],a.update=function(){var e,t=o(a.callbacks);try{for(t.s();!(e=t.n()).done;)(0,e.value)(a.node)}catch(n){t.e(n)}finally{t.f()}},a.root=i,Object.assign(a.root.style,t),a}return l(r,[{key:"visible",get:function(){return"none"!==this.root.style.display},set:function(e){this.visible!==e&&(this.root.style.display=e?"":"none")}},{key:"show",value:function(){this.visible=!0}},{key:"hide",value:function(){this.visible=!1}},{key:"callback",value:function(e){return this.callbacks.push(e),this.update(),this}},{key:"resize",value:function(){}},{key:"remove",value:function(){this.root.remove()}}]),r}(f),d="http://www.w3.org/2000/svg",p=function(e){a(n,e);var t=s(n);function n(e,r){var o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u(this,n),(o=t.call(this,e,r.createElementNS(d,"svg"))).type="svg",o.updateOnTransform=!1,o.root.__cy_layer=i(o),o.node=r.createElementNS(d,"g"),o.node.__cy_layer=i(o),o.root.appendChild(o.node),a.stopClicks&&c(o.node),o}return l(n,[{key:"setViewport",value:function(e,t,n){this.node.setAttribute("transform","translate(".concat(e,",").concat(t,")scale(").concat(n,")")),this.updateOnTransform&&this.update()}}]),n}(h),g=function(e){a(n,e);var t=s(n);function n(e,r){var o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u(this,n),(o=t.call(this,e,r.createElementNS(d,"svg"))).type="svg-static",o.root.__cy_layer=i(o),o.node=r.createElementNS(d,"g"),o.node.__cy_layer=i(o),o.root.appendChild(o.node),a.stopClicks&&c(o.node),o}return l(n,[{key:"setViewport",value:function(){}}]),n}(h),v=function(e){a(r,e);var n=s(r);function r(e,i){var o,a,s,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u(this,r),(o=n.call(this,e)).callbacks=[],o.transform={tx:0,ty:0,zoom:1},o.update=function(){return o.draw()},o.node=i.createElement("canvas"),Object.assign(o.node.style,t),l.stopClicks&&c(o.node),o.pixelRatio=null!==(s=null!==(a=l.pixelRatio)&&void 0!==a?a:(null!==window&&void 0!==window?window:{}).devicePixelRatio)&&void 0!==s?s:1,o.ctx=o.node.getContext("2d",l),o.ctx.resetTransform(),o}return l(r,[{key:"visible",get:function(){return"none"!==this.node.style.display},set:function(e){this.node.style.display=e?"":"none"}},{key:"show",value:function(){this.visible=!0}},{key:"hide",value:function(){this.visible=!1}},{key:"root",get:function(){return this.node}},{key:"callback",value:function(e){return this.callbacks.push(e),this.update(),this}},{key:"clear",value:function(){var e=this.ctx,t=e.getTransform();e.resetTransform(),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.setTransform(t)}},{key:"draw",value:function(){this.clear(),this.ctx.save(),this.ctx.resetTransform(),this.ctx.scale(this.pixelRatio,this.pixelRatio),this.ctx.translate(this.transform.tx,this.transform.ty),this.ctx.scale(this.transform.zoom,this.transform.zoom);var e,t=o(this.callbacks);try{for(t.s();!(e=t.n()).done;)(0,e.value)(this.ctx)}catch(n){t.e(n)}finally{t.f()}this.ctx.restore()}},{key:"resize",value:function(e,t){this.node.width=e*this.pixelRatio,this.node.height=t*this.pixelRatio,this.update()}},{key:"setViewport",value:function(e,t,n){}},{key:"remove",value:function(){this.node.remove()}}]),r}(f),y=function(e){a(n,e);var t=s(n);function n(e,r){var o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u(this,n),(o=t.call(this,e,r,a)).type="canvas",o.node.__cy_layer=i(o),o}return l(n,[{key:"setViewport",value:function(e,t,n){this.transform.tx=e,this.transform.ty=t,this.transform.zoom=n,this.update()}}]),n}(v),m=function(e){a(n,e);var t=s(n);function n(e,r){var o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u(this,n),(o=t.call(this,e,r,a)).type="canvas-static",o.node.__cy_layer=i(o),o}return l(n)}(v),b=function(e){a(n,e);var t=s(n);function n(e,r){var o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u(this,n),(o=t.call(this,e,r.createElement("div"))).type="html",o.updateOnTransform=!1,o.root.__cy_layer=i(o),o.node=r.createElement("div"),o.node.__cy_layer=i(o),o.node.style.position="absolute",o.node.style.left="0px",o.node.style.top="0px",o.root.appendChild(o.node),a.stopClicks&&c(o.node),o}return l(n,[{key:"setViewport",value:function(e,t,n){this.node.style.transform="translate(".concat(e,"px,").concat(t,"px)scale(").concat(n,")"),this.updateOnTransform&&this.update()}}]),n}(h),_=function(e){a(n,e);var t=s(n);function n(e,r){var o,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return u(this,n),(o=t.call(this,e,r.createElement("div"))).type="html-static",o.node.__cy_layer=i(o),a.stopClicks&&c(o.node),o}return l(n,[{key:"node",get:function(){return this.root}},{key:"setViewport",value:function(){}}]),n}(h),w=function(e){a(n,e);var t=s(n);function n(e,r){var i;return u(this,n),(i=t.call(this,e)).update=function(){},i.node=r,i}return l(n,[{key:"root",get:function(){return this.node}},{key:"resize",value:function(){}},{key:"setViewport",value:function(){}},{key:"remove",value:function(){}}]),n}(f),x=function(e){a(n,e);var t=s(n);function n(e,r){var o;return u(this,n),(o=t.call(this,e,r)).type="node",o.node.__cy_layer=i(o),o}return l(n)}(w),E=function(e){a(n,e);var t=s(n);function n(e,r){var o;return u(this,n),(o=t.call(this,e,r)).type="drag",o.node.__cy_layer=i(o),o}return l(n)}(w),k=function(e){a(n,e);var t=s(n);function n(e,r){var o;return u(this,n),(o=t.call(this,e,r)).type="select-box",o.node.__cy_layer=i(o),o}return l(n)}(w);function C(e,t,n){var r=Array.from(e.children);if(n.uniqueElements){var i=new Map(r.map((function(e){return[e.dataset.id,e]}))),a=-1;t.forEach((function(t){var o=n.bb(t);if(n.isVisible(o)){a++;var s,u=t.id(),l=r[a],c=i.get(u);if(c){if(n.update(c,t,o),i.delete(u),l===c)return;s=c}else(s=n.enter(t,o)).dataset.id=u,n.update(s,t,o);0===a?e.insertAdjacentElement("afterbegin",s):r[a-1].insertAdjacentElement("afterend",s),r.splice(a,0,s)}})),i.forEach((function(e){return e.remove()}))}else{t.forEach((function(t){var i=n.bb(t);if(n.isVisible(i))if(r.length>0)n.update(r.shift(),t,i);else{var o=n.enter(t,i);e.appendChild(o),n.update(o,t,i)}}));var s,u=o(r);try{for(u.s();!(s=u.n()).done;)s.value.remove()}catch(l){u.e(l)}finally{u.f()}}}function S(e,t){return e.callback(t),{remove:function(){e.callbacks.splice(e.callbacks.indexOf(t),1)}}}function N(e){return{selector:":visible",updateOn:null!=e&&e.queryEachTime?"render":"position",queryEachTime:!1,checkBounds:!0}}function T(e,t,n){var r=Object.assign({checkBoundsPointCount:5,initCollection:function(){}},N(n),n),i=r.queryEachTime?e.cy.collection():e.cy.edges(r.selector);r.queryEachTime||r.initCollection(i),"render"===r.updateOn?e.updateOnRender=!0:"position"===r.updateOn?(i.on("position add remove",e.update),i.sources().on("position",e.update),i.targets().on("position",e.update)):i.on("add remove",e.update);var o=function(n){var o=r.queryEachTime?e.cy.edges(r.selector):i;r.queryEachTime&&r.initCollection(o),o.forEach((function(i){var o=i._private.rscratch,a=o&&null!=o.startX&&null!=o.startY?{x:o.startX,y:o.startY}:i.sourceEndpoint(),s=o&&null!=o.endX&&null!=o.endY?{x:o.endX,y:o.endY}:i.targetEndpoint();if(!(r.checkBounds&&r.checkBoundsPointCount>0)||I(e,a,s,r.checkBoundsPointCount))if(o&&o.pathCache)t(n,i,o.pathCache,a,s);else{var u=new Path2D;u.moveTo(a.x,a.y),u.lineTo(s.x,s.y),t(n,i,u,a,s)}}))},a=S(e,o);return{layer:e,edges:i,remove:function(){i.off("position add remove",void 0,e.update),i.sources().off("position",void 0,e.update),i.targets().off("position",void 0,e.update),a.remove()}}}function I(e,t,n,r){var i=function(e){return{x:t.x*e+n.x*(1-e),y:t.y*e+n.y*(1-e)}};if(1===r)return e.inVisibleBounds(i(.5));for(var o=1/r,a=0;a<=r;a++)if(e.inVisibleBounds(i(a*o)))return!0;return!1}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Object.assign({transform:"",position:"top-left",boundingBox:{includeLabels:!1,includeOverlays:!1},uniqueElements:!1,initCollection:function(){}},N(n),n),o=i.queryEachTime?e.cy.collection():e.cy.nodes(i.selector);i.queryEachTime||i.initCollection(o),"render"===i.updateOn?e.updateOnRender=!0:"position"===i.updateOn?o.on("position add remove",e.update):o.on("add remove",e.update);var a=function(t){return{layer:e,nodes:o,remove:function(){o.off("position add remove",void 0,e.update),t.remove()}}};if("canvas"===e.type){var s=i,u=function(n){var r=n.getTransform(),a=s.queryEachTime?e.cy.nodes(s.selector):o;i.queryEachTime&&i.initCollection(a),a.forEach((function(o){var a=o.boundingBox(i.boundingBox);if(!s.checkBounds||e.inVisibleBounds(a)){if("top-left"===s.position)n.translate(a.x1,a.y1);else if("center"===s.position){var u=o.position();n.translate(u.x,u.y)}t(n,o,a),"none"!==s.position&&n.setTransform(r)}}))};return a(S(e,u))}var l=i,c={bb:function(e){return e.boundingBox(l.boundingBox)},isVisible:l.checkBounds?function(t){return e.inVisibleBounds(t)}:function(){return!0},uniqueElements:!0===l.uniqueElements};if(l.checkBounds&&(e.updateOnTransform=!0),"html"===e.type){var f=r(r({},c),{},{enter:function(t,n){var r=e.node.ownerDocument.createElement("div");return r.style.position="absolute",l.init&&l.init(r,t,n),r},update:function(e,n,r){if("top-left"===l.position)e.style.transform="".concat(l.transform,"translate(").concat(r.x1,"px,").concat(r.y1,"px)");else if("center"===l.position){var i=n.position();e.style.transform="".concat(l.transform,"translate(").concat(i.x,"px,").concat(i.y,"px)")}t(e,n,r)}}),h=function(t){var n=l.queryEachTime?e.cy.nodes(l.selector):o;i.queryEachTime&&i.initCollection(n),C(t,n,f)};return a(S(e,h))}var p=r(r({},c),{},{enter:function(t,n){var r=e.node.ownerDocument.createElementNS(d,"g");return l.init&&l.init(r,t,n),r},update:function(e,n,r){if("top-left"===l.position)e.setAttribute("transform","".concat(l.transform,"translate(").concat(r.x1,",").concat(r.y1,")"));else if("center"===l.position){var i=n.position();e.setAttribute("transform","".concat(l.transform,"translate(").concat(i.x,",").concat(i.y,")"))}t(e,n,r)}}),g=function(t){var n=l.queryEachTime?e.cy.nodes(l.selector):o;i.queryEachTime&&i.initCollection(n),C(t,n,p)};return a(S(e,g))}function M(e){return null!=e.x}var O=function(){function e(t){var n=this;u(this,e),this.resize=function(){var e=n.cy.width(),t=n.cy.height();n.viewport.width=e,n.viewport.height=t;var r,i=o(n.layers);try{for(i.s();!(r=i.n()).done;)r.value.resize(e,t)}catch(a){i.e(a)}finally{i.f()}},this.destroy=function(){var e,t=o(n.layers);try{for(t.s();!(e=t.n()).done;)e.value.remove()}catch(r){t.e(r)}finally{t.f()}n.cy.off("destroy",n.destroy),n.cy.off("viewport",n.zoomed),n.cy.off("resize",n.resize),n.cy.scratch("_layers",void 0)},this.zoomed=function(){var e=n.cy.pan(),t=n.cy.zoom();n.viewport.tx=e.x,n.viewport.ty=e.y,n.viewport.zoom=t;var r,i=o(n.layers);try{for(i.s();!(r=i.n()).done;)r.value.setViewport(e.x,e.y,t)}catch(a){i.e(a)}finally{i.f()}},this.renderPerEdge=T,this.renderPerNode=D,this.cy=t,this.adapter={cy:this.cy,insert:function(e,t,r){return n.insert(e,t,r)},move:function(e,t){return n.move(e,t)},inVisibleBounds:function(e){var t=n.viewport,r=function(e){var n=e*t.zoom+t.tx;return n>=0&&n<=t.width},i=function(e){var n=e*t.zoom+t.ty;return n>=0&&n<=t.height};return M(e)?r(e.x)&&i(e.y):r(e.x1)&&i(e.y1)||r(e.x2)&&i(e.y1)||r(e.x2)&&i(e.y2)||r(e.x1)&&i(e.y2)||r((e.x1+e.x2)/2)&&i((e.y1+e.y2)/2)}};var r=t.container(),i=new x(this.adapter,r.querySelector('[data-id="layer2-node"]'));this.nodeLayer=i;var a=new E(this.adapter,r.querySelector('[data-id="layer1-drag"]'));this.dragLayer=a;var s=new k(this.adapter,r.querySelector('[data-id="layer0-selectbox"]'));this.selectBoxLayer=s,i.root.style.zIndex="",a.root.style.zIndex="",s.root.style.zIndex="",i.root.insertAdjacentElement("afterend",a.root),a.root.insertAdjacentElement("afterend",s.root),t.on("viewport",this.zoomed),t.on("resize",this.resize),t.on("destroy",this.destroy),this.viewport={width:this.cy.width(),height:this.cy.height(),tx:this.cy.pan().x,ty:this.cy.pan().y,zoom:this.cy.zoom()}}return l(e,[{key:"move",value:function(e,t){var n=this.layers,r=n.indexOf(e),i=Math.max(Math.min(r+t,n.length,0));i!==r&&(r>=n.length-1?this.root.appendChild(e.root):this.root.insertBefore(e.root,n[i].root))}},{key:"document",get:function(){return this.cy.container().ownerDocument}},{key:"root",get:function(){return this.nodeLayer.node.parentElement}},{key:"layers",get:function(){return Array.from(this.root.children).map((function(e){return e.__cy_layer})).filter((function(e){return null!=e}))}},{key:"getLayers",value:function(){return this.layers}},{key:"init",value:function(e){return e.resize(this.viewport.width,this.viewport.height),e.setViewport(this.viewport.tx,this.viewport.ty,this.viewport.zoom),e}},{key:"update",value:function(){this.zoomed();var e,t=o(this.layers);try{for(t.s();!(e=t.n()).done;){var n=e.value;n instanceof y&&n.draw()}}catch(r){t.e(r)}finally{t.f()}}},{key:"createLayer",value:function(e,t){switch(e){case"svg":return this.init(new p(this.adapter,this.document,t));case"html":return this.init(new b(this.adapter,this.document,t));case"canvas":return this.init(new y(this.adapter,this.document,t));case"html-static":return this.init(new _(this.adapter,this.document,t));case"svg-static":return this.init(new g(this.adapter,this.document,t));case"canvas-static":return this.init(new m(this.adapter,this.document,t))}}},{key:"append",value:function(e,t){var n=this.createLayer(e,t);return this.root.appendChild(n.root),n}},{key:"insert",value:function(e,t,n,r){var i=this.createLayer(n,r);return t.root.insertAdjacentElement("before"===e?"beforebegin":"afterend",i.root),i}},{key:"getLast",value:function(){var e,t=this.layers;return null!==(e=t[t.length-1])&&void 0!==e?e:null}},{key:"getFirst",value:function(){var e;return null!==(e=this.layers[0])&&void 0!==e?e:null}}]),e}();function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;if(!e.container())throw new Error("layers plugin does not work in headless environments");var t=e.scratch("_layers");if(t)return t;var n=new O(e);return e.scratch("_layers",n),n}function L(e){e("core","layers",P)}"undefined"!==typeof window.cytoscape&&L(window.cytoscape),e.LayersPlugin=O,e.default=L,e.layers=P,e.renderPerEdge=T,e.renderPerNode=D,Object.defineProperty(e,"__esModule",{value:!0})}(t)},8471:function(e,t,n){var r=n(5290).default,i=n(6686).default,o=n(9522).default,a=n(9189).default,s=n(8482).default;window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){var n=function(){"use strict";function e(t,n){a(this,e),this.x=t,this.y=n}return s(e,[{key:"diff",value:function(t){return new e(t.x-this.x,t.y-this.y)}}]),e}(),r=function(){"use strict";function e(t,n,r,i){a(this,e),this.x1=t,this.x2=r,this.y1=n,this.y2=i}return s(e,[{key:"center",value:function(){return new n((this.x2-this.x1)/2,(this.y2-this.y1)/2)}}]),e}(),i=s((function e(t,n){"use strict";a(this,e),this.occupied=t,this.visited=n}));e.exports={Grid:function(){"use strict";function e(t,o,s){var u=this;a(this,e),this.width=t,this.height=o,this.step=s,this.grid=Array.from({length:this.stepWidth},(function(e){return Array.from({length:u.stepHeight},(function(e){return new i(!1,!1)}))})),this.center=new n(Math.floor(this.stepWidth/2),Math.floor(this.stepHeight/2)),this.occupiedRectangle=new r(Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),this.numberOfOccupiredCells=0}return s(e,[{key:"stepWidth",get:function(){return Math.floor(this.width/this.step)+1}},{key:"stepHeight",get:function(){return Math.floor(this.height/this.step)+1}},{key:"getDirectNeighbors",value:function(e,t){var n=[];if(0==e.length){for(var r=0;r<this.stepWidth;r++)for(var i=0;i<this.stepHeight;i++)this.grid[r][i].occupied&&(n=n.concat(this.getCellNeighbors(r,i)));var o=0,a=n.length-1;for(r=2;r<=t;r++){if(a>=o)for(i=o;i<=a;i++)n=n.concat(this.getCellNeighbors(n[i].x,n[i].y));o=a+1,a=n.length-1}}else e.forEach(function(e){n=n.concat(this.getCellNeighbors(e.x,e.y))}.bind(this));return n}},{key:"getCellNeighbors",value:function(e,t){var n=[];return e-1>=0&&(this.grid[e-1][t].occupied||this.grid[e-1][t].visited||(n.push({x:e-1,y:t}),this.grid[e-1][t].visited=!0)),e+1<this.stepWidth&&(this.grid[e+1][t].occupied||this.grid[e+1][t].visited||(n.push({x:e+1,y:t}),this.grid[e+1][t].visited=!0)),t-1>=0&&(this.grid[e][t-1].occupied||this.grid[e][t-1].visited||(n.push({x:e,y:t-1}),this.grid[e][t-1].visited=!0)),t+1<this.stepHeight&&(this.grid[e][t+1].occupied||this.grid[e][t+1].visited||(n.push({x:e,y:t+1}),this.grid[e][t+1].visited=!0)),e-1>=0&&(this.grid[e-1][t].occupied||this.grid[e-1][t].visited||(n.push({x:e-1,y:t}),this.grid[e-1][t].visited=!0)),e-1>=0&&t-1>=0&&(this.grid[e-1][t-1].occupied||this.grid[e-1][t-1].visited||(n.push({x:e-1,y:t-1}),this.grid[e-1][t-1].visited=!0)),e+1<this.stepWidth&&t-1>=0&&(this.grid[e+1][t-1].occupied||this.grid[e+1][t-1].visited||(n.push({x:e+1,y:t-1}),this.grid[e+1][t-1].visited=!0)),e-1>=0&&t+1<this.stepHeight&&(this.grid[e-1][t+1].occupied||this.grid[e-1][t+1].visited||(n.push({x:e-1,y:t+1}),this.grid[e-1][t+1].visited=!0)),e+1<this.stepWidth&&t+1<this.stepHeight&&(this.grid[e+1][t+1].occupied||this.grid[e+1][t+1].visited||(n.push({x:e+1,y:t+1}),this.grid[e+1][t+1].visited=!0)),n}},{key:"placePolyomino",value:function(e,t,n){e.location.x=t,e.location.y=n;for(var r=0;r<e.stepWidth;r++)for(var i=0;i<e.stepHeight;i++)e.grid[r][i]&&(this.grid[r-e.center.x+t][i-e.center.y+n].occupied=!0);this.numberOfOccupiredCells+=e.numberOfOccupiredCells,this.updateBounds(e);for(var o=0;o<this.stepWidth;o++)for(var a=0;a<this.stepHeight;a++)this.grid[o][a].visited=!1}},{key:"updateBounds",value:function(e){var t=e.getBoundingRectangle();this.occupiedRectangle.x1=Math.min(this.occupiedRectangle.x1,t.x1),this.occupiedRectangle.x2=Math.max(this.occupiedRectangle.x2,t.x2),this.occupiedRectangle.y1=Math.min(this.occupiedRectangle.y1,t.y1),this.occupiedRectangle.y2=Math.max(this.occupiedRectangle.y2,t.y2)}},{key:"tryPlacingPolyomino",value:function(e,t,n){for(var r=0;r<e.stepWidth;r++)for(var i=0;i<e.stepHeight;i++){if(r-e.center.x+t>=this.stepWidth||r-e.center.x+t<0||i-e.center.y+n>=this.stepHeight||i-e.center.y+n<0)return!1;if(e.grid[r][i]&&this.grid[r-e.center.x+t][i-e.center.y+n].occupied)return!1}return!0}},{key:"calculateUtilityOfPlacing",value:function(e,t,n,r){var i,o,a={},s=1,u=this.occupiedRectangle.x1,l=this.occupiedRectangle.x2,c=this.occupiedRectangle.y1,f=this.occupiedRectangle.y2;t-e.center.x<u&&(u=t-e.center.x),n-e.center.y<c&&(c=n-e.center.y),e.stepWidth-1-e.center.x+t>l&&(l=e.stepWidth-1-e.center.x+t),e.stepHeight-1-e.center.y+n>f&&(f=e.stepHeight-1-e.center.y+n);var h=l-u+1,d=f-c+1;return i=h/d,o=(this.numberOfOccupiredCells+e.numberOfOccupiredCells)/(h*d),s=i>r?(this.numberOfOccupiredCells+e.numberOfOccupiredCells)/(h*(h/r)):(this.numberOfOccupiredCells+e.numberOfOccupiredCells)/(d*r*d),a.actualAspectRatio=i,a.fullness=o,a.adjustedFullness=s,a}}]),e}(),Polyomino:function(){"use strict";function e(t,r,i,o,s,u){a(this,e),this.width=i,this.height=o,this.gridStep=s,this.grid=new Array(this.stepWidth);for(var l=0;l<this.stepWidth;l++){this.grid[l]=new Array(this.stepHeight);for(var c=0;c<this.stepHeight;c++)this.grid[l][c]=!1}this.index=u,this.x1=t,this.y1=r,this.location=new n(-1,-1),this.center=new n(Math.floor(this.stepWidth/2),Math.floor(this.stepHeight/2)),this.numberOfOccupiredCells=0}return s(e,[{key:"stepWidth",get:function(){return Math.floor(this.width/this.gridStep)+1}},{key:"stepHeight",get:function(){return Math.floor(this.height/this.gridStep)+1}},{key:"x2",get:function(){return this.x1+this.width}},{key:"y2",get:function(){return this.y1+this.height}},{key:"gridStepCenter",get:function(){return this.center.diff(this.location)}},{key:"getBoundingRectangle",value:function(){var e=this.location.x-this.center.x,t=this.location.y-this.center.y;return new r(e,t,e+this.stepWidth-1,t+this.stepHeight-1)}}]),e}(),BoundingRectangle:r,Point:n}},function(e,t,n){var r={},i=n(0),o=n(0).Point;r.uniqueArray=function(e){var t={};return e.forEach((function(e){t[e+"::"+typeof e]=e})),Object.keys(t).map((function(e){return t[e]}))},r.LineSuperCover=function(e,t){for(var n=t.x-e.x,r=t.y-e.y,o=Math.floor(Math.abs(n)),a=Math.floor(Math.abs(r)),s=n>0?1:-1,u=r>0?1:-1,l=new i.Point(e.x,e.y),c=[new i.Point(l.x,l.y)],f=0,h=0;f<o||h<a;)(.5+f)/o==(.5+h)/a?(l.x+=s,l.y+=u,f++,h++):(.5+f)/o<(.5+h)/a?(l.x+=s,f++):(l.y+=u,h++),c.push(new i.Point(l.x,l.y));return c},r.getCenter=function(e){void 0===Array.prototype.flatMap&&(Array.prototype.flatMap=function(e){var t=function(e,t){return e.concat(t)};return function(e,n){return n.map(e).reduce(t,[])}(e,this)});var t=e.flatMap((function(e){return e.nodes})).map((function(e){return{left:e.x,top:e.y,right:e.x+e.width-1,bottom:e.y+e.height-1}})).reduce((function(e,t){return{left:Math.min(t.left,e.left),right:Math.max(t.right,e.right),top:Math.min(t.top,e.top),bottom:Math.max(t.bottom,e.bottom)}}),{left:Number.MAX_VALUE,right:-Number.MAX_VALUE,top:Number.MAX_VALUE,bottom:-Number.MAX_VALUE});return new o((t.left+t.right)/2,(t.top+t.bottom)/2)},e.exports=r},function(e,t,n){var r;!function(){"use strict";var i=function(e){if(e){var t={idealEdgeLength:50,offset:20,desiredAspectRatio:1,polyominoGridSizeFactor:1,utilityFunction:1,componentSpacing:80},r=n(3);e("core","layoutUtilities",(function(e){var n=this;if("get"===e)return i(n).instance;function i(e){return e.scratch("_layoutUtilities")||e.scratch("_layoutUtilities",{}),e.scratch("_layoutUtilities")}t=function e(t){t=t||{};for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)r.hasOwnProperty(i)&&(Array.isArray(r[i])?t[i]=r[i].slice():"object"==typeof r[i]?t[i]=e(t[i],r[i]):t[i]=r[i])}return t}({},t,e);var o=r(n,t);return i(n).instance=o,i(n).initialized||(i(n).initialized=!0),i(n).instance}))}};e.exports&&(e.exports=i),void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r),"undefined"!=typeof cytoscape&&i(cytoscape)}()},function(e,t,n){var r=n(1),i=n(0),a=n(0),s=(a.Point,a.Polyomino,n(1).getCenter),u=n(4);e.exports=function(e,t){var n={setOption:function(e,n){t[e]=n},placeHiddenNodes:function(e){e.forEach((function(e){e.neighborhood().nodes(":hidden").forEach((function(t){t.neighborhood().nodes(":visible").length>1?n.nodeWithMultipleNeighbors(t):n.nodeWithOneNeighbor(e,t)}))}))},placeNewNodes:function(e){for(var r=this.findComponents(e),i=[],o=0;o<r.length;o++){for(var a,s=!1,u=!1,l=[],c=[],f=0,h=0,d=!1,p=0;p<r[o].length;p++){var g=r[o][p].neighborhood().nodes().difference(e);c.push(!1),g.length>1&&!d?(u=!0,c[p]=!0,l=g,n.nodeWithMultipleNeighbors(r[o][p],l),f=r[o][p].position("x"),h=r[o][p].position("y"),d=!0):1!=g.length||d||(s=!0,a=g[0],c[p]=!0,n.nodeWithOneNeighbor(a,r[o][p],e),f=r[o][p].position("x"),h=r[o][p].position("y"),d=!0)}if(s||u){for(p=0;p<r[o].length;p++)if(0==c[p]){g=r[o][p].neighborhood().nodes();var v=[];r[o][p].neighborhood().nodes().difference(e).forEach((function(e){v.push(e)}));for(var y=0;y<g.length;y++)c[r[o].indexOf(g[y])]&&v.push(g[y]);if(v.length>1)n.nodeWithMultipleNeighbors(r[o][p],v);else if(1==v.length)n.nodeWithOneNeighbor(v[0],r[o][p]);else{var m=n.generateRandom(t.offset,2*t.offset,0),b=n.generateRandom(t.offset,2*t.offset,0);r[o][p].position("x",f+m),r[o][p].position("y",h+b)}c[p]=!0}}else i.push(r[o])}i.length>=1&&n.disconnectedNodes(i)},disconnectedNodes:function(r){var i=Number.MAX_VALUE,o=-Number.MAX_VALUE,a=Number.MAX_VALUE,s=-Number.MAX_VALUE;e.nodes(":visible").forEach((function(e){var t=e.outerWidth()/2,n=e.outerHeight()/2;e.position("x")-t<i&&(i=e.position("x")-t),e.position("x")+t>o&&(o=e.position("x")+t),e.position("y")-n<a&&(a=e.position("y")-n),e.position("y")+n>s&&(s=e.position("y")+n)}));var u=a-s,l=o-i,c=Math.sqrt(l*l+u*u)/2,f=(i+o)/2,h=(a+s)/2,d=360/r.length,p=1;r.forEach((function(e){var r=n.generateRandom(c+6*t.offset,c+8*t.offset,1),i=d*p*Math.PI/180,o=f+r*Math.cos(i),a=h+r*Math.sin(i);if(1==e.length)e[0].position("x",o),e[0].position("y",a);else{for(var s=[],u=0;u<e.length;u++)s.push(!1);for(s[0]=!0,e[0].position("x",o),e[0].position("y",a),u=1;u<e.length;u++){for(var l=e[u].neighborhood().nodes(),g=[],v=0;v<l.length;v++)s[e.indexOf(l[v])]&&g.push(l[v]);if(g.length>1)n.nodeWithMultipleNeighbors(e[u],g);else if(1==g.length)n.nodeWithOneNeighbor(g[0],e[u]);else{var y=n.generateRandom(t.offset,2*t.offset,0),m=n.generateRandom(t.offset,2*t.offset,0);e[u].position("x",o+y),e[u].position("y",a+m)}s[u]=!0}}p++}))},findComponents:function(t){var n=[],r=e.nodes().difference(t);t.forEach((function(e){var i=e.neighborhood().nodes().difference(r),o=[];i.forEach((function(e){var n=t.indexOf(e);o.push(n)})),n.push(o)}));for(var i=[],o=0;o<t.length;o++)i.push(!1);var a=[];for(o=0;o<t.length;o++){var s=[];0==i[o]&&(this.DFSUtil(o,i,n,t,s),a.push(s))}return a},DFSUtil:function(e,t,n,r,i){t[e]=!0,i.push(r[e]);for(var o=0;o<n[e].length;o++)t[n[e][o]]||this.DFSUtil(n[e][o],t,n,r,i)},nodeWithOneNeighbor:function(e,r,i){var o,a,s=n.checkOccupiedQuadrants(e,r,i),u=[];for(var l in s)"free"===s[l]&&u.push(l);if(u.length>0)if(3===u.length)u.includes("first")&&u.includes("second")&&u.includes("third")?(o=-1,a=-1):u.includes("first")&&u.includes("second")&&u.includes("fourth")?(o=1,a=-1):u.includes("first")&&u.includes("third")&&u.includes("fourth")?(o=1,a=1):u.includes("second")&&u.includes("third")&&u.includes("fourth")&&(o=-1,a=1);else{var c=u[Math.floor(Math.random()*u.length)];"first"===c?(o=1,a=-1):"second"===c?(o=-1,a=-1):"third"===c?(o=-1,a=1):"fourth"===c&&(o=1,a=1)}else o=0,a=0;var f=n.generateRandom(t.idealEdgeLength-t.offset,t.idealEdgeLength+t.offset,o),h=n.generateRandom(t.idealEdgeLength-t.offset,t.idealEdgeLength+t.offset,a),d=e.position("x")+f,p=e.position("y")+h;r.position("x",d),r.position("y",p)},nodeWithMultipleNeighbors:function(e,r){null==r&&(r=e.neighborhood().nodes(":visible"));var i=0,o=0,a=0;r.forEach((function(e){i+=e.position("x"),o+=e.position("y"),a++})),i/=a,o/=a;var s=n.generateRandom(0,t.offset/2,0),u=n.generateRandom(0,t.offset/2,0);e.position("x",i+s),e.position("y",o+u)},generateRandom:function(e,t,n){var r=[-1,1];return 0===n&&(n=r[Math.floor(Math.random()*r.length)]),(Math.floor(Math.random()*(t-e+1))+e)*n},checkOccupiedQuadrants:function(e,t,n){var r=e.neighborhood().difference(t).difference(n).nodes(),i={first:"free",second:"free",third:"free",fourth:"free"};return r.forEach((function(t){"compartment"!=t.data("class")&&"complex"!=t.data("class")&&(t.position("x")<e.position("x")&&t.position("y")<e.position("y")?i.second="occupied":t.position("x")>e.position("x")&&t.position("y")<e.position("y")?i.first="occupied":t.position("x")<e.position("x")&&t.position("y")>e.position("y")?i.third="occupied":t.position("x")>e.position("x")&&t.position("y")>e.position("y")&&(i.fourth="occupied"))})),i},packComponents:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=t.componentSpacing;void 0!==a&&(n&&(a-=52),a=Math.max(1,a));var l,c,f=r.getCenter(e);if(n){var h=0,d=0;e.forEach((function(e){d+=e.nodes.length,e.nodes.forEach((function(e){h+=e.width+e.height}))})),h/=2*d,h=Math.floor(h*t.polyominoGridSizeFactor),e.forEach((function(e){e.nodes.forEach((function(e){e.x=e.x-a,e.y=e.y-a,e.width=e.width+2*a,e.height=e.height+2*a}))}));var p=0,g=0,v=[],y=Number.MAX_VALUE,m=-Number.MAX_VALUE,b=Number.MAX_VALUE,_=-Number.MAX_VALUE;e.forEach((function(e,t){var n=Number.MAX_VALUE,o=-Number.MAX_VALUE,a=Number.MAX_VALUE,s=-Number.MAX_VALUE;e.nodes.forEach((function(e){e.x<=n&&(n=e.x),e.y<=a&&(a=e.y),e.x+e.width>=o&&(o=e.x+e.width),e.y+e.height>=s&&(s=e.y+e.height)})),e.edges.forEach((function(e){e.startX<=n&&(n=e.startX),e.startY<=a&&(a=e.startY),e.endX>=o&&(o=e.endX),e.endY>=s&&(s=e.endY)})),n<y&&(y=n),o>m&&(m=o),a<b&&(b=a),s>_&&(_=s);var u=o-n,l=s-a;p+=u,g+=l;var c=new i.Polyomino(n,a,u,l,h,t);e.nodes.forEach((function(e){for(var t=Math.floor((e.x-n)/h),r=Math.floor((e.y-a)/h),i=Math.floor((e.x+e.width-n)/h),o=Math.floor((e.y+e.height-a)/h),s=t;s<=i;s++)for(var u=r;u<=o;u++)c.grid[s][u]=!0})),e.edges.forEach((function(e){var t={},i={};t.x=(e.startX-n)/h,t.y=(e.startY-a)/h,i.x=(e.endX-n)/h,i.y=(e.endY-a)/h,r.LineSuperCover(t,i).forEach((function(e){var t=Math.floor(e.x),n=Math.floor(e.y);t>=0&&t<c.stepWidth&&n>=0&&n<c.stepHeight&&(c.grid[Math.floor(e.x)][Math.floor(e.y)]=!0)}))}));for(var f=0;f<c.stepWidth;f++)for(var d=0;d<c.stepHeight;d++)c.grid[f][d]&&c.numberOfOccupiredCells++;v.push(c)})),v.sort((function(e,t){var n=e.stepWidth*e.stepHeight,r=t.stepWidth*t.stepHeight;return n>r?-1:n<r?1:0})),(c=new i.Grid(2*p+h,2*g+h,h)).placePolyomino(v[0],c.center.x,c.center.y);for(var w=1;w<v.length;w++){for(var x=0,E=0,k=0,C=1e6,S=!1,N=[],T={};!S;)(N=c.getDirectNeighbors(N,Math.ceil(Math.max(v[w].stepWidth,v[w].stepHeight)/2))).forEach((function(e){if(c.tryPlacingPolyomino(v[w],e.x,e.y)){S=!0;var n=c.calculateUtilityOfPlacing(v[w],e.x,e.y,t.desiredAspectRatio),r=!1;if(1==t.utilityFunction)(n.adjustedFullness>E||n.adjustedFullness==E&&(n.fullness>x||n.fullness==x&&Math.abs(n.actualAspectRatio-t.desiredAspectRatio)<=C))&&(r=!0),r&&(E=n.adjustedFullness,C=Math.abs(n.actualAspectRatio-t.desiredAspectRatio),x=n.fullness,T.x=e.x,T.y=e.y);else if(2==t.utilityFunction){var i=Math.abs(n.actualAspectRatio-t.desiredAspectRatio),o=.5*n.fullness+(1-i/Math.max(n.actualAspectRatio,t.desiredAspectRatio)*.5);o>k&&(k=o,T.x=e.x,T.y=e.y)}}}));c.placePolyomino(v[w],T.x,T.y)}v.sort((function(e,t){return e.index<t.index?-1:e.index>t.index?1:0})),l={shifts:[]},v.forEach((function(e){var t=(e.location.x-e.center.x-c.occupiedRectangle.x1)*h-e.x1,n=(e.location.y-e.center.y-c.occupiedRectangle.y1)*h-e.y1;l.shifts.push({dx:t,dy:n})}))}else l=u.packComponents(e,{componentSpacing:a});var I,D=function(e,t){return e.forEach((function(e,n){e.nodes.forEach((function(e){e.x+=t[n].dx,e.y+=t[n].dy}))})),s(e)}(e,l.shifts).diff(f),M=o(l.shifts);try{for(M.s();!(I=M.n()).done;){var O=I.value;O.dx+=D.x,O.dy+=D.y}}catch(A){M.e(A)}finally{M.f()}if(n)if(l.aspectRatio=Math.round((c.occupiedRectangle.x2-c.occupiedRectangle.x1+1)/(c.occupiedRectangle.y2-c.occupiedRectangle.y1+1)*100)/100,l.fullness=Math.round(c.numberOfOccupiredCells/((c.occupiedRectangle.x2-c.occupiedRectangle.x1+1)*(c.occupiedRectangle.y2-c.occupiedRectangle.y1+1))*100*100)/100,l.aspectRatio>t.desiredAspectRatio){var P=c.occupiedRectangle.x2-c.occupiedRectangle.x1+1;l.adjustedFullness=Math.round(c.numberOfOccupiredCells/(P*(P/t.desiredAspectRatio))*100*100)/100}else{var L=c.occupiedRectangle.y2-c.occupiedRectangle.y1+1;l.adjustedFullness=Math.round(c.numberOfOccupiredCells/(L*t.desiredAspectRatio*L)*100*100)/100}return l}};return n}},function(e,t,n){var u;window,u=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){!function(e){"use strict";function t(){}function n(e){this.message=e||""}function r(e){this.message=e||""}function i(e){this.message=e||""}function o(){}function a(e){return null===e?Le:e.color}function s(e){return null===e?null:e.parent}function u(e,t){null!==e&&(e.color=t)}function l(e){return null===e?null:e.left}function c(e){return null===e?null:e.right}function f(){this.root_=null,this.size_=0}function h(){}function d(){this.array_=[],arguments[0]instanceof _e&&this.addAll(arguments[0])}function p(){}function g(e){this.message=e||""}function v(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(e){if(null==this)throw new TypeError(this+" is not an object");var t=Object(this),n=Math.max(Math.min(t.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)t[r]=e,++r;return t},writable:!0}),Number.isFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(e){return e!=e},Math.trunc=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};var y=function(){};y.prototype.interfaces_=function(){return[]},y.prototype.getClass=function(){return y},y.prototype.equalsWithTolerance=function(e,t,n){return Math.abs(e-t)<=n};var m=function(e){function t(t){e.call(this,t),this.name="IllegalArgumentException",this.message=t,this.stack=(new e).stack}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),b=function(){},_={MAX_VALUE:{configurable:!0}};b.isNaN=function(e){return Number.isNaN(e)},b.doubleToLongBits=function(e){return e},b.longBitsToDouble=function(e){return e},b.isInfinite=function(e){return!Number.isFinite(e)},_.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(b,_);var w=function(){},x=function(){},E=function(){},k=function e(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=e.NULL_ORDINATE;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.z=t.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=e.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},C={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};k.prototype.setOrdinate=function(e,t){switch(e){case k.X:this.x=t;break;case k.Y:this.y=t;break;case k.Z:this.z=t;break;default:throw new m("Invalid ordinate index: "+e)}},k.prototype.equals2D=function(){if(1===arguments.length){var e=arguments[0];return this.x===e.x&&this.y===e.y}if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!y.equalsWithTolerance(this.x,t.x,n)&&!!y.equalsWithTolerance(this.y,t.y,n)}},k.prototype.getOrdinate=function(e){switch(e){case k.X:return this.x;case k.Y:return this.y;case k.Z:return this.z}throw new m("Invalid ordinate index: "+e)},k.prototype.equals3D=function(e){return this.x===e.x&&this.y===e.y&&(this.z===e.z||b.isNaN(this.z))&&b.isNaN(e.z)},k.prototype.equals=function(e){return e instanceof k&&this.equals2D(e)},k.prototype.equalInZ=function(e,t){return y.equalsWithTolerance(this.z,e.z,t)},k.prototype.compareTo=function(e){var t=e;return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0},k.prototype.clone=function(){},k.prototype.copy=function(){return new k(this)},k.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},k.prototype.distance3D=function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return Math.sqrt(t*t+n*n+r*r)},k.prototype.distance=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},k.prototype.hashCode=function(){var e=17;return 37*(e=37*e+k.hashCode(this.x))+k.hashCode(this.y)},k.prototype.setCoordinate=function(e){this.x=e.x,this.y=e.y,this.z=e.z},k.prototype.interfaces_=function(){return[w,x,t]},k.prototype.getClass=function(){return k},k.hashCode=function(){if(1===arguments.length){var e=arguments[0],t=b.doubleToLongBits(e);return Math.trunc((t^t)>>>32)}},C.DimensionalComparator.get=function(){return S},C.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},C.NULL_ORDINATE.get=function(){return b.NaN},C.X.get=function(){return 0},C.Y.get=function(){return 1},C.Z.get=function(){return 2},Object.defineProperties(k,C);var S=function(e){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(2!==t&&3!==t)throw new m("only 2 or 3 dimensions may be specified");this._dimensionsToTest=t}};S.prototype.compare=function(e,t){var n=e,r=t,i=S.compare(n.x,r.x);if(0!==i)return i;var o=S.compare(n.y,r.y);return 0!==o?o:this._dimensionsToTest<=2?0:S.compare(n.z,r.z)},S.prototype.interfaces_=function(){return[E]},S.prototype.getClass=function(){return S},S.compare=function(e,t){return e<t?-1:e>t?1:b.isNaN(e)?b.isNaN(t)?0:-1:b.isNaN(t)?1:0};var N=function(){};N.prototype.create=function(){},N.prototype.interfaces_=function(){return[]},N.prototype.getClass=function(){return N};var T=function(){},I={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};T.prototype.interfaces_=function(){return[]},T.prototype.getClass=function(){return T},T.toLocationSymbol=function(e){switch(e){case T.EXTERIOR:return"e";case T.BOUNDARY:return"b";case T.INTERIOR:return"i";case T.NONE:return"-"}throw new m("Unknown location value: "+e)},I.INTERIOR.get=function(){return 0},I.BOUNDARY.get=function(){return 1},I.EXTERIOR.get=function(){return 2},I.NONE.get=function(){return-1},Object.defineProperties(T,I);var D=function(e,t){return e.interfaces_&&e.interfaces_().indexOf(t)>-1},M=function(){},O={LOG_10:{configurable:!0}};M.prototype.interfaces_=function(){return[]},M.prototype.getClass=function(){return M},M.log10=function(e){var t=Math.log(e);return b.isInfinite(t)||b.isNaN(t)?t:t/M.LOG_10},M.min=function(e,t,n,r){var i=e;return t<i&&(i=t),n<i&&(i=n),r<i&&(i=r),i},M.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1],n=arguments[2];return e<t?t:e>n?n:e}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}},M.wrap=function(e,t){return e<0?t- -e%t:e%t},M.max=function(){if(3===arguments.length){var e=arguments[1],t=arguments[2],n=arguments[0];return e>n&&(n=e),t>n&&(n=t),n}if(4===arguments.length){var r=arguments[1],i=arguments[2],o=arguments[3],a=arguments[0];return r>a&&(a=r),i>a&&(a=i),o>a&&(a=o),a}},M.average=function(e,t){return(e+t)/2},O.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(M,O);var P=function(e){this.str=e};P.prototype.append=function(e){this.str+=e},P.prototype.setCharAt=function(e,t){this.str=this.str.substr(0,e)+t+this.str.substr(e+1)},P.prototype.toString=function(e){return this.str};var L=function(e){this.value=e};L.prototype.intValue=function(){return this.value},L.prototype.compareTo=function(e){return this.value<e?-1:this.value>e?1:0},L.isNaN=function(e){return Number.isNaN(e)};var A=function(){};A.isWhitespace=function(e){return e<=32&&e>=0||127===e},A.toUpperCase=function(e){return e.toUpperCase()};var R=function e(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length)if("number"==typeof arguments[0]){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}else"string"==typeof arguments[0]&&e.call(this,e.parse(arguments[0]));else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r,i)}},F={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};R.prototype.le=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<=e._lo},R.prototype.extractSignificantDigits=function(e,t){var n=this.abs(),r=R.magnitude(n._hi),i=R.TEN.pow(r);(n=n.divide(i)).gt(R.TEN)?(n=n.divide(R.TEN),r+=1):n.lt(R.ONE)&&(n=n.multiply(R.TEN),r-=1);for(var o=r+1,a=new P,s=R.MAX_PRINT_DIGITS-1,u=0;u<=s;u++){e&&u===o&&a.append(".");var l=Math.trunc(n._hi);if(l<0)break;var c=!1,f=0;l>9?(c=!0,f="9"):f="0"+l,a.append(f),n=n.subtract(R.valueOf(l)).multiply(R.TEN),c&&n.selfAdd(R.TEN);var h=!0,d=R.magnitude(n._hi);if(d<0&&Math.abs(d)>=s-u&&(h=!1),!h)break}return t[0]=r,a.toString()},R.prototype.sqr=function(){return this.multiply(this)},R.prototype.doubleValue=function(){return this._hi+this._lo},R.prototype.subtract=function(){if(arguments[0]instanceof R){var e=arguments[0];return this.add(e.negate())}if("number"==typeof arguments[0]){var t=arguments[0];return this.add(-t)}},R.prototype.equals=function(){if(1===arguments.length){var e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}},R.prototype.isZero=function(){return 0===this._hi&&0===this._lo},R.prototype.selfSubtract=function(){if(arguments[0]instanceof R){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e._hi,-e._lo)}if("number"==typeof arguments[0]){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t,0)}},R.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},R.prototype.min=function(e){return this.le(e)?this:e},R.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof R){var e=arguments[0];return this.selfDivide(e._hi,e._lo)}if("number"==typeof arguments[0]){var t=arguments[0];return this.selfDivide(t,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,a=null,s=null,u=null,l=null,c=null,f=null;return u=this._hi/n,f=(i=(l=R.SPLIT*u)-(i=l-u))*(a=(f=R.SPLIT*n)-(a=f-n))-(c=u*n)+i*(s=n-a)+(o=u-i)*a+o*s,f=u+(l=(this._hi-c-f+this._lo-u*r)/n),this._hi=f,this._lo=u-f+l,this}},R.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},R.prototype.divide=function(){if(arguments[0]instanceof R){var e=arguments[0],t=null,n=null,r=null,i=null,o=null,a=null,s=null,u=null;return n=(o=this._hi/e._hi)-(t=(a=R.SPLIT*o)-(t=a-o)),u=t*(r=(u=R.SPLIT*e._hi)-(r=u-e._hi))-(s=o*e._hi)+t*(i=e._hi-r)+n*r+n*i,a=(this._hi-s-u+this._lo-o*e._lo)/e._hi,new R(u=o+a,o-u+a)}if("number"==typeof arguments[0]){var l=arguments[0];return b.isNaN(l)?R.createNaN():R.copy(this).selfDivide(l,0)}},R.prototype.ge=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>=e._lo},R.prototype.pow=function(e){if(0===e)return R.valueOf(1);var t=new R(this),n=R.valueOf(1),r=Math.abs(e);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(t),(r/=2)>0&&(t=t.sqr());else n=t;return e<0?n.reciprocal():n},R.prototype.ceil=function(){if(this.isNaN())return R.NaN;var e=Math.ceil(this._hi),t=0;return e===this._hi&&(t=Math.ceil(this._lo)),new R(e,t)},R.prototype.compareTo=function(e){var t=e;return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0},R.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},R.prototype.setValue=function(){if(arguments[0]instanceof R){var e=arguments[0];return this.init(e),this}if("number"==typeof arguments[0]){var t=arguments[0];return this.init(t),this}},R.prototype.max=function(e){return this.ge(e)?this:e},R.prototype.sqrt=function(){if(this.isZero())return R.valueOf(0);if(this.isNegative())return R.NaN;var e=1/Math.sqrt(this._hi),t=this._hi*e,n=R.valueOf(t),r=this.subtract(n.sqr())._hi*(.5*e);return n.add(r)},R.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof R){var e=arguments[0];return this.selfAdd(e._hi,e._lo)}if("number"==typeof arguments[0]){var t=arguments[0],n=null,r=null,i=null,o=null,a=null,s=null;return o=(i=this._hi+t)-(a=i-this._hi),r=(s=(o=t-a+(this._hi-o))+this._lo)+(i-(n=i+s)),this._hi=n+r,this._lo=r+(n-this._hi),this}}else if(2===arguments.length){var u=arguments[0],l=arguments[1],c=null,f=null,h=null,d=null,p=null,g=null,v=null;d=this._hi+u,f=this._lo+l,p=d-(g=d-this._hi),h=f-(v=f-this._lo);var y=(c=d+(g=(p=u-g+(this._hi-p))+f))+(g=(h=l-v+(this._lo-h))+(g+(d-c))),m=g+(c-y);return this._hi=y,this._lo=m,this}},R.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof R){var e=arguments[0];return this.selfMultiply(e._hi,e._lo)}if("number"==typeof arguments[0]){var t=arguments[0];return this.selfMultiply(t,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,a=null,s=null,u=null,l=null;i=(u=R.SPLIT*this._hi)-this._hi,l=R.SPLIT*n,i=u-i,o=this._hi-i,a=l-n;var c=(u=this._hi*n)+(l=i*(a=l-a)-u+i*(s=n-a)+o*a+o*s+(this._hi*r+this._lo*n)),f=l+(i=u-c);return this._hi=c,this._lo=f,this}},R.prototype.selfSqr=function(){return this.selfMultiply(this)},R.prototype.floor=function(){if(this.isNaN())return R.NaN;var e=Math.floor(this._hi),t=0;return e===this._hi&&(t=Math.floor(this._lo)),new R(e,t)},R.prototype.negate=function(){return this.isNaN()?this:new R(-this._hi,-this._lo)},R.prototype.clone=function(){},R.prototype.multiply=function(){if(arguments[0]instanceof R){var e=arguments[0];return e.isNaN()?R.createNaN():R.copy(this).selfMultiply(e)}if("number"==typeof arguments[0]){var t=arguments[0];return b.isNaN(t)?R.createNaN():R.copy(this).selfMultiply(t,0)}},R.prototype.isNaN=function(){return b.isNaN(this._hi)},R.prototype.intValue=function(){return Math.trunc(this._hi)},R.prototype.toString=function(){var e=R.magnitude(this._hi);return e>=-3&&e<=20?this.toStandardNotation():this.toSciNotation()},R.prototype.toStandardNotation=function(){var e=this.getSpecialNumberString();if(null!==e)return e;var t=new Array(1).fill(null),n=this.extractSignificantDigits(!0,t),r=t[0]+1,i=n;if("."===n.charAt(0))i="0"+n;else if(r<0)i="0."+R.stringOfChar("0",-r)+n;else if(-1===n.indexOf(".")){var o=r-n.length;i=n+R.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+i:i},R.prototype.reciprocal=function(){var e,t,n,r,i=null,o=null,a=null,s=null;e=(n=1/this._hi)-(i=(a=R.SPLIT*n)-(i=a-n)),o=(s=R.SPLIT*this._hi)-this._hi;var u=n+(a=(1-(r=n*this._hi)-(s=i*(o=s-o)-r+i*(t=this._hi-o)+e*o+e*t)-n*this._lo)/this._hi);return new R(u,n-u+a)},R.prototype.toSciNotation=function(){if(this.isZero())return R.SCI_NOT_ZERO;var e=this.getSpecialNumberString();if(null!==e)return e;var t=new Array(1).fill(null),n=this.extractSignificantDigits(!1,t),r=R.SCI_NOT_EXPONENT_CHAR+t[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var o=n.charAt(0)+"."+i;return this.isNegative()?"-"+o+r:o+r},R.prototype.abs=function(){return this.isNaN()?R.NaN:this.isNegative()?this.negate():new R(this)},R.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},R.prototype.lt=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<e._lo},R.prototype.add=function(){if(arguments[0]instanceof R){var e=arguments[0];return R.copy(this).selfAdd(e)}if("number"==typeof arguments[0]){var t=arguments[0];return R.copy(this).selfAdd(t)}},R.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this._hi=e,this._lo=0}else if(arguments[0]instanceof R){var t=arguments[0];this._hi=t._hi,this._lo=t._lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}},R.prototype.gt=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>e._lo},R.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},R.prototype.trunc=function(){return this.isNaN()?R.NaN:this.isPositive()?this.floor():this.ceil()},R.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},R.prototype.interfaces_=function(){return[t,w,x]},R.prototype.getClass=function(){return R},R.sqr=function(e){return R.valueOf(e).selfMultiply(e)},R.valueOf=function(){if("string"==typeof arguments[0]){var e=arguments[0];return R.parse(e)}if("number"==typeof arguments[0])return new R(arguments[0])},R.sqrt=function(e){return R.valueOf(e).sqrt()},R.parse=function(e){for(var t=0,n=e.length;A.isWhitespace(e.charAt(t));)t++;var r=!1;if(t<n){var i=e.charAt(t);"-"!==i&&"+"!==i||(t++,"-"===i&&(r=!0))}for(var o=new R,a=0,s=0,u=0;!(t>=n);){var l=e.charAt(t);if(t++,A.isDigit(l)){var c=l-"0";o.selfMultiply(R.TEN),o.selfAdd(c),a++}else{if("."!==l){if("e"===l||"E"===l){var f=e.substring(t);try{u=L.parseInt(f)}catch(t){throw t instanceof Error?new Error("Invalid exponent "+f+" in string "+e):t}break}throw new Error("Unexpected character '"+l+"' at position "+t+" in string "+e)}s=a}}var h=o,d=a-s-u;if(0===d)h=o;else if(d>0){var p=R.TEN.pow(d);h=o.divide(p)}else if(d<0){var g=R.TEN.pow(-d);h=o.multiply(g)}return r?h.negate():h},R.createNaN=function(){return new R(b.NaN,b.NaN)},R.copy=function(e){return new R(e)},R.magnitude=function(e){var t=Math.abs(e),n=Math.log(t)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=t&&(r+=1),r},R.stringOfChar=function(e,t){for(var n=new P,r=0;r<t;r++)n.append(e);return n.toString()},F.PI.get=function(){return new R(3.141592653589793,12246467991473532e-32)},F.TWO_PI.get=function(){return new R(6.283185307179586,24492935982947064e-32)},F.PI_2.get=function(){return new R(1.5707963267948966,6123233995736766e-32)},F.E.get=function(){return new R(2.718281828459045,14456468917292502e-32)},F.NaN.get=function(){return new R(b.NaN,b.NaN)},F.EPS.get=function(){return 123259516440783e-46},F.SPLIT.get=function(){return 134217729},F.MAX_PRINT_DIGITS.get=function(){return 32},F.TEN.get=function(){return R.valueOf(10)},F.ONE.get=function(){return R.valueOf(1)},F.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},F.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(R,F);var z=function(){},j={DP_SAFE_EPSILON:{configurable:!0}};z.prototype.interfaces_=function(){return[]},z.prototype.getClass=function(){return z},z.orientationIndex=function(e,t,n){var r=z.orientationIndexFilter(e,t,n);if(r<=1)return r;var i=R.valueOf(t.x).selfAdd(-e.x),o=R.valueOf(t.y).selfAdd(-e.y),a=R.valueOf(n.x).selfAdd(-t.x),s=R.valueOf(n.y).selfAdd(-t.y);return i.selfMultiply(s).selfSubtract(o.selfMultiply(a)).signum()},z.signOfDet2x2=function(e,t,n,r){return e.multiply(r).selfSubtract(t.multiply(n)).signum()},z.intersection=function(e,t,n,r){var i=R.valueOf(r.y).selfSubtract(n.y).selfMultiply(R.valueOf(t.x).selfSubtract(e.x)),o=R.valueOf(r.x).selfSubtract(n.x).selfMultiply(R.valueOf(t.y).selfSubtract(e.y)),a=i.subtract(o),s=R.valueOf(r.x).selfSubtract(n.x).selfMultiply(R.valueOf(e.y).selfSubtract(n.y)),u=R.valueOf(r.y).selfSubtract(n.y).selfMultiply(R.valueOf(e.x).selfSubtract(n.x)),l=s.subtract(u).selfDivide(a).doubleValue(),c=R.valueOf(e.x).selfAdd(R.valueOf(t.x).selfSubtract(e.x).selfMultiply(l)).doubleValue(),f=R.valueOf(t.x).selfSubtract(e.x).selfMultiply(R.valueOf(e.y).selfSubtract(n.y)),h=R.valueOf(t.y).selfSubtract(e.y).selfMultiply(R.valueOf(e.x).selfSubtract(n.x)),d=f.subtract(h).selfDivide(a).doubleValue(),p=R.valueOf(n.y).selfAdd(R.valueOf(r.y).selfSubtract(n.y).selfMultiply(d)).doubleValue();return new k(c,p)},z.orientationIndexFilter=function(e,t,n){var r=null,i=(e.x-n.x)*(t.y-n.y),o=(e.y-n.y)*(t.x-n.x),a=i-o;if(i>0){if(o<=0)return z.signum(a);r=i+o}else{if(!(i<0))return z.signum(a);if(o>=0)return z.signum(a);r=-i-o}var s=z.DP_SAFE_EPSILON*r;return a>=s||-a>=s?z.signum(a):2},z.signum=function(e){return e>0?1:e<0?-1:0},j.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(z,j);var B=function(){},V={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};V.X.get=function(){return 0},V.Y.get=function(){return 1},V.Z.get=function(){return 2},V.M.get=function(){return 3},B.prototype.setOrdinate=function(e,t,n){},B.prototype.size=function(){},B.prototype.getOrdinate=function(e,t){},B.prototype.getCoordinate=function(){},B.prototype.getCoordinateCopy=function(e){},B.prototype.getDimension=function(){},B.prototype.getX=function(e){},B.prototype.clone=function(){},B.prototype.expandEnvelope=function(e){},B.prototype.copy=function(){},B.prototype.getY=function(e){},B.prototype.toCoordinateArray=function(){},B.prototype.interfaces_=function(){return[x]},B.prototype.getClass=function(){return B},Object.defineProperties(B,V);var U=function(){},G=function(e){function t(){e.call(this,"Projective point not representable on the Cartesian plane.")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(U),H=function(){};H.arraycopy=function(e,t,n,r,i){for(var o=0,a=t;a<t+i;a++)n[r+o]=e[a],o++},H.getProperty=function(e){return{"line.separator":"\n"}[e]};var q=function e(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof e&&arguments[1]instanceof e){var i=arguments[0],o=arguments[1];this.x=i.y*o.w-o.y*i.w,this.y=o.x*i.w-i.x*o.w,this.w=i.x*o.y-o.x*i.y}else if(arguments[0]instanceof k&&arguments[1]instanceof k){var a=arguments[0],s=arguments[1];this.x=a.y-s.y,this.y=s.x-a.x,this.w=a.x*s.y-s.x*a.y}}else if(3===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2];this.x=u,this.y=l,this.w=c}else if(4===arguments.length){var f=arguments[0],h=arguments[1],d=arguments[2],p=arguments[3],g=f.y-h.y,v=h.x-f.x,y=f.x*h.y-h.x*f.y,m=d.y-p.y,b=p.x-d.x,_=d.x*p.y-p.x*d.y;this.x=v*_-b*y,this.y=m*y-g*_,this.w=g*b-m*v}};q.prototype.getY=function(){var e=this.y/this.w;if(b.isNaN(e)||b.isInfinite(e))throw new G;return e},q.prototype.getX=function(){var e=this.x/this.w;if(b.isNaN(e)||b.isInfinite(e))throw new G;return e},q.prototype.getCoordinate=function(){var e=new k;return e.x=this.getX(),e.y=this.getY(),e},q.prototype.interfaces_=function(){return[]},q.prototype.getClass=function(){return q},q.intersection=function(e,t,n,r){var i=e.y-t.y,o=t.x-e.x,a=e.x*t.y-t.x*e.y,s=n.y-r.y,u=r.x-n.x,l=n.x*r.y-r.x*n.y,c=i*u-s*o,f=(o*l-u*a)/c,h=(s*a-i*l)/c;if(b.isNaN(f)||b.isInfinite(f)||b.isNaN(h)||b.isInfinite(h))throw new G;return new k(f,h)};var Y=function e(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof k){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(4===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2],u=arguments[3];this.init(o,a,s,u)}},W={serialVersionUID:{configurable:!0}};Y.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Y.prototype.equals=function(e){if(!(e instanceof Y))return!1;var t=e;return this.isNull()?t.isNull():this._maxx===t.getMaxX()&&this._maxy===t.getMaxY()&&this._minx===t.getMinX()&&this._miny===t.getMinY()},Y.prototype.intersection=function(e){if(this.isNull()||e.isNull()||!this.intersects(e))return new Y;var t=this._minx>e._minx?this._minx:e._minx,n=this._miny>e._miny?this._miny:e._miny,r=this._maxx<e._maxx?this._maxx:e._maxx,i=this._maxy<e._maxy?this._maxy:e._maxy;return new Y(t,r,n,i)},Y.prototype.isNull=function(){return this._maxx<this._minx},Y.prototype.getMaxX=function(){return this._maxx},Y.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof k){var e=arguments[0];return this.covers(e.x,e.y)}if(arguments[0]instanceof Y){var t=arguments[0];return!this.isNull()&&!t.isNull()&&t.getMinX()>=this._minx&&t.getMaxX()<=this._maxx&&t.getMinY()>=this._miny&&t.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},Y.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof Y){var e=arguments[0];return!this.isNull()&&!e.isNull()&&!(e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny)}if(arguments[0]instanceof k){var t=arguments[0];return this.intersects(t.x,t.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},Y.prototype.getMinY=function(){return this._miny},Y.prototype.getMinX=function(){return this._minx},Y.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof k){var e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof Y){var t=arguments[0];if(t.isNull())return null;this.isNull()?(this._minx=t.getMinX(),this._maxx=t.getMaxX(),this._miny=t.getMinY(),this._maxy=t.getMaxY()):(t._minx<this._minx&&(this._minx=t._minx),t._maxx>this._maxx&&(this._maxx=t._maxx),t._miny<this._miny&&(this._miny=t._miny),t._maxy>this._maxy&&(this._maxy=t._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},Y.prototype.minExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e<t?e:t},Y.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Y.prototype.compareTo=function(e){var t=e;return this.isNull()?t.isNull()?0:-1:t.isNull()?1:this._minx<t._minx?-1:this._minx>t._minx?1:this._miny<t._miny?-1:this._miny>t._miny?1:this._maxx<t._maxx?-1:this._maxx>t._maxx?1:this._maxy<t._maxy?-1:this._maxy>t._maxy?1:0},Y.prototype.translate=function(e,t){if(this.isNull())return null;this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+t,this.getMaxY()+t)},Y.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Y.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Y.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Y.prototype.maxExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e>t?e:t},Y.prototype.expandBy=function(){if(1===arguments.length){var e=arguments[0];this.expandBy(e,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=t,this._maxx+=t,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Y.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof Y){var e=arguments[0];return this.covers(e)}if(arguments[0]instanceof k){var t=arguments[0];return this.covers(t)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},Y.prototype.centre=function(){return this.isNull()?null:new k((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Y.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof k){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof Y){var t=arguments[0];this._minx=t._minx,this._maxx=t._maxx,this._miny=t._miny,this._maxy=t._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];i<o?(this._minx=i,this._maxx=o):(this._minx=o,this._maxx=i),a<s?(this._miny=a,this._maxy=s):(this._miny=s,this._maxy=a)}},Y.prototype.getMaxY=function(){return this._maxy},Y.prototype.distance=function(e){if(this.intersects(e))return 0;var t=0;this._maxx<e._minx?t=e._minx-this._maxx:this._minx>e._maxx&&(t=this._minx-e._maxx);var n=0;return this._maxy<e._miny?n=e._miny-this._maxy:this._miny>e._maxy&&(n=this._miny-e._maxy),0===t?n:0===n?t:Math.sqrt(t*t+n*n)},Y.prototype.hashCode=function(){var e=17;return 37*(e=37*(e=37*(e=37*e+k.hashCode(this._minx))+k.hashCode(this._maxx))+k.hashCode(this._miny))+k.hashCode(this._maxy)},Y.prototype.interfaces_=function(){return[w,t]},Y.prototype.getClass=function(){return Y},Y.intersects=function(){if(3===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2];return n.x>=(e.x<t.x?e.x:t.x)&&n.x<=(e.x>t.x?e.x:t.x)&&n.y>=(e.y<t.y?e.y:t.y)&&n.y<=(e.y>t.y?e.y:t.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=Math.min(o.x,a.x),u=Math.max(o.x,a.x),l=Math.min(r.x,i.x),c=Math.max(r.x,i.x);return!(l>u||c<s||(s=Math.min(o.y,a.y),u=Math.max(o.y,a.y),l=Math.min(r.y,i.y),c=Math.max(r.y,i.y),l>u||c<s))}},W.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(Y,W);var X={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},K=function(e){this.geometryFactory=e||new yt};K.prototype.read=function(e){var t,n,r;e=e.replace(/[\n\r]/g," ");var i=X.typeStr.exec(e);if(-1!==e.search("EMPTY")&&((i=X.emptyTypeStr.exec(e))[2]=void 0),i&&(n=i[1].toLowerCase(),r=i[2],Q[n]&&(t=Q[n].apply(this,[r]))),void 0===t)throw new Error("Could not parse WKT "+e);return t},K.prototype.write=function(e){return this.extractGeometry(e)},K.prototype.extractGeometry=function(e){var t=e.getGeometryType().toLowerCase();if(!$[t])return null;var n=t.toUpperCase();return e.isEmpty()?n+" EMPTY":n+"("+$[t].apply(this,[e])+")"};var $={coordinate:function(e){return e.x+" "+e.y},point:function(e){return $.coordinate.call(this,e._coordinates._coordinates[0])},multipoint:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push("("+$.point.apply(this,[e._geometries[n]])+")");return t.join(",")},linestring:function(e){for(var t=[],n=0,r=e._points._coordinates.length;n<r;++n)t.push($.coordinate.apply(this,[e._points._coordinates[n]]));return t.join(",")},linearring:function(e){for(var t=[],n=0,r=e._points._coordinates.length;n<r;++n)t.push($.coordinate.apply(this,[e._points._coordinates[n]]));return t.join(",")},multilinestring:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push("("+$.linestring.apply(this,[e._geometries[n]])+")");return t.join(",")},polygon:function(e){var t=[];t.push("("+$.linestring.apply(this,[e._shell])+")");for(var n=0,r=e._holes.length;n<r;++n)t.push("("+$.linestring.apply(this,[e._holes[n]])+")");return t.join(",")},multipolygon:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push("("+$.polygon.apply(this,[e._geometries[n]])+")");return t.join(",")},geometrycollection:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push(this.extractGeometry(e._geometries[n]));return t.join(",")}},Q={point:function(e){if(void 0===e)return this.geometryFactory.createPoint();var t=e.trim().split(X.spaces);return this.geometryFactory.createPoint(new k(Number.parseFloat(t[0]),Number.parseFloat(t[1])))},multipoint:function(e){if(void 0===e)return this.geometryFactory.createMultiPoint();for(var t,n=e.trim().split(","),r=[],i=0,o=n.length;i<o;++i)t=n[i].replace(X.trimParens,"$1"),r.push(Q.point.apply(this,[t]));return this.geometryFactory.createMultiPoint(r)},linestring:function(e){if(void 0===e)return this.geometryFactory.createLineString();for(var t,n=e.trim().split(","),r=[],i=0,o=n.length;i<o;++i)t=n[i].trim().split(X.spaces),r.push(new k(Number.parseFloat(t[0]),Number.parseFloat(t[1])));return this.geometryFactory.createLineString(r)},linearring:function(e){if(void 0===e)return this.geometryFactory.createLinearRing();for(var t,n=e.trim().split(","),r=[],i=0,o=n.length;i<o;++i)t=n[i].trim().split(X.spaces),r.push(new k(Number.parseFloat(t[0]),Number.parseFloat(t[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(e){if(void 0===e)return this.geometryFactory.createMultiLineString();for(var t,n=e.trim().split(X.parenComma),r=[],i=0,o=n.length;i<o;++i)t=n[i].replace(X.trimParens,"$1"),r.push(Q.linestring.apply(this,[t]));return this.geometryFactory.createMultiLineString(r)},polygon:function(e){if(void 0===e)return this.geometryFactory.createPolygon();for(var t,n,r,i,o=e.trim().split(X.parenComma),a=[],s=0,u=o.length;s<u;++s)t=o[s].replace(X.trimParens,"$1"),n=Q.linestring.apply(this,[t]),r=this.geometryFactory.createLinearRing(n._points),0===s?i=r:a.push(r);return this.geometryFactory.createPolygon(i,a)},multipolygon:function(e){if(void 0===e)return this.geometryFactory.createMultiPolygon();for(var t,n=e.trim().split(X.doubleParenComma),r=[],i=0,o=n.length;i<o;++i)t=n[i].replace(X.trimParens,"$1"),r.push(Q.polygon.apply(this,[t]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(e){if(void 0===e)return this.geometryFactory.createGeometryCollection();for(var t=(e=e.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,i=t.length;r<i;++r)n.push(this.read(t[r]));return this.geometryFactory.createGeometryCollection(n)}},Z=function(e){this.parser=new K(e)};Z.prototype.write=function(e){return this.parser.write(e)},Z.toLineString=function(e,t){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+e.x+" "+e.y+", "+t.x+" "+t.y+" )"};var J=function(e){function t(t){e.call(this,t),this.name="RuntimeException",this.message=t,this.stack=(new e).stack}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),ee=function(e){function t(){if(e.call(this),0===arguments.length)e.call(this);else if(1===arguments.length){var t=arguments[0];e.call(this,t)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(J),te=function(){};te.prototype.interfaces_=function(){return[]},te.prototype.getClass=function(){return te},te.shouldNeverReachHere=function(){if(0===arguments.length)te.shouldNeverReachHere(null);else if(1===arguments.length){var e=arguments[0];throw new ee("Should never reach here"+(null!==e?": "+e:""))}},te.isTrue=function(){var e;if(1===arguments.length)te.isTrue(arguments[0],null);else if(2===arguments.length&&(e=arguments[1],!arguments[0]))throw null===e?new ee:new ee(e)},te.equals=function(){var e,t,n;if(2===arguments.length)te.equals(e=arguments[0],t=arguments[1],null);else if(3===arguments.length&&(e=arguments[0],n=arguments[2],!(t=arguments[1]).equals(e)))throw new ee("Expected "+e+" but encountered "+t+(null!==n?": "+n:""))};var ne=function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new k,this._intPt[1]=new k,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},re={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};ne.prototype.getIndexAlongSegment=function(e,t){return this.computeIntLineIndex(),this._intLineIndex[e][t]},ne.prototype.getTopologySummary=function(){var e=new P;return this.isEndPoint()&&e.append(" endpoint"),this._isProper&&e.append(" proper"),this.isCollinear()&&e.append(" collinear"),e.toString()},ne.prototype.computeIntersection=function(e,t,n,r){this._inputLines[0][0]=e,this._inputLines[0][1]=t,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(e,t,n,r)},ne.prototype.getIntersectionNum=function(){return this._result},ne.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var e=arguments[0];this.getEdgeDistance(e,0)>this.getEdgeDistance(e,1)?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}},ne.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},ne.prototype.setPrecisionModel=function(e){this._precisionModel=e},ne.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var e=arguments[0],t=0;t<this._result;t++)if(!this._intPt[t].equals2D(this._inputLines[e][0])&&!this._intPt[t].equals2D(this._inputLines[e][1]))return!0;return!1}},ne.prototype.getIntersection=function(e){return this._intPt[e]},ne.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},ne.prototype.hasIntersection=function(){return this._result!==ne.NO_INTERSECTION},ne.prototype.getEdgeDistance=function(e,t){return ne.computeEdgeDistance(this._intPt[t],this._inputLines[e][0],this._inputLines[e][1])},ne.prototype.isCollinear=function(){return this._result===ne.COLLINEAR_INTERSECTION},ne.prototype.toString=function(){return Z.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Z.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},ne.prototype.getEndpoint=function(e,t){return this._inputLines[e][t]},ne.prototype.isIntersection=function(e){for(var t=0;t<this._result;t++)if(this._intPt[t].equals2D(e))return!0;return!1},ne.prototype.getIntersectionAlongSegment=function(e,t){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[e][t]]},ne.prototype.interfaces_=function(){return[]},ne.prototype.getClass=function(){return ne},ne.computeEdgeDistance=function(e,t,n){var r=Math.abs(n.x-t.x),i=Math.abs(n.y-t.y),o=-1;if(e.equals(t))o=0;else if(e.equals(n))o=r>i?r:i;else{var a=Math.abs(e.x-t.x),s=Math.abs(e.y-t.y);0!==(o=r>i?a:s)||e.equals(t)||(o=Math.max(a,s))}return te.isTrue(!(0===o&&!e.equals(t)),"Bad distance calculation"),o},ne.nonRobustComputeEdgeDistance=function(e,t,n){var r=e.x-t.x,i=e.y-t.y,o=Math.sqrt(r*r+i*i);return te.isTrue(!(0===o&&!e.equals(t)),"Invalid distance calculation"),o},re.DONT_INTERSECT.get=function(){return 0},re.DO_INTERSECT.get=function(){return 1},re.COLLINEAR.get=function(){return 2},re.NO_INTERSECTION.get=function(){return 0},re.POINT_INTERSECTION.get=function(){return 1},re.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(ne,re);var ie=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isInSegmentEnvelopes=function(e){var t=new Y(this._inputLines[0][0],this._inputLines[0][1]),n=new Y(this._inputLines[1][0],this._inputLines[1][1]);return t.contains(e)&&n.contains(e)},t.prototype.computeIntersection=function(){if(3!==arguments.length)return e.prototype.computeIntersection.apply(this,arguments);var t=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,Y.intersects(n,r,t)&&0===se.orientationIndex(n,r,t)&&0===se.orientationIndex(r,n,t))return this._isProper=!0,(t.equals(n)||t.equals(r))&&(this._isProper=!1),this._result=e.POINT_INTERSECTION,null;this._result=e.NO_INTERSECTION},t.prototype.normalizeToMinimum=function(e,t,n,r,i){i.x=this.smallestInAbsValue(e.x,t.x,n.x,r.x),i.y=this.smallestInAbsValue(e.y,t.y,n.y,r.y),e.x-=i.x,e.y-=i.y,t.x-=i.x,t.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},t.prototype.safeHCoordinateIntersection=function(e,n,r,i){var o=null;try{o=q.intersection(e,n,r,i)}catch(a){if(!(a instanceof G))throw a;o=t.nearestEndpoint(e,n,r,i)}return o},t.prototype.intersection=function(e,n,r,i){var o=this.intersectionWithNormalization(e,n,r,i);return this.isInSegmentEnvelopes(o)||(o=new k(t.nearestEndpoint(e,n,r,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},t.prototype.smallestInAbsValue=function(e,t,n,r){var i=e,o=Math.abs(i);return Math.abs(t)<o&&(i=t,o=Math.abs(t)),Math.abs(n)<o&&(i=n,o=Math.abs(n)),Math.abs(r)<o&&(i=r),i},t.prototype.checkDD=function(e,t,n,r,i){var o=z.intersection(e,t,n,r),a=this.isInSegmentEnvelopes(o);H.out.println("DD in env = "+a+"  --------------------- "+o),i.distance(o)>1e-4&&H.out.println("Distance = "+i.distance(o))},t.prototype.intersectionWithNormalization=function(e,t,n,r){var i=new k(e),o=new k(t),a=new k(n),s=new k(r),u=new k;this.normalizeToEnvCentre(i,o,a,s,u);var l=this.safeHCoordinateIntersection(i,o,a,s);return l.x+=u.x,l.y+=u.y,l},t.prototype.computeCollinearIntersection=function(t,n,r,i){var o=Y.intersects(t,n,r),a=Y.intersects(t,n,i),s=Y.intersects(r,i,t),u=Y.intersects(r,i,n);return o&&a?(this._intPt[0]=r,this._intPt[1]=i,e.COLLINEAR_INTERSECTION):s&&u?(this._intPt[0]=t,this._intPt[1]=n,e.COLLINEAR_INTERSECTION):o&&s?(this._intPt[0]=r,this._intPt[1]=t,!r.equals(t)||a||u?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):o&&u?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||a||s?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):a&&s?(this._intPt[0]=i,this._intPt[1]=t,!i.equals(t)||o||u?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):a&&u?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||o||s?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):e.NO_INTERSECTION},t.prototype.normalizeToEnvCentre=function(e,t,n,r,i){var o=e.x<t.x?e.x:t.x,a=e.y<t.y?e.y:t.y,s=e.x>t.x?e.x:t.x,u=e.y>t.y?e.y:t.y,l=n.x<r.x?n.x:r.x,c=n.y<r.y?n.y:r.y,f=n.x>r.x?n.x:r.x,h=n.y>r.y?n.y:r.y,d=((o>l?o:l)+(s<f?s:f))/2,p=((a>c?a:c)+(u<h?u:h))/2;i.x=d,i.y=p,e.x-=i.x,e.y-=i.y,t.x-=i.x,t.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},t.prototype.computeIntersect=function(t,n,r,i){if(this._isProper=!1,!Y.intersects(t,n,r,i))return e.NO_INTERSECTION;var o=se.orientationIndex(t,n,r),a=se.orientationIndex(t,n,i);if(o>0&&a>0||o<0&&a<0)return e.NO_INTERSECTION;var s=se.orientationIndex(r,i,t),u=se.orientationIndex(r,i,n);return s>0&&u>0||s<0&&u<0?e.NO_INTERSECTION:0===o&&0===a&&0===s&&0===u?this.computeCollinearIntersection(t,n,r,i):(0===o||0===a||0===s||0===u?(this._isProper=!1,t.equals2D(r)||t.equals2D(i)?this._intPt[0]=t:n.equals2D(r)||n.equals2D(i)?this._intPt[0]=n:0===o?this._intPt[0]=new k(r):0===a?this._intPt[0]=new k(i):0===s?this._intPt[0]=new k(t):0===u&&(this._intPt[0]=new k(n))):(this._isProper=!0,this._intPt[0]=this.intersection(t,n,r,i)),e.POINT_INTERSECTION)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.nearestEndpoint=function(e,t,n,r){var i=e,o=se.distancePointLine(e,n,r),a=se.distancePointLine(t,n,r);return a<o&&(o=a,i=t),(a=se.distancePointLine(n,e,t))<o&&(o=a,i=n),(a=se.distancePointLine(r,e,t))<o&&(o=a,i=r),i},t}(ne),oe=function(){};oe.prototype.interfaces_=function(){return[]},oe.prototype.getClass=function(){return oe},oe.orientationIndex=function(e,t,n){var r=t.x-e.x,i=t.y-e.y,o=n.x-t.x,a=n.y-t.y;return oe.signOfDet2x2(r,i,o,a)},oe.signOfDet2x2=function(e,t,n,r){var i=null,o=null,a=null;if(i=1,0===e||0===r)return 0===t||0===n?0:t>0?n>0?-i:i:n>0?i:-i;if(0===t||0===n)return r>0?e>0?i:-i:e>0?-i:i;if(t>0?r>0?t<=r||(i=-i,o=e,e=n,n=o,o=t,t=r,r=o):t<=-r?(i=-i,n=-n,r=-r):(o=e,e=-n,n=o,o=t,t=-r,r=o):r>0?-t<=r?(i=-i,e=-e,t=-t):(o=-e,e=n,n=o,o=-t,t=r,r=o):t>=r?(e=-e,t=-t,n=-n,r=-r):(i=-i,o=-e,e=-n,n=o,o=-t,t=-r,r=o),e>0){if(!(n>0))return i;if(!(e<=n))return i}else{if(n>0)return-i;if(!(e>=n))return-i;i=-i,e=-e,n=-n}for(;;){if((r-=(a=Math.floor(n/e))*t)<0)return-i;if(r>t)return i;if(e>(n-=a*e)+n){if(t<r+r)return i}else{if(t>r+r)return-i;n=e-n,r=t-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n)return i;if((t-=(a=Math.floor(e/n))*r)<0)return i;if(t>r)return-i;if(n>(e-=a*n)+e){if(r<t+t)return-i}else{if(r>t+t)return i;e=n-e,t=r-t,i=-i}if(0===t)return 0===e?0:i;if(0===e)return-i}};var ae=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var e=arguments[0];this._p=e};ae.prototype.countSegment=function(e,t){if(e.x<this._p.x&&t.x<this._p.x)return null;if(this._p.x===t.x&&this._p.y===t.y)return this._isPointOnSegment=!0,null;if(e.y===this._p.y&&t.y===this._p.y){var n=e.x,r=t.x;return n>r&&(n=t.x,r=e.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(e.y>this._p.y&&t.y<=this._p.y||t.y>this._p.y&&e.y<=this._p.y){var i=e.x-this._p.x,o=e.y-this._p.y,a=t.x-this._p.x,s=t.y-this._p.y,u=oe.signOfDet2x2(i,o,a,s);if(0===u)return this._isPointOnSegment=!0,null;s<o&&(u=-u),u>0&&this._crossingCount++}},ae.prototype.isPointInPolygon=function(){return this.getLocation()!==T.EXTERIOR},ae.prototype.getLocation=function(){return this._isPointOnSegment?T.BOUNDARY:this._crossingCount%2==1?T.INTERIOR:T.EXTERIOR},ae.prototype.isOnSegment=function(){return this._isPointOnSegment},ae.prototype.interfaces_=function(){return[]},ae.prototype.getClass=function(){return ae},ae.locatePointInRing=function(){if(arguments[0]instanceof k&&D(arguments[1],B)){for(var e=arguments[1],t=new ae(arguments[0]),n=new k,r=new k,i=1;i<e.size();i++)if(e.getCoordinate(i,n),e.getCoordinate(i-1,r),t.countSegment(n,r),t.isOnSegment())return t.getLocation();return t.getLocation()}if(arguments[0]instanceof k&&arguments[1]instanceof Array){for(var o=arguments[1],a=new ae(arguments[0]),s=1;s<o.length;s++){var u=o[s],l=o[s-1];if(a.countSegment(u,l),a.isOnSegment())return a.getLocation()}return a.getLocation()}};var se=function(){},ue={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};se.prototype.interfaces_=function(){return[]},se.prototype.getClass=function(){return se},se.orientationIndex=function(e,t,n){return z.orientationIndex(e,t,n)},se.signedArea=function(){if(arguments[0]instanceof Array){var e=arguments[0];if(e.length<3)return 0;for(var t=0,n=e[0].x,r=1;r<e.length-1;r++){var i=e[r].x-n,o=e[r+1].y;t+=i*(e[r-1].y-o)}return t/2}if(D(arguments[0],B)){var a=arguments[0],s=a.size();if(s<3)return 0;var u=new k,l=new k,c=new k;a.getCoordinate(0,l),a.getCoordinate(1,c);var f=l.x;c.x-=f;for(var h=0,d=1;d<s-1;d++)u.y=l.y,l.x=c.x,l.y=c.y,a.getCoordinate(d+1,c),c.x-=f,h+=l.x*(u.y-c.y);return h/2}},se.distanceLineLine=function(e,t,n,r){if(e.equals(t))return se.distancePointLine(e,n,r);if(n.equals(r))return se.distancePointLine(r,e,t);var i=!1;if(Y.intersects(e,t,n,r)){var o=(t.x-e.x)*(r.y-n.y)-(t.y-e.y)*(r.x-n.x);if(0===o)i=!0;else{var a=(e.y-n.y)*(r.x-n.x)-(e.x-n.x)*(r.y-n.y),s=((e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y))/o,u=a/o;(u<0||u>1||s<0||s>1)&&(i=!0)}}else i=!0;return i?M.min(se.distancePointLine(e,n,r),se.distancePointLine(t,n,r),se.distancePointLine(n,e,t),se.distancePointLine(r,e,t)):0},se.isPointInRing=function(e,t){return se.locatePointInRing(e,t)!==T.EXTERIOR},se.computeLength=function(e){var t=e.size();if(t<=1)return 0;var n=0,r=new k;e.getCoordinate(0,r);for(var i=r.x,o=r.y,a=1;a<t;a++){e.getCoordinate(a,r);var s=r.x,u=r.y,l=s-i,c=u-o;n+=Math.sqrt(l*l+c*c),i=s,o=u}return n},se.isCCW=function(e){var t=e.length-1;if(t<3)throw new m("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=e[0],r=0,i=1;i<=t;i++){var o=e[i];o.y>n.y&&(n=o,r=i)}var a=r;do{(a-=1)<0&&(a=t)}while(e[a].equals2D(n)&&a!==r);var s=r;do{s=(s+1)%t}while(e[s].equals2D(n)&&s!==r);var u=e[a],l=e[s];if(u.equals2D(n)||l.equals2D(n)||u.equals2D(l))return!1;var c=se.computeOrientation(u,n,l);return 0===c?u.x>l.x:c>0},se.locatePointInRing=function(e,t){return ae.locatePointInRing(e,t)},se.distancePointLinePerpendicular=function(e,t,n){var r=(n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y),i=((t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y))/r;return Math.abs(i)*Math.sqrt(r)},se.computeOrientation=function(e,t,n){return se.orientationIndex(e,t,n)},se.distancePointLine=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];if(0===t.length)throw new m("Line array must contain at least one vertex");for(var n=e.distance(t[0]),r=0;r<t.length-1;r++){var i=se.distancePointLine(e,t[r],t[r+1]);i<n&&(n=i)}return n}if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];if(a.x===s.x&&a.y===s.y)return o.distance(a);var u=(s.x-a.x)*(s.x-a.x)+(s.y-a.y)*(s.y-a.y),l=((o.x-a.x)*(s.x-a.x)+(o.y-a.y)*(s.y-a.y))/u;if(l<=0)return o.distance(a);if(l>=1)return o.distance(s);var c=((a.y-o.y)*(s.x-a.x)-(a.x-o.x)*(s.y-a.y))/u;return Math.abs(c)*Math.sqrt(u)}},se.isOnLine=function(e,t){for(var n=new ie,r=1;r<t.length;r++){var i=t[r-1],o=t[r];if(n.computeIntersection(e,i,o),n.hasIntersection())return!0}return!1},ue.CLOCKWISE.get=function(){return-1},ue.RIGHT.get=function(){return se.CLOCKWISE},ue.COUNTERCLOCKWISE.get=function(){return 1},ue.LEFT.get=function(){return se.COUNTERCLOCKWISE},ue.COLLINEAR.get=function(){return 0},ue.STRAIGHT.get=function(){return se.COLLINEAR},Object.defineProperties(se,ue);var le=function(){};le.prototype.filter=function(e){},le.prototype.interfaces_=function(){return[]},le.prototype.getClass=function(){return le};var ce=function(){var e=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=e,this._SRID=e.getSRID()},fe={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};ce.prototype.isGeometryCollection=function(){return this.getSortIndex()===ce.SORTINDEX_GEOMETRYCOLLECTION},ce.prototype.getFactory=function(){return this._factory},ce.prototype.getGeometryN=function(e){return this},ce.prototype.getArea=function(){return 0},ce.prototype.isRectangle=function(){return!1},ce.prototype.equals=function(){if(arguments[0]instanceof ce){var e=arguments[0];return null!==e&&this.equalsTopo(e)}if(arguments[0]instanceof Object){var t=arguments[0];if(!(t instanceof ce))return!1;var n=t;return this.equalsExact(n)}},ce.prototype.equalsExact=function(e){return this===e||this.equalsExact(e,0)},ce.prototype.geometryChanged=function(){this.apply(ce.geometryChangedFilter)},ce.prototype.geometryChangedAction=function(){this._envelope=null},ce.prototype.equalsNorm=function(e){return null!==e&&this.norm().equalsExact(e.norm())},ce.prototype.getLength=function(){return 0},ce.prototype.getNumGeometries=function(){return 1},ce.prototype.compareTo=function(){if(1===arguments.length){var e=arguments[0],t=e;return this.getSortIndex()!==t.getSortIndex()?this.getSortIndex()-t.getSortIndex():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},ce.prototype.getUserData=function(){return this._userData},ce.prototype.getSRID=function(){return this._SRID},ce.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},ce.prototype.checkNotGeometryCollection=function(e){if(e.getSortIndex()===ce.SORTINDEX_GEOMETRYCOLLECTION)throw new m("This method does not support GeometryCollection arguments")},ce.prototype.equal=function(e,t,n){return 0===n?e.equals(t):e.distance(t)<=n},ce.prototype.norm=function(){var e=this.copy();return e.normalize(),e},ce.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},ce.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Y(this._envelope)},ce.prototype.setSRID=function(e){this._SRID=e},ce.prototype.setUserData=function(e){this._userData=e},ce.prototype.compare=function(e,t){for(var n=e.iterator(),r=t.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),a=i.compareTo(o);if(0!==a)return a}return n.hasNext()?1:r.hasNext()?-1:0},ce.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},ce.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===ce.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===ce.SORTINDEX_MULTIPOINT||this.getSortIndex()===ce.SORTINDEX_MULTILINESTRING||this.getSortIndex()===ce.SORTINDEX_MULTIPOLYGON},ce.prototype.interfaces_=function(){return[x,w,t]},ce.prototype.getClass=function(){return ce},ce.hasNonEmptyElements=function(e){for(var t=0;t<e.length;t++)if(!e[t].isEmpty())return!0;return!1},ce.hasNullElements=function(e){for(var t=0;t<e.length;t++)if(null===e[t])return!0;return!1},fe.serialVersionUID.get=function(){return 0x799ea46522854c00},fe.SORTINDEX_POINT.get=function(){return 0},fe.SORTINDEX_MULTIPOINT.get=function(){return 1},fe.SORTINDEX_LINESTRING.get=function(){return 2},fe.SORTINDEX_LINEARRING.get=function(){return 3},fe.SORTINDEX_MULTILINESTRING.get=function(){return 4},fe.SORTINDEX_POLYGON.get=function(){return 5},fe.SORTINDEX_MULTIPOLYGON.get=function(){return 6},fe.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},fe.geometryChangedFilter.get=function(){return he},Object.defineProperties(ce,fe);var he=function(){};he.interfaces_=function(){return[le]},he.filter=function(e){e.geometryChangedAction()};var de=function(){};de.prototype.filter=function(e){},de.prototype.interfaces_=function(){return[]},de.prototype.getClass=function(){return de};var pe=function(){},ge={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};pe.prototype.isInBoundary=function(e){},pe.prototype.interfaces_=function(){return[]},pe.prototype.getClass=function(){return pe},ge.Mod2BoundaryNodeRule.get=function(){return ve},ge.EndPointBoundaryNodeRule.get=function(){return ye},ge.MultiValentEndPointBoundaryNodeRule.get=function(){return me},ge.MonoValentEndPointBoundaryNodeRule.get=function(){return be},ge.MOD2_BOUNDARY_RULE.get=function(){return new ve},ge.ENDPOINT_BOUNDARY_RULE.get=function(){return new ye},ge.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new me},ge.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new be},ge.OGC_SFS_BOUNDARY_RULE.get=function(){return pe.MOD2_BOUNDARY_RULE},Object.defineProperties(pe,ge);var ve=function(){};ve.prototype.isInBoundary=function(e){return e%2==1},ve.prototype.interfaces_=function(){return[pe]},ve.prototype.getClass=function(){return ve};var ye=function(){};ye.prototype.isInBoundary=function(e){return e>0},ye.prototype.interfaces_=function(){return[pe]},ye.prototype.getClass=function(){return ye};var me=function(){};me.prototype.isInBoundary=function(e){return e>1},me.prototype.interfaces_=function(){return[pe]},me.prototype.getClass=function(){return me};var be=function(){};be.prototype.isInBoundary=function(e){return 1===e},be.prototype.interfaces_=function(){return[pe]},be.prototype.getClass=function(){return be};var _e=function(){};_e.prototype.add=function(){},_e.prototype.addAll=function(){},_e.prototype.isEmpty=function(){},_e.prototype.iterator=function(){},_e.prototype.size=function(){},_e.prototype.toArray=function(){},_e.prototype.remove=function(){},(n.prototype=new Error).name="IndexOutOfBoundsException";var we=function(){};we.prototype.hasNext=function(){},we.prototype.next=function(){},we.prototype.remove=function(){};var xe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(){},t.prototype.set=function(){},t.prototype.isEmpty=function(){},t}(_e);(r.prototype=new Error).name="NoSuchElementException";var Ee=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof _e&&this.addAll(arguments[0])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.ensureCapacity=function(){},t.prototype.interfaces_=function(){return[e,_e]},t.prototype.add=function(e){return 1===arguments.length?this.array_.push(e):this.array_.splice(arguments[0],arguments[1]),!0},t.prototype.clear=function(){this.array_=[]},t.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next());return!0},t.prototype.set=function(e,t){var n=this.array_[e];return this.array_[e]=t,n},t.prototype.iterator=function(){return new ke(this)},t.prototype.get=function(e){if(e<0||e>=this.size())throw new n;return this.array_[e]},t.prototype.isEmpty=function(){return 0===this.array_.length},t.prototype.size=function(){return this.array_.length},t.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},t.prototype.remove=function(e){for(var t=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===e){this.array_.splice(n,1),t=!0;break}return t},t}(xe),ke=function(e){function t(t){e.call(this),this.arrayList_=t,this.position_=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new r;return this.arrayList_.get(this.position_++)},t.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},t.prototype.set=function(e){return this.arrayList_.set(this.position_-1,e)},t.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},t}(we),Ce=function(e){function t(){if(e.call(this),0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},t.prototype.getCoordinate=function(e){return this.get(e)},t.prototype.addAll=function(){if(2===arguments.length){for(var t=arguments[1],n=!1,r=arguments[0].iterator();r.hasNext();)this.add(r.next(),t),n=!0;return n}return e.prototype.addAll.apply(this,arguments)},t.prototype.clone=function(){for(var t=e.prototype.clone.call(this),n=0;n<this.size();n++)t.add(n,this.get(n).copy());return t},t.prototype.toCoordinateArray=function(){return this.toArray(t.coordArrayType)},t.prototype.add=function(){if(1===arguments.length){var t=arguments[0];e.prototype.add.call(this,t)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],r=arguments[1];return this.add(n,r,!0),!0}if(arguments[0]instanceof k&&"boolean"==typeof arguments[1]){var i=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(i))return null;e.prototype.add.call(this,i)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],a=arguments[1];return this.add(o,a),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var s=arguments[0],u=arguments[1];if(arguments[2])for(var l=0;l<s.length;l++)this.add(s[l],u);else for(var c=s.length-1;c>=0;c--)this.add(s[c],u);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof k){var f=arguments[0],h=arguments[1];if(!arguments[2]){var d=this.size();if(d>0){if(f>0&&this.get(f-1).equals2D(h))return null;if(f<d&&this.get(f).equals2D(h))return null}}e.prototype.add.call(this,f,h)}}else if(4===arguments.length){var p=arguments[0],g=arguments[1],v=arguments[2],y=arguments[3],m=1;v>y&&(m=-1);for(var b=v;b!==y;b+=m)this.add(p[b],g);return!0}},t.prototype.closeRing=function(){this.size()>0&&this.add(new k(this.get(0)),!1)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},Object.defineProperties(t,n),t}(Ee),Se=function(){},Ne={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Ne.ForwardComparator.get=function(){return Te},Ne.BidirectionalComparator.get=function(){return Ie},Ne.coordArrayType.get=function(){return new Array(0).fill(null)},Se.prototype.interfaces_=function(){return[]},Se.prototype.getClass=function(){return Se},Se.isRing=function(e){return!(e.length<4||!e[0].equals2D(e[e.length-1]))},Se.ptNotInList=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(Se.indexOf(r,t)<0)return r}return null},Se.scroll=function(e,t){var n=Se.indexOf(t,e);if(n<0)return null;var r=new Array(e.length).fill(null);H.arraycopy(e,n,r,0,e.length-n),H.arraycopy(e,0,r,e.length-n,n),H.arraycopy(r,0,e,0,e.length)},Se.equals=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];if(e===t)return!0;if(null===e||null===t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].equals(t[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(0!==o.compare(r[a],i[a]))return!1;return!0}},Se.intersection=function(e,t){for(var n=new Ce,r=0;r<e.length;r++)t.intersects(e[r])&&n.add(e[r],!0);return n.toCoordinateArray()},Se.hasRepeatedPoints=function(e){for(var t=1;t<e.length;t++)if(e[t-1].equals(e[t]))return!0;return!1},Se.removeRepeatedPoints=function(e){return Se.hasRepeatedPoints(e)?new Ce(e,!1).toCoordinateArray():e},Se.reverse=function(e){for(var t=e.length-1,n=Math.trunc(t/2),r=0;r<=n;r++){var i=e[r];e[r]=e[t-r],e[t-r]=i}},Se.removeNull=function(e){for(var t=0,n=0;n<e.length;n++)null!==e[n]&&t++;var r=new Array(t).fill(null);if(0===t)return r;for(var i=0,o=0;o<e.length;o++)null!==e[o]&&(r[i++]=e[o]);return r},Se.copyDeep=function(){if(1===arguments.length){for(var e=arguments[0],t=new Array(e.length).fill(null),n=0;n<e.length;n++)t[n]=new k(e[n]);return t}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=arguments[4],u=0;u<s;u++)o[a+u]=new k(r[i+u])},Se.isEqualReversed=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=t[e.length-n-1];if(0!==r.compareTo(i))return!1}return!0},Se.envelope=function(e){for(var t=new Y,n=0;n<e.length;n++)t.expandToInclude(e[n]);return t},Se.toCoordinateArray=function(e){return e.toArray(Se.coordArrayType)},Se.atLeastNCoordinatesOrNothing=function(e,t){return t.length>=e?t:[]},Se.indexOf=function(e,t){for(var n=0;n<t.length;n++)if(e.equals(t[n]))return n;return-1},Se.increasingDirection=function(e){for(var t=0;t<Math.trunc(e.length/2);t++){var n=e.length-1-t,r=e[t].compareTo(e[n]);if(0!==r)return r}return 1},Se.compare=function(e,t){for(var n=0;n<e.length&&n<t.length;){var r=e[n].compareTo(t[n]);if(0!==r)return r;n++}return n<t.length?-1:n<e.length?1:0},Se.minCoordinate=function(e){for(var t=null,n=0;n<e.length;n++)(null===t||t.compareTo(e[n])>0)&&(t=e[n]);return t},Se.extract=function(e,t,n){t=M.clamp(t,0,e.length);var r=(n=M.clamp(n,-1,e.length))-t+1;n<0&&(r=0),t>=e.length&&(r=0),n<t&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,a=t;a<=n;a++)i[o++]=e[a];return i},Object.defineProperties(Se,Ne);var Te=function(){};Te.prototype.compare=function(e,t){return Se.compare(e,t)},Te.prototype.interfaces_=function(){return[E]},Te.prototype.getClass=function(){return Te};var Ie=function(){};Ie.prototype.compare=function(e,t){var n=e,r=t;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=Se.compare(n,r);return Se.isEqualReversed(n,r)?0:i},Ie.prototype.OLDcompare=function(e,t){var n=e,r=t;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=Se.increasingDirection(n),o=Se.increasingDirection(r),a=i>0?0:n.length-1,s=o>0?0:n.length-1,u=0;u<n.length;u++){var l=n[a].compareTo(r[s]);if(0!==l)return l;a+=i,s+=o}return 0},Ie.prototype.interfaces_=function(){return[E]},Ie.prototype.getClass=function(){return Ie};var De=function(){};De.prototype.get=function(){},De.prototype.put=function(){},De.prototype.size=function(){},De.prototype.values=function(){},De.prototype.entrySet=function(){};var Me=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(De);(i.prototype=new Error).name="OperationNotSupported",(o.prototype=new _e).contains=function(){};var Oe=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof _e&&this.addAll(arguments[0])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contains=function(e){for(var t=0,n=this.array_.length;t<n;t++)if(this.array_[t]===e)return!0;return!1},t.prototype.add=function(e){return!this.contains(e)&&(this.array_.push(e),!0)},t.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next());return!0},t.prototype.remove=function(e){throw new Error},t.prototype.size=function(){return this.array_.length},t.prototype.isEmpty=function(){return 0===this.array_.length},t.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},t.prototype.iterator=function(){return new Pe(this)},t}(o),Pe=function(e){function t(t){e.call(this),this.hashSet_=t,this.position_=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new r;return this.hashSet_.array_[this.position_++]},t.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},t.prototype.remove=function(){throw new i},t}(we),Le=0;(f.prototype=new Me).get=function(e){for(var t=this.root_;null!==t;){var n=e.compareTo(t.key);if(n<0)t=t.left;else{if(!(n>0))return t.value;t=t.right}}return null},f.prototype.put=function(e,t){if(null===this.root_)return this.root_={key:e,value:t,left:null,right:null,parent:null,color:Le,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=e.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var o=i.value;return i.value=t,o}i=i.right}}while(null!==i);var a={key:e,left:null,right:null,value:t,parent:n,color:Le,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=a:n.right=a,this.fixAfterInsertion(a),this.size_++,null},f.prototype.fixAfterInsertion=function(e){for(e.color=1;null!=e&&e!==this.root_&&1===e.parent.color;)if(s(e)===l(s(s(e)))){var t=c(s(s(e)));1===a(t)?(u(s(e),Le),u(t,Le),u(s(s(e)),1),e=s(s(e))):(e===c(s(e))&&(e=s(e),this.rotateLeft(e)),u(s(e),Le),u(s(s(e)),1),this.rotateRight(s(s(e))))}else{var n=l(s(s(e)));1===a(n)?(u(s(e),Le),u(n,Le),u(s(s(e)),1),e=s(s(e))):(e===l(s(e))&&(e=s(e),this.rotateRight(e)),u(s(e),Le),u(s(s(e)),1),this.rotateLeft(s(s(e))))}this.root_.color=Le},f.prototype.values=function(){var e=new Ee,t=this.getFirstEntry();if(null!==t)for(e.add(t.value);null!==(t=f.successor(t));)e.add(t.value);return e},f.prototype.entrySet=function(){var e=new Oe,t=this.getFirstEntry();if(null!==t)for(e.add(t);null!==(t=f.successor(t));)e.add(t);return e},f.prototype.rotateLeft=function(e){if(null!=e){var t=e.right;e.right=t.left,null!=t.left&&(t.left.parent=e),t.parent=e.parent,null===e.parent?this.root_=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}},f.prototype.rotateRight=function(e){if(null!=e){var t=e.left;e.left=t.right,null!=t.right&&(t.right.parent=e),t.parent=e.parent,null===e.parent?this.root_=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}},f.prototype.getFirstEntry=function(){var e=this.root_;if(null!=e)for(;null!=e.left;)e=e.left;return e},f.successor=function(e){if(null===e)return null;if(null!==e.right){for(var t=e.right;null!==t.left;)t=t.left;return t}for(var n=e.parent,r=e;null!==n&&r===n.right;)r=n,n=n.parent;return n},f.prototype.size=function(){return this.size_};var Ae=function(){};Ae.prototype.interfaces_=function(){return[]},Ae.prototype.getClass=function(){return Ae},h.prototype=new o,(d.prototype=new h).contains=function(e){for(var t=0,n=this.array_.length;t<n;t++)if(0===this.array_[t].compareTo(e))return!0;return!1},d.prototype.add=function(e){if(this.contains(e))return!1;for(var t=0,n=this.array_.length;t<n;t++)if(1===this.array_[t].compareTo(e))return this.array_.splice(t,0,e),!0;return this.array_.push(e),!0},d.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next());return!0},d.prototype.remove=function(e){throw new i},d.prototype.size=function(){return this.array_.length},d.prototype.isEmpty=function(){return 0===this.array_.length},d.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},d.prototype.iterator=function(){return new Re(this)};var Re=function(e){this.treeSet_=e,this.position_=0};Re.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new r;return this.treeSet_.array_[this.position_++]},Re.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Re.prototype.remove=function(){throw new i};var Fe=function(){};Fe.sort=function(){var e,t,n,r,i=arguments[0];if(1===arguments.length)r=function(e,t){return e.compareTo(t)},i.sort(r);else if(2===arguments.length)n=arguments[1],r=function(e,t){return n.compare(e,t)},i.sort(r);else if(3===arguments.length){(t=i.slice(arguments[1],arguments[2])).sort();var o=i.slice(0,arguments[1]).concat(t,i.slice(arguments[2],i.length));for(i.splice(0,i.length),e=0;e<o.length;e++)i.push(o[e])}else if(4===arguments.length)for(t=i.slice(arguments[1],arguments[2]),n=arguments[3],r=function(e,t){return n.compare(e,t)},t.sort(r),o=i.slice(0,arguments[1]).concat(t,i.slice(arguments[2],i.length)),i.splice(0,i.length),e=0;e<o.length;e++)i.push(o[e])},Fe.asList=function(e){for(var t=new Ee,n=0,r=e.length;n<r;n++)t.add(e[n]);return t};var ze=function(){},je={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};je.P.get=function(){return 0},je.L.get=function(){return 1},je.A.get=function(){return 2},je.FALSE.get=function(){return-1},je.TRUE.get=function(){return-2},je.DONTCARE.get=function(){return-3},je.SYM_FALSE.get=function(){return"F"},je.SYM_TRUE.get=function(){return"T"},je.SYM_DONTCARE.get=function(){return"*"},je.SYM_P.get=function(){return"0"},je.SYM_L.get=function(){return"1"},je.SYM_A.get=function(){return"2"},ze.prototype.interfaces_=function(){return[]},ze.prototype.getClass=function(){return ze},ze.toDimensionSymbol=function(e){switch(e){case ze.FALSE:return ze.SYM_FALSE;case ze.TRUE:return ze.SYM_TRUE;case ze.DONTCARE:return ze.SYM_DONTCARE;case ze.P:return ze.SYM_P;case ze.L:return ze.SYM_L;case ze.A:return ze.SYM_A}throw new m("Unknown dimension value: "+e)},ze.toDimensionValue=function(e){switch(A.toUpperCase(e)){case ze.SYM_FALSE:return ze.FALSE;case ze.SYM_TRUE:return ze.TRUE;case ze.SYM_DONTCARE:return ze.DONTCARE;case ze.SYM_P:return ze.P;case ze.SYM_L:return ze.L;case ze.SYM_A:return ze.A}throw new m("Unknown dimension symbol: "+e)},Object.defineProperties(ze,je);var Be=function(){};Be.prototype.filter=function(e){},Be.prototype.interfaces_=function(){return[]},Be.prototype.getClass=function(){return Be};var Ve=function(){};Ve.prototype.filter=function(e,t){},Ve.prototype.isDone=function(){},Ve.prototype.isGeometryChanged=function(){},Ve.prototype.interfaces_=function(){return[]},Ve.prototype.getClass=function(){return Ve};var Ue=function(e){function t(t,n){if(e.call(this,n),this._geometries=t||[],e.hasNullElements(this._geometries))throw new m("geometries must not contain null elements")}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){for(var e=new Y,t=0;t<this._geometries.length;t++)e.expandToInclude(this._geometries[t].getEnvelopeInternal());return e},t.prototype.getGeometryN=function(e){return this._geometries[e]},t.prototype.getSortIndex=function(){return e.SORTINDEX_GEOMETRYCOLLECTION},t.prototype.getCoordinates=function(){for(var e=new Array(this.getNumPoints()).fill(null),t=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),i=0;i<r.length;i++)e[++t]=r[i];return e},t.prototype.getArea=function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getArea();return e},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];if(!this.isEquivalentClass(t))return!1;var r=t;if(this._geometries.length!==r._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(r._geometries[i],n))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var e=0;e<this._geometries.length;e++)this._geometries[e].normalize();Fe.sort(this._geometries)},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},t.prototype.getBoundaryDimension=function(){for(var e=ze.FALSE,t=0;t<this._geometries.length;t++)e=Math.max(e,this._geometries[t].getBoundaryDimension());return e},t.prototype.getDimension=function(){for(var e=ze.FALSE,t=0;t<this._geometries.length;t++)e=Math.max(e,this._geometries[t].getDimension());return e},t.prototype.getLength=function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getLength();return e},t.prototype.getNumPoints=function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getNumPoints();return e},t.prototype.getNumGeometries=function(){return this._geometries.length},t.prototype.reverse=function(){for(var e=this._geometries.length,t=new Array(e).fill(null),n=0;n<this._geometries.length;n++)t[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(t)},t.prototype.compareToSameClass=function(){if(1===arguments.length){var e=arguments[0],t=new d(Fe.asList(this._geometries)),n=new d(Fe.asList(e._geometries));return this.compare(t,n)}if(2===arguments.length){for(var r=arguments[1],i=arguments[0],o=this.getNumGeometries(),a=i.getNumGeometries(),s=0;s<o&&s<a;){var u=this.getGeometryN(s),l=i.getGeometryN(s),c=u.compareToSameClass(l,r);if(0!==c)return c;s++}return s<o?1:s<a?-1:0}},t.prototype.apply=function(){if(D(arguments[0],de))for(var e=arguments[0],t=0;t<this._geometries.length;t++)this._geometries[t].apply(e);else if(D(arguments[0],Ve)){var n=arguments[0];if(0===this._geometries.length)return null;for(var r=0;r<this._geometries.length&&(this._geometries[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(D(arguments[0],Be)){var i=arguments[0];i.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(i)}else if(D(arguments[0],le)){var a=arguments[0];a.filter(this);for(var s=0;s<this._geometries.length;s++)this._geometries[s].apply(a)}},t.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),te.shouldNeverReachHere(),null},t.prototype.clone=function(){var t=e.prototype.clone.call(this);t._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)t._geometries[n]=this._geometries[n].clone();return t},t.prototype.getGeometryType=function(){return"GeometryCollection"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.isEmpty=function(){for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isEmpty())return!1;return!0},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(t,n),t}(ce),Ge=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return ce.SORTINDEX_MULTILINESTRING},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&e.prototype.equalsExact.call(this,t,n)}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?ze.FALSE:0},t.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isClosed())return!1;return!0},t.prototype.getDimension=function(){return 1},t.prototype.reverse=function(){for(var e=this._geometries.length,t=new Array(e).fill(null),n=0;n<this._geometries.length;n++)t[e-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(t)},t.prototype.getBoundary=function(){return new He(this).getBoundary()},t.prototype.getGeometryType=function(){return"MultiLineString"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.interfaces_=function(){return[Ae]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(t,n),t}(Ue),He=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var e=arguments[0],t=pe.MOD2_BOUNDARY_RULE;this._geom=e,this._geomFact=e.getFactory(),this._bnRule=t}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};He.prototype.boundaryMultiLineString=function(e){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var t=this.computeBoundaryCoordinates(e);return 1===t.length?this._geomFact.createPoint(t[0]):this._geomFact.createMultiPointFromCoords(t)},He.prototype.getBoundary=function(){return this._geom instanceof Ke?this.boundaryLineString(this._geom):this._geom instanceof Ge?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},He.prototype.boundaryLineString=function(e){return this._geom.isEmpty()?this.getEmptyMultiPoint():e.isClosed()?this._bnRule.isInBoundary(2)?e.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([e.getStartPoint(),e.getEndPoint()])},He.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},He.prototype.computeBoundaryCoordinates=function(e){var t=new Ee;this._endpointMap=new f;for(var n=0;n<e.getNumGeometries();n++){var r=e.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var i=this._endpointMap.entrySet().iterator();i.hasNext();){var o=i.next(),a=o.getValue().count;this._bnRule.isInBoundary(a)&&t.add(o.getKey())}return Se.toCoordinateArray(t)},He.prototype.addEndpoint=function(e){var t=this._endpointMap.get(e);null===t&&(t=new qe,this._endpointMap.put(e,t)),t.count++},He.prototype.interfaces_=function(){return[]},He.prototype.getClass=function(){return He},He.getBoundary=function(){return 1===arguments.length?new He(arguments[0]).getBoundary():2===arguments.length?new He(arguments[0],arguments[1]).getBoundary():void 0};var qe=function(){this.count=null};qe.prototype.interfaces_=function(){return[]},qe.prototype.getClass=function(){return qe};var Ye=function(){},We={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Ye.prototype.interfaces_=function(){return[]},Ye.prototype.getClass=function(){return Ye},Ye.chars=function(e,t){for(var n=new Array(t).fill(null),r=0;r<t;r++)n[r]=e;return String(n)},Ye.getStackTrace=function(){if(1===arguments.length){var e=arguments[0],t=new function(){},n=new function(){}(t);return e.printStackTrace(n),t.toString()}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o="",a=new function(){}(new function(){}(Ye.getStackTrace(r))),s=0;s<i;s++)try{o+=a.readLine()+Ye.NEWLINE}catch(e){if(!(e instanceof p))throw e;te.shouldNeverReachHere()}return o}},Ye.split=function(e,t){for(var n=t.length,r=new Ee,i=""+e,o=i.indexOf(t);o>=0;){var a=i.substring(0,o);r.add(a),o=(i=i.substring(o+n)).indexOf(t)}i.length>0&&r.add(i);for(var s=new Array(r.size()).fill(null),u=0;u<s.length;u++)s[u]=r.get(u);return s},Ye.toString=function(){if(1===arguments.length){var e=arguments[0];return Ye.SIMPLE_ORDINATE_FORMAT.format(e)}},Ye.spaces=function(e){return Ye.chars(" ",e)},We.NEWLINE.get=function(){return H.getProperty("line.separator")},We.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Ye,We);var Xe=function(){};Xe.prototype.interfaces_=function(){return[]},Xe.prototype.getClass=function(){return Xe},Xe.copyCoord=function(e,t,n,r){for(var i=Math.min(e.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,e.getOrdinate(t,o))},Xe.isRing=function(e){var t=e.size();return 0===t||!(t<=3)&&e.getOrdinate(0,B.X)===e.getOrdinate(t-1,B.X)&&e.getOrdinate(0,B.Y)===e.getOrdinate(t-1,B.Y)},Xe.isEqual=function(e,t){var n=e.size();if(n!==t.size())return!1;for(var r=Math.min(e.getDimension(),t.getDimension()),i=0;i<n;i++)for(var o=0;o<r;o++){var a=e.getOrdinate(i,o),s=t.getOrdinate(i,o);if(!(e.getOrdinate(i,o)===t.getOrdinate(i,o)||b.isNaN(a)&&b.isNaN(s)))return!1}return!0},Xe.extend=function(e,t,n){var r=e.create(n,t.getDimension()),i=t.size();if(Xe.copy(t,0,r,0,i),i>0)for(var o=i;o<n;o++)Xe.copy(t,i-1,r,o,1);return r},Xe.reverse=function(e){for(var t=e.size()-1,n=Math.trunc(t/2),r=0;r<=n;r++)Xe.swap(e,r,t-r)},Xe.swap=function(e,t,n){if(t===n)return null;for(var r=0;r<e.getDimension();r++){var i=e.getOrdinate(t,r);e.setOrdinate(t,r,e.getOrdinate(n,r)),e.setOrdinate(n,r,i)}},Xe.copy=function(e,t,n,r,i){for(var o=0;o<i;o++)Xe.copyCoord(e,t+o,n,r+o)},Xe.toString=function(){if(1===arguments.length){var e=arguments[0],t=e.size();if(0===t)return"()";var n=e.getDimension(),r=new P;r.append("(");for(var i=0;i<t;i++){i>0&&r.append(" ");for(var o=0;o<n;o++)o>0&&r.append(","),r.append(Ye.toString(e.getOrdinate(i,o)))}return r.append(")"),r.toString()}},Xe.ensureValidRing=function(e,t){var n=t.size();return 0===n?t:n<=3?Xe.createClosedRing(e,t,4):t.getOrdinate(0,B.X)===t.getOrdinate(n-1,B.X)&&t.getOrdinate(0,B.Y)===t.getOrdinate(n-1,B.Y)?t:Xe.createClosedRing(e,t,n+1)},Xe.createClosedRing=function(e,t,n){var r=e.create(n,t.getDimension()),i=t.size();Xe.copy(t,0,r,0,i);for(var o=i;o<n;o++)Xe.copy(t,0,r,o,1);return r};var Ke=function(e){function t(t,n){e.call(this,n),this._points=null,this.init(t)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Y:this._points.expandEnvelope(new Y)},t.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},t.prototype.getSortIndex=function(){return e.SORTINDEX_LINESTRING},t.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];if(!this.isEquivalentClass(t))return!1;var r=t;if(this._points.size()!==r._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),r._points.getCoordinate(i),n))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var e=0;e<Math.trunc(this._points.size()/2);e++){var t=this._points.size()-1-e;if(!this._points.getCoordinate(e).equals(this._points.getCoordinate(t)))return this._points.getCoordinate(e).compareTo(this._points.getCoordinate(t))>0&&Xe.reverse(this._points),null}},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?ze.FALSE:0},t.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},t.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},t.prototype.getDimension=function(){return 1},t.prototype.getLength=function(){return se.computeLength(this._points)},t.prototype.getNumPoints=function(){return this._points.size()},t.prototype.reverse=function(){var e=this._points.copy();return Xe.reverse(e),this.getFactory().createLineString(e)},t.prototype.compareToSameClass=function(){if(1===arguments.length){for(var e=arguments[0],t=0,n=0;t<this._points.size()&&n<e._points.size();){var r=this._points.getCoordinate(t).compareTo(e._points.getCoordinate(n));if(0!==r)return r;t++,n++}return t<this._points.size()?1:n<e._points.size()?-1:0}if(2===arguments.length){var i=arguments[0];return arguments[1].compare(this._points,i._points)}},t.prototype.apply=function(){if(D(arguments[0],de))for(var e=arguments[0],t=0;t<this._points.size();t++)e.filter(this._points.getCoordinate(t));else if(D(arguments[0],Ve)){var n=arguments[0];if(0===this._points.size())return null;for(var r=0;r<this._points.size()&&(n.filter(this._points,r),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else(D(arguments[0],Be)||D(arguments[0],le))&&arguments[0].filter(this)},t.prototype.getBoundary=function(){return new He(this).getBoundary()},t.prototype.isEquivalentClass=function(e){return e instanceof t},t.prototype.clone=function(){var t=e.prototype.clone.call(this);return t._points=this._points.clone(),t},t.prototype.getCoordinateN=function(e){return this._points.getCoordinate(e)},t.prototype.getGeometryType=function(){return"LineString"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._points},t.prototype.isEmpty=function(){return 0===this._points.size()},t.prototype.init=function(e){if(null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),1===e.size())throw new m("Invalid number of points in LineString (found "+e.size()+" - must be 0 or >= 2)");this._points=e},t.prototype.isCoordinate=function(e){for(var t=0;t<this._points.size();t++)if(this._points.getCoordinate(t).equals(e))return!0;return!1},t.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},t.prototype.getPointN=function(e){return this.getFactory().createPoint(this._points.getCoordinate(e))},t.prototype.interfaces_=function(){return[Ae]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(t,n),t}(ce),$e=function(){};$e.prototype.interfaces_=function(){return[]},$e.prototype.getClass=function(){return $e};var Qe=function(e){function t(t,n){e.call(this,n),this._coordinates=t||null,this.init(this._coordinates)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Y;var e=new Y;return e.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),e},t.prototype.getSortIndex=function(){return e.SORTINDEX_POINT},t.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),n))}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){},t.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},t.prototype.getBoundaryDimension=function(){return ze.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getNumPoints=function(){return this.isEmpty()?0:1},t.prototype.reverse=function(){return this.copy()},t.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},t.prototype.compareToSameClass=function(){if(1===arguments.length){var e=arguments[0];return this.getCoordinate().compareTo(e.getCoordinate())}if(2===arguments.length){var t=arguments[0];return arguments[1].compare(this._coordinates,t._coordinates)}},t.prototype.apply=function(){if(D(arguments[0],de)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this.getCoordinate())}else if(D(arguments[0],Ve)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this._coordinates,0),t.isGeometryChanged()&&this.geometryChanged()}else(D(arguments[0],Be)||D(arguments[0],le))&&arguments[0].filter(this)},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.clone=function(){var t=e.prototype.clone.call(this);return t._coordinates=this._coordinates.clone(),t},t.prototype.getGeometryType=function(){return"Point"},t.prototype.copy=function(){return new t(this._coordinates.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._coordinates},t.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},t.prototype.isEmpty=function(){return 0===this._coordinates.size()},t.prototype.init=function(e){null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),te.isTrue(e.size()<=1),this._coordinates=e},t.prototype.isSimple=function(){return!0},t.prototype.interfaces_=function(){return[$e]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(t,n),t}(ce),Ze=function(){};Ze.prototype.interfaces_=function(){return[]},Ze.prototype.getClass=function(){return Ze};var Je=function(e){function t(t,n,r){if(e.call(this,r),this._shell=null,this._holes=null,null===t&&(t=this.getFactory().createLinearRing()),null===n&&(n=[]),e.hasNullElements(n))throw new m("holes must not contain null elements");if(t.isEmpty()&&e.hasNonEmptyElements(n))throw new m("shell is empty but holes are not");this._shell=t,this._holes=n}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},t.prototype.getSortIndex=function(){return e.SORTINDEX_POLYGON},t.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var e=new Array(this.getNumPoints()).fill(null),t=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)e[++t]=n[r];for(var i=0;i<this._holes.length;i++)for(var o=this._holes[i].getCoordinates(),a=0;a<o.length;a++)e[++t]=o[a];return e},t.prototype.getArea=function(){var e=0;e+=Math.abs(se.signedArea(this._shell.getCoordinateSequence()));for(var t=0;t<this._holes.length;t++)e-=Math.abs(se.signedArea(this._holes[t].getCoordinateSequence()));return e},t.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var e=this._shell.getCoordinateSequence(),t=this.getEnvelopeInternal(),n=0;n<5;n++){var r=e.getX(n);if(r!==t.getMinX()&&r!==t.getMaxX())return!1;var i=e.getY(n);if(i!==t.getMinY()&&i!==t.getMaxY())return!1}for(var o=e.getX(0),a=e.getY(0),s=1;s<=4;s++){var u=e.getX(s),l=e.getY(s);if(u!==o==(l!==a))return!1;o=u,a=l}return!0},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];if(!this.isEquivalentClass(t))return!1;var r=t,i=this._shell,o=r._shell;if(!i.equalsExact(o,n))return!1;if(this._holes.length!==r._holes.length)return!1;for(var a=0;a<this._holes.length;a++)if(!this._holes[a].equalsExact(r._holes[a],n))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var e=0;e<this._holes.length;e++)this.normalize(this._holes[e],!1);Fe.sort(this._holes)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(t.isEmpty())return null;var r=new Array(t.getCoordinates().length-1).fill(null);H.arraycopy(t.getCoordinates(),0,r,0,r.length);var i=Se.minCoordinate(t.getCoordinates());Se.scroll(r,i),H.arraycopy(r,0,t.getCoordinates(),0,r.length),t.getCoordinates()[r.length]=r[0],se.isCCW(t.getCoordinates())===n&&Se.reverse(t.getCoordinates())}},t.prototype.getCoordinate=function(){return this._shell.getCoordinate()},t.prototype.getNumInteriorRing=function(){return this._holes.length},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.getLength=function(){var e=0;e+=this._shell.getLength();for(var t=0;t<this._holes.length;t++)e+=this._holes[t].getLength();return e},t.prototype.getNumPoints=function(){for(var e=this._shell.getNumPoints(),t=0;t<this._holes.length;t++)e+=this._holes[t].getNumPoints();return e},t.prototype.reverse=function(){var e=this.copy();e._shell=this._shell.copy().reverse(),e._holes=new Array(this._holes.length).fill(null);for(var t=0;t<this._holes.length;t++)e._holes[t]=this._holes[t].copy().reverse();return e},t.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},t.prototype.compareToSameClass=function(){if(1===arguments.length){var e=arguments[0],t=this._shell,n=e._shell;return t.compareToSameClass(n)}if(2===arguments.length){var r=arguments[1],i=arguments[0],o=this._shell,a=i._shell,s=o.compareToSameClass(a,r);if(0!==s)return s;for(var u=this.getNumInteriorRing(),l=i.getNumInteriorRing(),c=0;c<u&&c<l;){var f=this.getInteriorRingN(c),h=i.getInteriorRingN(c),d=f.compareToSameClass(h,r);if(0!==d)return d;c++}return c<u?1:c<l?-1:0}},t.prototype.apply=function(e){if(D(e,de)){this._shell.apply(e);for(var t=0;t<this._holes.length;t++)this._holes[t].apply(e)}else if(D(e,Ve)){if(this._shell.apply(e),!e.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(e),!e.isDone());n++);e.isGeometryChanged()&&this.geometryChanged()}else if(D(e,Be))e.filter(this);else if(D(e,le)){e.filter(this),this._shell.apply(e);for(var r=0;r<this._holes.length;r++)this._holes[r].apply(e)}},t.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var e=new Array(this._holes.length+1).fill(null);e[0]=this._shell;for(var t=0;t<this._holes.length;t++)e[t+1]=this._holes[t];return e.length<=1?this.getFactory().createLinearRing(e[0].getCoordinateSequence()):this.getFactory().createMultiLineString(e)},t.prototype.clone=function(){var t=e.prototype.clone.call(this);t._shell=this._shell.clone(),t._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)t._holes[n]=this._holes[n].clone();return t},t.prototype.getGeometryType=function(){return"Polygon"},t.prototype.copy=function(){for(var e=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new t(e,n,this._factory)},t.prototype.getExteriorRing=function(){return this._shell},t.prototype.isEmpty=function(){return this._shell.isEmpty()},t.prototype.getInteriorRingN=function(e){return this._holes[e]},t.prototype.interfaces_=function(){return[Ze]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(t,n),t}(ce),et=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return ce.SORTINDEX_MULTIPOINT},t.prototype.isValid=function(){return!0},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&e.prototype.equalsExact.call(this,t,n)}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._geometries[t].getCoordinate()}return e.prototype.getCoordinate.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return ze.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.getGeometryType=function(){return"MultiPoint"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.interfaces_=function(){return[$e]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(t,n),t}(Ue),tt=function(e){function t(t,n){t instanceof k&&n instanceof yt&&(t=n.getCoordinateSequenceFactory().create(t)),e.call(this,t,n),this.validateConstruction()}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return ce.SORTINDEX_LINEARRING},t.prototype.getBoundaryDimension=function(){return ze.FALSE},t.prototype.isClosed=function(){return!!this.isEmpty()||e.prototype.isClosed.call(this)},t.prototype.reverse=function(){var e=this._points.copy();return Xe.reverse(e),this.getFactory().createLinearRing(e)},t.prototype.validateConstruction=function(){if(!this.isEmpty()&&!e.prototype.isClosed.call(this))throw new m("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<t.MINIMUM_VALID_SIZE)throw new m("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},t.prototype.getGeometryType=function(){return"LinearRing"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(t,n),t}(Ke),nt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return ce.SORTINDEX_MULTIPOLYGON},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&e.prototype.equalsExact.call(this,t,n)}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.reverse=function(){for(var e=this._geometries.length,t=new Array(e).fill(null),n=0;n<this._geometries.length;n++)t[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(t)},t.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var e=new Ee,t=0;t<this._geometries.length;t++)for(var n=this._geometries[t].getBoundary(),r=0;r<n.getNumGeometries();r++)e.add(n.getGeometryN(r));var i=new Array(e.size()).fill(null);return this.getFactory().createMultiLineString(e.toArray(i))},t.prototype.getGeometryType=function(){return"MultiPolygon"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.interfaces_=function(){return[Ze]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(t,n),t}(Ue),rt=function(e){this._factory=e||null,this._isUserDataCopied=!1},it={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};rt.prototype.setCopyUserData=function(e){this._isUserDataCopied=e},rt.prototype.edit=function(e,t){if(null===e)return null;var n=this.editInternal(e,t);return this._isUserDataCopied&&n.setUserData(e.getUserData()),n},rt.prototype.editInternal=function(e,t){return null===this._factory&&(this._factory=e.getFactory()),e instanceof Ue?this.editGeometryCollection(e,t):e instanceof Je?this.editPolygon(e,t):e instanceof Qe||e instanceof Ke?t.edit(e,this._factory):(te.shouldNeverReachHere("Unsupported Geometry class: "+e.getClass().getName()),null)},rt.prototype.editGeometryCollection=function(e,t){for(var n=t.edit(e,this._factory),r=new Ee,i=0;i<n.getNumGeometries();i++){var o=this.edit(n.getGeometryN(i),t);null===o||o.isEmpty()||r.add(o)}return n.getClass()===et?this._factory.createMultiPoint(r.toArray([])):n.getClass()===Ge?this._factory.createMultiLineString(r.toArray([])):n.getClass()===nt?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},rt.prototype.editPolygon=function(e,t){var n=t.edit(e,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),t);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var i=new Ee,o=0;o<n.getNumInteriorRing();o++){var a=this.edit(n.getInteriorRingN(o),t);null===a||a.isEmpty()||i.add(a)}return this._factory.createPolygon(r,i.toArray([]))},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt.GeometryEditorOperation=function(){},it.NoOpGeometryOperation.get=function(){return ot},it.CoordinateOperation.get=function(){return at},it.CoordinateSequenceOperation.get=function(){return st},Object.defineProperties(rt,it);var ot=function(){};ot.prototype.edit=function(e,t){return e},ot.prototype.interfaces_=function(){return[rt.GeometryEditorOperation]},ot.prototype.getClass=function(){return ot};var at=function(){};at.prototype.edit=function(e,t){var n=this.editCoordinates(e.getCoordinates(),e);return null===n?e:e instanceof tt?t.createLinearRing(n):e instanceof Ke?t.createLineString(n):e instanceof Qe?n.length>0?t.createPoint(n[0]):t.createPoint():e},at.prototype.interfaces_=function(){return[rt.GeometryEditorOperation]},at.prototype.getClass=function(){return at};var st=function(){};st.prototype.edit=function(e,t){return e instanceof tt?t.createLinearRing(this.edit(e.getCoordinateSequence(),e)):e instanceof Ke?t.createLineString(this.edit(e.getCoordinateSequence(),e)):e instanceof Qe?t.createPoint(this.edit(e.getCoordinateSequence(),e)):e},st.prototype.interfaces_=function(){return[rt.GeometryEditorOperation]},st.prototype.getClass=function(){return st};var ut=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var e=arguments[0];this._coordinates=new Array(e).fill(null);for(var t=0;t<e;t++)this._coordinates[t]=new k}else if(D(arguments[0],B)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var r=0;r<this._coordinates.length;r++)this._coordinates[r]=n.getCoordinateCopy(r)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var i=arguments[0],o=arguments[1];this._coordinates=i,this._dimension=o,null===i&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],s=arguments[1];this._coordinates=new Array(a).fill(null),this._dimension=s;for(var u=0;u<a;u++)this._coordinates[u]=new k}},lt={serialVersionUID:{configurable:!0}};ut.prototype.setOrdinate=function(e,t,n){switch(t){case B.X:this._coordinates[e].x=n;break;case B.Y:this._coordinates[e].y=n;break;case B.Z:this._coordinates[e].z=n;break;default:throw new m("invalid ordinateIndex")}},ut.prototype.size=function(){return this._coordinates.length},ut.prototype.getOrdinate=function(e,t){switch(t){case B.X:return this._coordinates[e].x;case B.Y:return this._coordinates[e].y;case B.Z:return this._coordinates[e].z}return b.NaN},ut.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._coordinates[e]}if(2===arguments.length){var t=arguments[0],n=arguments[1];n.x=this._coordinates[t].x,n.y=this._coordinates[t].y,n.z=this._coordinates[t].z}},ut.prototype.getCoordinateCopy=function(e){return new k(this._coordinates[e])},ut.prototype.getDimension=function(){return this._dimension},ut.prototype.getX=function(e){return this._coordinates[e].x},ut.prototype.clone=function(){for(var e=new Array(this.size()).fill(null),t=0;t<this._coordinates.length;t++)e[t]=this._coordinates[t].clone();return new ut(e,this._dimension)},ut.prototype.expandEnvelope=function(e){for(var t=0;t<this._coordinates.length;t++)e.expandToInclude(this._coordinates[t]);return e},ut.prototype.copy=function(){for(var e=new Array(this.size()).fill(null),t=0;t<this._coordinates.length;t++)e[t]=this._coordinates[t].copy();return new ut(e,this._dimension)},ut.prototype.toString=function(){if(this._coordinates.length>0){var e=new P(17*this._coordinates.length);e.append("("),e.append(this._coordinates[0]);for(var t=1;t<this._coordinates.length;t++)e.append(", "),e.append(this._coordinates[t]);return e.append(")"),e.toString()}return"()"},ut.prototype.getY=function(e){return this._coordinates[e].y},ut.prototype.toCoordinateArray=function(){return this._coordinates},ut.prototype.interfaces_=function(){return[B,t]},ut.prototype.getClass=function(){return ut},lt.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(ut,lt);var ct=function(){},ft={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};ct.prototype.readResolve=function(){return ct.instance()},ct.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new ut(arguments[0]);if(D(arguments[0],B))return new ut(arguments[0])}else if(2===arguments.length){var e=arguments[0],t=arguments[1];return t>3&&(t=3),t<2?new ut(e):new ut(e,t)}},ct.prototype.interfaces_=function(){return[N,t]},ct.prototype.getClass=function(){return ct},ct.instance=function(){return ct.instanceObject},ft.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},ft.instanceObject.get=function(){return new ct},Object.defineProperties(ct,ft);var ht=function(e){function t(){e.call(this),this.map_=new Map}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return this.map_.get(e)||null},t.prototype.put=function(e,t){return this.map_.set(e,t),t},t.prototype.values=function(){for(var e=new Ee,t=this.map_.values(),n=t.next();!n.done;)e.add(n.value),n=t.next();return e},t.prototype.entrySet=function(){var e=new Oe;return this.map_.entries().forEach((function(t){return e.add(t)})),e},t.prototype.size=function(){return this.map_.size()},t}(De),dt=function e(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=e.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof gt){var t=arguments[0];this._modelType=t,t===e.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=e.FIXED,this.setScale(n)}else if(arguments[0]instanceof e){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},pt={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};dt.prototype.equals=function(e){if(!(e instanceof dt))return!1;var t=e;return this._modelType===t._modelType&&this._scale===t._scale},dt.prototype.compareTo=function(e){var t=e,n=this.getMaximumSignificantDigits(),r=t.getMaximumSignificantDigits();return new L(n).compareTo(new L(r))},dt.prototype.getScale=function(){return this._scale},dt.prototype.isFloating=function(){return this._modelType===dt.FLOATING||this._modelType===dt.FLOATING_SINGLE},dt.prototype.getType=function(){return this._modelType},dt.prototype.toString=function(){var e="UNKNOWN";return this._modelType===dt.FLOATING?e="Floating":this._modelType===dt.FLOATING_SINGLE?e="Floating-Single":this._modelType===dt.FIXED&&(e="Fixed (Scale="+this.getScale()+")"),e},dt.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var e=arguments[0];return b.isNaN(e)||this._modelType===dt.FLOATING_SINGLE?e:this._modelType===dt.FIXED?Math.round(e*this._scale)/this._scale:e}if(arguments[0]instanceof k){var t=arguments[0];if(this._modelType===dt.FLOATING)return null;t.x=this.makePrecise(t.x),t.y=this.makePrecise(t.y)}},dt.prototype.getMaximumSignificantDigits=function(){var e=16;return this._modelType===dt.FLOATING?e=16:this._modelType===dt.FLOATING_SINGLE?e=6:this._modelType===dt.FIXED&&(e=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),e},dt.prototype.setScale=function(e){this._scale=Math.abs(e)},dt.prototype.interfaces_=function(){return[t,w]},dt.prototype.getClass=function(){return dt},dt.mostPrecise=function(e,t){return e.compareTo(t)>=0?e:t},pt.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},pt.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(dt,pt);var gt=function e(t){this._name=t||null,e.nameToTypeMap.put(t,this)},vt={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};gt.prototype.readResolve=function(){return gt.nameToTypeMap.get(this._name)},gt.prototype.toString=function(){return this._name},gt.prototype.interfaces_=function(){return[t]},gt.prototype.getClass=function(){return gt},vt.serialVersionUID.get=function(){return-552860263173159e4},vt.nameToTypeMap.get=function(){return new ht},Object.defineProperties(gt,vt),dt.Type=gt,dt.FIXED=new gt("FIXED"),dt.FLOATING=new gt("FLOATING"),dt.FLOATING_SINGLE=new gt("FLOATING SINGLE");var yt=function e(){this._precisionModel=new dt,this._SRID=0,this._coordinateSequenceFactory=e.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?D(arguments[0],N)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof dt&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},mt={serialVersionUID:{configurable:!0}};yt.prototype.toGeometry=function(e){return e.isNull()?this.createPoint(null):e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new k(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new k(e.getMinX(),e.getMinY()),new k(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new k(e.getMinX(),e.getMinY()),new k(e.getMinX(),e.getMaxY()),new k(e.getMaxX(),e.getMaxY()),new k(e.getMaxX(),e.getMinY()),new k(e.getMinX(),e.getMinY())]),null)},yt.prototype.createLineString=function(e){return e?e instanceof Array?new Ke(this.getCoordinateSequenceFactory().create(e),this):D(e,B)?new Ke(e,this):void 0:new Ke(this.getCoordinateSequenceFactory().create([]),this)},yt.prototype.createMultiLineString=function(){return 0===arguments.length?new Ge(null,this):1===arguments.length?new Ge(arguments[0],this):void 0},yt.prototype.buildGeometry=function(e){for(var t=null,n=!1,r=!1,i=e.iterator();i.hasNext();){var o=i.next(),a=o.getClass();null===t&&(t=a),a!==t&&(n=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(null===t)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(yt.toGeometryArray(e));var s=e.iterator().next();if(e.size()>1){if(s instanceof Je)return this.createMultiPolygon(yt.toPolygonArray(e));if(s instanceof Ke)return this.createMultiLineString(yt.toLineStringArray(e));if(s instanceof Qe)return this.createMultiPoint(yt.toPointArray(e));te.shouldNeverReachHere("Unhandled class: "+s.getClass().getName())}return s},yt.prototype.createMultiPointFromCoords=function(e){return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)},yt.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof k){var e=arguments[0];return this.createPoint(null!==e?this.getCoordinateSequenceFactory().create([e]):null)}if(D(arguments[0],B))return new Qe(arguments[0],this)}},yt.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},yt.prototype.createPolygon=function(){if(0===arguments.length)return new Je(null,null,this);if(1===arguments.length){if(D(arguments[0],B)){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Array){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof tt){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length)return new Je(arguments[0],arguments[1],this)},yt.prototype.getSRID=function(){return this._SRID},yt.prototype.createGeometryCollection=function(){return 0===arguments.length?new Ue(null,this):1===arguments.length?new Ue(arguments[0],this):void 0},yt.prototype.createGeometry=function(e){return new rt(this).edit(e,{edit:function(){if(2===arguments.length){var e=arguments[0];return this._coordinateSequenceFactory.create(e)}}})},yt.prototype.getPrecisionModel=function(){return this._precisionModel},yt.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLinearRing(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(D(arguments[0],B))return new tt(arguments[0],this)}},yt.prototype.createMultiPolygon=function(){return 0===arguments.length?new nt(null,this):1===arguments.length?new nt(arguments[0],this):void 0},yt.prototype.createMultiPoint=function(){if(0===arguments.length)return new et(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new et(arguments[0],this);if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(D(arguments[0],B)){var t=arguments[0];if(null===t)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(t.size()).fill(null),r=0;r<t.size();r++){var i=this.getCoordinateSequenceFactory().create(1,t.getDimension());Xe.copy(t,r,i,0,1),n[r]=this.createPoint(i)}return this.createMultiPoint(n)}}},yt.prototype.interfaces_=function(){return[t]},yt.prototype.getClass=function(){return yt},yt.toMultiPolygonArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},yt.toGeometryArray=function(e){if(null===e)return null;var t=new Array(e.size()).fill(null);return e.toArray(t)},yt.getDefaultCoordinateSequenceFactory=function(){return ct.instance()},yt.toMultiLineStringArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},yt.toLineStringArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},yt.toMultiPointArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},yt.toLinearRingArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},yt.toPointArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},yt.toPolygonArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},yt.createPointFromInternalCoord=function(e,t){return t.getPrecisionModel().makePrecise(e),t.getFactory().createPoint(e)},mt.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(yt,mt);var bt=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],_t=function(e){this.geometryFactory=e||new yt};_t.prototype.read=function(e){var t,n=(t="string"==typeof e?JSON.parse(e):e).type;if(!wt[n])throw new Error("Unknown GeoJSON type: "+t.type);return-1!==bt.indexOf(n)?wt[n].apply(this,[t.coordinates]):"GeometryCollection"===n?wt[n].apply(this,[t.geometries]):wt[n].apply(this,[t])},_t.prototype.write=function(e){var t=e.getGeometryType();if(!xt[t])throw new Error("Geometry is not supported");return xt[t].apply(this,[e])};var wt={Feature:function(e){var t={};for(var n in e)t[n]=e[n];if(e.geometry){var r=e.geometry.type;if(!wt[r])throw new Error("Unknown GeoJSON type: "+e.type);t.geometry=this.read(e.geometry)}return e.bbox&&(t.bbox=wt.bbox.apply(this,[e.bbox])),t},FeatureCollection:function(e){var t={};if(e.features){t.features=[];for(var n=0;n<e.features.length;++n)t.features.push(this.read(e.features[n]))}return e.bbox&&(t.bbox=this.parse.bbox.apply(this,[e.bbox])),t},coordinates:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(new k(r[0],r[1]))}return t},bbox:function(e){return this.geometryFactory.createLinearRing([new k(e[0],e[1]),new k(e[2],e[1]),new k(e[2],e[3]),new k(e[0],e[3]),new k(e[0],e[1])])},Point:function(e){var t=new k(e[0],e[1]);return this.geometryFactory.createPoint(t)},MultiPoint:function(e){for(var t=[],n=0;n<e.length;++n)t.push(wt.Point.apply(this,[e[n]]));return this.geometryFactory.createMultiPoint(t)},LineString:function(e){var t=wt.coordinates.apply(this,[e]);return this.geometryFactory.createLineString(t)},MultiLineString:function(e){for(var t=[],n=0;n<e.length;++n)t.push(wt.LineString.apply(this,[e[n]]));return this.geometryFactory.createMultiLineString(t)},Polygon:function(e){for(var t=wt.coordinates.apply(this,[e[0]]),n=this.geometryFactory.createLinearRing(t),r=[],i=1;i<e.length;++i){var o=e[i],a=wt.coordinates.apply(this,[o]),s=this.geometryFactory.createLinearRing(a);r.push(s)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(wt.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(t)},GeometryCollection:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(this.read(r))}return this.geometryFactory.createGeometryCollection(t)}},xt={coordinate:function(e){return[e.x,e.y]},Point:function(e){return{type:"Point",coordinates:xt.coordinate.apply(this,[e.getCoordinate()])}},MultiPoint:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],i=xt.Point.apply(this,[r]);t.push(i.coordinates)}return{type:"MultiPoint",coordinates:t}},LineString:function(e){for(var t=[],n=e.getCoordinates(),r=0;r<n.length;++r){var i=n[r];t.push(xt.coordinate.apply(this,[i]))}return{type:"LineString",coordinates:t}},MultiLineString:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],i=xt.LineString.apply(this,[r]);t.push(i.coordinates)}return{type:"MultiLineString",coordinates:t}},Polygon:function(e){var t=[],n=xt.LineString.apply(this,[e._shell]);t.push(n.coordinates);for(var r=0;r<e._holes.length;++r){var i=e._holes[r],o=xt.LineString.apply(this,[i]);t.push(o.coordinates)}return{type:"Polygon",coordinates:t}},MultiPolygon:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],i=xt.Polygon.apply(this,[r]);t.push(i.coordinates)}return{type:"MultiPolygon",coordinates:t}},GeometryCollection:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],i=r.getGeometryType();t.push(xt[i].apply(this,[r]))}return{type:"GeometryCollection",geometries:t}}},Et=function(e){this.geometryFactory=e||new yt,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new _t(this.geometryFactory)};Et.prototype.read=function(e){var t=this.parser.read(e);return this.precisionModel.getType()===dt.FIXED&&this.reducePrecision(t),t},Et.prototype.reducePrecision=function(e){var t,n;if(e.coordinate)this.precisionModel.makePrecise(e.coordinate);else if(e.points)for(t=0,n=e.points.length;t<n;t++)this.precisionModel.makePrecise(e.points[t]);else if(e.geometries)for(t=0,n=e.geometries.length;t<n;t++)this.reducePrecision(e.geometries[t])};var kt=function(){this.parser=new _t(this.geometryFactory)};kt.prototype.write=function(e){return this.parser.write(e)};var Ct=function(){},St={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Ct.prototype.interfaces_=function(){return[]},Ct.prototype.getClass=function(){return Ct},Ct.opposite=function(e){return e===Ct.LEFT?Ct.RIGHT:e===Ct.RIGHT?Ct.LEFT:e},St.ON.get=function(){return 0},St.LEFT.get=function(){return 1},St.RIGHT.get=function(){return 2},Object.defineProperties(Ct,St),(g.prototype=new Error).name="EmptyStackException",(v.prototype=new xe).add=function(e){return this.array_.push(e),!0},v.prototype.get=function(e){if(e<0||e>=this.size())throw new Error;return this.array_[e]},v.prototype.push=function(e){return this.array_.push(e),e},v.prototype.pop=function(e){if(0===this.array_.length)throw new g;return this.array_.pop()},v.prototype.peek=function(){if(0===this.array_.length)throw new g;return this.array_[this.array_.length-1]},v.prototype.empty=function(){return 0===this.array_.length},v.prototype.isEmpty=function(){return this.empty()},v.prototype.search=function(e){return this.array_.indexOf(e)},v.prototype.size=function(){return this.array_.length},v.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e};var Nt=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Nt.prototype.getCoordinate=function(){return this._minCoord},Nt.prototype.getRightmostSide=function(e,t){var n=this.getRightmostSideOfSegment(e,t);return n<0&&(n=this.getRightmostSideOfSegment(e,t-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(e)),n},Nt.prototype.findRightmostEdgeAtVertex=function(){var e=this._minDe.getEdge().getCoordinates();te.isTrue(this._minIndex>0&&this._minIndex<e.length,"rightmost point expected to be interior vertex of edge");var t=e[this._minIndex-1],n=e[this._minIndex+1],r=se.computeOrientation(this._minCoord,n,t),i=!1;(t.y<this._minCoord.y&&n.y<this._minCoord.y&&r===se.COUNTERCLOCKWISE||t.y>this._minCoord.y&&n.y>this._minCoord.y&&r===se.CLOCKWISE)&&(i=!0),i&&(this._minIndex=this._minIndex-1)},Nt.prototype.getRightmostSideOfSegment=function(e,t){var n=e.getEdge().getCoordinates();if(t<0||t+1>=n.length)return-1;if(n[t].y===n[t+1].y)return-1;var r=Ct.LEFT;return n[t].y<n[t+1].y&&(r=Ct.RIGHT),r},Nt.prototype.getEdge=function(){return this._orientedDe},Nt.prototype.checkForRightmostCoordinate=function(e){for(var t=e.getEdge().getCoordinates(),n=0;n<t.length-1;n++)(null===this._minCoord||t[n].x>this._minCoord.x)&&(this._minDe=e,this._minIndex=n,this._minCoord=t[n])},Nt.prototype.findRightmostEdgeAtNode=function(){var e=this._minDe.getNode().getEdges();this._minDe=e.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Nt.prototype.findEdge=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();n.isForward()&&this.checkForRightmostCoordinate(n)}te.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Ct.LEFT&&(this._orientedDe=this._minDe.getSym())},Nt.prototype.interfaces_=function(){return[]},Nt.prototype.getClass=function(){return Nt};var Tt=function(e){function t(n,r){e.call(this,t.msgWithCoord(n,r)),this.pt=r?new k(r):null,this.name="TopologyException"}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCoordinate=function(){return this.pt},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.msgWithCoord=function(e,t){return t?e:e+" [ "+t+" ]"},t}(J),It=function(){this.array_=[]};It.prototype.addLast=function(e){this.array_.push(e)},It.prototype.removeFirst=function(){return this.array_.shift()},It.prototype.isEmpty=function(){return 0===this.array_.length};var Dt=function(){this._finder=null,this._dirEdgeList=new Ee,this._nodes=new Ee,this._rightMostCoord=null,this._env=null,this._finder=new Nt};Dt.prototype.clearVisitedEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();)e.next().setVisited(!1)},Dt.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Dt.prototype.computeNodeDepth=function(e){for(var t=null,n=e.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){t=r;break}}if(null===t)throw new Tt("unable to find edge to compute depths at "+e.getCoordinate());e.getEdges().computeDepths(t);for(var i=e.getEdges().iterator();i.hasNext();){var o=i.next();o.setVisited(!0),this.copySymDepths(o)}},Dt.prototype.computeDepth=function(e){this.clearVisitedEdges();var t=this._finder.getEdge();t.setEdgeDepths(Ct.RIGHT,e),this.copySymDepths(t),this.computeDepths(t)},Dt.prototype.create=function(e){this.addReachable(e),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Dt.prototype.findResultEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();){var t=e.next();t.getDepth(Ct.RIGHT)>=1&&t.getDepth(Ct.LEFT)<=0&&!t.isInteriorAreaEdge()&&t.setInResult(!0)}},Dt.prototype.computeDepths=function(e){var t=new Oe,n=new It,r=e.getNode();for(n.addLast(r),t.add(r),e.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();t.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var a=o.next().getSym();if(!a.isVisited()){var s=a.getNode();t.contains(s)||(n.addLast(s),t.add(s))}}}},Dt.prototype.compareTo=function(e){var t=e;return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0},Dt.prototype.getEnvelope=function(){if(null===this._env){for(var e=new Y,t=this._dirEdgeList.iterator();t.hasNext();)for(var n=t.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)e.expandToInclude(n[r]);this._env=e}return this._env},Dt.prototype.addReachable=function(e){var t=new v;for(t.add(e);!t.empty();){var n=t.pop();this.add(n,t)}},Dt.prototype.copySymDepths=function(e){var t=e.getSym();t.setDepth(Ct.LEFT,e.getDepth(Ct.RIGHT)),t.setDepth(Ct.RIGHT,e.getDepth(Ct.LEFT))},Dt.prototype.add=function(e,t){e.setVisited(!0),this._nodes.add(e);for(var n=e.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||t.push(i)}},Dt.prototype.getNodes=function(){return this._nodes},Dt.prototype.getDirectedEdges=function(){return this._dirEdgeList},Dt.prototype.interfaces_=function(){return[w]},Dt.prototype.getClass=function(){return Dt};var Mt=function e(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];this.init(t.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[Ct.ON]=n}else if(arguments[0]instanceof e){var r=arguments[0];if(this.init(r.location.length),null!==r)for(var i=0;i<this.location.length;i++)this.location[i]=r.location[i]}}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this.init(3),this.location[Ct.ON]=o,this.location[Ct.LEFT]=a,this.location[Ct.RIGHT]=s}};Mt.prototype.setAllLocations=function(e){for(var t=0;t<this.location.length;t++)this.location[t]=e},Mt.prototype.isNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]!==T.NONE)return!1;return!0},Mt.prototype.setAllLocationsIfNull=function(e){for(var t=0;t<this.location.length;t++)this.location[t]===T.NONE&&(this.location[t]=e)},Mt.prototype.isLine=function(){return 1===this.location.length},Mt.prototype.merge=function(e){if(e.location.length>this.location.length){var t=new Array(3).fill(null);t[Ct.ON]=this.location[Ct.ON],t[Ct.LEFT]=T.NONE,t[Ct.RIGHT]=T.NONE,this.location=t}for(var n=0;n<this.location.length;n++)this.location[n]===T.NONE&&n<e.location.length&&(this.location[n]=e.location[n])},Mt.prototype.getLocations=function(){return this.location},Mt.prototype.flip=function(){if(this.location.length<=1)return null;var e=this.location[Ct.LEFT];this.location[Ct.LEFT]=this.location[Ct.RIGHT],this.location[Ct.RIGHT]=e},Mt.prototype.toString=function(){var e=new P;return this.location.length>1&&e.append(T.toLocationSymbol(this.location[Ct.LEFT])),e.append(T.toLocationSymbol(this.location[Ct.ON])),this.location.length>1&&e.append(T.toLocationSymbol(this.location[Ct.RIGHT])),e.toString()},Mt.prototype.setLocations=function(e,t,n){this.location[Ct.ON]=e,this.location[Ct.LEFT]=t,this.location[Ct.RIGHT]=n},Mt.prototype.get=function(e){return e<this.location.length?this.location[e]:T.NONE},Mt.prototype.isArea=function(){return this.location.length>1},Mt.prototype.isAnyNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]===T.NONE)return!0;return!1},Mt.prototype.setLocation=function(){if(1===arguments.length){var e=arguments[0];this.setLocation(Ct.ON,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.location[t]=n}},Mt.prototype.init=function(e){this.location=new Array(e).fill(null),this.setAllLocations(T.NONE)},Mt.prototype.isEqualOnSide=function(e,t){return this.location[t]===e.location[t]},Mt.prototype.allPositionsEqual=function(e){for(var t=0;t<this.location.length;t++)if(this.location[t]!==e)return!1;return!0},Mt.prototype.interfaces_=function(){return[]},Mt.prototype.getClass=function(){return Mt};var Ot=function e(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new Mt(t),this.elt[1]=new Mt(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.elt[0]=new Mt(n.elt[0]),this.elt[1]=new Mt(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.elt[0]=new Mt(T.NONE),this.elt[1]=new Mt(T.NONE),this.elt[r].setLocation(i)}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this.elt[0]=new Mt(o,a,s),this.elt[1]=new Mt(o,a,s)}else if(4===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2],f=arguments[3];this.elt[0]=new Mt(T.NONE,T.NONE,T.NONE),this.elt[1]=new Mt(T.NONE,T.NONE,T.NONE),this.elt[u].setLocations(l,c,f)}};Ot.prototype.getGeometryCount=function(){var e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e},Ot.prototype.setAllLocations=function(e,t){this.elt[e].setAllLocations(t)},Ot.prototype.isNull=function(e){return this.elt[e].isNull()},Ot.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.elt[t].setAllLocationsIfNull(n)}},Ot.prototype.isLine=function(e){return this.elt[e].isLine()},Ot.prototype.merge=function(e){for(var t=0;t<2;t++)null===this.elt[t]&&null!==e.elt[t]?this.elt[t]=new Mt(e.elt[t]):this.elt[t].merge(e.elt[t])},Ot.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Ot.prototype.getLocation=function(){if(1===arguments.length){var e=arguments[0];return this.elt[e].get(Ct.ON)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return this.elt[t].get(n)}},Ot.prototype.toString=function(){var e=new P;return null!==this.elt[0]&&(e.append("A:"),e.append(this.elt[0].toString())),null!==this.elt[1]&&(e.append(" B:"),e.append(this.elt[1].toString())),e.toString()},Ot.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var e=arguments[0];return this.elt[e].isArea()}},Ot.prototype.isAnyNull=function(e){return this.elt[e].isAnyNull()},Ot.prototype.setLocation=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.elt[e].setLocation(Ct.ON,t)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.elt[n].setLocation(r,i)}},Ot.prototype.isEqualOnSide=function(e,t){return this.elt[0].isEqualOnSide(e.elt[0],t)&&this.elt[1].isEqualOnSide(e.elt[1],t)},Ot.prototype.allPositionsEqual=function(e,t){return this.elt[e].allPositionsEqual(t)},Ot.prototype.toLine=function(e){this.elt[e].isArea()&&(this.elt[e]=new Mt(this.elt[e].location[0]))},Ot.prototype.interfaces_=function(){return[]},Ot.prototype.getClass=function(){return Ot},Ot.toLineLabel=function(e){for(var t=new Ot(T.NONE),n=0;n<2;n++)t.setLocation(n,e.getLocation(n));return t};var Pt=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Ee,this._pts=new Ee,this._label=new Ot(T.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Ee,this._geometryFactory=null;var e=arguments[0],t=arguments[1];this._geometryFactory=t,this.computePoints(e),this.computeRing()};Pt.prototype.computeRing=function(){if(null!==this._ring)return null;for(var e=new Array(this._pts.size()).fill(null),t=0;t<this._pts.size();t++)e[t]=this._pts.get(t);this._ring=this._geometryFactory.createLinearRing(e),this._isHole=se.isCCW(this._ring.getCoordinates())},Pt.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Pt.prototype.computePoints=function(e){this._startDe=e;var t=e,n=!0;do{if(null===t)throw new Tt("Found null DirectedEdge");if(t.getEdgeRing()===this)throw new Tt("Directed Edge visited twice during ring-building at "+t.getCoordinate());this._edges.add(t);var r=t.getLabel();te.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(t.getEdge(),t.isForward(),n),n=!1,this.setEdgeRing(t,this),t=this.getNext(t)}while(t!==this._startDe)},Pt.prototype.getLinearRing=function(){return this._ring},Pt.prototype.getCoordinate=function(e){return this._pts.get(e)},Pt.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var e=this._startDe;do{var t=e.getNode().getEdges().getOutgoingDegree(this);t>this._maxNodeDegree&&(this._maxNodeDegree=t),e=this.getNext(e)}while(e!==this._startDe);this._maxNodeDegree*=2},Pt.prototype.addPoints=function(e,t,n){var r=e.getCoordinates();if(t){var i=1;n&&(i=0);for(var o=i;o<r.length;o++)this._pts.add(r[o])}else{var a=r.length-2;n&&(a=r.length-1);for(var s=a;s>=0;s--)this._pts.add(r[s])}},Pt.prototype.isHole=function(){return this._isHole},Pt.prototype.setInResult=function(){var e=this._startDe;do{e.getEdge().setInResult(!0),e=e.getNext()}while(e!==this._startDe)},Pt.prototype.containsPoint=function(e){var t=this.getLinearRing();if(!t.getEnvelopeInternal().contains(e))return!1;if(!se.isPointInRing(e,t.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(e))return!1;return!0},Pt.prototype.addHole=function(e){this._holes.add(e)},Pt.prototype.isShell=function(){return null===this._shell},Pt.prototype.getLabel=function(){return this._label},Pt.prototype.getEdges=function(){return this._edges},Pt.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Pt.prototype.getShell=function(){return this._shell},Pt.prototype.mergeLabel=function(){if(1===arguments.length){var e=arguments[0];this.mergeLabel(e,0),this.mergeLabel(e,1)}else if(2===arguments.length){var t=arguments[1],n=arguments[0].getLocation(t,Ct.RIGHT);if(n===T.NONE)return null;if(this._label.getLocation(t)===T.NONE)return this._label.setLocation(t,n),null}},Pt.prototype.setShell=function(e){this._shell=e,null!==e&&e.addHole(this)},Pt.prototype.toPolygon=function(e){for(var t=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)t[n]=this._holes.get(n).getLinearRing();return e.createPolygon(this.getLinearRing(),t)},Pt.prototype.interfaces_=function(){return[]},Pt.prototype.getClass=function(){return Pt};var Lt=function(e){function t(){var t=arguments[0],n=arguments[1];e.call(this,t,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setEdgeRing=function(e,t){e.setMinEdgeRing(t)},t.prototype.getNext=function(e){return e.getNextMin()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Pt),At=function(e){function t(){var t=arguments[0],n=arguments[1];e.call(this,t,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.buildMinimalRings=function(){var e=new Ee,t=this._startDe;do{if(null===t.getMinEdgeRing()){var n=new Lt(t,this._geometryFactory);e.add(n)}t=t.getNext()}while(t!==this._startDe);return e},t.prototype.setEdgeRing=function(e,t){e.setEdgeRing(t)},t.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var e=this._startDe;do{e.getNode().getEdges().linkMinimalDirectedEdges(this),e=e.getNext()}while(e!==this._startDe)},t.prototype.getNext=function(e){return e.getNext()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Pt),Rt=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this._label=e}};Rt.prototype.setVisited=function(e){this._isVisited=e},Rt.prototype.setInResult=function(e){this._isInResult=e},Rt.prototype.isCovered=function(){return this._isCovered},Rt.prototype.isCoveredSet=function(){return this._isCoveredSet},Rt.prototype.setLabel=function(e){this._label=e},Rt.prototype.getLabel=function(){return this._label},Rt.prototype.setCovered=function(e){this._isCovered=e,this._isCoveredSet=!0},Rt.prototype.updateIM=function(e){te.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(e)},Rt.prototype.isInResult=function(){return this._isInResult},Rt.prototype.isVisited=function(){return this._isVisited},Rt.prototype.interfaces_=function(){return[]},Rt.prototype.getClass=function(){return Rt};var Ft=function(e){function t(){e.call(this),this._coord=null,this._edges=null;var t=arguments[0],n=arguments[1];this._coord=t,this._edges=n,this._label=new Ot(0,T.NONE)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isIncidentEdgeInResult=function(){for(var e=this.getEdges().getEdges().iterator();e.hasNext();)if(e.next().getEdge().isInResult())return!0;return!1},t.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},t.prototype.getCoordinate=function(){return this._coord},t.prototype.print=function(e){e.println("node "+this._coord+" lbl: "+this._label)},t.prototype.computeIM=function(e){},t.prototype.computeMergedLocation=function(e,t){var n=T.NONE;if(n=this._label.getLocation(t),!e.isNull(t)){var r=e.getLocation(t);n!==T.BOUNDARY&&(n=r)}return n},t.prototype.setLabel=function(){if(2!==arguments.length)return e.prototype.setLabel.apply(this,arguments);var t=arguments[0],n=arguments[1];null===this._label?this._label=new Ot(t,n):this._label.setLocation(t,n)},t.prototype.getEdges=function(){return this._edges},t.prototype.mergeLabel=function(){if(arguments[0]instanceof t){var e=arguments[0];this.mergeLabel(e._label)}else if(arguments[0]instanceof Ot)for(var n=arguments[0],r=0;r<2;r++){var i=this.computeMergedLocation(n,r);this._label.getLocation(r)===T.NONE&&this._label.setLocation(r,i)}},t.prototype.add=function(e){this._edges.insert(e),e.setNode(this)},t.prototype.setLabelBoundary=function(e){if(null===this._label)return null;var t=T.NONE;null!==this._label&&(t=this._label.getLocation(e));var n=null;switch(t){case T.BOUNDARY:n=T.INTERIOR;break;case T.INTERIOR:default:n=T.BOUNDARY}this._label.setLocation(e,n)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Rt),zt=function(){this.nodeMap=new f,this.nodeFact=null;var e=arguments[0];this.nodeFact=e};zt.prototype.find=function(e){return this.nodeMap.get(e)},zt.prototype.addNode=function(){if(arguments[0]instanceof k){var e=arguments[0],t=this.nodeMap.get(e);return null===t&&(t=this.nodeFact.createNode(e),this.nodeMap.put(e,t)),t}if(arguments[0]instanceof Ft){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},zt.prototype.print=function(e){for(var t=this.iterator();t.hasNext();)t.next().print(e)},zt.prototype.iterator=function(){return this.nodeMap.values().iterator()},zt.prototype.values=function(){return this.nodeMap.values()},zt.prototype.getBoundaryNodes=function(e){for(var t=new Ee,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(e)===T.BOUNDARY&&t.add(r)}return t},zt.prototype.add=function(e){var t=e.getCoordinate();this.addNode(t).add(e)},zt.prototype.interfaces_=function(){return[]},zt.prototype.getClass=function(){return zt};var jt=function(){},Bt={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};jt.prototype.interfaces_=function(){return[]},jt.prototype.getClass=function(){return jt},jt.isNorthern=function(e){return e===jt.NE||e===jt.NW},jt.isOpposite=function(e,t){return e!==t&&2==(e-t+4)%4},jt.commonHalfPlane=function(e,t){if(e===t)return e;if(2==(e-t+4)%4)return-1;var n=e<t?e:t;return 0===n&&3===(e>t?e:t)?3:n},jt.isInHalfPlane=function(e,t){return t===jt.SE?e===jt.SE||e===jt.SW:e===t||e===t+1},jt.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1];if(0===e&&0===t)throw new m("Cannot compute the quadrant for point ( "+e+", "+t+" )");return e>=0?t>=0?jt.NE:jt.SE:t>=0?jt.NW:jt.SW}if(arguments[0]instanceof k&&arguments[1]instanceof k){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new m("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?jt.NE:jt.SE:r.y>=n.y?jt.NW:jt.SW}},Bt.NE.get=function(){return 0},Bt.NW.get=function(){return 1},Bt.SW.get=function(){return 2},Bt.SE.get=function(){return 3},Object.defineProperties(jt,Bt);var Vt=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var e=arguments[0];this._edge=e}else if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2];this._edge=t,this.init(n,r),this._label=null}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];this._edge=i,this.init(o,a),this._label=s}};Vt.prototype.compareDirection=function(e){return this._dx===e._dx&&this._dy===e._dy?0:this._quadrant>e._quadrant?1:this._quadrant<e._quadrant?-1:se.computeOrientation(e._p0,e._p1,this._p1)},Vt.prototype.getDy=function(){return this._dy},Vt.prototype.getCoordinate=function(){return this._p0},Vt.prototype.setNode=function(e){this._node=e},Vt.prototype.print=function(e){var t=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);e.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label)},Vt.prototype.compareTo=function(e){var t=e;return this.compareDirection(t)},Vt.prototype.getDirectedCoordinate=function(){return this._p1},Vt.prototype.getDx=function(){return this._dx},Vt.prototype.getLabel=function(){return this._label},Vt.prototype.getEdge=function(){return this._edge},Vt.prototype.getQuadrant=function(){return this._quadrant},Vt.prototype.getNode=function(){return this._node},Vt.prototype.toString=function(){var e=Math.atan2(this._dy,this._dx),t=this.getClass().getName(),n=t.lastIndexOf(".");return"  "+t.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label},Vt.prototype.computeLabel=function(e){},Vt.prototype.init=function(e,t){this._p0=e,this._p1=t,this._dx=t.x-e.x,this._dy=t.y-e.y,this._quadrant=jt.quadrant(this._dx,this._dy),te.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},Vt.prototype.interfaces_=function(){return[w]},Vt.prototype.getClass=function(){return Vt};var Ut=function(e){function t(){var t=arguments[0],n=arguments[1];if(e.call(this,t),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var r=t.getNumPoints()-1;this.init(t.getCoordinate(r),t.getCoordinate(r-1))}this.computeDirectedLabel()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getNextMin=function(){return this._nextMin},t.prototype.getDepth=function(e){return this._depth[e]},t.prototype.setVisited=function(e){this._isVisited=e},t.prototype.computeDirectedLabel=function(){this._label=new Ot(this._edge.getLabel()),this._isForward||this._label.flip()},t.prototype.getNext=function(){return this._next},t.prototype.setDepth=function(e,t){if(-999!==this._depth[e]&&this._depth[e]!==t)throw new Tt("assigned depths do not match",this.getCoordinate());this._depth[e]=t},t.prototype.isInteriorAreaEdge=function(){for(var e=!0,t=0;t<2;t++)this._label.isArea(t)&&this._label.getLocation(t,Ct.LEFT)===T.INTERIOR&&this._label.getLocation(t,Ct.RIGHT)===T.INTERIOR||(e=!1);return e},t.prototype.setNextMin=function(e){this._nextMin=e},t.prototype.print=function(t){e.prototype.print.call(this,t),t.print(" "+this._depth[Ct.LEFT]+"/"+this._depth[Ct.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")},t.prototype.setMinEdgeRing=function(e){this._minEdgeRing=e},t.prototype.isLineEdge=function(){var e=this._label.isLine(0)||this._label.isLine(1),t=!this._label.isArea(0)||this._label.allPositionsEqual(0,T.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,T.EXTERIOR);return e&&t&&n},t.prototype.setEdgeRing=function(e){this._edgeRing=e},t.prototype.getMinEdgeRing=function(){return this._minEdgeRing},t.prototype.getDepthDelta=function(){var e=this._edge.getDepthDelta();return this._isForward||(e=-e),e},t.prototype.setInResult=function(e){this._isInResult=e},t.prototype.getSym=function(){return this._sym},t.prototype.isForward=function(){return this._isForward},t.prototype.getEdge=function(){return this._edge},t.prototype.printEdge=function(e){this.print(e),e.print(" "),this._isForward?this._edge.print(e):this._edge.printReverse(e)},t.prototype.setSym=function(e){this._sym=e},t.prototype.setVisitedEdge=function(e){this.setVisited(e),this._sym.setVisited(e)},t.prototype.setEdgeDepths=function(e,t){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;e===Ct.LEFT&&(r=-1);var i=Ct.opposite(e),o=t+n*r;this.setDepth(e,t),this.setDepth(i,o)},t.prototype.getEdgeRing=function(){return this._edgeRing},t.prototype.isInResult=function(){return this._isInResult},t.prototype.setNext=function(e){this._next=e},t.prototype.isVisited=function(){return this._isVisited},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.depthFactor=function(e,t){return e===T.EXTERIOR&&t===T.INTERIOR?1:e===T.INTERIOR&&t===T.EXTERIOR?-1:0},t}(Vt),Gt=function(){};Gt.prototype.createNode=function(e){return new Ft(e,null)},Gt.prototype.interfaces_=function(){return[]},Gt.prototype.getClass=function(){return Gt};var Ht=function(){if(this._edges=new Ee,this._nodes=null,this._edgeEndList=new Ee,0===arguments.length)this._nodes=new zt(new Gt);else if(1===arguments.length){var e=arguments[0];this._nodes=new zt(e)}};Ht.prototype.printEdges=function(e){e.println("Edges:");for(var t=0;t<this._edges.size();t++){e.println("edge "+t+":");var n=this._edges.get(t);n.print(e),n.eiList.print(e)}},Ht.prototype.find=function(e){return this._nodes.find(e)},Ht.prototype.addNode=function(){if(arguments[0]instanceof Ft){var e=arguments[0];return this._nodes.addNode(e)}if(arguments[0]instanceof k){var t=arguments[0];return this._nodes.addNode(t)}},Ht.prototype.getNodeIterator=function(){return this._nodes.iterator()},Ht.prototype.linkResultDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()},Ht.prototype.debugPrintln=function(e){H.out.println(e)},Ht.prototype.isBoundaryNode=function(e,t){var n=this._nodes.find(t);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(e)===T.BOUNDARY},Ht.prototype.linkAllDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkAllDirectedEdges()},Ht.prototype.matchInSameDirection=function(e,t,n,r){return!!e.equals(n)&&se.computeOrientation(e,t,r)===se.COLLINEAR&&jt.quadrant(e,t)===jt.quadrant(n,r)},Ht.prototype.getEdgeEnds=function(){return this._edgeEndList},Ht.prototype.debugPrint=function(e){H.out.print(e)},Ht.prototype.getEdgeIterator=function(){return this._edges.iterator()},Ht.prototype.findEdgeInSameDirection=function(e,t){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(this.matchInSameDirection(e,t,i[0],i[1]))return r;if(this.matchInSameDirection(e,t,i[i.length-1],i[i.length-2]))return r}return null},Ht.prototype.insertEdge=function(e){this._edges.add(e)},Ht.prototype.findEdgeEnd=function(e){for(var t=this.getEdgeEnds().iterator();t.hasNext();){var n=t.next();if(n.getEdge()===e)return n}return null},Ht.prototype.addEdges=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();this._edges.add(n);var r=new Ut(n,!0),i=new Ut(n,!1);r.setSym(i),i.setSym(r),this.add(r),this.add(i)}},Ht.prototype.add=function(e){this._nodes.add(e),this._edgeEndList.add(e)},Ht.prototype.getNodes=function(){return this._nodes.values()},Ht.prototype.findEdge=function(e,t){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(e.equals(i[0])&&t.equals(i[1]))return r}return null},Ht.prototype.interfaces_=function(){return[]},Ht.prototype.getClass=function(){return Ht},Ht.linkResultDirectedEdges=function(e){for(var t=e.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()};var qt=function(){this._geometryFactory=null,this._shellList=new Ee;var e=arguments[0];this._geometryFactory=e};qt.prototype.sortShellsAndHoles=function(e,t,n){for(var r=e.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):t.add(i)}},qt.prototype.computePolygons=function(e){for(var t=new Ee,n=e.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);t.add(r)}return t},qt.prototype.placeFreeHoles=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,e);if(null===i)throw new Tt("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(i)}}},qt.prototype.buildMinimalEdgeRings=function(e,t,n){for(var r=new Ee,i=e.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var a=o.buildMinimalRings(),s=this.findShell(a);null!==s?(this.placePolygonHoles(s,a),t.add(s)):n.addAll(a)}else r.add(o)}return r},qt.prototype.containsPoint=function(e){for(var t=this._shellList.iterator();t.hasNext();)if(t.next().containsPoint(e))return!0;return!1},qt.prototype.buildMaximalEdgeRings=function(e){for(var t=new Ee,n=e.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new At(r,this._geometryFactory);t.add(i),i.setInResult()}}return t},qt.prototype.placePolygonHoles=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(e)}},qt.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},qt.prototype.findEdgeRingContaining=function(e,t){for(var n=e.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,a=null,s=t.iterator();s.hasNext();){var u=s.next(),l=u.getLinearRing(),c=l.getEnvelopeInternal();null!==o&&(a=o.getLinearRing().getEnvelopeInternal());var f=!1;c.contains(r)&&se.isPointInRing(i,l.getCoordinates())&&(f=!0),f&&(null===o||a.contains(c))&&(o=u)}return o},qt.prototype.findShell=function(e){for(var t=0,n=null,r=e.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,t++)}return te.isTrue(t<=1,"found two shells in MinimalEdgeRing list"),n},qt.prototype.add=function(){if(1===arguments.length){var e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(2===arguments.length){var t=arguments[0],n=arguments[1];Ht.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(t),i=new Ee,o=this.buildMinimalEdgeRings(r,this._shellList,i);this.sortShellsAndHoles(o,this._shellList,i),this.placeFreeHoles(this._shellList,i)}},qt.prototype.interfaces_=function(){return[]},qt.prototype.getClass=function(){return qt};var Yt=function(){};Yt.prototype.getBounds=function(){},Yt.prototype.interfaces_=function(){return[]},Yt.prototype.getClass=function(){return Yt};var Wt=function(){this._bounds=null,this._item=null;var e=arguments[0],t=arguments[1];this._bounds=e,this._item=t};Wt.prototype.getItem=function(){return this._item},Wt.prototype.getBounds=function(){return this._bounds},Wt.prototype.interfaces_=function(){return[Yt,t]},Wt.prototype.getClass=function(){return Wt};var Xt=function(){this._size=null,this._items=null,this._size=0,this._items=new Ee,this._items.add(null)};Xt.prototype.poll=function(){if(this.isEmpty())return null;var e=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),e},Xt.prototype.size=function(){return this._size},Xt.prototype.reorder=function(e){for(var t=null,n=this._items.get(e);2*e<=this._size&&((t=2*e)!==this._size&&this._items.get(t+1).compareTo(this._items.get(t))<0&&t++,this._items.get(t).compareTo(n)<0);e=t)this._items.set(e,this._items.get(t));this._items.set(e,n)},Xt.prototype.clear=function(){this._size=0,this._items.clear()},Xt.prototype.isEmpty=function(){return 0===this._size},Xt.prototype.add=function(e){this._items.add(null),this._size+=1;var t=this._size;for(this._items.set(0,e);e.compareTo(this._items.get(Math.trunc(t/2)))<0;t/=2)this._items.set(t,this._items.get(Math.trunc(t/2)));this._items.set(t,e)},Xt.prototype.interfaces_=function(){return[]},Xt.prototype.getClass=function(){return Xt};var Kt=function(){};Kt.prototype.visitItem=function(e){},Kt.prototype.interfaces_=function(){return[]},Kt.prototype.getClass=function(){return Kt};var $t=function(){};$t.prototype.insert=function(e,t){},$t.prototype.remove=function(e,t){},$t.prototype.query=function(){},$t.prototype.interfaces_=function(){return[]},$t.prototype.getClass=function(){return $t};var Qt=function(){if(this._childBoundables=new Ee,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this._level=e}},Zt={serialVersionUID:{configurable:!0}};Qt.prototype.getLevel=function(){return this._level},Qt.prototype.size=function(){return this._childBoundables.size()},Qt.prototype.getChildBoundables=function(){return this._childBoundables},Qt.prototype.addChildBoundable=function(e){te.isTrue(null===this._bounds),this._childBoundables.add(e)},Qt.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Qt.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Qt.prototype.interfaces_=function(){return[Yt,t]},Qt.prototype.getClass=function(){return Qt},Zt.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Qt,Zt);var Jt=function(){};Jt.reverseOrder=function(){return{compare:function(e,t){return t.compareTo(e)}}},Jt.min=function(e){return Jt.sort(e),e.get(0)},Jt.sort=function(e,t){var n=e.toArray();t?Fe.sort(n,t):Fe.sort(n);for(var r=e.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])},Jt.singletonList=function(e){var t=new Ee;return t.add(e),t};var en=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[0],t=arguments[1],n=arguments[2];this._boundable1=e,this._boundable2=t,this._itemDistance=n,this._distance=this.distance()};en.prototype.expandToQueue=function(e,t){var n=en.isComposite(this._boundable1),r=en.isComposite(this._boundable2);if(n&&r)return en.area(this._boundable1)>en.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,e,t),null):(this.expand(this._boundable2,this._boundable1,e,t),null);if(n)return this.expand(this._boundable1,this._boundable2,e,t),null;if(r)return this.expand(this._boundable2,this._boundable1,e,t),null;throw new m("neither boundable is composite")},en.prototype.isLeaves=function(){return!(en.isComposite(this._boundable1)||en.isComposite(this._boundable2))},en.prototype.compareTo=function(e){var t=e;return this._distance<t._distance?-1:this._distance>t._distance?1:0},en.prototype.expand=function(e,t,n,r){for(var i=e.getChildBoundables().iterator();i.hasNext();){var o=i.next(),a=new en(o,t,this._itemDistance);a.getDistance()<r&&n.add(a)}},en.prototype.getBoundable=function(e){return 0===e?this._boundable1:this._boundable2},en.prototype.getDistance=function(){return this._distance},en.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},en.prototype.interfaces_=function(){return[w]},en.prototype.getClass=function(){return en},en.area=function(e){return e.getBounds().getArea()},en.isComposite=function(e){return e instanceof Qt};var tn=function e(){if(this._root=null,this._built=!1,this._itemBoundables=new Ee,this._nodeCapacity=null,0===arguments.length){var t=e.DEFAULT_NODE_CAPACITY;this._nodeCapacity=t}else if(1===arguments.length){var n=arguments[0];te.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},nn={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};tn.prototype.getNodeCapacity=function(){return this._nodeCapacity},tn.prototype.lastNode=function(e){return e.get(e.size()-1)},tn.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var e=0,t=arguments[0].getChildBoundables().iterator();t.hasNext();){var n=t.next();n instanceof Qt?e+=this.size(n):n instanceof Wt&&(e+=1)}return e}},tn.prototype.removeItem=function(e,t){for(var n=null,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof Wt&&i.getItem()===t&&(n=i)}return null!==n&&(e.getChildBoundables().remove(n),!0)},tn.prototype.itemsTree=function(){if(0===arguments.length){this.build();var e=this.itemsTree(this._root);return null===e?new Ee:e}if(1===arguments.length){for(var t=arguments[0],n=new Ee,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof Qt){var o=this.itemsTree(i);null!==o&&n.add(o)}else i instanceof Wt?n.add(i.getItem()):te.shouldNeverReachHere()}return n.size()<=0?null:n}},tn.prototype.insert=function(e,t){te.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Wt(e,t))},tn.prototype.boundablesAtLevel=function(){if(1===arguments.length){var e=arguments[0],t=new Ee;return this.boundablesAtLevel(e,this._root,t),t}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(te.isTrue(n>-2),r.getLevel()===n)return i.add(r),null;for(var o=r.getChildBoundables().iterator();o.hasNext();){var a=o.next();a instanceof Qt?this.boundablesAtLevel(n,a,i):(te.isTrue(a instanceof Wt),-1===n&&i.add(a))}return null}},tn.prototype.query=function(){if(1===arguments.length){var e=arguments[0];this.build();var t=new Ee;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.query(e,this._root,t),t}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r)}else if(3===arguments.length)if(D(arguments[2],Kt)&&arguments[0]instanceof Object&&arguments[1]instanceof Qt)for(var i=arguments[0],o=arguments[2],a=arguments[1].getChildBoundables(),s=0;s<a.size();s++){var u=a.get(s);this.getIntersectsOp().intersects(u.getBounds(),i)&&(u instanceof Qt?this.query(i,u,o):u instanceof Wt?o.visitItem(u.getItem()):te.shouldNeverReachHere())}else if(D(arguments[2],xe)&&arguments[0]instanceof Object&&arguments[1]instanceof Qt)for(var l=arguments[0],c=arguments[2],f=arguments[1].getChildBoundables(),h=0;h<f.size();h++){var d=f.get(h);this.getIntersectsOp().intersects(d.getBounds(),l)&&(d instanceof Qt?this.query(l,d,c):d instanceof Wt?c.add(d.getItem()):te.shouldNeverReachHere())}},tn.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},tn.prototype.getRoot=function(){return this.build(),this._root},tn.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.remove(e,this._root,t)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=this.removeItem(r,i);if(o)return!0;for(var a=null,s=r.getChildBoundables().iterator();s.hasNext();){var u=s.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof Qt&&(o=this.remove(n,u,i))){a=u;break}}return null!==a&&a.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(a),o}},tn.prototype.createHigherLevels=function(e,t){te.isTrue(!e.isEmpty());var n=this.createParentBoundables(e,t+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,t+1)},tn.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var e=0,t=arguments[0].getChildBoundables().iterator();t.hasNext();){var n=t.next();if(n instanceof Qt){var r=this.depth(n);r>e&&(e=r)}}return e+1}},tn.prototype.createParentBoundables=function(e,t){te.isTrue(!e.isEmpty());var n=new Ee;n.add(this.createNode(t));var r=new Ee(e);Jt.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var o=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(t)),this.lastNode(n).addChildBoundable(o)}return n},tn.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},tn.prototype.interfaces_=function(){return[t]},tn.prototype.getClass=function(){return tn},tn.compareDoubles=function(e,t){return e>t?1:e<t?-1:0},nn.IntersectsOp.get=function(){return rn},nn.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},nn.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(tn,nn);var rn=function(){},on=function(){};on.prototype.distance=function(e,t){},on.prototype.interfaces_=function(){return[]},on.prototype.getClass=function(){return on};var an=function(e){function n(t){t=t||n.DEFAULT_NODE_CAPACITY,e.call(this,t)}e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n;var r={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return n.prototype.createParentBoundablesFromVerticalSlices=function(e,t){te.isTrue(e.length>0);for(var n=new Ee,r=0;r<e.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(e[r],t));return n},n.prototype.createNode=function(e){return new sn(e)},n.prototype.size=function(){return 0===arguments.length?e.prototype.size.call(this):e.prototype.size.apply(this,arguments)},n.prototype.insert=function(){if(2!==arguments.length)return e.prototype.insert.apply(this,arguments);var t=arguments[0],n=arguments[1];if(t.isNull())return null;e.prototype.insert.call(this,t,n)},n.prototype.getIntersectsOp=function(){return n.intersectsOp},n.prototype.verticalSlices=function(e,t){for(var n=Math.trunc(Math.ceil(e.size()/t)),r=new Array(t).fill(null),i=e.iterator(),o=0;o<t;o++){r[o]=new Ee;for(var a=0;i.hasNext()&&a<n;){var s=i.next();r[o].add(s),a++}}return r},n.prototype.query=function(){if(1===arguments.length){var t=arguments[0];return e.prototype.query.call(this,t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];e.prototype.query.call(this,n,r)}else if(3===arguments.length)if(D(arguments[2],Kt)&&arguments[0]instanceof Object&&arguments[1]instanceof Qt){var i=arguments[0],o=arguments[1],a=arguments[2];e.prototype.query.call(this,i,o,a)}else if(D(arguments[2],xe)&&arguments[0]instanceof Object&&arguments[1]instanceof Qt){var s=arguments[0],u=arguments[1],l=arguments[2];e.prototype.query.call(this,s,u,l)}},n.prototype.getComparator=function(){return n.yComparator},n.prototype.createParentBoundablesFromVerticalSlice=function(t,n){return e.prototype.createParentBoundables.call(this,t,n)},n.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return e.prototype.remove.call(this,t,n)}return e.prototype.remove.apply(this,arguments)},n.prototype.depth=function(){return 0===arguments.length?e.prototype.depth.call(this):e.prototype.depth.apply(this,arguments)},n.prototype.createParentBoundables=function(e,t){te.isTrue(!e.isEmpty());var r=Math.trunc(Math.ceil(e.size()/this.getNodeCapacity())),i=new Ee(e);Jt.sort(i,n.xComparator);var o=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(o,t)},n.prototype.nearestNeighbour=function(){if(1===arguments.length){if(D(arguments[0],on)){var e=arguments[0],t=new en(this.getRoot(),this.getRoot(),e);return this.nearestNeighbour(t)}if(arguments[0]instanceof en){var r=arguments[0];return this.nearestNeighbour(r,b.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof n&&D(arguments[1],on)){var i=arguments[0],o=arguments[1],a=new en(this.getRoot(),i.getRoot(),o);return this.nearestNeighbour(a)}if(arguments[0]instanceof en&&"number"==typeof arguments[1]){var s=arguments[0],u=arguments[1],l=null,c=new Xt;for(c.add(s);!c.isEmpty()&&u>0;){var f=c.poll(),h=f.getDistance();if(h>=u)break;f.isLeaves()?(u=h,l=f):f.expandToQueue(c,u)}return[l.getBoundable(0).getItem(),l.getBoundable(1).getItem()]}}else if(3===arguments.length){var d=arguments[2],p=new Wt(arguments[0],arguments[1]),g=new en(this.getRoot(),p,d);return this.nearestNeighbour(g)[0]}},n.prototype.interfaces_=function(){return[$t,t]},n.prototype.getClass=function(){return n},n.centreX=function(e){return n.avg(e.getMinX(),e.getMaxX())},n.avg=function(e,t){return(e+t)/2},n.centreY=function(e){return n.avg(e.getMinY(),e.getMaxY())},r.STRtreeNode.get=function(){return sn},r.serialVersionUID.get=function(){return 0x39920f7d5f261e0},r.xComparator.get=function(){return{interfaces_:function(){return[E]},compare:function(t,r){return e.compareDoubles(n.centreX(t.getBounds()),n.centreX(r.getBounds()))}}},r.yComparator.get=function(){return{interfaces_:function(){return[E]},compare:function(t,r){return e.compareDoubles(n.centreY(t.getBounds()),n.centreY(r.getBounds()))}}},r.intersectsOp.get=function(){return{interfaces_:function(){return[e.IntersectsOp]},intersects:function(e,t){return e.intersects(t)}}},r.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(n,r),n}(tn),sn=function(e){function t(){var t=arguments[0];e.call(this,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.computeBounds=function(){for(var e=null,t=this.getChildBoundables().iterator();t.hasNext();){var n=t.next();null===e?e=new Y(n.getBounds()):e.expandToInclude(n.getBounds())}return e},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Qt),un=function(){};un.prototype.interfaces_=function(){return[]},un.prototype.getClass=function(){return un},un.relativeSign=function(e,t){return e<t?-1:e>t?1:0},un.compare=function(e,t,n){if(t.equals2D(n))return 0;var r=un.relativeSign(t.x,n.x),i=un.relativeSign(t.y,n.y);switch(e){case 0:return un.compareValue(r,i);case 1:return un.compareValue(i,r);case 2:return un.compareValue(i,-r);case 3:return un.compareValue(-r,i);case 4:return un.compareValue(-r,-i);case 5:return un.compareValue(-i,-r);case 6:return un.compareValue(-i,r);case 7:return un.compareValue(r,-i)}return te.shouldNeverReachHere("invalid octant value"),0},un.compareValue=function(e,t){return e<0?-1:e>0?1:t<0?-1:t>0?1:0};var ln=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this._segString=e,this.coord=new k(t),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!t.equals2D(e.getCoordinate(n))};ln.prototype.getCoordinate=function(){return this.coord},ln.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex)},ln.prototype.compareTo=function(e){var t=e;return this.segmentIndex<t.segmentIndex?-1:this.segmentIndex>t.segmentIndex?1:this.coord.equals2D(t.coord)?0:un.compare(this._segmentOctant,this.coord,t.coord)},ln.prototype.isEndPoint=function(e){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===e},ln.prototype.isInterior=function(){return this._isInterior},ln.prototype.interfaces_=function(){return[w]},ln.prototype.getClass=function(){return ln};var cn=function(){this._nodeMap=new f,this._edge=null;var e=arguments[0];this._edge=e};cn.prototype.getSplitCoordinates=function(){var e=new Ce;this.addEndpoints();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next();this.addEdgeCoordinates(n,r,e),n=r}return e.toCoordinateArray()},cn.prototype.addCollapsedNodes=function(){var e=new Ee;this.findCollapsesFromInsertedNodes(e),this.findCollapsesFromExistingVertices(e);for(var t=e.iterator();t.hasNext();){var n=t.next().intValue();this.add(this._edge.getCoordinate(n),n)}},cn.prototype.print=function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(e)},cn.prototype.findCollapsesFromExistingVertices=function(e){for(var t=0;t<this._edge.size()-2;t++){var n=this._edge.getCoordinate(t),r=this._edge.getCoordinate(t+2);n.equals2D(r)&&e.add(new L(t+1))}},cn.prototype.addEdgeCoordinates=function(e,t,n){var r=this._edge.getCoordinate(t.segmentIndex),i=t.isInterior()||!t.coord.equals2D(r);n.add(new k(e.coord),!1);for(var o=e.segmentIndex+1;o<=t.segmentIndex;o++)n.add(this._edge.getCoordinate(o));i&&n.add(new k(t.coord))},cn.prototype.iterator=function(){return this._nodeMap.values().iterator()},cn.prototype.addSplitEdges=function(e){this.addEndpoints(),this.addCollapsedNodes();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next(),i=this.createSplitEdge(n,r);e.add(i),n=r}},cn.prototype.findCollapseIndex=function(e,t,n){if(!e.coord.equals2D(t.coord))return!1;var r=t.segmentIndex-e.segmentIndex;return t.isInterior()||r--,1===r&&(n[0]=e.segmentIndex+1,!0)},cn.prototype.findCollapsesFromInsertedNodes=function(e){for(var t=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,t)&&e.add(new L(t[0])),r=i}},cn.prototype.getEdge=function(){return this._edge},cn.prototype.addEndpoints=function(){var e=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(e),e)},cn.prototype.createSplitEdge=function(e,t){var n=t.segmentIndex-e.segmentIndex+2,r=this._edge.getCoordinate(t.segmentIndex),i=t.isInterior()||!t.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new k(e.coord);for(var s=e.segmentIndex+1;s<=t.segmentIndex;s++)o[a++]=this._edge.getCoordinate(s);return i&&(o[a]=new k(t.coord)),new pn(o,this._edge.getData())},cn.prototype.add=function(e,t){var n=new ln(this._edge,e,t,this._edge.getSegmentOctant(t)),r=this._nodeMap.get(n);return null!==r?(te.isTrue(r.coord.equals2D(e),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},cn.prototype.checkSplitEdgesCorrectness=function(e){var t=this._edge.getCoordinates(),n=e.get(0).getCoordinate(0);if(!n.equals2D(t[0]))throw new J("bad split edge start point at "+n);var r=e.get(e.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(t[t.length-1]))throw new J("bad split edge end point at "+i)},cn.prototype.interfaces_=function(){return[]},cn.prototype.getClass=function(){return cn};var fn=function(){};fn.prototype.interfaces_=function(){return[]},fn.prototype.getClass=function(){return fn},fn.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1];if(0===e&&0===t)throw new m("Cannot compute the octant for point ( "+e+", "+t+" )");var n=Math.abs(e),r=Math.abs(t);return e>=0?t>=0?n>=r?0:1:n>=r?7:6:t>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof k&&arguments[1]instanceof k){var i=arguments[0],o=arguments[1],a=o.x-i.x,s=o.y-i.y;if(0===a&&0===s)throw new m("Cannot compute the octant for two identical points "+i);return fn.octant(a,s)}};var hn=function(){};hn.prototype.getCoordinates=function(){},hn.prototype.size=function(){},hn.prototype.getCoordinate=function(e){},hn.prototype.isClosed=function(){},hn.prototype.setData=function(e){},hn.prototype.getData=function(){},hn.prototype.interfaces_=function(){return[]},hn.prototype.getClass=function(){return hn};var dn=function(){};dn.prototype.addIntersection=function(e,t){},dn.prototype.interfaces_=function(){return[hn]},dn.prototype.getClass=function(){return dn};var pn=function(){this._nodeList=new cn(this),this._pts=null,this._data=null;var e=arguments[0],t=arguments[1];this._pts=e,this._data=t};pn.prototype.getCoordinates=function(){return this._pts},pn.prototype.size=function(){return this._pts.length},pn.prototype.getCoordinate=function(e){return this._pts[e]},pn.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},pn.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))},pn.prototype.setData=function(e){this._data=e},pn.prototype.safeOctant=function(e,t){return e.equals2D(t)?0:fn.octant(e,t)},pn.prototype.getData=function(){return this._data},pn.prototype.addIntersection=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.addIntersectionNode(e,t)}else if(4===arguments.length){var n=arguments[1],r=arguments[3],i=new k(arguments[0].getIntersection(r));this.addIntersection(i,n)}},pn.prototype.toString=function(){return Z.toLineString(new ut(this._pts))},pn.prototype.getNodeList=function(){return this._nodeList},pn.prototype.addIntersectionNode=function(e,t){var n=t,r=n+1;if(r<this._pts.length){var i=this._pts[r];e.equals2D(i)&&(n=r)}return this._nodeList.add(e,n)},pn.prototype.addIntersections=function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++)this.addIntersection(e,t,n,r)},pn.prototype.interfaces_=function(){return[dn]},pn.prototype.getClass=function(){return pn},pn.getNodedSubstrings=function(){if(1===arguments.length){var e=arguments[0],t=new Ee;return pn.getNodedSubstrings(e,t),t}if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();)r.next().getNodeList().addSplitEdges(n)};var gn=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new k,this.p1=new k;else if(1===arguments.length){var e=arguments[0];this.p0=new k(e.p0),this.p1=new k(e.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this.p0=new k(t,n),this.p1=new k(r,i)}},vn={serialVersionUID:{configurable:!0}};gn.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},gn.prototype.orientationIndex=function(){if(arguments[0]instanceof gn){var e=arguments[0],t=se.orientationIndex(this.p0,this.p1,e.p0),n=se.orientationIndex(this.p0,this.p1,e.p1);return t>=0&&n>=0||t<=0&&n<=0?Math.max(t,n):0}if(arguments[0]instanceof k){var r=arguments[0];return se.orientationIndex(this.p0,this.p1,r)}},gn.prototype.toGeometry=function(e){return e.createLineString([this.p0,this.p1])},gn.prototype.isVertical=function(){return this.p0.x===this.p1.x},gn.prototype.equals=function(e){if(!(e instanceof gn))return!1;var t=e;return this.p0.equals(t.p0)&&this.p1.equals(t.p1)},gn.prototype.intersection=function(e){var t=new ie;return t.computeIntersection(this.p0,this.p1,e.p0,e.p1),t.hasIntersection()?t.getIntersection(0):null},gn.prototype.project=function(){if(arguments[0]instanceof k){var e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new k(e);var t=this.projectionFactor(e),n=new k;return n.x=this.p0.x+t*(this.p1.x-this.p0.x),n.y=this.p0.y+t*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof gn){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1)return null;if(i<=0&&o<=0)return null;var a=this.project(r.p0);i<0&&(a=this.p0),i>1&&(a=this.p1);var s=this.project(r.p1);return o<0&&(s=this.p0),o>1&&(s=this.p1),new gn(a,s)}},gn.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},gn.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},gn.prototype.getCoordinate=function(e){return 0===e?this.p0:this.p1},gn.prototype.distancePerpendicular=function(e){return se.distancePointLinePerpendicular(e,this.p0,this.p1)},gn.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},gn.prototype.midPoint=function(){return gn.midPoint(this.p0,this.p1)},gn.prototype.projectionFactor=function(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;var t=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=t*t+n*n;return r<=0?b.NaN:((e.x-this.p0.x)*t+(e.y-this.p0.y)*n)/r},gn.prototype.closestPoints=function(e){var t=this.intersection(e);if(null!==t)return[t,t];var n=new Array(2).fill(null),r=b.MAX_VALUE,i=null,o=this.closestPoint(e.p0);r=o.distance(e.p0),n[0]=o,n[1]=e.p0;var a=this.closestPoint(e.p1);(i=a.distance(e.p1))<r&&(r=i,n[0]=a,n[1]=e.p1);var s=e.closestPoint(this.p0);(i=s.distance(this.p0))<r&&(r=i,n[0]=this.p0,n[1]=s);var u=e.closestPoint(this.p1);return(i=u.distance(this.p1))<r&&(r=i,n[0]=this.p1,n[1]=u),n},gn.prototype.closestPoint=function(e){var t=this.projectionFactor(e);return t>0&&t<1?this.project(e):this.p0.distance(e)<this.p1.distance(e)?this.p0:this.p1},gn.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},gn.prototype.getLength=function(){return this.p0.distance(this.p1)},gn.prototype.compareTo=function(e){var t=e,n=this.p0.compareTo(t.p0);return 0!==n?n:this.p1.compareTo(t.p1)},gn.prototype.reverse=function(){var e=this.p0;this.p0=this.p1,this.p1=e},gn.prototype.equalsTopo=function(e){return this.p0.equals(e.p0)&&(this.p1.equals(e.p1)||this.p0.equals(e.p1))&&this.p1.equals(e.p0)},gn.prototype.lineIntersection=function(e){try{return q.intersection(this.p0,this.p1,e.p0,e.p1)}catch(e){if(!(e instanceof G))throw e}return null},gn.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},gn.prototype.pointAlongOffset=function(e,t){var n=this.p0.x+e*(this.p1.x-this.p0.x),r=this.p0.y+e*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,a=Math.sqrt(i*i+o*o),s=0,u=0;if(0!==t){if(a<=0)throw new Error("Cannot compute offset from zero-length line segment");s=t*i/a,u=t*o/a}return new k(n-u,r+s)},gn.prototype.setCoordinates=function(){if(1===arguments.length){var e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.p0.x=t.x,this.p0.y=t.y,this.p1.x=n.x,this.p1.y=n.y}},gn.prototype.segmentFraction=function(e){var t=this.projectionFactor(e);return t<0?t=0:(t>1||b.isNaN(t))&&(t=1),t},gn.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},gn.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},gn.prototype.distance=function(){if(arguments[0]instanceof gn){var e=arguments[0];return se.distanceLineLine(this.p0,this.p1,e.p0,e.p1)}if(arguments[0]instanceof k){var t=arguments[0];return se.distancePointLine(t,this.p0,this.p1)}},gn.prototype.pointAlong=function(e){var t=new k;return t.x=this.p0.x+e*(this.p1.x-this.p0.x),t.y=this.p0.y+e*(this.p1.y-this.p0.y),t},gn.prototype.hashCode=function(){var e=b.doubleToLongBits(this.p0.x);e^=31*b.doubleToLongBits(this.p0.y);var t=Math.trunc(e)^Math.trunc(e>>32),n=b.doubleToLongBits(this.p1.x);return n^=31*b.doubleToLongBits(this.p1.y),t^Math.trunc(n)^Math.trunc(n>>32)},gn.prototype.interfaces_=function(){return[w,t]},gn.prototype.getClass=function(){return gn},gn.midPoint=function(e,t){return new k((e.x+t.x)/2,(e.y+t.y)/2)},vn.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(gn,vn);var yn=function(){this.tempEnv1=new Y,this.tempEnv2=new Y,this._overlapSeg1=new gn,this._overlapSeg2=new gn};yn.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var e=arguments[1],t=arguments[2],n=arguments[3];arguments[0].getLineSegment(e,this._overlapSeg1),t.getLineSegment(n,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},yn.prototype.interfaces_=function(){return[]},yn.prototype.getClass=function(){return yn};var mn=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this._pts=e,this._start=t,this._end=n,this._context=r};mn.prototype.getLineSegment=function(e,t){t.p0=this._pts[e],t.p1=this._pts[e+1]},mn.prototype.computeSelect=function(e,t,n,r){var i=this._pts[t],o=this._pts[n];if(r.tempEnv1.init(i,o),n-t==1)return r.select(this,t),null;if(!e.intersects(r.tempEnv1))return null;var a=Math.trunc((t+n)/2);t<a&&this.computeSelect(e,t,a,r),a<n&&this.computeSelect(e,a,n,r)},mn.prototype.getCoordinates=function(){for(var e=new Array(this._end-this._start+1).fill(null),t=0,n=this._start;n<=this._end;n++)e[t++]=this._pts[n];return e},mn.prototype.computeOverlaps=function(e,t){this.computeOverlapsInternal(this._start,this._end,e,e._start,e._end,t)},mn.prototype.setId=function(e){this._id=e},mn.prototype.select=function(e,t){this.computeSelect(e,this._start,this._end,t)},mn.prototype.getEnvelope=function(){if(null===this._env){var e=this._pts[this._start],t=this._pts[this._end];this._env=new Y(e,t)}return this._env},mn.prototype.getEndIndex=function(){return this._end},mn.prototype.getStartIndex=function(){return this._start},mn.prototype.getContext=function(){return this._context},mn.prototype.getId=function(){return this._id},mn.prototype.computeOverlapsInternal=function(e,t,n,r,i,o){var a=this._pts[e],s=this._pts[t],u=n._pts[r],l=n._pts[i];if(t-e==1&&i-r==1)return o.overlap(this,e,n,r),null;if(o.tempEnv1.init(a,s),o.tempEnv2.init(u,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((e+t)/2),f=Math.trunc((r+i)/2);e<c&&(r<f&&this.computeOverlapsInternal(e,c,n,r,f,o),f<i&&this.computeOverlapsInternal(e,c,n,f,i,o)),c<t&&(r<f&&this.computeOverlapsInternal(c,t,n,r,f,o),f<i&&this.computeOverlapsInternal(c,t,n,f,i,o))},mn.prototype.interfaces_=function(){return[]},mn.prototype.getClass=function(){return mn};var bn=function(){};bn.prototype.interfaces_=function(){return[]},bn.prototype.getClass=function(){return bn},bn.getChainStartIndices=function(e){var t=0,n=new Ee;n.add(new L(t));do{var r=bn.findChainEnd(e,t);n.add(new L(r)),t=r}while(t<e.length-1);return bn.toIntArray(n)},bn.findChainEnd=function(e,t){for(var n=t;n<e.length-1&&e[n].equals2D(e[n+1]);)n++;if(n>=e.length-1)return e.length-1;for(var r=jt.quadrant(e[n],e[n+1]),i=t+1;i<e.length&&(e[i-1].equals2D(e[i])||jt.quadrant(e[i-1],e[i])===r);)i++;return i-1},bn.getChains=function(){if(1===arguments.length){var e=arguments[0];return bn.getChains(e,null)}if(2===arguments.length){for(var t=arguments[0],n=arguments[1],r=new Ee,i=bn.getChainStartIndices(t),o=0;o<i.length-1;o++){var a=new mn(t,i[o],i[o+1],n);r.add(a)}return r}},bn.toIntArray=function(e){for(var t=new Array(e.size()).fill(null),n=0;n<t.length;n++)t[n]=e.get(n).intValue();return t};var _n=function(){};_n.prototype.computeNodes=function(e){},_n.prototype.getNodedSubstrings=function(){},_n.prototype.interfaces_=function(){return[]},_n.prototype.getClass=function(){return _n};var wn=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setSegmentIntersector(e)}};wn.prototype.setSegmentIntersector=function(e){this._segInt=e},wn.prototype.interfaces_=function(){return[_n]},wn.prototype.getClass=function(){return wn};var xn=function(e){function t(t){t?e.call(this,t):e.call(this),this._monoChains=new Ee,this._index=new an,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={SegmentOverlapAction:{configurable:!0}};return t.prototype.getMonotoneChains=function(){return this._monoChains},t.prototype.getNodedSubstrings=function(){return pn.getNodedSubstrings(this._nodedSegStrings)},t.prototype.getIndex=function(){return this._index},t.prototype.add=function(e){for(var t=bn.getChains(e.getCoordinates(),e).iterator();t.hasNext();){var n=t.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},t.prototype.computeNodes=function(e){this._nodedSegStrings=e;for(var t=e.iterator();t.hasNext();)this.add(t.next());this.intersectChains()},t.prototype.intersectChains=function(){for(var e=new En(this._segInt),t=this._monoChains.iterator();t.hasNext();)for(var n=t.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var i=r.next();if(i.getId()>n.getId()&&(n.computeOverlaps(i,e),this._nOverlaps++),this._segInt.isDone())return null}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.SegmentOverlapAction.get=function(){return En},Object.defineProperties(t,n),t}(wn),En=function(e){function t(){e.call(this),this._si=null;var t=arguments[0];this._si=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.overlap=function(){if(4!==arguments.length)return e.prototype.overlap.apply(this,arguments);var t=arguments[1],n=arguments[2],r=arguments[3],i=arguments[0].getContext(),o=n.getContext();this._si.processIntersections(i,t,o,r)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(yn),kn=function e(){if(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=e.CAP_ROUND,this._joinStyle=e.JOIN_ROUND,this._mitreLimit=e.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=e.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setQuadrantSegments(t)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(o),this.setJoinStyle(a),this.setMitreLimit(s)}},Cn={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};kn.prototype.getEndCapStyle=function(){return this._endCapStyle},kn.prototype.isSingleSided=function(){return this._isSingleSided},kn.prototype.setQuadrantSegments=function(e){this._quadrantSegments=e,0===this._quadrantSegments&&(this._joinStyle=kn.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=kn.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),e<=0&&(this._quadrantSegments=1),this._joinStyle!==kn.JOIN_ROUND&&(this._quadrantSegments=kn.DEFAULT_QUADRANT_SEGMENTS)},kn.prototype.getJoinStyle=function(){return this._joinStyle},kn.prototype.setJoinStyle=function(e){this._joinStyle=e},kn.prototype.setSimplifyFactor=function(e){this._simplifyFactor=e<0?0:e},kn.prototype.getSimplifyFactor=function(){return this._simplifyFactor},kn.prototype.getQuadrantSegments=function(){return this._quadrantSegments},kn.prototype.setEndCapStyle=function(e){this._endCapStyle=e},kn.prototype.getMitreLimit=function(){return this._mitreLimit},kn.prototype.setMitreLimit=function(e){this._mitreLimit=e},kn.prototype.setSingleSided=function(e){this._isSingleSided=e},kn.prototype.interfaces_=function(){return[]},kn.prototype.getClass=function(){return kn},kn.bufferDistanceError=function(e){var t=Math.PI/2/e;return 1-Math.cos(t/2)},Cn.CAP_ROUND.get=function(){return 1},Cn.CAP_FLAT.get=function(){return 2},Cn.CAP_SQUARE.get=function(){return 3},Cn.JOIN_ROUND.get=function(){return 1},Cn.JOIN_MITRE.get=function(){return 2},Cn.JOIN_BEVEL.get=function(){return 3},Cn.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Cn.DEFAULT_MITRE_LIMIT.get=function(){return 5},Cn.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(kn,Cn);var Sn=function(e){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=se.COUNTERCLOCKWISE,this._inputLine=e||null},Nn={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Sn.prototype.isDeletable=function(e,t,n,r){var i=this._inputLine[e],o=this._inputLine[t],a=this._inputLine[n];return!!this.isConcave(i,o,a)&&!!this.isShallow(i,o,a,r)&&this.isShallowSampled(i,o,e,n,r)},Sn.prototype.deleteShallowConcavities=function(){for(var e=1,t=this.findNextNonDeletedIndex(e),n=this.findNextNonDeletedIndex(t),r=!1;n<this._inputLine.length;){var i=!1;this.isDeletable(e,t,n,this._distanceTol)&&(this._isDeleted[t]=Sn.DELETE,i=!0,r=!0),e=i?n:t,t=this.findNextNonDeletedIndex(e),n=this.findNextNonDeletedIndex(t)}return r},Sn.prototype.isShallowConcavity=function(e,t,n,r){return se.computeOrientation(e,t,n)===this._angleOrientation&&se.distancePointLine(t,e,n)<r},Sn.prototype.isShallowSampled=function(e,t,n,r,i){var o=Math.trunc((r-n)/Sn.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var a=n;a<r;a+=o)if(!this.isShallow(e,t,this._inputLine[a],i))return!1;return!0},Sn.prototype.isConcave=function(e,t,n){return se.computeOrientation(e,t,n)===this._angleOrientation},Sn.prototype.simplify=function(e){this._distanceTol=Math.abs(e),e<0&&(this._angleOrientation=se.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var t=!1;do{t=this.deleteShallowConcavities()}while(t);return this.collapseLine()},Sn.prototype.findNextNonDeletedIndex=function(e){for(var t=e+1;t<this._inputLine.length&&this._isDeleted[t]===Sn.DELETE;)t++;return t},Sn.prototype.isShallow=function(e,t,n,r){return se.distancePointLine(t,e,n)<r},Sn.prototype.collapseLine=function(){for(var e=new Ce,t=0;t<this._inputLine.length;t++)this._isDeleted[t]!==Sn.DELETE&&e.add(this._inputLine[t]);return e.toCoordinateArray()},Sn.prototype.interfaces_=function(){return[]},Sn.prototype.getClass=function(){return Sn},Sn.simplify=function(e,t){return new Sn(e).simplify(t)},Nn.INIT.get=function(){return 0},Nn.DELETE.get=function(){return 1},Nn.KEEP.get=function(){return 1},Nn.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Sn,Nn);var Tn=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Ee},In={COORDINATE_ARRAY_TYPE:{configurable:!0}};Tn.prototype.getCoordinates=function(){return this._ptList.toArray(Tn.COORDINATE_ARRAY_TYPE)},Tn.prototype.setPrecisionModel=function(e){this._precisionModel=e},Tn.prototype.addPt=function(e){var t=new k(e);if(this._precisionModel.makePrecise(t),this.isRedundant(t))return null;this._ptList.add(t)},Tn.prototype.revere=function(){},Tn.prototype.addPts=function(e,t){if(t)for(var n=0;n<e.length;n++)this.addPt(e[n]);else for(var r=e.length-1;r>=0;r--)this.addPt(e[r])},Tn.prototype.isRedundant=function(e){if(this._ptList.size()<1)return!1;var t=this._ptList.get(this._ptList.size()-1);return e.distance(t)<this._minimimVertexDistance},Tn.prototype.toString=function(){return(new yt).createLineString(this.getCoordinates()).toString()},Tn.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var e=new k(this._ptList.get(0)),t=this._ptList.get(this._ptList.size()-1);if(e.equals(t))return null;this._ptList.add(e)},Tn.prototype.setMinimumVertexDistance=function(e){this._minimimVertexDistance=e},Tn.prototype.interfaces_=function(){return[]},Tn.prototype.getClass=function(){return Tn},In.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Tn,In);var Dn=function(){},Mn={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Dn.prototype.interfaces_=function(){return[]},Dn.prototype.getClass=function(){return Dn},Dn.toDegrees=function(e){return 180*e/Math.PI},Dn.normalize=function(e){for(;e>Math.PI;)e-=Dn.PI_TIMES_2;for(;e<=-Math.PI;)e+=Dn.PI_TIMES_2;return e},Dn.angle=function(){if(1===arguments.length){var e=arguments[0];return Math.atan2(e.y,e.x)}if(2===arguments.length){var t=arguments[0],n=arguments[1],r=n.x-t.x,i=n.y-t.y;return Math.atan2(i,r)}},Dn.isAcute=function(e,t,n){var r=e.x-t.x,i=e.y-t.y;return r*(n.x-t.x)+i*(n.y-t.y)>0},Dn.isObtuse=function(e,t,n){var r=e.x-t.x,i=e.y-t.y;return r*(n.x-t.x)+i*(n.y-t.y)<0},Dn.interiorAngle=function(e,t,n){var r=Dn.angle(t,e),i=Dn.angle(t,n);return Math.abs(i-r)},Dn.normalizePositive=function(e){if(e<0){for(;e<0;)e+=Dn.PI_TIMES_2;e>=Dn.PI_TIMES_2&&(e=0)}else{for(;e>=Dn.PI_TIMES_2;)e-=Dn.PI_TIMES_2;e<0&&(e=0)}return e},Dn.angleBetween=function(e,t,n){var r=Dn.angle(t,e),i=Dn.angle(t,n);return Dn.diff(r,i)},Dn.diff=function(e,t){var n=null;return(n=e<t?t-e:e-t)>Math.PI&&(n=2*Math.PI-n),n},Dn.toRadians=function(e){return e*Math.PI/180},Dn.getTurn=function(e,t){var n=Math.sin(t-e);return n>0?Dn.COUNTERCLOCKWISE:n<0?Dn.CLOCKWISE:Dn.NONE},Dn.angleBetweenOriented=function(e,t,n){var r=Dn.angle(t,e),i=Dn.angle(t,n)-r;return i<=-Math.PI?i+Dn.PI_TIMES_2:i>Math.PI?i-Dn.PI_TIMES_2:i},Mn.PI_TIMES_2.get=function(){return 2*Math.PI},Mn.PI_OVER_2.get=function(){return Math.PI/2},Mn.PI_OVER_4.get=function(){return Math.PI/4},Mn.COUNTERCLOCKWISE.get=function(){return se.COUNTERCLOCKWISE},Mn.CLOCKWISE.get=function(){return se.CLOCKWISE},Mn.NONE.get=function(){return se.COLLINEAR},Object.defineProperties(Dn,Mn);var On=function e(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new gn,this._seg1=new gn,this._offset0=new gn,this._offset1=new gn,this._side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=t,this._bufParams=n,this._li=new ie,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===kn.JOIN_ROUND&&(this._closingSegLengthFactor=e.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},Pn={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};On.prototype.addNextSegment=function(e,t){if(this._s0=this._s1,this._s1=this._s2,this._s2=e,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=se.computeOrientation(this._s0,this._s1,this._s2),r=n===se.CLOCKWISE&&this._side===Ct.LEFT||n===se.COUNTERCLOCKWISE&&this._side===Ct.RIGHT;0===n?this.addCollinear(t):r?this.addOutsideTurn(n,t):this.addInsideTurn(n,t)},On.prototype.addLineEndCap=function(e,t){var n=new gn(e,t),r=new gn;this.computeOffsetSegment(n,Ct.LEFT,this._distance,r);var i=new gn;this.computeOffsetSegment(n,Ct.RIGHT,this._distance,i);var o=t.x-e.x,a=t.y-e.y,s=Math.atan2(a,o);switch(this._bufParams.getEndCapStyle()){case kn.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(t,s+Math.PI/2,s-Math.PI/2,se.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case kn.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case kn.CAP_SQUARE:var u=new k;u.x=Math.abs(this._distance)*Math.cos(s),u.y=Math.abs(this._distance)*Math.sin(s);var l=new k(r.p1.x+u.x,r.p1.y+u.y),c=new k(i.p1.x+u.x,i.p1.y+u.y);this._segList.addPt(l),this._segList.addPt(c)}},On.prototype.getCoordinates=function(){return this._segList.getCoordinates()},On.prototype.addMitreJoin=function(e,t,n,r){var i=!0,o=null;try{o=q.intersection(t.p0,t.p1,n.p0,n.p1),(r<=0?1:o.distance(e)/Math.abs(r))>this._bufParams.getMitreLimit()&&(i=!1)}catch(e){if(!(e instanceof G))throw e;o=new k(0,0),i=!1}i?this._segList.addPt(o):this.addLimitedMitreJoin(t,n,r,this._bufParams.getMitreLimit())},On.prototype.addFilletCorner=function(e,t,n,r,i){var o=t.x-e.x,a=t.y-e.y,s=Math.atan2(a,o),u=n.x-e.x,l=n.y-e.y,c=Math.atan2(l,u);r===se.CLOCKWISE?s<=c&&(s+=2*Math.PI):s>=c&&(s-=2*Math.PI),this._segList.addPt(t),this.addFilletArc(e,s,c,r,i),this._segList.addPt(n)},On.prototype.addOutsideTurn=function(e,t){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*On.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===kn.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===kn.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(t&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,e,this._distance),this._segList.addPt(this._offset1.p0))},On.prototype.createSquare=function(e){this._segList.addPt(new k(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new k(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new k(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new k(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()},On.prototype.addSegments=function(e,t){this._segList.addPts(e,t)},On.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},On.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},On.prototype.initSideSegments=function(e,t,n){this._s1=e,this._s2=t,this._side=n,this._seg1.setCoordinates(e,t),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},On.prototype.addLimitedMitreJoin=function(e,t,n,r){var i=this._seg0.p1,o=Dn.angle(i,this._seg0.p0),a=Dn.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,s=Dn.normalize(o+a),u=Dn.normalize(s+Math.PI),l=r*n,c=n-l*Math.abs(Math.sin(a)),f=i.x+l*Math.cos(u),h=i.y+l*Math.sin(u),d=new k(f,h),p=new gn(i,d),g=p.pointAlongOffset(1,c),v=p.pointAlongOffset(1,-c);this._side===Ct.LEFT?(this._segList.addPt(g),this._segList.addPt(v)):(this._segList.addPt(v),this._segList.addPt(g))},On.prototype.computeOffsetSegment=function(e,t,n,r){var i=t===Ct.LEFT?1:-1,o=e.p1.x-e.p0.x,a=e.p1.y-e.p0.y,s=Math.sqrt(o*o+a*a),u=i*n*o/s,l=i*n*a/s;r.p0.x=e.p0.x-l,r.p0.y=e.p0.y+u,r.p1.x=e.p1.x-l,r.p1.y=e.p1.y+u},On.prototype.addFilletArc=function(e,t,n,r,i){var o=r===se.CLOCKWISE?-1:1,a=Math.abs(t-n),s=Math.trunc(a/this._filletAngleQuantum+.5);if(s<1)return null;for(var u=a/s,l=0,c=new k;l<a;){var f=t+o*l;c.x=e.x+i*Math.cos(f),c.y=e.y+i*Math.sin(f),this._segList.addPt(c),l+=u}},On.prototype.addInsideTurn=function(e,t){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*On.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new k((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new k((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},On.prototype.createCircle=function(e){var t=new k(e.x+this._distance,e.y);this._segList.addPt(t),this.addFilletArc(e,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},On.prototype.addBevelJoin=function(e,t){this._segList.addPt(e.p1),this._segList.addPt(t.p0)},On.prototype.init=function(e){this._distance=e,this._maxCurveSegmentError=e*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Tn,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*On.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},On.prototype.addCollinear=function(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===kn.JOIN_BEVEL||this._bufParams.getJoinStyle()===kn.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,se.CLOCKWISE,this._distance))},On.prototype.closeRing=function(){this._segList.closeRing()},On.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},On.prototype.interfaces_=function(){return[]},On.prototype.getClass=function(){return On},Pn.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},Pn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},Pn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Pn.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(On,Pn);var Ln=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[0],t=arguments[1];this._precisionModel=e,this._bufParams=t};Ln.prototype.getOffsetCurve=function(e,t){if(this._distance=t,0===t)return null;var n=t<0,r=Math.abs(t),i=this.getSegGen(r);e.length<=1?this.computePointCurve(e[0],i):this.computeOffsetCurve(e,n,i);var o=i.getCoordinates();return n&&Se.reverse(o),o},Ln.prototype.computeSingleSidedBufferCurve=function(e,t,n){var r=this.simplifyTolerance(this._distance);if(t){n.addSegments(e,!0);var i=Sn.simplify(e,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Ct.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{n.addSegments(e,!1);var s=Sn.simplify(e,r),u=s.length-1;n.initSideSegments(s[0],s[1],Ct.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(s[l],!0)}n.addLastSegment(),n.closeRing()},Ln.prototype.computeRingBufferCurve=function(e,t,n){var r=this.simplifyTolerance(this._distance);t===Ct.RIGHT&&(r=-r);var i=Sn.simplify(e,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],t);for(var a=1;a<=o;a++){var s=1!==a;n.addNextSegment(i[a],s)}n.closeRing()},Ln.prototype.computeLineBufferCurve=function(e,t){var n=this.simplifyTolerance(this._distance),r=Sn.simplify(e,n),i=r.length-1;t.initSideSegments(r[0],r[1],Ct.LEFT);for(var o=2;o<=i;o++)t.addNextSegment(r[o],!0);t.addLastSegment(),t.addLineEndCap(r[i-1],r[i]);var a=Sn.simplify(e,-n),s=a.length-1;t.initSideSegments(a[s],a[s-1],Ct.LEFT);for(var u=s-2;u>=0;u--)t.addNextSegment(a[u],!0);t.addLastSegment(),t.addLineEndCap(a[1],a[0]),t.closeRing()},Ln.prototype.computePointCurve=function(e,t){switch(this._bufParams.getEndCapStyle()){case kn.CAP_ROUND:t.createCircle(e);break;case kn.CAP_SQUARE:t.createSquare(e)}},Ln.prototype.getLineCurve=function(e,t){if(this._distance=t,t<0&&!this._bufParams.isSingleSided())return null;if(0===t)return null;var n=Math.abs(t),r=this.getSegGen(n);if(e.length<=1)this.computePointCurve(e[0],r);else if(this._bufParams.isSingleSided()){var i=t<0;this.computeSingleSidedBufferCurve(e,i,r)}else this.computeLineBufferCurve(e,r);return r.getCoordinates()},Ln.prototype.getBufferParameters=function(){return this._bufParams},Ln.prototype.simplifyTolerance=function(e){return e*this._bufParams.getSimplifyFactor()},Ln.prototype.getRingCurve=function(e,t,n){if(this._distance=n,e.length<=2)return this.getLineCurve(e,n);if(0===n)return Ln.copyCoordinates(e);var r=this.getSegGen(n);return this.computeRingBufferCurve(e,t,r),r.getCoordinates()},Ln.prototype.computeOffsetCurve=function(e,t,n){var r=this.simplifyTolerance(this._distance);if(t){var i=Sn.simplify(e,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Ct.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{var s=Sn.simplify(e,r),u=s.length-1;n.initSideSegments(s[0],s[1],Ct.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(s[l],!0)}n.addLastSegment()},Ln.prototype.getSegGen=function(e){return new On(this._precisionModel,this._bufParams,e)},Ln.prototype.interfaces_=function(){return[]},Ln.prototype.getClass=function(){return Ln},Ln.copyCoordinates=function(e){for(var t=new Array(e.length).fill(null),n=0;n<t.length;n++)t[n]=new k(e[n]);return t};var An=function(){this._subgraphs=null,this._seg=new gn,this._cga=new se;var e=arguments[0];this._subgraphs=e},Rn={DepthSegment:{configurable:!0}};An.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var e=arguments[0],t=new Ee,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();e.y<i.getMinY()||e.y>i.getMaxY()||this.findStabbedSegments(e,r.getDirectedEdges(),t)}return t}if(3===arguments.length)if(D(arguments[2],xe)&&arguments[0]instanceof k&&arguments[1]instanceof Ut){for(var o=arguments[0],a=arguments[1],s=arguments[2],u=a.getEdge().getCoordinates(),l=0;l<u.length-1;l++)if(this._seg.p0=u[l],this._seg.p1=u[l+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x||this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||se.computeOrientation(this._seg.p0,this._seg.p1,o)===se.RIGHT)){var c=a.getDepth(Ct.LEFT);this._seg.p0.equals(u[l])||(c=a.getDepth(Ct.RIGHT));var f=new Fn(this._seg,c);s.add(f)}}else if(D(arguments[2],xe)&&arguments[0]instanceof k&&D(arguments[1],xe))for(var h=arguments[0],d=arguments[2],p=arguments[1].iterator();p.hasNext();){var g=p.next();g.isForward()&&this.findStabbedSegments(h,g,d)}},An.prototype.getDepth=function(e){var t=this.findStabbedSegments(e);return 0===t.size()?0:Jt.min(t)._leftDepth},An.prototype.interfaces_=function(){return[]},An.prototype.getClass=function(){return An},Rn.DepthSegment.get=function(){return Fn},Object.defineProperties(An,Rn);var Fn=function(){this._upwardSeg=null,this._leftDepth=null;var e=arguments[0],t=arguments[1];this._upwardSeg=new gn(e),this._leftDepth=t};Fn.prototype.compareTo=function(e){var t=e;if(this._upwardSeg.minX()>=t._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=t._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(t._upwardSeg);return 0!==n||0!=(n=-1*t._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(t._upwardSeg)},Fn.prototype.compareX=function(e,t){var n=e.p0.compareTo(t.p0);return 0!==n?n:e.p1.compareTo(t.p1)},Fn.prototype.toString=function(){return this._upwardSeg.toString()},Fn.prototype.interfaces_=function(){return[w]},Fn.prototype.getClass=function(){return Fn};var zn=function(e,t,n){this.p0=e||null,this.p1=t||null,this.p2=n||null};zn.prototype.area=function(){return zn.area(this.p0,this.p1,this.p2)},zn.prototype.signedArea=function(){return zn.signedArea(this.p0,this.p1,this.p2)},zn.prototype.interpolateZ=function(e){if(null===e)throw new m("Supplied point is null.");return zn.interpolateZ(e,this.p0,this.p1,this.p2)},zn.prototype.longestSideLength=function(){return zn.longestSideLength(this.p0,this.p1,this.p2)},zn.prototype.isAcute=function(){return zn.isAcute(this.p0,this.p1,this.p2)},zn.prototype.circumcentre=function(){return zn.circumcentre(this.p0,this.p1,this.p2)},zn.prototype.area3D=function(){return zn.area3D(this.p0,this.p1,this.p2)},zn.prototype.centroid=function(){return zn.centroid(this.p0,this.p1,this.p2)},zn.prototype.inCentre=function(){return zn.inCentre(this.p0,this.p1,this.p2)},zn.prototype.interfaces_=function(){return[]},zn.prototype.getClass=function(){return zn},zn.area=function(e,t,n){return Math.abs(((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2)},zn.signedArea=function(e,t,n){return((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2},zn.det=function(e,t,n,r){return e*r-t*n},zn.interpolateZ=function(e,t,n,r){var i=t.x,o=t.y,a=n.x-i,s=r.x-i,u=n.y-o,l=r.y-o,c=a*l-s*u,f=e.x-i,h=e.y-o,d=(l*f-s*h)/c,p=(-u*f+a*h)/c;return t.z+d*(n.z-t.z)+p*(r.z-t.z)},zn.longestSideLength=function(e,t,n){var r=e.distance(t),i=t.distance(n),o=n.distance(e),a=r;return i>a&&(a=i),o>a&&(a=o),a},zn.isAcute=function(e,t,n){return!!Dn.isAcute(e,t,n)&&!!Dn.isAcute(t,n,e)&&!!Dn.isAcute(n,e,t)},zn.circumcentre=function(e,t,n){var r=n.x,i=n.y,o=e.x-r,a=e.y-i,s=t.x-r,u=t.y-i,l=2*zn.det(o,a,s,u),c=zn.det(a,o*o+a*a,u,s*s+u*u),f=zn.det(o,o*o+a*a,s,s*s+u*u);return new k(r-c/l,i+f/l)},zn.perpendicularBisector=function(e,t){var n=t.x-e.x,r=t.y-e.y,i=new q(e.x+n/2,e.y+r/2,1),o=new q(e.x-r+n/2,e.y+n+r/2,1);return new q(i,o)},zn.angleBisector=function(e,t,n){var r=t.distance(e),i=r/(r+t.distance(n)),o=n.x-e.x,a=n.y-e.y;return new k(e.x+i*o,e.y+i*a)},zn.area3D=function(e,t,n){var r=t.x-e.x,i=t.y-e.y,o=t.z-e.z,a=n.x-e.x,s=n.y-e.y,u=n.z-e.z,l=i*u-o*s,c=o*a-r*u,f=r*s-i*a,h=l*l+c*c+f*f;return Math.sqrt(h)/2},zn.centroid=function(e,t,n){var r=(e.x+t.x+n.x)/3,i=(e.y+t.y+n.y)/3;return new k(r,i)},zn.inCentre=function(e,t,n){var r=t.distance(n),i=e.distance(n),o=e.distance(t),a=r+i+o,s=(r*e.x+i*t.x+o*n.x)/a,u=(r*e.y+i*t.y+o*n.y)/a;return new k(s,u)};var jn=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Ee;var e=arguments[0],t=arguments[1],n=arguments[2];this._inputGeom=e,this._distance=t,this._curveBuilder=n};jn.prototype.addPoint=function(e){if(this._distance<=0)return null;var t=e.getCoordinates(),n=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(n,T.EXTERIOR,T.INTERIOR)},jn.prototype.addPolygon=function(e){var t=this._distance,n=Ct.LEFT;this._distance<0&&(t=-this._distance,n=Ct.RIGHT);var r=e.getExteriorRing(),i=Se.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance))return null;if(this._distance<=0&&i.length<3)return null;this.addPolygonRing(i,t,n,T.EXTERIOR,T.INTERIOR);for(var o=0;o<e.getNumInteriorRing();o++){var a=e.getInteriorRingN(o),s=Se.removeRepeatedPoints(a.getCoordinates());this._distance>0&&this.isErodedCompletely(a,-this._distance)||this.addPolygonRing(s,t,Ct.opposite(n),T.INTERIOR,T.EXTERIOR)}},jn.prototype.isTriangleErodedCompletely=function(e,t){var n=new zn(e[0],e[1],e[2]),r=n.inCentre();return se.distancePointLine(r,n.p0,n.p1)<Math.abs(t)},jn.prototype.addLineString=function(e){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var t=Se.removeRepeatedPoints(e.getCoordinates()),n=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(n,T.EXTERIOR,T.INTERIOR)},jn.prototype.addCurve=function(e,t,n){if(null===e||e.length<2)return null;var r=new pn(e,new Ot(0,T.BOUNDARY,t,n));this._curveList.add(r)},jn.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},jn.prototype.addPolygonRing=function(e,t,n,r,i){if(0===t&&e.length<tt.MINIMUM_VALID_SIZE)return null;var o=r,a=i;e.length>=tt.MINIMUM_VALID_SIZE&&se.isCCW(e)&&(o=i,a=r,n=Ct.opposite(n));var s=this._curveBuilder.getRingCurve(e,n,t);this.addCurve(s,o,a)},jn.prototype.add=function(e){if(e.isEmpty())return null;e instanceof Je?this.addPolygon(e):e instanceof Ke?this.addLineString(e):e instanceof Qe?this.addPoint(e):(e instanceof et||e instanceof Ge||e instanceof nt||e instanceof Ue)&&this.addCollection(e)},jn.prototype.isErodedCompletely=function(e,t){var n=e.getCoordinates();if(n.length<4)return t<0;if(4===n.length)return this.isTriangleErodedCompletely(n,t);var r=e.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return t<0&&2*Math.abs(t)>i},jn.prototype.addCollection=function(e){for(var t=0;t<e.getNumGeometries();t++){var n=e.getGeometryN(t);this.add(n)}},jn.prototype.interfaces_=function(){return[]},jn.prototype.getClass=function(){return jn};var Bn=function(){};Bn.prototype.locate=function(e){},Bn.prototype.interfaces_=function(){return[]},Bn.prototype.getClass=function(){return Bn};var Vn=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()};Vn.prototype.next=function(){if(this._atStart)return this._atStart=!1,Vn.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new r;var e=this._parent.getGeometryN(this._index++);return e instanceof Ue?(this._subcollectionIterator=new Vn(e),this._subcollectionIterator.next()):e},Vn.prototype.remove=function(){throw new Error(this.getClass().getName())},Vn.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Vn.prototype.interfaces_=function(){return[we]},Vn.prototype.getClass=function(){return Vn},Vn.isAtomic=function(e){return!(e instanceof Ue)};var Un=function(){this._geom=null;var e=arguments[0];this._geom=e};Un.prototype.locate=function(e){return Un.locate(e,this._geom)},Un.prototype.interfaces_=function(){return[Bn]},Un.prototype.getClass=function(){return Un},Un.isPointInRing=function(e,t){return!!t.getEnvelopeInternal().intersects(e)&&se.isPointInRing(e,t.getCoordinates())},Un.containsPointInPolygon=function(e,t){if(t.isEmpty())return!1;var n=t.getExteriorRing();if(!Un.isPointInRing(e,n))return!1;for(var r=0;r<t.getNumInteriorRing();r++){var i=t.getInteriorRingN(r);if(Un.isPointInRing(e,i))return!1}return!0},Un.containsPoint=function(e,t){if(t instanceof Je)return Un.containsPointInPolygon(e,t);if(t instanceof Ue)for(var n=new Vn(t);n.hasNext();){var r=n.next();if(r!==t&&Un.containsPoint(e,r))return!0}return!1},Un.locate=function(e,t){return t.isEmpty()?T.EXTERIOR:Un.containsPoint(e,t)?T.INTERIOR:T.EXTERIOR};var Gn=function(){this._edgeMap=new f,this._edgeList=null,this._ptInAreaLocation=[T.NONE,T.NONE]};Gn.prototype.getNextCW=function(e){this.getEdges();var t=this._edgeList.indexOf(e),n=t-1;return 0===t&&(n=this._edgeList.size()-1),this._edgeList.get(n)},Gn.prototype.propagateSideLabels=function(e){for(var t=T.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(e)&&r.getLocation(e,Ct.LEFT)!==T.NONE&&(t=r.getLocation(e,Ct.LEFT))}if(t===T.NONE)return null;for(var i=t,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getLabel();if(s.getLocation(e,Ct.ON)===T.NONE&&s.setLocation(e,Ct.ON,i),s.isArea(e)){var u=s.getLocation(e,Ct.LEFT),l=s.getLocation(e,Ct.RIGHT);if(l!==T.NONE){if(l!==i)throw new Tt("side location conflict",a.getCoordinate());u===T.NONE&&te.shouldNeverReachHere("found single null side (at "+a.getCoordinate()+")"),i=u}else te.isTrue(s.getLocation(e,Ct.LEFT)===T.NONE,"found single null side"),s.setLocation(e,Ct.RIGHT,i),s.setLocation(e,Ct.LEFT,i)}}},Gn.prototype.getCoordinate=function(){var e=this.iterator();return e.hasNext()?e.next().getCoordinate():null},Gn.prototype.print=function(e){H.out.println("EdgeEndStar:   "+this.getCoordinate());for(var t=this.iterator();t.hasNext();)t.next().print(e)},Gn.prototype.isAreaLabelsConsistent=function(e){return this.computeEdgeEndLabels(e.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Gn.prototype.checkAreaLabelsConsistent=function(e){var t=this.getEdges();if(t.size()<=0)return!0;var n=t.size()-1,r=t.get(n).getLabel().getLocation(e,Ct.LEFT);te.isTrue(r!==T.NONE,"Found unlabelled area edge");for(var i=r,o=this.iterator();o.hasNext();){var a=o.next().getLabel();te.isTrue(a.isArea(e),"Found non-area edge");var s=a.getLocation(e,Ct.LEFT),u=a.getLocation(e,Ct.RIGHT);if(s===u)return!1;if(u!==i)return!1;i=s}return!0},Gn.prototype.findIndex=function(e){this.iterator();for(var t=0;t<this._edgeList.size();t++)if(this._edgeList.get(t)===e)return t;return-1},Gn.prototype.iterator=function(){return this.getEdges().iterator()},Gn.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new Ee(this._edgeMap.values())),this._edgeList},Gn.prototype.getLocation=function(e,t,n){return this._ptInAreaLocation[e]===T.NONE&&(this._ptInAreaLocation[e]=Un.locate(t,n[e].getGeometry())),this._ptInAreaLocation[e]},Gn.prototype.toString=function(){var e=new P;e.append("EdgeEndStar:   "+this.getCoordinate()),e.append("\n");for(var t=this.iterator();t.hasNext();){var n=t.next();e.append(n),e.append("\n")}return e.toString()},Gn.prototype.computeEdgeEndLabels=function(e){for(var t=this.iterator();t.hasNext();)t.next().computeLabel(e)},Gn.prototype.computeLabelling=function(e){this.computeEdgeEndLabels(e[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var t=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),i=0;i<2;i++)r.isLine(i)&&r.getLocation(i)===T.BOUNDARY&&(t[i]=!0);for(var o=this.iterator();o.hasNext();)for(var a=o.next(),s=a.getLabel(),u=0;u<2;u++)if(s.isAnyNull(u)){var l=T.NONE;if(t[u])l=T.EXTERIOR;else{var c=a.getCoordinate();l=this.getLocation(u,c,e)}s.setAllLocationsIfNull(u,l)}},Gn.prototype.getDegree=function(){return this._edgeMap.size()},Gn.prototype.insertEdgeEnd=function(e,t){this._edgeMap.put(e,t),this._edgeList=null},Gn.prototype.interfaces_=function(){return[]},Gn.prototype.getClass=function(){return Gn};var Hn=function(e){function t(){e.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var e=null,t=null,n=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var i=this._resultAreaEdgeList.get(r),o=i.getSym();if(i.getLabel().isArea())switch(null===e&&i.isInResult()&&(e=i),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;t=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!i.isInResult())continue;t.setNext(i),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===e)throw new Tt("no outgoing dirEdge found",this.getCoordinate());te.isTrue(e.isInResult(),"unable to link last incoming dirEdge"),t.setNext(e)}},t.prototype.insert=function(e){var t=e;this.insertEdgeEnd(t,t)},t.prototype.getRightmostEdge=function(){var e=this.getEdges(),t=e.size();if(t<1)return null;var n=e.get(0);if(1===t)return n;var r=e.get(t-1),i=n.getQuadrant(),o=r.getQuadrant();return jt.isNorthern(i)&&jt.isNorthern(o)?n:jt.isNorthern(i)||jt.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(te.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},t.prototype.print=function(e){H.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var t=this.iterator();t.hasNext();){var n=t.next();e.print("out "),n.print(e),e.println(),e.print("in "),n.getSym().print(e),e.println()}},t.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Ee;for(var e=this.iterator();e.hasNext();){var t=e.next();(t.isInResult()||t.getSym().isInResult())&&this._resultAreaEdgeList.add(t)}return this._resultAreaEdgeList},t.prototype.updateLabelling=function(e){for(var t=this.iterator();t.hasNext();){var n=t.next().getLabel();n.setAllLocationsIfNull(0,e.getLocation(0)),n.setAllLocationsIfNull(1,e.getLocation(1))}},t.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var e=null,t=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),i=r.getSym();null===t&&(t=i),null!==e&&i.setNext(e),e=r}t.setNext(e)},t.prototype.computeDepths=function(){if(1===arguments.length){var e=arguments[0],t=this.findIndex(e),n=e.getDepth(Ct.LEFT),r=e.getDepth(Ct.RIGHT),i=this.computeDepths(t+1,this._edgeList.size(),n);if(this.computeDepths(0,t,i)!==r)throw new Tt("depth mismatch at "+e.getCoordinate())}else if(3===arguments.length){for(var o=arguments[1],a=arguments[2],s=arguments[0];s<o;s++){var u=this._edgeList.get(s);u.setEdgeDepths(Ct.RIGHT,a),a=u.getDepth(Ct.LEFT)}return a}},t.prototype.mergeSymLabels=function(){for(var e=this.iterator();e.hasNext();){var t=e.next();t.getLabel().merge(t.getSym().getLabel())}},t.prototype.linkMinimalDirectedEdges=function(e){for(var t=null,n=null,r=this._SCANNING_FOR_INCOMING,i=this._resultAreaEdgeList.size()-1;i>=0;i--){var o=this._resultAreaEdgeList.get(i),a=o.getSym();switch(null===t&&o.getEdgeRing()===e&&(t=o),r){case this._SCANNING_FOR_INCOMING:if(a.getEdgeRing()!==e)continue;n=a,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==e)continue;n.setNextMin(o),r=this._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&(te.isTrue(null!==t,"found null for first outgoing dirEdge"),te.isTrue(t.getEdgeRing()===e,"unable to link last incoming dirEdge"),n.setNextMin(t))},t.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var e=0,t=this.iterator();t.hasNext();)t.next().isInResult()&&e++;return e}if(1===arguments.length){for(var n=arguments[0],r=0,i=this.iterator();i.hasNext();)i.next().getEdgeRing()===n&&r++;return r}},t.prototype.getLabel=function(){return this._label},t.prototype.findCoveredLineEdges=function(){for(var e=T.NONE,t=this.iterator();t.hasNext();){var n=t.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){e=T.INTERIOR;break}if(r.isInResult()){e=T.EXTERIOR;break}}}if(e===T.NONE)return null;for(var i=e,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getSym();a.isLineEdge()?a.getEdge().setCovered(i===T.INTERIOR):(a.isInResult()&&(i=T.EXTERIOR),s.isInResult()&&(i=T.INTERIOR))}},t.prototype.computeLabelling=function(t){e.prototype.computeLabelling.call(this,t),this._label=new Ot(T.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),i=0;i<2;i++){var o=r.getLocation(i);o!==T.INTERIOR&&o!==T.BOUNDARY||this._label.setLocation(i,T.INTERIOR)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Gn),qn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createNode=function(e){return new Ft(e,new Hn)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Gt),Yn=function e(){this._pts=null,this._orientation=null;var t=arguments[0];this._pts=t,this._orientation=e.orientation(t)};Yn.prototype.compareTo=function(e){var t=e;return Yn.compareOriented(this._pts,this._orientation,t._pts,t._orientation)},Yn.prototype.interfaces_=function(){return[w]},Yn.prototype.getClass=function(){return Yn},Yn.orientation=function(e){return 1===Se.increasingDirection(e)},Yn.compareOriented=function(e,t,n,r){for(var i=t?1:-1,o=r?1:-1,a=t?e.length:-1,s=r?n.length:-1,u=t?0:e.length-1,l=r?0:n.length-1;;){var c=e[u].compareTo(n[l]);if(0!==c)return c;var f=(u+=i)===a,h=(l+=o)===s;if(f&&!h)return-1;if(!f&&h)return 1;if(f&&h)return 0}};var Wn=function(){this._edges=new Ee,this._ocaMap=new f};Wn.prototype.print=function(e){e.print("MULTILINESTRING ( ");for(var t=0;t<this._edges.size();t++){var n=this._edges.get(t);t>0&&e.print(","),e.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&e.print(","),e.print(r[i].x+" "+r[i].y);e.println(")")}e.print(")  ")},Wn.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next())},Wn.prototype.findEdgeIndex=function(e){for(var t=0;t<this._edges.size();t++)if(this._edges.get(t).equals(e))return t;return-1},Wn.prototype.iterator=function(){return this._edges.iterator()},Wn.prototype.getEdges=function(){return this._edges},Wn.prototype.get=function(e){return this._edges.get(e)},Wn.prototype.findEqualEdge=function(e){var t=new Yn(e.getCoordinates());return this._ocaMap.get(t)},Wn.prototype.add=function(e){this._edges.add(e);var t=new Yn(e.getCoordinates());this._ocaMap.put(t,e)},Wn.prototype.interfaces_=function(){return[]},Wn.prototype.getClass=function(){return Wn};var Xn=function(){};Xn.prototype.processIntersections=function(e,t,n,r){},Xn.prototype.isDone=function(){},Xn.prototype.interfaces_=function(){return[]},Xn.prototype.getClass=function(){return Xn};var Kn=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var e=arguments[0];this._li=e};Kn.prototype.isTrivialIntersection=function(e,t,n,r){if(e===n&&1===this._li.getIntersectionNum()){if(Kn.isAdjacentSegments(t,r))return!0;if(e.isClosed()){var i=e.size()-1;if(0===t&&r===i||0===r&&t===i)return!0}}return!1},Kn.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Kn.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Kn.prototype.getLineIntersector=function(){return this._li},Kn.prototype.hasProperIntersection=function(){return this._hasProper},Kn.prototype.processIntersections=function(e,t,n,r){if(e===n&&t===r)return null;this.numTests++;var i=e.getCoordinates()[t],o=e.getCoordinates()[t+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(e,t,n,r)||(this._hasIntersection=!0,e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Kn.prototype.hasIntersection=function(){return this._hasIntersection},Kn.prototype.isDone=function(){return!1},Kn.prototype.hasInteriorIntersection=function(){return this._hasInterior},Kn.prototype.interfaces_=function(){return[Xn]},Kn.prototype.getClass=function(){return Kn},Kn.isAdjacentSegments=function(e,t){return 1===Math.abs(e-t)};var $n=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[0],t=arguments[1],n=arguments[2];this.coord=new k(e),this.segmentIndex=t,this.dist=n};$n.prototype.getSegmentIndex=function(){return this.segmentIndex},$n.prototype.getCoordinate=function(){return this.coord},$n.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex),e.println(" dist = "+this.dist)},$n.prototype.compareTo=function(e){var t=e;return this.compare(t.segmentIndex,t.dist)},$n.prototype.isEndPoint=function(e){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===e},$n.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},$n.prototype.getDistance=function(){return this.dist},$n.prototype.compare=function(e,t){return this.segmentIndex<e?-1:this.segmentIndex>e?1:this.dist<t?-1:this.dist>t?1:0},$n.prototype.interfaces_=function(){return[w]},$n.prototype.getClass=function(){return $n};var Qn=function(){this._nodeMap=new f,this.edge=null;var e=arguments[0];this.edge=e};Qn.prototype.print=function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(e)},Qn.prototype.iterator=function(){return this._nodeMap.values().iterator()},Qn.prototype.addSplitEdges=function(e){this.addEndpoints();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next(),i=this.createSplitEdge(n,r);e.add(i),n=r}},Qn.prototype.addEndpoints=function(){var e=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[e],e,0)},Qn.prototype.createSplitEdge=function(e,t){var n=t.segmentIndex-e.segmentIndex+2,r=this.edge.pts[t.segmentIndex],i=t.dist>0||!t.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new k(e.coord);for(var s=e.segmentIndex+1;s<=t.segmentIndex;s++)o[a++]=this.edge.pts[s];return i&&(o[a]=t.coord),new nr(o,new Ot(this.edge._label))},Qn.prototype.add=function(e,t,n){var r=new $n(e,t,n),i=this._nodeMap.get(r);return null!==i?i:(this._nodeMap.put(r,r),r)},Qn.prototype.isIntersection=function(e){for(var t=this.iterator();t.hasNext();)if(t.next().coord.equals(e))return!0;return!1},Qn.prototype.interfaces_=function(){return[]},Qn.prototype.getClass=function(){return Qn};var Zn=function(){};Zn.prototype.getChainStartIndices=function(e){var t=0,n=new Ee;n.add(new L(t));do{var r=this.findChainEnd(e,t);n.add(new L(r)),t=r}while(t<e.length-1);return Zn.toIntArray(n)},Zn.prototype.findChainEnd=function(e,t){for(var n=jt.quadrant(e[t],e[t+1]),r=t+1;r<e.length&&jt.quadrant(e[r-1],e[r])===n;)r++;return r-1},Zn.prototype.interfaces_=function(){return[]},Zn.prototype.getClass=function(){return Zn},Zn.toIntArray=function(e){for(var t=new Array(e.size()).fill(null),n=0;n<t.length;n++)t[n]=e.get(n).intValue();return t};var Jn=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Y,this.env2=new Y;var e=arguments[0];this.e=e,this.pts=e.getCoordinates();var t=new Zn;this.startIndex=t.getChainStartIndices(this.pts)};Jn.prototype.getCoordinates=function(){return this.pts},Jn.prototype.getMaxX=function(e){var t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t>n?t:n},Jn.prototype.getMinX=function(e){var t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t<n?t:n},Jn.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[e],this.startIndex[e+1],t,t.startIndex[n],t.startIndex[n+1],r)}else if(6===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3],u=arguments[4],l=arguments[5],c=this.pts[i],f=this.pts[o],h=a.pts[s],d=a.pts[u];if(o-i==1&&u-s==1)return l.addIntersections(this.e,i,a.e,s),null;if(this.env1.init(c,f),this.env2.init(h,d),!this.env1.intersects(this.env2))return null;var p=Math.trunc((i+o)/2),g=Math.trunc((s+u)/2);i<p&&(s<g&&this.computeIntersectsForChain(i,p,a,s,g,l),g<u&&this.computeIntersectsForChain(i,p,a,g,u,l)),p<o&&(s<g&&this.computeIntersectsForChain(p,o,a,s,g,l),g<u&&this.computeIntersectsForChain(p,o,a,g,u,l))}},Jn.prototype.getStartIndexes=function(){return this.startIndex},Jn.prototype.computeIntersects=function(e,t){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<e.startIndex.length-1;r++)this.computeIntersectsForChain(n,e,r,t)},Jn.prototype.interfaces_=function(){return[]},Jn.prototype.getClass=function(){return Jn};var er=function e(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var t=0;t<2;t++)for(var n=0;n<3;n++)this._depth[t][n]=e.NULL_VALUE},tr={NULL_VALUE:{configurable:!0}};er.prototype.getDepth=function(e,t){return this._depth[e][t]},er.prototype.setDepth=function(e,t,n){this._depth[e][t]=n},er.prototype.isNull=function(){if(0===arguments.length){for(var e=0;e<2;e++)for(var t=0;t<3;t++)if(this._depth[e][t]!==er.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===er.NULL_VALUE}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._depth[r][i]===er.NULL_VALUE}},er.prototype.normalize=function(){for(var e=0;e<2;e++)if(!this.isNull(e)){var t=this._depth[e][1];this._depth[e][2]<t&&(t=this._depth[e][2]),t<0&&(t=0);for(var n=1;n<3;n++){var r=0;this._depth[e][n]>t&&(r=1),this._depth[e][n]=r}}},er.prototype.getDelta=function(e){return this._depth[e][Ct.RIGHT]-this._depth[e][Ct.LEFT]},er.prototype.getLocation=function(e,t){return this._depth[e][t]<=0?T.EXTERIOR:T.INTERIOR},er.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},er.prototype.add=function(){if(1===arguments.length)for(var e=arguments[0],t=0;t<2;t++)for(var n=1;n<3;n++){var r=e.getLocation(t,n);r!==T.EXTERIOR&&r!==T.INTERIOR||(this.isNull(t,n)?this._depth[t][n]=er.depthAtLocation(r):this._depth[t][n]+=er.depthAtLocation(r))}else if(3===arguments.length){var i=arguments[0],o=arguments[1];arguments[2]===T.INTERIOR&&this._depth[i][o]++}},er.prototype.interfaces_=function(){return[]},er.prototype.getClass=function(){return er},er.depthAtLocation=function(e){return e===T.EXTERIOR?0:e===T.INTERIOR?1:er.NULL_VALUE},tr.NULL_VALUE.get=function(){return-1},Object.defineProperties(er,tr);var nr=function(e){function t(){if(e.call(this),this.pts=null,this._env=null,this.eiList=new Qn(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new er,this._depthDelta=0,1===arguments.length){var n=arguments[0];t.call(this,n,null)}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.pts=r,this._label=i}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDepth=function(){return this._depth},t.prototype.getCollapsedEdge=function(){var e=new Array(2).fill(null);return e[0]=this.pts[0],e[1]=this.pts[1],new t(e,Ot.toLineLabel(this._label))},t.prototype.isIsolated=function(){return this._isIsolated},t.prototype.getCoordinates=function(){return this.pts},t.prototype.setIsolated=function(e){this._isIsolated=e},t.prototype.setName=function(e){this._name=e},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,i=!0,o=this.pts.length,a=0;a<this.pts.length;a++)if(this.pts[a].equals2D(n.pts[a])||(r=!1),this.pts[a].equals2D(n.pts[--o])||(i=!1),!r&&!i)return!1;return!0},t.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var e=arguments[0];return this.pts[e]}},t.prototype.print=function(e){e.print("edge "+this._name+": "),e.print("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.print(","),e.print(this.pts[t].x+" "+this.pts[t].y);e.print(")  "+this._label+" "+this._depthDelta)},t.prototype.computeIM=function(e){t.updateIM(this._label,e)},t.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},t.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},t.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},t.prototype.getDepthDelta=function(){return this._depthDelta},t.prototype.getNumPoints=function(){return this.pts.length},t.prototype.printReverse=function(e){e.print("edge "+this._name+": ");for(var t=this.pts.length-1;t>=0;t--)e.print(this.pts[t]+" ");e.println("")},t.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Jn(this)),this._mce},t.prototype.getEnvelope=function(){if(null===this._env){this._env=new Y;for(var e=0;e<this.pts.length;e++)this._env.expandToInclude(this.pts[e])}return this._env},t.prototype.addIntersection=function(e,t,n,r){var i=new k(e.getIntersection(r)),o=t,a=e.getEdgeDistance(n,r),s=o+1;if(s<this.pts.length){var u=this.pts[s];i.equals2D(u)&&(o=s,a=0)}this.eiList.add(i,o,a)},t.prototype.toString=function(){var e=new P;e.append("edge "+this._name+": "),e.append("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.append(","),e.append(this.pts[t].x+" "+this.pts[t].y);return e.append(")  "+this._label+" "+this._depthDelta),e.toString()},t.prototype.isPointwiseEqual=function(e){if(this.pts.length!==e.pts.length)return!1;for(var t=0;t<this.pts.length;t++)if(!this.pts[t].equals2D(e.pts[t]))return!1;return!0},t.prototype.setDepthDelta=function(e){this._depthDelta=e},t.prototype.getEdgeIntersectionList=function(){return this.eiList},t.prototype.addIntersections=function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++)this.addIntersection(e,t,n,r)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.updateIM=function(){if(2!==arguments.length)return e.prototype.updateIM.apply(this,arguments);var t=arguments[0],n=arguments[1];n.setAtLeastIfValid(t.getLocation(0,Ct.ON),t.getLocation(1,Ct.ON),1),t.isArea()&&(n.setAtLeastIfValid(t.getLocation(0,Ct.LEFT),t.getLocation(1,Ct.LEFT),2),n.setAtLeastIfValid(t.getLocation(0,Ct.RIGHT),t.getLocation(1,Ct.RIGHT),2))},t}(Rt),rr=function(e){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Wn,this._bufParams=e||null};rr.prototype.setWorkingPrecisionModel=function(e){this._workingPrecisionModel=e},rr.prototype.insertUniqueEdge=function(e){var t=this._edgeList.findEqualEdge(e);if(null!==t){var n=t.getLabel(),r=e.getLabel();t.isPointwiseEqual(e)||(r=new Ot(e.getLabel())).flip(),n.merge(r);var i=rr.depthDelta(r),o=t.getDepthDelta()+i;t.setDepthDelta(o)}else this._edgeList.add(e),e.setDepthDelta(rr.depthDelta(e.getLabel()))},rr.prototype.buildSubgraphs=function(e,t){for(var n=new Ee,r=e.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),a=new An(n).getDepth(o);i.computeDepth(a),i.findResultEdges(),n.add(i),t.add(i.getDirectedEdges(),i.getNodes())}},rr.prototype.createSubgraphs=function(e){for(var t=new Ee,n=e.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new Dt;i.create(r),t.add(i)}}return Jt.sort(t,Jt.reverseOrder()),t},rr.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},rr.prototype.getNoder=function(e){if(null!==this._workingNoder)return this._workingNoder;var t=new xn,n=new ie;return n.setPrecisionModel(e),t.setSegmentIntersector(new Kn(n)),t},rr.prototype.buffer=function(e,t){var n=this._workingPrecisionModel;null===n&&(n=e.getPrecisionModel()),this._geomFact=e.getFactory();var r=new Ln(n,this._bufParams),i=new jn(e,t,r).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this._graph=new Ht(new qn),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),a=new qt(this._geomFact);this.buildSubgraphs(o,a);var s=a.getPolygons();return s.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(s)},rr.prototype.computeNodedEdges=function(e,t){var n=this.getNoder(t);n.computeNodes(e);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),o=i.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var a=i.getData(),s=new nr(i.getCoordinates(),new Ot(a));this.insertUniqueEdge(s)}}},rr.prototype.setNoder=function(e){this._workingNoder=e},rr.prototype.interfaces_=function(){return[]},rr.prototype.getClass=function(){return rr},rr.depthDelta=function(e){var t=e.getLocation(0,Ct.LEFT),n=e.getLocation(0,Ct.RIGHT);return t===T.INTERIOR&&n===T.EXTERIOR?1:t===T.EXTERIOR&&n===T.INTERIOR?-1:0},rr.convertSegStrings=function(e){for(var t=new yt,n=new Ee;e.hasNext();){var r=e.next(),i=t.createLineString(r.getCoordinates());n.add(i)}return t.buildGeometry(n)};var ir=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var e=arguments[0],t=arguments[1];this._noder=e,this._scaleFactor=t,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];this._noder=n,this._scaleFactor=r,this._offsetX=i,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};ir.prototype.rescale=function(){if(D(arguments[0],_e))for(var e=arguments[0].iterator();e.hasNext();){var t=e.next();this.rescale(t.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],r=0;r<n.length;r++)n[r].x=n[r].x/this._scaleFactor+this._offsetX,n[r].y=n[r].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&H.out.println(n)}},ir.prototype.scale=function(){if(D(arguments[0],_e)){for(var e=arguments[0],t=new Ee,n=e.iterator();n.hasNext();){var r=n.next();t.add(new pn(this.scale(r.getCoordinates()),r.getData()))}return t}if(arguments[0]instanceof Array){for(var i=arguments[0],o=new Array(i.length).fill(null),a=0;a<i.length;a++)o[a]=new k(Math.round((i[a].x-this._offsetX)*this._scaleFactor),Math.round((i[a].y-this._offsetY)*this._scaleFactor),i[a].z);return Se.removeRepeatedPoints(o)}},ir.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},ir.prototype.getNodedSubstrings=function(){var e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e},ir.prototype.computeNodes=function(e){var t=e;this._isScaled&&(t=this.scale(e)),this._noder.computeNodes(t)},ir.prototype.interfaces_=function(){return[_n]},ir.prototype.getClass=function(){return ir};var or=function(){this._li=new ie,this._segStrings=null;var e=arguments[0];this._segStrings=e},ar={fact:{configurable:!0}};or.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var t=e.next().getCoordinates();this.checkEndPtVertexIntersections(t[0],this._segStrings),this.checkEndPtVertexIntersections(t[t.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1].iterator();r.hasNext();)for(var i=r.next().getCoordinates(),o=1;o<i.length-1;o++)if(i[o].equals(n))throw new J("found endpt/interior pt intersection at index "+o+" :pt "+n)},or.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();)for(var t=e.next(),n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(t,r)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],a=i.getCoordinates(),s=o.getCoordinates(),u=0;u<a.length-1;u++)for(var l=0;l<s.length-1;l++)this.checkInteriorIntersections(i,u,o,l);else if(4===arguments.length){var c=arguments[0],f=arguments[1],h=arguments[2],d=arguments[3];if(c===h&&f===d)return null;var p=c.getCoordinates()[f],g=c.getCoordinates()[f+1],v=h.getCoordinates()[d],y=h.getCoordinates()[d+1];if(this._li.computeIntersection(p,g,v,y),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,p,g)||this.hasInteriorIntersection(this._li,v,y)))throw new J("found non-noded intersection at "+p+"-"+g+" and "+v+"-"+y)}},or.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},or.prototype.checkCollapses=function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var t=e.next();this.checkCollapses(t)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),r=0;r<n.length-2;r++)this.checkCollapse(n[r],n[r+1],n[r+2])},or.prototype.hasInteriorIntersection=function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++){var i=e.getIntersection(r);if(!i.equals(t)&&!i.equals(n))return!0}return!1},or.prototype.checkCollapse=function(e,t,n){if(e.equals(n))throw new J("found non-noded collapse at "+or.fact.createLineString([e,t,n]))},or.prototype.interfaces_=function(){return[]},or.prototype.getClass=function(){return or},ar.fact.get=function(){return new yt},Object.defineProperties(or,ar);var sr=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var e=arguments[0],t=arguments[1],n=arguments[2];if(this._originalPt=e,this._pt=e,this._scaleFactor=t,this._li=n,t<=0)throw new m("Scale factor must be non-zero");1!==t&&(this._pt=new k(this.scale(e.x),this.scale(e.y)),this._p0Scaled=new k,this._p1Scaled=new k),this.initCorners(this._pt)},ur={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};sr.prototype.intersectsScaled=function(e,t){var n=Math.min(e.x,t.x),r=Math.max(e.x,t.x),i=Math.min(e.y,t.y),o=Math.max(e.y,t.y),a=this._maxx<n||this._minx>r||this._maxy<i||this._miny>o;if(a)return!1;var s=this.intersectsToleranceSquare(e,t);return te.isTrue(!(a&&s),"Found bad envelope test"),s},sr.prototype.initCorners=function(e){this._minx=e.x-.5,this._maxx=e.x+.5,this._miny=e.y-.5,this._maxy=e.y+.5,this._corner[0]=new k(this._maxx,this._maxy),this._corner[1]=new k(this._minx,this._maxy),this._corner[2]=new k(this._minx,this._miny),this._corner[3]=new k(this._maxx,this._miny)},sr.prototype.intersects=function(e,t){return 1===this._scaleFactor?this.intersectsScaled(e,t):(this.copyScaled(e,this._p0Scaled),this.copyScaled(t,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},sr.prototype.scale=function(e){return Math.round(e*this._scaleFactor)},sr.prototype.getCoordinate=function(){return this._originalPt},sr.prototype.copyScaled=function(e,t){t.x=this.scale(e.x),t.y=this.scale(e.y)},sr.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var e=sr.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Y(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv},sr.prototype.intersectsPixelClosure=function(e,t){return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},sr.prototype.intersectsToleranceSquare=function(e,t){var n=!1,r=!1;return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),this._li.isProper()||n&&r||e.equals(this._pt)||t.equals(this._pt)))))},sr.prototype.addSnappedNode=function(e,t){var n=e.getCoordinate(t),r=e.getCoordinate(t+1);return!!this.intersects(n,r)&&(e.addIntersection(this.getCoordinate(),t),!0)},sr.prototype.interfaces_=function(){return[]},sr.prototype.getClass=function(){return sr},ur.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(sr,ur);var lr=function(){this.tempEnv1=new Y,this.selectedSegment=new gn};lr.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var e=arguments[1];arguments[0].getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},lr.prototype.interfaces_=function(){return[]},lr.prototype.getClass=function(){return lr};var cr=function(){this._index=null;var e=arguments[0];this._index=e},fr={HotPixelSnapAction:{configurable:!0}};cr.prototype.snap=function(){if(1===arguments.length){var e=arguments[0];return this.snap(e,null,-1)}if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2],i=t.getSafeEnvelope(),o=new hr(t,n,r);return this._index.query(i,{interfaces_:function(){return[Kt]},visitItem:function(e){e.select(i,o)}}),o.isNodeAdded()}},cr.prototype.interfaces_=function(){return[]},cr.prototype.getClass=function(){return cr},fr.HotPixelSnapAction.get=function(){return hr},Object.defineProperties(cr,fr);var hr=function(e){function t(){e.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],n=arguments[1],r=arguments[2];this._hotPixel=t,this._parentEdge=n,this._hotPixelVertexIndex=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isNodeAdded=function(){return this._isNodeAdded},t.prototype.select=function(){if(2!==arguments.length)return e.prototype.select.apply(this,arguments);var t=arguments[1],n=arguments[0].getContext();if(null!==this._parentEdge&&n===this._parentEdge&&t===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(n,t)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(lr),dr=function(){this._li=null,this._interiorIntersections=null;var e=arguments[0];this._li=e,this._interiorIntersections=new Ee};dr.prototype.processIntersections=function(e,t,n,r){if(e===n&&t===r)return null;var i=e.getCoordinates()[t],o=e.getCoordinates()[t+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];if(this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1)}},dr.prototype.isDone=function(){return!1},dr.prototype.getInteriorIntersections=function(){return this._interiorIntersections},dr.prototype.interfaces_=function(){return[Xn]},dr.prototype.getClass=function(){return dr};var pr=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var e=arguments[0];this._pm=e,this._li=new ie,this._li.setPrecisionModel(e),this._scaleFactor=e.getScale()};pr.prototype.checkCorrectness=function(e){var t=pn.getNodedSubstrings(e),n=new or(t);try{n.checkValid()}catch(e){if(!(e instanceof U))throw e;e.printStackTrace()}},pr.prototype.getNodedSubstrings=function(){return pn.getNodedSubstrings(this._nodedSegStrings)},pr.prototype.snapRound=function(e,t){var n=this.findInteriorIntersections(e,t);this.computeIntersectionSnaps(n),this.computeVertexSnaps(e)},pr.prototype.findInteriorIntersections=function(e,t){var n=new dr(t);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(e),n.getInteriorIntersections()},pr.prototype.computeVertexSnaps=function(){if(D(arguments[0],_e))for(var e=arguments[0].iterator();e.hasNext();){var t=e.next();this.computeVertexSnaps(t)}else if(arguments[0]instanceof pn)for(var n=arguments[0],r=n.getCoordinates(),i=0;i<r.length;i++){var o=new sr(r[i],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,i)&&n.addIntersection(r[i],i)}},pr.prototype.computeNodes=function(e){this._nodedSegStrings=e,this._noder=new xn,this._pointSnapper=new cr(this._noder.getIndex()),this.snapRound(e,this._li)},pr.prototype.computeIntersectionSnaps=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next(),r=new sr(n,this._scaleFactor,this._li);this._pointSnapper.snap(r)}},pr.prototype.interfaces_=function(){return[_n]},pr.prototype.getClass=function(){return pr};var gr=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new kn,this._resultGeometry=null,this._saveException=null,1===arguments.length){var e=arguments[0];this._argGeom=e}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this._argGeom=t,this._bufParams=n}},vr={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};gr.prototype.bufferFixedPrecision=function(e){var t=new ir(new pr(new dt(1)),e.getScale()),n=new rr(this._bufParams);n.setWorkingPrecisionModel(e),n.setNoder(t),this._resultGeometry=n.buffer(this._argGeom,this._distance)},gr.prototype.bufferReducedPrecision=function(){var e=this;if(0===arguments.length){for(var t=gr.MAX_PRECISION_DIGITS;t>=0;t--){try{e.bufferReducedPrecision(t)}catch(t){if(!(t instanceof Tt))throw t;e._saveException=t}if(null!==e._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],r=gr.precisionScaleFactor(this._argGeom,this._distance,n),i=new dt(r);this.bufferFixedPrecision(i)}},gr.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var e=this._argGeom.getFactory().getPrecisionModel();e.getType()===dt.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()},gr.prototype.setQuadrantSegments=function(e){this._bufParams.setQuadrantSegments(e)},gr.prototype.bufferOriginalPrecision=function(){try{var e=new rr(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(e){if(!(e instanceof J))throw e;this._saveException=e}},gr.prototype.getResultGeometry=function(e){return this._distance=e,this.computeGeometry(),this._resultGeometry},gr.prototype.setEndCapStyle=function(e){this._bufParams.setEndCapStyle(e)},gr.prototype.interfaces_=function(){return[]},gr.prototype.getClass=function(){return gr},gr.bufferOp=function(){if(2===arguments.length){var e=arguments[1];return new gr(arguments[0]).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof ce&&"number"==typeof arguments[1]){var t=arguments[1],n=arguments[2],r=new gr(arguments[0]);return r.setQuadrantSegments(n),r.getResultGeometry(t)}if(arguments[2]instanceof kn&&arguments[0]instanceof ce&&"number"==typeof arguments[1]){var i=arguments[1];return new gr(arguments[0],arguments[2]).getResultGeometry(i)}}else if(4===arguments.length){var o=arguments[1],a=arguments[2],s=arguments[3],u=new gr(arguments[0]);return u.setQuadrantSegments(a),u.setEndCapStyle(s),u.getResultGeometry(o)}},gr.precisionScaleFactor=function(e,t,n){var r=e.getEnvelopeInternal(),i=M.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(t>0?t:0),o=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,o)},vr.CAP_ROUND.get=function(){return kn.CAP_ROUND},vr.CAP_BUTT.get=function(){return kn.CAP_FLAT},vr.CAP_FLAT.get=function(){return kn.CAP_FLAT},vr.CAP_SQUARE.get=function(){return kn.CAP_SQUARE},vr.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(gr,vr);var yr=function(){this._pt=[new k,new k],this._distance=b.NaN,this._isNull=!0};yr.prototype.getCoordinates=function(){return this._pt},yr.prototype.getCoordinate=function(e){return this._pt[e]},yr.prototype.setMinimum=function(){if(1===arguments.length){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r<this._distance&&this.initialize(t,n,r)}},yr.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var e=arguments[0],t=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(t),this._distance=e.distance(t),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},yr.prototype.getDistance=function(){return this._distance},yr.prototype.setMaximum=function(){if(1===arguments.length){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r>this._distance&&this.initialize(t,n,r)}},yr.prototype.interfaces_=function(){return[]},yr.prototype.getClass=function(){return yr};var mr=function(){};mr.prototype.interfaces_=function(){return[]},mr.prototype.getClass=function(){return mr},mr.computeDistance=function(){if(arguments[2]instanceof yr&&arguments[0]instanceof Ke&&arguments[1]instanceof k)for(var e=arguments[1],t=arguments[2],n=arguments[0].getCoordinates(),r=new gn,i=0;i<n.length-1;i++){r.setCoordinates(n[i],n[i+1]);var o=r.closestPoint(e);t.setMinimum(o,e)}else if(arguments[2]instanceof yr&&arguments[0]instanceof Je&&arguments[1]instanceof k){var a=arguments[0],s=arguments[1],u=arguments[2];mr.computeDistance(a.getExteriorRing(),s,u);for(var l=0;l<a.getNumInteriorRing();l++)mr.computeDistance(a.getInteriorRingN(l),s,u)}else if(arguments[2]instanceof yr&&arguments[0]instanceof ce&&arguments[1]instanceof k){var c=arguments[0],f=arguments[1],h=arguments[2];if(c instanceof Ke)mr.computeDistance(c,f,h);else if(c instanceof Je)mr.computeDistance(c,f,h);else if(c instanceof Ue)for(var d=c,p=0;p<d.getNumGeometries();p++){var g=d.getGeometryN(p);mr.computeDistance(g,f,h)}else h.setMinimum(c.getCoordinate(),f)}else if(arguments[2]instanceof yr&&arguments[0]instanceof gn&&arguments[1]instanceof k){var v=arguments[1],y=arguments[2],m=arguments[0].closestPoint(v);y.setMinimum(m,v)}};var br=function(e){this._maxPtDist=new yr,this._inputGeom=e||null},_r={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};br.prototype.computeMaxMidpointDistance=function(e){var t=new xr(this._inputGeom);e.apply(t),this._maxPtDist.setMaximum(t.getMaxPointDistance())},br.prototype.computeMaxVertexDistance=function(e){var t=new wr(this._inputGeom);e.apply(t),this._maxPtDist.setMaximum(t.getMaxPointDistance())},br.prototype.findDistance=function(e){return this.computeMaxVertexDistance(e),this.computeMaxMidpointDistance(e),this._maxPtDist.getDistance()},br.prototype.getDistancePoints=function(){return this._maxPtDist},br.prototype.interfaces_=function(){return[]},br.prototype.getClass=function(){return br},_r.MaxPointDistanceFilter.get=function(){return wr},_r.MaxMidpointDistanceFilter.get=function(){return xr},Object.defineProperties(br,_r);var wr=function(e){this._maxPtDist=new yr,this._minPtDist=new yr,this._geom=e||null};wr.prototype.filter=function(e){this._minPtDist.initialize(),mr.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},wr.prototype.getMaxPointDistance=function(){return this._maxPtDist},wr.prototype.interfaces_=function(){return[de]},wr.prototype.getClass=function(){return wr};var xr=function(e){this._maxPtDist=new yr,this._minPtDist=new yr,this._geom=e||null};xr.prototype.filter=function(e,t){if(0===t)return null;var n=e.getCoordinate(t-1),r=e.getCoordinate(t),i=new k((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),mr.computeDistance(this._geom,i,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},xr.prototype.isDone=function(){return!1},xr.prototype.isGeometryChanged=function(){return!1},xr.prototype.getMaxPointDistance=function(){return this._maxPtDist},xr.prototype.interfaces_=function(){return[Ve]},xr.prototype.getClass=function(){return xr};var Er=function(e){this._comps=e||null};Er.prototype.filter=function(e){e instanceof Je&&this._comps.add(e)},Er.prototype.interfaces_=function(){return[Be]},Er.prototype.getClass=function(){return Er},Er.getPolygons=function(){if(1===arguments.length){var e=arguments[0];return Er.getPolygons(e,new Ee)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t instanceof Je?n.add(t):t instanceof Ue&&t.apply(new Er(n)),n}};var kr=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var e=arguments[0];this._lines=e}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this._lines=t,this._isForcedToLineString=n}};kr.prototype.filter=function(e){if(this._isForcedToLineString&&e instanceof tt){var t=e.getFactory().createLineString(e.getCoordinateSequence());return this._lines.add(t),null}e instanceof Ke&&this._lines.add(e)},kr.prototype.setForceToLineString=function(e){this._isForcedToLineString=e},kr.prototype.interfaces_=function(){return[le]},kr.prototype.getClass=function(){return kr},kr.getGeometry=function(){if(1===arguments.length){var e=arguments[0];return e.getFactory().buildGeometry(kr.getLines(e))}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t.getFactory().buildGeometry(kr.getLines(t,n))}},kr.getLines=function(){if(1===arguments.length){var e=arguments[0];return kr.getLines(e,!1)}if(2===arguments.length){if(D(arguments[0],_e)&&D(arguments[1],_e)){for(var t=arguments[1],n=arguments[0].iterator();n.hasNext();){var r=n.next();kr.getLines(r,t)}return t}if(arguments[0]instanceof ce&&"boolean"==typeof arguments[1]){var i=arguments[0],o=arguments[1],a=new Ee;return i.apply(new kr(a,o)),a}if(arguments[0]instanceof ce&&D(arguments[1],_e)){var s=arguments[0],u=arguments[1];return s instanceof Ke?u.add(s):s.apply(new kr(u)),u}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&D(arguments[0],_e)&&D(arguments[1],_e)){for(var l=arguments[1],c=arguments[2],f=arguments[0].iterator();f.hasNext();){var h=f.next();kr.getLines(h,l,c)}return l}if("boolean"==typeof arguments[2]&&arguments[0]instanceof ce&&D(arguments[1],_e)){var d=arguments[1],p=arguments[2];return arguments[0].apply(new kr(d,p)),d}}};var Cr=function(){if(this._boundaryRule=pe.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(null===e)throw new m("Rule must be non-null");this._boundaryRule=e}};Cr.prototype.locateInternal=function(){if(arguments[0]instanceof k&&arguments[1]instanceof Je){var e=arguments[0],t=arguments[1];if(t.isEmpty())return T.EXTERIOR;var n=t.getExteriorRing(),r=this.locateInPolygonRing(e,n);if(r===T.EXTERIOR)return T.EXTERIOR;if(r===T.BOUNDARY)return T.BOUNDARY;for(var i=0;i<t.getNumInteriorRing();i++){var o=t.getInteriorRingN(i),a=this.locateInPolygonRing(e,o);if(a===T.INTERIOR)return T.EXTERIOR;if(a===T.BOUNDARY)return T.BOUNDARY}return T.INTERIOR}if(arguments[0]instanceof k&&arguments[1]instanceof Ke){var s=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(s))return T.EXTERIOR;var l=u.getCoordinates();return u.isClosed()||!s.equals(l[0])&&!s.equals(l[l.length-1])?se.isOnLine(s,l)?T.INTERIOR:T.EXTERIOR:T.BOUNDARY}if(arguments[0]instanceof k&&arguments[1]instanceof Qe){var c=arguments[0];return arguments[1].getCoordinate().equals2D(c)?T.INTERIOR:T.EXTERIOR}},Cr.prototype.locateInPolygonRing=function(e,t){return t.getEnvelopeInternal().intersects(e)?se.locatePointInRing(e,t.getCoordinates()):T.EXTERIOR},Cr.prototype.intersects=function(e,t){return this.locate(e,t)!==T.EXTERIOR},Cr.prototype.updateLocationInfo=function(e){e===T.INTERIOR&&(this._isIn=!0),e===T.BOUNDARY&&this._numBoundaries++},Cr.prototype.computeLocation=function(e,t){if(t instanceof Qe&&this.updateLocationInfo(this.locateInternal(e,t)),t instanceof Ke)this.updateLocationInfo(this.locateInternal(e,t));else if(t instanceof Je)this.updateLocationInfo(this.locateInternal(e,t));else if(t instanceof Ge)for(var n=t,r=0;r<n.getNumGeometries();r++){var i=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(e,i))}else if(t instanceof nt)for(var o=t,a=0;a<o.getNumGeometries();a++){var s=o.getGeometryN(a);this.updateLocationInfo(this.locateInternal(e,s))}else if(t instanceof Ue)for(var u=new Vn(t);u.hasNext();){var l=u.next();l!==t&&this.computeLocation(e,l)}},Cr.prototype.locate=function(e,t){return t.isEmpty()?T.EXTERIOR:t instanceof Ke||t instanceof Je?this.locateInternal(e,t):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(e,t),this._boundaryRule.isInBoundary(this._numBoundaries)?T.BOUNDARY:this._numBoundaries>0||this._isIn?T.INTERIOR:T.EXTERIOR)},Cr.prototype.interfaces_=function(){return[]},Cr.prototype.getClass=function(){return Cr};var Sr=function e(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)e.call(this,arguments[0],e.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2];this._component=t,this._segIndex=n,this._pt=r}},Nr={INSIDE_AREA:{configurable:!0}};Sr.prototype.isInsideArea=function(){return this._segIndex===Sr.INSIDE_AREA},Sr.prototype.getCoordinate=function(){return this._pt},Sr.prototype.getGeometryComponent=function(){return this._component},Sr.prototype.getSegmentIndex=function(){return this._segIndex},Sr.prototype.interfaces_=function(){return[]},Sr.prototype.getClass=function(){return Sr},Nr.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Sr,Nr);var Tr=function(e){this._pts=e||null};Tr.prototype.filter=function(e){e instanceof Qe&&this._pts.add(e)},Tr.prototype.interfaces_=function(){return[Be]},Tr.prototype.getClass=function(){return Tr},Tr.getPoints=function(){if(1===arguments.length){var e=arguments[0];return e instanceof Qe?Jt.singletonList(e):Tr.getPoints(e,new Ee)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t instanceof Qe?n.add(t):t instanceof Ue&&t.apply(new Tr(n)),n}};var Ir=function(){this._locations=null;var e=arguments[0];this._locations=e};Ir.prototype.filter=function(e){(e instanceof Qe||e instanceof Ke||e instanceof Je)&&this._locations.add(new Sr(e,0,e.getCoordinate()))},Ir.prototype.interfaces_=function(){return[Be]},Ir.prototype.getClass=function(){return Ir},Ir.getLocations=function(e){var t=new Ee;return e.apply(new Ir(t)),t};var Dr=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Cr,this._minDistanceLocation=null,this._minDistance=b.MAX_VALUE,2===arguments.length){var e=arguments[0],t=arguments[1];this._geom=[e,t],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=r,this._terminateDistance=i}};Dr.prototype.computeContainmentDistance=function(){if(0===arguments.length){var e=new Array(2).fill(null);if(this.computeContainmentDistance(0,e),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1],r=1-t,i=Er.getPolygons(this._geom[t]);if(i.size()>0){var o=Ir.getLocations(this._geom[r]);if(this.computeContainmentDistance(o,i,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[r]=n[0],this._minDistanceLocation[t]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&D(arguments[0],xe)&&D(arguments[1],xe)){for(var a=arguments[0],s=arguments[1],u=arguments[2],l=0;l<a.size();l++)for(var c=a.get(l),f=0;f<s.size();f++)if(this.computeContainmentDistance(c,s.get(f),u),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Sr&&arguments[1]instanceof Je){var h=arguments[0],d=arguments[1],p=arguments[2],g=h.getCoordinate();if(T.EXTERIOR!==this._ptLocator.locate(g,d))return this._minDistance=0,p[0]=h,p[1]=new Sr(d,g),null}},Dr.prototype.computeMinDistanceLinesPoints=function(e,t,n){for(var r=0;r<e.size();r++)for(var i=e.get(r),o=0;o<t.size();o++){var a=t.get(o);if(this.computeMinDistance(i,a,n),this._minDistance<=this._terminateDistance)return null}},Dr.prototype.computeFacetDistance=function(){var e=new Array(2).fill(null),t=kr.getLines(this._geom[0]),n=kr.getLines(this._geom[1]),r=Tr.getPoints(this._geom[0]),i=Tr.getPoints(this._geom[1]);return this.computeMinDistanceLines(t,n,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(t,i,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(n,r,e),this.updateMinDistance(e,!0),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistancePoints(r,i,e),void this.updateMinDistance(e,!1))))},Dr.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Dr.prototype.updateMinDistance=function(e,t){if(null===e[0])return null;t?(this._minDistanceLocation[0]=e[1],this._minDistanceLocation[1]=e[0]):(this._minDistanceLocation[0]=e[0],this._minDistanceLocation[1]=e[1])},Dr.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Dr.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Ke&&arguments[1]instanceof Qe){var e=arguments[0],t=arguments[1],n=arguments[2];if(e.getEnvelopeInternal().distance(t.getEnvelopeInternal())>this._minDistance)return null;for(var r=e.getCoordinates(),i=t.getCoordinate(),o=0;o<r.length-1;o++){var a=se.distancePointLine(i,r[o],r[o+1]);if(a<this._minDistance){this._minDistance=a;var s=new gn(r[o],r[o+1]).closestPoint(i);n[0]=new Sr(e,o,s),n[1]=new Sr(t,0,i)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Ke&&arguments[1]instanceof Ke){var u=arguments[0],l=arguments[1],c=arguments[2];if(u.getEnvelopeInternal().distance(l.getEnvelopeInternal())>this._minDistance)return null;for(var f=u.getCoordinates(),h=l.getCoordinates(),d=0;d<f.length-1;d++)for(var p=0;p<h.length-1;p++){var g=se.distanceLineLine(f[d],f[d+1],h[p],h[p+1]);if(g<this._minDistance){this._minDistance=g;var v=new gn(f[d],f[d+1]),y=new gn(h[p],h[p+1]),m=v.closestPoints(y);c[0]=new Sr(u,d,m[0]),c[1]=new Sr(l,p,m[1])}if(this._minDistance<=this._terminateDistance)return null}}},Dr.prototype.computeMinDistancePoints=function(e,t,n){for(var r=0;r<e.size();r++)for(var i=e.get(r),o=0;o<t.size();o++){var a=t.get(o),s=i.getCoordinate().distance(a.getCoordinate());if(s<this._minDistance&&(this._minDistance=s,n[0]=new Sr(i,0,i.getCoordinate()),n[1]=new Sr(a,0,a.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Dr.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new m("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Dr.prototype.computeMinDistanceLines=function(e,t,n){for(var r=0;r<e.size();r++)for(var i=e.get(r),o=0;o<t.size();o++){var a=t.get(o);if(this.computeMinDistance(i,a,n),this._minDistance<=this._terminateDistance)return null}},Dr.prototype.interfaces_=function(){return[]},Dr.prototype.getClass=function(){return Dr},Dr.distance=function(e,t){return new Dr(e,t).distance()},Dr.isWithinDistance=function(e,t,n){return new Dr(e,t,n).distance()<=n},Dr.nearestPoints=function(e,t){return new Dr(e,t).nearestPoints()};var Mr=function(){this._pt=[new k,new k],this._distance=b.NaN,this._isNull=!0};Mr.prototype.getCoordinates=function(){return this._pt},Mr.prototype.getCoordinate=function(e){return this._pt[e]},Mr.prototype.setMinimum=function(){if(1===arguments.length){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r<this._distance&&this.initialize(t,n,r)}},Mr.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var e=arguments[0],t=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(t),this._distance=e.distance(t),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},Mr.prototype.toString=function(){return Z.toLineString(this._pt[0],this._pt[1])},Mr.prototype.getDistance=function(){return this._distance},Mr.prototype.setMaximum=function(){if(1===arguments.length){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r>this._distance&&this.initialize(t,n,r)}},Mr.prototype.interfaces_=function(){return[]},Mr.prototype.getClass=function(){return Mr};var Or=function(){};Or.prototype.interfaces_=function(){return[]},Or.prototype.getClass=function(){return Or},Or.computeDistance=function(){if(arguments[2]instanceof Mr&&arguments[0]instanceof Ke&&arguments[1]instanceof k)for(var e=arguments[0],t=arguments[1],n=arguments[2],r=new gn,i=e.getCoordinates(),o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var a=r.closestPoint(t);n.setMinimum(a,t)}else if(arguments[2]instanceof Mr&&arguments[0]instanceof Je&&arguments[1]instanceof k){var s=arguments[0],u=arguments[1],l=arguments[2];Or.computeDistance(s.getExteriorRing(),u,l);for(var c=0;c<s.getNumInteriorRing();c++)Or.computeDistance(s.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof Mr&&arguments[0]instanceof ce&&arguments[1]instanceof k){var f=arguments[0],h=arguments[1],d=arguments[2];if(f instanceof Ke)Or.computeDistance(f,h,d);else if(f instanceof Je)Or.computeDistance(f,h,d);else if(f instanceof Ue)for(var p=f,g=0;g<p.getNumGeometries();g++){var v=p.getGeometryN(g);Or.computeDistance(v,h,d)}else d.setMinimum(f.getCoordinate(),h)}else if(arguments[2]instanceof Mr&&arguments[0]instanceof gn&&arguments[1]instanceof k){var y=arguments[1],m=arguments[2],b=arguments[0].closestPoint(y);m.setMinimum(b,y)}};var Pr=function(){this._g0=null,this._g1=null,this._ptDist=new Mr,this._densifyFrac=0;var e=arguments[0],t=arguments[1];this._g0=e,this._g1=t},Lr={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Pr.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Pr.prototype.setDensifyFraction=function(e){if(e>1||e<=0)throw new m("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=e},Pr.prototype.compute=function(e,t){this.computeOrientedDistance(e,t,this._ptDist),this.computeOrientedDistance(t,e,this._ptDist)},Pr.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Pr.prototype.computeOrientedDistance=function(e,t,n){var r=new Ar(t);if(e.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var i=new Rr(t,this._densifyFrac);e.apply(i),n.setMaximum(i.getMaxPointDistance())}},Pr.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Pr.prototype.interfaces_=function(){return[]},Pr.prototype.getClass=function(){return Pr},Pr.distance=function(){if(2===arguments.length)return new Pr(arguments[0],arguments[1]).distance();if(3===arguments.length){var e=arguments[2],t=new Pr(arguments[0],arguments[1]);return t.setDensifyFraction(e),t.distance()}},Lr.MaxPointDistanceFilter.get=function(){return Ar},Lr.MaxDensifiedByFractionDistanceFilter.get=function(){return Rr},Object.defineProperties(Pr,Lr);var Ar=function(){this._maxPtDist=new Mr,this._minPtDist=new Mr,this._euclideanDist=new Or,this._geom=null;var e=arguments[0];this._geom=e};Ar.prototype.filter=function(e){this._minPtDist.initialize(),Or.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Ar.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ar.prototype.interfaces_=function(){return[de]},Ar.prototype.getClass=function(){return Ar};var Rr=function(){this._maxPtDist=new Mr,this._minPtDist=new Mr,this._geom=null,this._numSubSegs=0;var e=arguments[0],t=arguments[1];this._geom=e,this._numSubSegs=Math.trunc(Math.round(1/t))};Rr.prototype.filter=function(e,t){if(0===t)return null;for(var n=e.getCoordinate(t-1),r=e.getCoordinate(t),i=(r.x-n.x)/this._numSubSegs,o=(r.y-n.y)/this._numSubSegs,a=0;a<this._numSubSegs;a++){var s=n.x+a*i,u=n.y+a*o,l=new k(s,u);this._minPtDist.initialize(),Or.computeDistance(this._geom,l,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Rr.prototype.isDone=function(){return!1},Rr.prototype.isGeometryChanged=function(){return!1},Rr.prototype.getMaxPointDistance=function(){return this._maxPtDist},Rr.prototype.interfaces_=function(){return[Ve]},Rr.prototype.getClass=function(){return Rr};var Fr=function(e,t,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._bufDistance=t||null,this._result=n||null},zr={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Fr.prototype.checkMaximumDistance=function(e,t,n){var r=new Pr(t,e);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var i=r.getCoordinates();this._errorLocation=i[1],this._errorIndicator=e.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Z.toLineString(i[0],i[1])+")"}},Fr.prototype.isValid=function(){var e=Math.abs(this._bufDistance),t=Fr.MAX_DISTANCE_DIFF_FRAC*e;return this._minValidDistance=e-t,this._maxValidDistance=e+t,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Fr.VERBOSE&&H.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Fr.prototype.checkNegativeValid=function(){if(!(this._input instanceof Je||this._input instanceof nt||this._input instanceof Ue))return null;var e=this.getPolygonLines(this._input);if(this.checkMinimumDistance(e,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(e,this._result,this._maxValidDistance)},Fr.prototype.getErrorIndicator=function(){return this._errorIndicator},Fr.prototype.checkMinimumDistance=function(e,t,n){var r=new Dr(e,t,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var i=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=e.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Z.toLineString(i[0],i[1])+" )"}},Fr.prototype.checkPositiveValid=function(){var e=this._result.getBoundary();if(this.checkMinimumDistance(this._input,e,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,e,this._maxValidDistance)},Fr.prototype.getErrorLocation=function(){return this._errorLocation},Fr.prototype.getPolygonLines=function(e){for(var t=new Ee,n=new kr(t),r=Er.getPolygons(e).iterator();r.hasNext();)r.next().apply(n);return e.getFactory().buildGeometry(t)},Fr.prototype.getErrorMessage=function(){return this._errMsg},Fr.prototype.interfaces_=function(){return[]},Fr.prototype.getClass=function(){return Fr},zr.VERBOSE.get=function(){return!1},zr.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Fr,zr);var jr=function(e,t,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._distance=t||null,this._result=n||null},Br={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};jr.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},jr.prototype.checkEnvelope=function(){if(this._distance<0)return null;var e=this._distance*jr.MAX_ENV_DIFF_FRAC;0===e&&(e=.001);var t=new Y(this._input.getEnvelopeInternal());t.expandBy(this._distance);var n=new Y(this._result.getEnvelopeInternal());n.expandBy(e),n.contains(t)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},jr.prototype.checkDistance=function(){var e=new Fr(this._input,this._distance,this._result);e.isValid()||(this._isValid=!1,this._errorMsg=e.getErrorMessage(),this._errorLocation=e.getErrorLocation(),this._errorIndicator=e.getErrorIndicator()),this.report("Distance")},jr.prototype.checkArea=function(){var e=this._input.getArea(),t=this._result.getArea();this._distance>0&&e>t&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&e<t&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},jr.prototype.checkPolygonal=function(){this._result instanceof Je||this._result instanceof nt||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},jr.prototype.getErrorIndicator=function(){return this._errorIndicator},jr.prototype.getErrorLocation=function(){return this._errorLocation},jr.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},jr.prototype.report=function(e){if(!jr.VERBOSE)return null;H.out.println("Check "+e+": "+(this._isValid?"passed":"FAILED"))},jr.prototype.getErrorMessage=function(){return this._errorMsg},jr.prototype.interfaces_=function(){return[]},jr.prototype.getClass=function(){return jr},jr.isValidMsg=function(e,t,n){var r=new jr(e,t,n);return r.isValid()?null:r.getErrorMessage()},jr.isValid=function(e,t,n){return!!new jr(e,t,n).isValid()},Br.VERBOSE.get=function(){return!1},Br.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(jr,Br);var Vr=function(){this._pts=null,this._data=null;var e=arguments[0],t=arguments[1];this._pts=e,this._data=t};Vr.prototype.getCoordinates=function(){return this._pts},Vr.prototype.size=function(){return this._pts.length},Vr.prototype.getCoordinate=function(e){return this._pts[e]},Vr.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Vr.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:fn.octant(this.getCoordinate(e),this.getCoordinate(e+1))},Vr.prototype.setData=function(e){this._data=e},Vr.prototype.getData=function(){return this._data},Vr.prototype.toString=function(){return Z.toLineString(new ut(this._pts))},Vr.prototype.interfaces_=function(){return[hn]},Vr.prototype.getClass=function(){return Vr};var Ur=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Ee,this._intersectionCount=0,this._keepIntersections=!0;var e=arguments[0];this._li=e,this._interiorIntersection=null};Ur.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Ur.prototype.setCheckEndSegmentsOnly=function(e){this._isCheckEndSegmentsOnly=e},Ur.prototype.getIntersectionSegments=function(){return this._intSegments},Ur.prototype.count=function(){return this._intersectionCount},Ur.prototype.getIntersections=function(){return this._intersections},Ur.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},Ur.prototype.setKeepIntersections=function(e){this._keepIntersections=e},Ur.prototype.processIntersections=function(e,t,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(e===n&&t===r)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(e,t)&&!this.isEndSegment(n,r))return null;var i=e.getCoordinates()[t],o=e.getCoordinates()[t+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=i,this._intSegments[1]=o,this._intSegments[2]=a,this._intSegments[3]=s,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Ur.prototype.isEndSegment=function(e,t){return 0===t||t>=e.size()-2},Ur.prototype.hasIntersection=function(){return null!==this._interiorIntersection},Ur.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},Ur.prototype.interfaces_=function(){return[Xn]},Ur.prototype.getClass=function(){return Ur},Ur.createAllIntersectionsFinder=function(e){var t=new Ur(e);return t.setFindAllIntersections(!0),t},Ur.createAnyIntersectionFinder=function(e){return new Ur(e)},Ur.createIntersectionCounter=function(e){var t=new Ur(e);return t.setFindAllIntersections(!0),t.setKeepIntersections(!1),t};var Gr=function(){this._li=new ie,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var e=arguments[0];this._segStrings=e};Gr.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Gr.prototype.getIntersections=function(){return this._segInt.getIntersections()},Gr.prototype.isValid=function(){return this.execute(),this._isValid},Gr.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},Gr.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Ur(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var e=new xn;if(e.setSegmentIntersector(this._segInt),e.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Gr.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Tt(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Gr.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var e=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Z.toLineString(e[0],e[1])+" and "+Z.toLineString(e[2],e[3])},Gr.prototype.interfaces_=function(){return[]},Gr.prototype.getClass=function(){return Gr},Gr.computeIntersections=function(e){var t=new Gr(e);return t.setFindAllIntersections(!0),t.isValid(),t.getIntersections()};var Hr=function e(){this._nv=null;var t=arguments[0];this._nv=new Gr(e.toSegmentStrings(t))};Hr.prototype.checkValid=function(){this._nv.checkValid()},Hr.prototype.interfaces_=function(){return[]},Hr.prototype.getClass=function(){return Hr},Hr.toSegmentStrings=function(e){for(var t=new Ee,n=e.iterator();n.hasNext();){var r=n.next();t.add(new Vr(r.getCoordinates(),r))}return t},Hr.checkValid=function(e){new Hr(e).checkValid()};var qr=function(e){this._mapOp=e};qr.prototype.map=function(e){for(var t=new Ee,n=0;n<e.getNumGeometries();n++){var r=this._mapOp.map(e.getGeometryN(n));r.isEmpty()||t.add(r)}return e.getFactory().createGeometryCollection(yt.toGeometryArray(t))},qr.prototype.interfaces_=function(){return[]},qr.prototype.getClass=function(){return qr},qr.map=function(e,t){return new qr(t).map(e)};var Yr=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Ee,this._resultLineList=new Ee;var e=arguments[0],t=arguments[1],n=arguments[2];this._op=e,this._geometryFactory=t,this._ptLocator=n};Yr.prototype.collectLines=function(e){for(var t=this._op.getGraph().getEdgeEnds().iterator();t.hasNext();){var n=t.next();this.collectLineEdge(n,e,this._lineEdgesList),this.collectBoundaryTouchEdge(n,e,this._lineEdgesList)}},Yr.prototype.labelIsolatedLine=function(e,t){var n=this._ptLocator.locate(e.getCoordinate(),this._op.getArgGeometry(t));e.getLabel().setLocation(t,n)},Yr.prototype.build=function(e){return this.findCoveredLineEdges(),this.collectLines(e),this.buildLines(e),this._resultLineList},Yr.prototype.collectLineEdge=function(e,t,n){var r=e.getLabel(),i=e.getEdge();e.isLineEdge()&&(e.isVisited()||!Si.isResultOfOp(r,t)||i.isCovered()||(n.add(i),e.setVisitedEdge(!0)))},Yr.prototype.findCoveredLineEdges=function(){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();)e.next().getEdges().findCoveredLineEdges();for(var t=this._op.getGraph().getEdgeEnds().iterator();t.hasNext();){var n=t.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var i=this._op.isCoveredByA(n.getCoordinate());r.setCovered(i)}}},Yr.prototype.labelIsolatedLines=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Yr.prototype.buildLines=function(e){for(var t=this._lineEdgesList.iterator();t.hasNext();){var n=t.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},Yr.prototype.collectBoundaryTouchEdge=function(e,t,n){var r=e.getLabel();return e.isLineEdge()||e.isVisited()||e.isInteriorAreaEdge()||e.getEdge().isInResult()?null:(te.isTrue(!(e.isInResult()||e.getSym().isInResult())||!e.getEdge().isInResult()),void(Si.isResultOfOp(r,t)&&t===Si.INTERSECTION&&(n.add(e.getEdge()),e.setVisitedEdge(!0))))},Yr.prototype.interfaces_=function(){return[]},Yr.prototype.getClass=function(){return Yr};var Wr=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new Ee;var e=arguments[0],t=arguments[1];this._op=e,this._geometryFactory=t};Wr.prototype.filterCoveredNodeToPoint=function(e){var t=e.getCoordinate();if(!this._op.isCoveredByLA(t)){var n=this._geometryFactory.createPoint(t);this._resultPointList.add(n)}},Wr.prototype.extractNonCoveredResultNodes=function(e){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();){var n=t.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&e!==Si.INTERSECTION)){var r=n.getLabel();Si.isResultOfOp(r,e)&&this.filterCoveredNodeToPoint(n)}}},Wr.prototype.build=function(e){return this.extractNonCoveredResultNodes(e),this._resultPointList},Wr.prototype.interfaces_=function(){return[]},Wr.prototype.getClass=function(){return Wr};var Xr=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Xr.prototype.transformPoint=function(e,t){return this._factory.createPoint(this.transformCoordinates(e.getCoordinateSequence(),e))},Xr.prototype.transformPolygon=function(e,t){var n=!0,r=this.transformLinearRing(e.getExteriorRing(),e);null!==r&&r instanceof tt&&!r.isEmpty()||(n=!1);for(var i=new Ee,o=0;o<e.getNumInteriorRing();o++){var a=this.transformLinearRing(e.getInteriorRingN(o),e);null===a||a.isEmpty()||(a instanceof tt||(n=!1),i.add(a))}if(n)return this._factory.createPolygon(r,i.toArray([]));var s=new Ee;return null!==r&&s.add(r),s.addAll(i),this._factory.buildGeometry(s)},Xr.prototype.createCoordinateSequence=function(e){return this._factory.getCoordinateSequenceFactory().create(e)},Xr.prototype.getInputGeometry=function(){return this._inputGeom},Xr.prototype.transformMultiLineString=function(e,t){for(var n=new Ee,r=0;r<e.getNumGeometries();r++){var i=this.transformLineString(e.getGeometryN(r),e);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Xr.prototype.transformCoordinates=function(e,t){return this.copy(e)},Xr.prototype.transformLineString=function(e,t){return this._factory.createLineString(this.transformCoordinates(e.getCoordinateSequence(),e))},Xr.prototype.transformMultiPoint=function(e,t){for(var n=new Ee,r=0;r<e.getNumGeometries();r++){var i=this.transformPoint(e.getGeometryN(r),e);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Xr.prototype.transformMultiPolygon=function(e,t){for(var n=new Ee,r=0;r<e.getNumGeometries();r++){var i=this.transformPolygon(e.getGeometryN(r),e);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Xr.prototype.copy=function(e){return e.copy()},Xr.prototype.transformGeometryCollection=function(e,t){for(var n=new Ee,r=0;r<e.getNumGeometries();r++){var i=this.transform(e.getGeometryN(r));null!==i&&(this._pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(yt.toGeometryArray(n)):this._factory.buildGeometry(n)},Xr.prototype.transform=function(e){if(this._inputGeom=e,this._factory=e.getFactory(),e instanceof Qe)return this.transformPoint(e,null);if(e instanceof et)return this.transformMultiPoint(e,null);if(e instanceof tt)return this.transformLinearRing(e,null);if(e instanceof Ke)return this.transformLineString(e,null);if(e instanceof Ge)return this.transformMultiLineString(e,null);if(e instanceof Je)return this.transformPolygon(e,null);if(e instanceof nt)return this.transformMultiPolygon(e,null);if(e instanceof Ue)return this.transformGeometryCollection(e,null);throw new m("Unknown Geometry subtype: "+e.getClass().getName())},Xr.prototype.transformLinearRing=function(e,t){var n=this.transformCoordinates(e.getCoordinateSequence(),e);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Xr.prototype.interfaces_=function(){return[]},Xr.prototype.getClass=function(){return Xr};var Kr=function e(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new gn,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Ke&&"number"==typeof arguments[1]){var t=arguments[1];e.call(this,arguments[0].getCoordinates(),t)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this._srcPts=n,this._isClosed=e.isClosed(n),this._snapTolerance=r}};Kr.prototype.snapVertices=function(e,t){for(var n=this._isClosed?e.size()-1:e.size(),r=0;r<n;r++){var i=e.get(r),o=this.findSnapForVertex(i,t);null!==o&&(e.set(r,new k(o)),0===r&&this._isClosed&&e.set(e.size()-1,new k(o)))}},Kr.prototype.findSnapForVertex=function(e,t){for(var n=0;n<t.length;n++){if(e.equals2D(t[n]))return null;if(e.distance(t[n])<this._snapTolerance)return t[n]}return null},Kr.prototype.snapTo=function(e){var t=new Ce(this._srcPts);return this.snapVertices(t,e),this.snapSegments(t,e),t.toCoordinateArray()},Kr.prototype.snapSegments=function(e,t){if(0===t.length)return null;var n=t.length;t[0].equals2D(t[t.length-1])&&(n=t.length-1);for(var r=0;r<n;r++){var i=t[r],o=this.findSegmentIndexToSnap(i,e);o>=0&&e.add(o+1,new k(i),!1)}},Kr.prototype.findSegmentIndexToSnap=function(e,t){for(var n=b.MAX_VALUE,r=-1,i=0;i<t.size()-1;i++){if(this._seg.p0=t.get(i),this._seg.p1=t.get(i+1),this._seg.p0.equals2D(e)||this._seg.p1.equals2D(e)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(e);o<this._snapTolerance&&o<n&&(n=o,r=i)}return r},Kr.prototype.setAllowSnappingToSourceVertices=function(e){this._allowSnappingToSourceVertices=e},Kr.prototype.interfaces_=function(){return[]},Kr.prototype.getClass=function(){return Kr},Kr.isClosed=function(e){return!(e.length<=1)&&e[0].equals2D(e[e.length-1])};var $r=function(e){this._srcGeom=e||null},Qr={SNAP_PRECISION_FACTOR:{configurable:!0}};$r.prototype.snapTo=function(e,t){var n=this.extractTargetCoordinates(e);return new Zr(t,n).transform(this._srcGeom)},$r.prototype.snapToSelf=function(e,t){var n=this.extractTargetCoordinates(this._srcGeom),r=new Zr(e,n,!0).transform(this._srcGeom),i=r;return t&&D(i,Ze)&&(i=r.buffer(0)),i},$r.prototype.computeSnapTolerance=function(e){return this.computeMinimumSegmentLength(e)/10},$r.prototype.extractTargetCoordinates=function(e){for(var t=new d,n=e.getCoordinates(),r=0;r<n.length;r++)t.add(n[r]);return t.toArray(new Array(0).fill(null))},$r.prototype.computeMinimumSegmentLength=function(e){for(var t=b.MAX_VALUE,n=0;n<e.length-1;n++){var r=e[n].distance(e[n+1]);r<t&&(t=r)}return t},$r.prototype.interfaces_=function(){return[]},$r.prototype.getClass=function(){return $r},$r.snap=function(e,t,n){var r=new Array(2).fill(null),i=new $r(e);r[0]=i.snapTo(t,n);var o=new $r(t);return r[1]=o.snapTo(r[0],n),r},$r.computeOverlaySnapTolerance=function(){if(1===arguments.length){var e=arguments[0],t=$r.computeSizeBasedSnapTolerance(e),n=e.getPrecisionModel();if(n.getType()===dt.FIXED){var r=1/n.getScale()*2/1.415;r>t&&(t=r)}return t}if(2===arguments.length){var i=arguments[0],o=arguments[1];return Math.min($r.computeOverlaySnapTolerance(i),$r.computeOverlaySnapTolerance(o))}},$r.computeSizeBasedSnapTolerance=function(e){var t=e.getEnvelopeInternal();return Math.min(t.getHeight(),t.getWidth())*$r.SNAP_PRECISION_FACTOR},$r.snapToSelf=function(e,t,n){return new $r(e).snapToSelf(t,n)},Qr.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties($r,Qr);var Zr=function(e){function t(t,n,r){e.call(this),this._snapTolerance=t||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.snapLine=function(e,t){var n=new Kr(e,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(t)},t.prototype.transformCoordinates=function(e,t){var n=e.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Xr),Jr=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Jr.prototype.getCommon=function(){return b.longBitsToDouble(this._commonBits)},Jr.prototype.add=function(e){var t=b.doubleToLongBits(e);return this._isFirst?(this._commonBits=t,this._commonSignExp=Jr.signExpBits(this._commonBits),this._isFirst=!1,null):Jr.signExpBits(t)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Jr.numCommonMostSigMantissaBits(this._commonBits,t),void(this._commonBits=Jr.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Jr.prototype.toString=function(){if(1===arguments.length){var e=arguments[0],t=b.longBitsToDouble(e),n="0000000000000000000000000000000000000000000000000000000000000000"+b.toBinaryString(e),r=n.substring(n.length-64);return r.substring(0,1)+"  "+r.substring(1,12)+"(exp) "+r.substring(12)+" [ "+t+" ]"}},Jr.prototype.interfaces_=function(){return[]},Jr.prototype.getClass=function(){return Jr},Jr.getBit=function(e,t){return 0!=(e&1<<t)?1:0},Jr.signExpBits=function(e){return e>>52},Jr.zeroLowerBits=function(e,t){return e&~((1<<t)-1)},Jr.numCommonMostSigMantissaBits=function(e,t){for(var n=0,r=52;r>=0;r--){if(Jr.getBit(e,r)!==Jr.getBit(t,r))return n;n++}return 52};var ei=function(){this._commonCoord=null,this._ccFilter=new ni},ti={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};ei.prototype.addCommonBits=function(e){var t=new ri(this._commonCoord);e.apply(t),e.geometryChanged()},ei.prototype.removeCommonBits=function(e){if(0===this._commonCoord.x&&0===this._commonCoord.y)return e;var t=new k(this._commonCoord);t.x=-t.x,t.y=-t.y;var n=new ri(t);return e.apply(n),e.geometryChanged(),e},ei.prototype.getCommonCoordinate=function(){return this._commonCoord},ei.prototype.add=function(e){e.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},ei.prototype.interfaces_=function(){return[]},ei.prototype.getClass=function(){return ei},ti.CommonCoordinateFilter.get=function(){return ni},ti.Translater.get=function(){return ri},Object.defineProperties(ei,ti);var ni=function(){this._commonBitsX=new Jr,this._commonBitsY=new Jr};ni.prototype.filter=function(e){this._commonBitsX.add(e.x),this._commonBitsY.add(e.y)},ni.prototype.getCommonCoordinate=function(){return new k(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},ni.prototype.interfaces_=function(){return[de]},ni.prototype.getClass=function(){return ni};var ri=function(){this.trans=null;var e=arguments[0];this.trans=e};ri.prototype.filter=function(e,t){var n=e.getOrdinate(t,0)+this.trans.x,r=e.getOrdinate(t,1)+this.trans.y;e.setOrdinate(t,0,n),e.setOrdinate(t,1,r)},ri.prototype.isDone=function(){return!1},ri.prototype.isGeometryChanged=function(){return!0},ri.prototype.interfaces_=function(){return[Ve]},ri.prototype.getClass=function(){return ri};var ii=function(e,t){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=e,this._geom[1]=t,this.computeSnapTolerance()};ii.prototype.selfSnap=function(e){return new $r(e).snapTo(e,this._snapTolerance)},ii.prototype.removeCommonBits=function(e){this._cbr=new ei,this._cbr.add(e[0]),this._cbr.add(e[1]);var t=new Array(2).fill(null);return t[0]=this._cbr.removeCommonBits(e[0].copy()),t[1]=this._cbr.removeCommonBits(e[1].copy()),t},ii.prototype.prepareResult=function(e){return this._cbr.addCommonBits(e),e},ii.prototype.getResultGeometry=function(e){var t=this.snap(this._geom),n=Si.overlayOp(t[0],t[1],e);return this.prepareResult(n)},ii.prototype.checkValid=function(e){e.isValid()||H.out.println("Snapped geometry is invalid")},ii.prototype.computeSnapTolerance=function(){this._snapTolerance=$r.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},ii.prototype.snap=function(e){var t=this.removeCommonBits(e);return $r.snap(t[0],t[1],this._snapTolerance)},ii.prototype.interfaces_=function(){return[]},ii.prototype.getClass=function(){return ii},ii.overlayOp=function(e,t,n){return new ii(e,t).getResultGeometry(n)},ii.union=function(e,t){return ii.overlayOp(e,t,Si.UNION)},ii.intersection=function(e,t){return ii.overlayOp(e,t,Si.INTERSECTION)},ii.symDifference=function(e,t){return ii.overlayOp(e,t,Si.SYMDIFFERENCE)},ii.difference=function(e,t){return ii.overlayOp(e,t,Si.DIFFERENCE)};var oi=function(e,t){this._geom=new Array(2).fill(null),this._geom[0]=e,this._geom[1]=t};oi.prototype.getResultGeometry=function(e){var t=null,n=!1,r=null;try{t=Si.overlayOp(this._geom[0],this._geom[1],e),n=!0}catch(e){if(!(e instanceof J))throw e;r=e}if(!n)try{t=ii.overlayOp(this._geom[0],this._geom[1],e)}catch(e){throw e instanceof J?r:e}return t},oi.prototype.interfaces_=function(){return[]},oi.prototype.getClass=function(){return oi},oi.overlayOp=function(e,t,n){return new oi(e,t).getResultGeometry(n)},oi.union=function(e,t){return oi.overlayOp(e,t,Si.UNION)},oi.intersection=function(e,t){return oi.overlayOp(e,t,Si.INTERSECTION)},oi.symDifference=function(e,t){return oi.overlayOp(e,t,Si.SYMDIFFERENCE)},oi.difference=function(e,t){return oi.overlayOp(e,t,Si.DIFFERENCE)};var ai=function(){this.mce=null,this.chainIndex=null;var e=arguments[0],t=arguments[1];this.mce=e,this.chainIndex=t};ai.prototype.computeIntersections=function(e,t){this.mce.computeIntersectsForChain(this.chainIndex,e.mce,e.chainIndex,t)},ai.prototype.interfaces_=function(){return[]},ai.prototype.getClass=function(){return ai};var si=function e(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var t=arguments[0],n=arguments[1];this._eventType=e.DELETE,this._xValue=t,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._eventType=e.INSERT,this._label=r,this._xValue=i,this._obj=o}},ui={INSERT:{configurable:!0},DELETE:{configurable:!0}};si.prototype.isDelete=function(){return this._eventType===si.DELETE},si.prototype.setDeleteEventIndex=function(e){this._deleteEventIndex=e},si.prototype.getObject=function(){return this._obj},si.prototype.compareTo=function(e){var t=e;return this._xValue<t._xValue?-1:this._xValue>t._xValue?1:this._eventType<t._eventType?-1:this._eventType>t._eventType?1:0},si.prototype.getInsertEvent=function(){return this._insertEvent},si.prototype.isInsert=function(){return this._eventType===si.INSERT},si.prototype.isSameLabel=function(e){return null!==this._label&&this._label===e._label},si.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},si.prototype.interfaces_=function(){return[w]},si.prototype.getClass=function(){return si},ui.INSERT.get=function(){return 1},ui.DELETE.get=function(){return 2},Object.defineProperties(si,ui);var li=function(){};li.prototype.interfaces_=function(){return[]},li.prototype.getClass=function(){return li};var ci=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var e=arguments[0],t=arguments[1],n=arguments[2];this._li=e,this._includeProper=t,this._recordIsolated=n};ci.prototype.isTrivialIntersection=function(e,t,n,r){if(e===n&&1===this._li.getIntersectionNum()){if(ci.isAdjacentSegments(t,r))return!0;if(e.isClosed()){var i=e.getNumPoints()-1;if(0===t&&r===i||0===r&&t===i)return!0}}return!1},ci.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},ci.prototype.setIsDoneIfProperInt=function(e){this._isDoneWhenProperInt=e},ci.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},ci.prototype.isBoundaryPointInternal=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next().getCoordinate();if(e.isIntersection(r))return!0}return!1},ci.prototype.hasProperIntersection=function(){return this._hasProper},ci.prototype.hasIntersection=function(){return this._hasIntersection},ci.prototype.isDone=function(){return this._isDone},ci.prototype.isBoundaryPoint=function(e,t){return!(null===t||!this.isBoundaryPointInternal(e,t[0])&&!this.isBoundaryPointInternal(e,t[1]))},ci.prototype.setBoundaryNodes=function(e,t){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=e,this._bdyNodes[1]=t},ci.prototype.addIntersections=function(e,t,n,r){if(e===n&&t===r)return null;this.numTests++;var i=e.getCoordinates()[t],o=e.getCoordinates()[t+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&(this._recordIsolated&&(e.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(e,t,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},ci.prototype.interfaces_=function(){return[]},ci.prototype.getClass=function(){return ci},ci.isAdjacentSegments=function(e,t){return 1===Math.abs(e-t)};var fi=function(e){function t(){e.call(this),this.events=new Ee,this.nOverlaps=null}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.prepareEvents=function(){Jt.sort(this.events);for(var e=0;e<this.events.size();e++){var t=this.events.get(e);t.isDelete()&&t.getInsertEvent().setDeleteEventIndex(e)}},t.prototype.computeIntersections=function(){if(1===arguments.length){var e=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var t=0;t<this.events.size();t++){var n=this.events.get(t);if(n.isInsert()&&this.processOverlaps(t,n.getDeleteEventIndex(),n,e),e.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof ci&&D(arguments[0],xe)&&D(arguments[1],xe)){var r=arguments[0],i=arguments[1],o=arguments[2];this.addEdges(r,r),this.addEdges(i,i),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&D(arguments[0],xe)&&arguments[1]instanceof ci){var a=arguments[0],s=arguments[1];arguments[2]?this.addEdges(a,null):this.addEdges(a),this.computeIntersections(s)}},t.prototype.addEdge=function(e,t){for(var n=e.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var o=new ai(n,i),a=new si(t,n.getMinX(i),o);this.events.add(a),this.events.add(new si(n.getMaxX(i),a))}},t.prototype.processOverlaps=function(e,t,n,r){for(var i=n.getObject(),o=e;o<t;o++){var a=this.events.get(o);if(a.isInsert()){var s=a.getObject();n.isSameLabel(a)||(i.computeIntersections(s,r),this.nOverlaps++)}}},t.prototype.addEdges=function(){if(1===arguments.length)for(var e=arguments[0].iterator();e.hasNext();){var t=e.next();this.addEdge(t,t)}else if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();){var i=r.next();this.addEdge(i,n)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(li),hi=function(){this._min=b.POSITIVE_INFINITY,this._max=b.NEGATIVE_INFINITY},di={NodeComparator:{configurable:!0}};hi.prototype.getMin=function(){return this._min},hi.prototype.intersects=function(e,t){return!(this._min>t||this._max<e)},hi.prototype.getMax=function(){return this._max},hi.prototype.toString=function(){return Z.toLineString(new k(this._min,0),new k(this._max,0))},hi.prototype.interfaces_=function(){return[]},hi.prototype.getClass=function(){return hi},di.NodeComparator.get=function(){return pi},Object.defineProperties(hi,di);var pi=function(){};pi.prototype.compare=function(e,t){var n=e,r=t,i=(n._min+n._max)/2,o=(r._min+r._max)/2;return i<o?-1:i>o?1:0},pi.prototype.interfaces_=function(){return[E]},pi.prototype.getClass=function(){return pi};var gi=function(e){function t(){e.call(this),this._item=null;var t=arguments[0],n=arguments[1],r=arguments[2];this._min=t,this._max=n,this._item=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.query=function(e,t,n){if(!this.intersects(e,t))return null;n.visitItem(this._item)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(hi),vi=function(e){function t(){e.call(this),this._node1=null,this._node2=null;var t=arguments[0],n=arguments[1];this._node1=t,this._node2=n,this.buildExtent(this._node1,this._node2)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.buildExtent=function(e,t){this._min=Math.min(e._min,t._min),this._max=Math.max(e._max,t._max)},t.prototype.query=function(e,t,n){if(!this.intersects(e,t))return null;null!==this._node1&&this._node1.query(e,t,n),null!==this._node2&&this._node2.query(e,t,n)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(hi),yi=function(){this._leaves=new Ee,this._root=null,this._level=0};yi.prototype.buildTree=function(){Jt.sort(this._leaves,new hi.NodeComparator);for(var e=this._leaves,t=null,n=new Ee;;){if(this.buildLevel(e,n),1===n.size())return n.get(0);t=e,e=n,n=t}},yi.prototype.insert=function(e,t,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new gi(e,t,n))},yi.prototype.query=function(e,t,n){this.init(),this._root.query(e,t,n)},yi.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},yi.prototype.printNode=function(e){H.out.println(Z.toLineString(new k(e._min,this._level),new k(e._max,this._level)))},yi.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},yi.prototype.buildLevel=function(e,t){this._level++,t.clear();for(var n=0;n<e.size();n+=2){var r=e.get(n);if(null===(n+1<e.size()?e.get(n):null))t.add(r);else{var i=new vi(e.get(n),e.get(n+1));t.add(i)}}},yi.prototype.interfaces_=function(){return[]},yi.prototype.getClass=function(){return yi};var mi=function(){this._items=new Ee};mi.prototype.visitItem=function(e){this._items.add(e)},mi.prototype.getItems=function(){return this._items},mi.prototype.interfaces_=function(){return[Kt]},mi.prototype.getClass=function(){return mi};var bi=function(){this._index=null;var e=arguments[0];if(!D(e,Ze))throw new m("Argument must be Polygonal");this._index=new xi(e)},_i={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};bi.prototype.locate=function(e){var t=new ae(e),n=new wi(t);return this._index.query(e.y,e.y,n),t.getLocation()},bi.prototype.interfaces_=function(){return[Bn]},bi.prototype.getClass=function(){return bi},_i.SegmentVisitor.get=function(){return wi},_i.IntervalIndexedGeometry.get=function(){return xi},Object.defineProperties(bi,_i);var wi=function(){this._counter=null;var e=arguments[0];this._counter=e};wi.prototype.visitItem=function(e){var t=e;this._counter.countSegment(t.getCoordinate(0),t.getCoordinate(1))},wi.prototype.interfaces_=function(){return[Kt]},wi.prototype.getClass=function(){return wi};var xi=function(){this._index=new yi;var e=arguments[0];this.init(e)};xi.prototype.init=function(e){for(var t=kr.getLines(e).iterator();t.hasNext();){var n=t.next().getCoordinates();this.addLine(n)}},xi.prototype.addLine=function(e){for(var t=1;t<e.length;t++){var n=new gn(e[t-1],e[t]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this._index.insert(r,i,n)}},xi.prototype.query=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=new mi;return this._index.query(e,t,n),n.getItems()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._index.query(r,i,o)}},xi.prototype.interfaces_=function(){return[]},xi.prototype.getClass=function(){return xi};var Ei=function(e){function t(){if(e.call(this),this._parentGeom=null,this._lineEdgeMap=new ht,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Cr,2===arguments.length){var t=arguments[0],n=arguments[1],r=pe.OGC_SFS_BOUNDARY_RULE;this._argIndex=t,this._parentGeom=n,this._boundaryNodeRule=r,null!==n&&this.add(n)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this._argIndex=i,this._parentGeom=o,this._boundaryNodeRule=a,null!==o&&this.add(o)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.insertBoundaryPoint=function(e,n){var r=this._nodes.addNode(n).getLabel(),i=1;r.getLocation(e,Ct.ON)===T.BOUNDARY&&i++;var o=t.determineBoundary(this._boundaryNodeRule,i);r.setLocation(e,o)},t.prototype.computeSelfNodes=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return this.computeSelfNodes(e,t,!1)}if(3===arguments.length){var n=arguments[1],r=arguments[2],i=new ci(arguments[0],!0,!1);i.setIsDoneIfProperInt(r);var o=this.createEdgeSetIntersector(),a=this._parentGeom instanceof tt||this._parentGeom instanceof Je||this._parentGeom instanceof nt,s=n||!a;return o.computeIntersections(this._edges,i,s),this.addSelfIntersectionNodes(this._argIndex),i}},t.prototype.computeSplitEdges=function(e){for(var t=this._edges.iterator();t.hasNext();)t.next().eiList.addSplitEdges(e)},t.prototype.computeEdgeIntersections=function(e,t,n){var r=new ci(t,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),e.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,e._edges,r),r},t.prototype.getGeometry=function(){return this._parentGeom},t.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},t.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},t.prototype.addPoint=function(){if(arguments[0]instanceof Qe){var e=arguments[0].getCoordinate();this.insertPoint(this._argIndex,e,T.INTERIOR)}else if(arguments[0]instanceof k){var t=arguments[0];this.insertPoint(this._argIndex,t,T.INTERIOR)}},t.prototype.addPolygon=function(e){this.addPolygonRing(e.getExteriorRing(),T.EXTERIOR,T.INTERIOR);for(var t=0;t<e.getNumInteriorRing();t++){var n=e.getInteriorRingN(t);this.addPolygonRing(n,T.INTERIOR,T.EXTERIOR)}},t.prototype.addEdge=function(e){this.insertEdge(e);var t=e.getCoordinates();this.insertPoint(this._argIndex,t[0],T.BOUNDARY),this.insertPoint(this._argIndex,t[t.length-1],T.BOUNDARY)},t.prototype.addLineString=function(e){var t=Se.removeRepeatedPoints(e.getCoordinates());if(t.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=t[0],null;var n=new nr(t,new Ot(this._argIndex,T.INTERIOR));this._lineEdgeMap.put(e,n),this.insertEdge(n),te.isTrue(t.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,t[0]),this.insertBoundaryPoint(this._argIndex,t[t.length-1])},t.prototype.getInvalidPoint=function(){return this._invalidPoint},t.prototype.getBoundaryPoints=function(){for(var e=this.getBoundaryNodes(),t=new Array(e.size()).fill(null),n=0,r=e.iterator();r.hasNext();){var i=r.next();t[n++]=i.getCoordinate().copy()}return t},t.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},t.prototype.addSelfIntersectionNode=function(e,t,n){if(this.isBoundaryNode(e,t))return null;n===T.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(e,t):this.insertPoint(e,t,n)},t.prototype.addPolygonRing=function(e,t,n){if(e.isEmpty())return null;var r=Se.removeRepeatedPoints(e.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var i=t,o=n;se.isCCW(r)&&(i=n,o=t);var a=new nr(r,new Ot(this._argIndex,T.BOUNDARY,i,o));this._lineEdgeMap.put(e,a),this.insertEdge(a),this.insertPoint(this._argIndex,r[0],T.BOUNDARY)},t.prototype.insertPoint=function(e,t,n){var r=this._nodes.addNode(t),i=r.getLabel();null===i?r._label=new Ot(e,n):i.setLocation(e,n)},t.prototype.createEdgeSetIntersector=function(){return new fi},t.prototype.addSelfIntersectionNodes=function(e){for(var t=this._edges.iterator();t.hasNext();)for(var n=t.next(),r=n.getLabel().getLocation(e),i=n.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(e,o.coord,r)}},t.prototype.add=function(){if(1!==arguments.length)return e.prototype.add.apply(this,arguments);var t=arguments[0];if(t.isEmpty())return null;if(t instanceof nt&&(this._useBoundaryDeterminationRule=!1),t instanceof Je)this.addPolygon(t);else if(t instanceof Ke)this.addLineString(t);else if(t instanceof Qe)this.addPoint(t);else if(t instanceof et)this.addCollection(t);else if(t instanceof Ge)this.addCollection(t);else if(t instanceof nt)this.addCollection(t);else{if(!(t instanceof Ue))throw new Error(t.getClass().getName());this.addCollection(t)}},t.prototype.addCollection=function(e){for(var t=0;t<e.getNumGeometries();t++){var n=e.getGeometryN(t);this.add(n)}},t.prototype.locate=function(e){return D(this._parentGeom,Ze)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new bi(this._parentGeom)),this._areaPtLocator.locate(e)):this._ptLocator.locate(e,this._parentGeom)},t.prototype.findEdge=function(){if(1===arguments.length){var t=arguments[0];return this._lineEdgeMap.get(t)}return e.prototype.findEdge.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.determineBoundary=function(e,t){return e.isInBoundary(t)?T.BOUNDARY:T.INTERIOR},t}(Ht),ki=function(){if(this._li=new ie,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var e=arguments[0];this.setComputationPrecision(e.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Ei(0,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1],r=pe.OGC_SFS_BOUNDARY_RULE;t.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(t.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Ei(0,t,r),this._arg[1]=new Ei(1,n,r)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];i.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Ei(0,i,a),this._arg[1]=new Ei(1,o,a)}};ki.prototype.getArgGeometry=function(e){return this._arg[e].getGeometry()},ki.prototype.setComputationPrecision=function(e){this._resultPrecisionModel=e,this._li.setPrecisionModel(this._resultPrecisionModel)},ki.prototype.interfaces_=function(){return[]},ki.prototype.getClass=function(){return ki};var Ci=function(){};Ci.prototype.interfaces_=function(){return[]},Ci.prototype.getClass=function(){return Ci},Ci.map=function(){if(arguments[0]instanceof ce&&D(arguments[1],Ci.MapOp)){for(var e=arguments[0],t=arguments[1],n=new Ee,r=0;r<e.getNumGeometries();r++){var i=t.map(e.getGeometryN(r));null!==i&&n.add(i)}return e.getFactory().buildGeometry(n)}if(D(arguments[0],_e)&&D(arguments[1],Ci.MapOp)){for(var o=arguments[0],a=arguments[1],s=new Ee,u=o.iterator();u.hasNext();){var l=u.next(),c=a.map(l);null!==c&&s.add(c)}return s}},Ci.MapOp=function(){};var Si=function(e){function t(){var t=arguments[0],n=arguments[1];e.call(this,t,n),this._ptLocator=new Cr,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Wn,this._resultPolyList=new Ee,this._resultLineList=new Ee,this._resultPointList=new Ee,this._graph=new Ht(new qn),this._geomFact=t.getFactory()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.insertUniqueEdge=function(e){var t=this._edgeList.findEqualEdge(e);if(null!==t){var n=t.getLabel(),r=e.getLabel();t.isPointwiseEqual(e)||(r=new Ot(e.getLabel())).flip();var i=t.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this._edgeList.add(e)},t.prototype.getGraph=function(){return this._graph},t.prototype.cancelDuplicateResultEdges=function(){for(var e=this._graph.getEdgeEnds().iterator();e.hasNext();){var t=e.next(),n=t.getSym();t.isInResult()&&n.isInResult()&&(t.setInResult(!1),n.setInResult(!1))}},t.prototype.isCoveredByLA=function(e){return!!this.isCovered(e,this._resultLineList)||!!this.isCovered(e,this._resultPolyList)},t.prototype.computeGeometry=function(e,n,r,i){var o=new Ee;return o.addAll(e),o.addAll(n),o.addAll(r),o.isEmpty()?t.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},t.prototype.mergeSymLabels=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();)e.next().getEdges().mergeSymLabels()},t.prototype.isCovered=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(e,r)!==T.EXTERIOR)return!0}return!1},t.prototype.replaceCollapsedEdges=function(){for(var e=new Ee,t=this._edgeList.iterator();t.hasNext();){var n=t.next();n.isCollapsed()&&(t.remove(),e.add(n.getCollapsedEdge()))}this._edgeList.addAll(e)},t.prototype.updateNodeLabelling=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();){var t=e.next(),n=t.getEdges().getLabel();t.getLabel().merge(n)}},t.prototype.getResultGeometry=function(e){return this.computeOverlay(e),this._resultGeom},t.prototype.insertUniqueEdges=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();this.insertUniqueEdge(n)}},t.prototype.computeOverlay=function(e){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var t=new Ee;this._arg[0].computeSplitEdges(t),this._arg[1].computeSplitEdges(t),this.insertUniqueEdges(t),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Hr.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(e),this.cancelDuplicateResultEdges();var n=new qt(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new Yr(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(e);var i=new Wr(this,this._geomFact,this._ptLocator);this._resultPointList=i.build(e),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,e)},t.prototype.labelIncompleteNode=function(e,t){var n=this._ptLocator.locate(e.getCoordinate(),this._arg[t].getGeometry());e.getLabel().setLocation(t,n)},t.prototype.copyPoints=function(e){for(var t=this._arg[e].getNodeIterator();t.hasNext();){var n=t.next();this._graph.addNode(n.getCoordinate()).setLabel(e,n.getLabel().getLocation(e))}},t.prototype.findResultAreaEdges=function(e){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.isArea()&&!r.isInteriorAreaEdge()&&t.isResultOfOp(i.getLocation(0,Ct.RIGHT),i.getLocation(1,Ct.RIGHT),e)&&r.setInResult(!0)}},t.prototype.computeLabelsFromDepths=function(){for(var e=this._edgeList.iterator();e.hasNext();){var t=e.next(),n=t.getLabel(),r=t.getDepth();if(!r.isNull()){r.normalize();for(var i=0;i<2;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(te.isTrue(!r.isNull(i,Ct.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(i,Ct.LEFT,r.getLocation(i,Ct.LEFT)),te.isTrue(!r.isNull(i,Ct.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(i,Ct.RIGHT,r.getLocation(i,Ct.RIGHT))))}}},t.prototype.computeLabelling=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();)e.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},t.prototype.labelIncompleteNodes=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();){var t=e.next(),n=t.getLabel();t.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(t,0):this.labelIncompleteNode(t,1)),t.getEdges().updateLabelling(n)}},t.prototype.isCoveredByA=function(e){return!!this.isCovered(e,this._resultPolyList)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(ki);Si.overlayOp=function(e,t,n){return new Si(e,t).getResultGeometry(n)},Si.intersection=function(e,t){if(e.isEmpty()||t.isEmpty())return Si.createEmptyResult(Si.INTERSECTION,e,t,e.getFactory());if(e.isGeometryCollection()){var n=t;return qr.map(e,{interfaces_:function(){return[Ci.MapOp]},map:function(e){return e.intersection(n)}})}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),oi.overlayOp(e,t,Si.INTERSECTION)},Si.symDifference=function(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return Si.createEmptyResult(Si.SYMDIFFERENCE,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),oi.overlayOp(e,t,Si.SYMDIFFERENCE)},Si.resultDimension=function(e,t,n){var r=t.getDimension(),i=n.getDimension(),o=-1;switch(e){case Si.INTERSECTION:o=Math.min(r,i);break;case Si.UNION:o=Math.max(r,i);break;case Si.DIFFERENCE:o=r;break;case Si.SYMDIFFERENCE:o=Math.max(r,i)}return o},Si.createEmptyResult=function(e,t,n,r){var i=null;switch(Si.resultDimension(e,t,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},Si.difference=function(e,t){return e.isEmpty()?Si.createEmptyResult(Si.DIFFERENCE,e,t,e.getFactory()):t.isEmpty()?e.copy():(e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),oi.overlayOp(e,t,Si.DIFFERENCE))},Si.isResultOfOp=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=e.getLocation(0),r=e.getLocation(1);return Si.isResultOfOp(n,r,t)}if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];switch(i===T.BOUNDARY&&(i=T.INTERIOR),o===T.BOUNDARY&&(o=T.INTERIOR),a){case Si.INTERSECTION:return i===T.INTERIOR&&o===T.INTERIOR;case Si.UNION:return i===T.INTERIOR||o===T.INTERIOR;case Si.DIFFERENCE:return i===T.INTERIOR&&o!==T.INTERIOR;case Si.SYMDIFFERENCE:return i===T.INTERIOR&&o!==T.INTERIOR||i!==T.INTERIOR&&o===T.INTERIOR}return!1}},Si.INTERSECTION=1,Si.UNION=2,Si.DIFFERENCE=3,Si.SYMDIFFERENCE=4;var Ni=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Cr,this._seg=new gn;var e=arguments[0],t=arguments[1];this._g=e,this._boundaryDistanceTolerance=t,this._linework=this.extractLinework(e)};Ni.prototype.isWithinToleranceOfBoundary=function(e){for(var t=0;t<this._linework.getNumGeometries();t++)for(var n=this._linework.getGeometryN(t).getCoordinateSequence(),r=0;r<n.size()-1;r++)if(n.getCoordinate(r,this._seg.p0),n.getCoordinate(r+1,this._seg.p1),this._seg.distance(e)<=this._boundaryDistanceTolerance)return!0;return!1},Ni.prototype.getLocation=function(e){return this.isWithinToleranceOfBoundary(e)?T.BOUNDARY:this._ptLocator.locate(e,this._g)},Ni.prototype.extractLinework=function(e){var t=new Ti;e.apply(t);var n=t.getLinework(),r=yt.toLineStringArray(n);return e.getFactory().createMultiLineString(r)},Ni.prototype.interfaces_=function(){return[]},Ni.prototype.getClass=function(){return Ni};var Ti=function(){this._linework=null,this._linework=new Ee};Ti.prototype.getLinework=function(){return this._linework},Ti.prototype.filter=function(e){if(e instanceof Je){var t=e;this._linework.add(t.getExteriorRing());for(var n=0;n<t.getNumInteriorRing();n++)this._linework.add(t.getInteriorRingN(n))}},Ti.prototype.interfaces_=function(){return[Be]},Ti.prototype.getClass=function(){return Ti};var Ii=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var e=arguments[0];this._g=e};Ii.prototype.extractPoints=function(e,t,n){for(var r=e.getCoordinates(),i=0;i<r.length-1;i++)this.computeOffsetPoints(r[i],r[i+1],t,n)},Ii.prototype.setSidesToGenerate=function(e,t){this._doLeft=e,this._doRight=t},Ii.prototype.getPoints=function(e){for(var t=new Ee,n=kr.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,e,t)}return t},Ii.prototype.computeOffsetPoints=function(e,t,n,r){var i=t.x-e.x,o=t.y-e.y,a=Math.sqrt(i*i+o*o),s=n*i/a,u=n*o/a,l=(t.x+e.x)/2,c=(t.y+e.y)/2;if(this._doLeft){var f=new k(l-u,c+s);r.add(f)}if(this._doRight){var h=new k(l+u,c-s);r.add(h)}},Ii.prototype.interfaces_=function(){return[]},Ii.prototype.getClass=function(){return Ii};var Di=function e(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=e.TOLERANCE,this._testCoords=new Ee;var t=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=e.computeBoundaryDistanceTolerance(t,n),this._geom=[t,n,r],this._locFinder=[new Ni(this._geom[0],this._boundaryDistanceTolerance),new Ni(this._geom[1],this._boundaryDistanceTolerance),new Ni(this._geom[2],this._boundaryDistanceTolerance)]},Mi={TOLERANCE:{configurable:!0}};Di.prototype.reportResult=function(e,t,n){H.out.println("Overlay result invalid - A:"+T.toLocationSymbol(t[0])+" B:"+T.toLocationSymbol(t[1])+" expected:"+(n?"i":"e")+" actual:"+T.toLocationSymbol(t[2]))},Di.prototype.isValid=function(e){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(e)},Di.prototype.checkValid=function(){if(1===arguments.length){for(var e=arguments[0],t=0;t<this._testCoords.size();t++){var n=this._testCoords.get(t);if(!this.checkValid(e,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._location[0]=this._locFinder[0].getLocation(i),this._location[1]=this._locFinder[1].getLocation(i),this._location[2]=this._locFinder[2].getLocation(i),!!Di.hasLocation(this._location,T.BOUNDARY)||this.isValidResult(r,this._location)}},Di.prototype.addTestPts=function(e){var t=new Ii(e);this._testCoords.addAll(t.getPoints(5*this._boundaryDistanceTolerance))},Di.prototype.isValidResult=function(e,t){var n=Si.isResultOfOp(t[0],t[1],e),r=!(n^t[2]===T.INTERIOR);return r||this.reportResult(e,t,n),r},Di.prototype.getInvalidLocation=function(){return this._invalidLocation},Di.prototype.interfaces_=function(){return[]},Di.prototype.getClass=function(){return Di},Di.hasLocation=function(e,t){for(var n=0;n<3;n++)if(e[n]===t)return!0;return!1},Di.computeBoundaryDistanceTolerance=function(e,t){return Math.min($r.computeSizeBasedSnapTolerance(e),$r.computeSizeBasedSnapTolerance(t))},Di.isValid=function(e,t,n,r){return new Di(e,t,r).isValid(n)},Mi.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Di,Mi);var Oi=function e(t){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=e.extractFactory(t),this._inputGeoms=t};Oi.prototype.extractElements=function(e,t){if(null===e)return null;for(var n=0;n<e.getNumGeometries();n++){var r=e.getGeometryN(n);this._skipEmpty&&r.isEmpty()||t.add(r)}},Oi.prototype.combine=function(){for(var e=new Ee,t=this._inputGeoms.iterator();t.hasNext();){var n=t.next();this.extractElements(n,e)}return 0===e.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(e)},Oi.prototype.interfaces_=function(){return[]},Oi.prototype.getClass=function(){return Oi},Oi.combine=function(){if(1===arguments.length)return new Oi(arguments[0]).combine();if(2===arguments.length){var e=arguments[0],t=arguments[1];return new Oi(Oi.createList(e,t)).combine()}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];return new Oi(Oi.createList(n,r,i)).combine()}},Oi.extractFactory=function(e){return e.isEmpty()?null:e.iterator().next().getFactory()},Oi.createList=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=new Ee;return n.add(e),n.add(t),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=new Ee;return a.add(r),a.add(i),a.add(o),a}};var Pi=function(){this._inputPolys=null,this._geomFactory=null;var e=arguments[0];this._inputPolys=e,null===this._inputPolys&&(this._inputPolys=new Ee)},Li={STRTREE_NODE_CAPACITY:{configurable:!0}};Pi.prototype.reduceToGeometries=function(e){for(var t=new Ee,n=e.iterator();n.hasNext();){var r=n.next(),i=null;D(r,xe)?i=this.unionTree(r):r instanceof ce&&(i=r),t.add(i)}return t},Pi.prototype.extractByEnvelope=function(e,t,n){for(var r=new Ee,i=0;i<t.getNumGeometries();i++){var o=t.getGeometryN(i);o.getEnvelopeInternal().intersects(e)?r.add(o):n.add(o)}return this._geomFactory.buildGeometry(r)},Pi.prototype.unionOptimized=function(e,t){var n=e.getEnvelopeInternal(),r=t.getEnvelopeInternal();if(!n.intersects(r))return Oi.combine(e,t);if(e.getNumGeometries()<=1&&t.getNumGeometries()<=1)return this.unionActual(e,t);var i=n.intersection(r);return this.unionUsingEnvelopeIntersection(e,t,i)},Pi.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var e=new an(Pi.STRTREE_NODE_CAPACITY),t=this._inputPolys.iterator();t.hasNext();){var n=t.next();e.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=e.itemsTree();return this.unionTree(r)},Pi.prototype.binaryUnion=function(){if(1===arguments.length){var e=arguments[0];return this.binaryUnion(e,0,e.size())}if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var i=Pi.getGeometry(t,n);return this.unionSafe(i,null)}if(r-n==2)return this.unionSafe(Pi.getGeometry(t,n),Pi.getGeometry(t,n+1));var o=Math.trunc((r+n)/2),a=this.binaryUnion(t,n,o),s=this.binaryUnion(t,o,r);return this.unionSafe(a,s)}},Pi.prototype.repeatedUnion=function(e){for(var t=null,n=e.iterator();n.hasNext();){var r=n.next();t=null===t?r.copy():t.union(r)}return t},Pi.prototype.unionSafe=function(e,t){return null===e&&null===t?null:null===e?t.copy():null===t?e.copy():this.unionOptimized(e,t)},Pi.prototype.unionActual=function(e,t){return Pi.restrictToPolygons(e.union(t))},Pi.prototype.unionTree=function(e){var t=this.reduceToGeometries(e);return this.binaryUnion(t)},Pi.prototype.unionUsingEnvelopeIntersection=function(e,t,n){var r=new Ee,i=this.extractByEnvelope(n,e,r),o=this.extractByEnvelope(n,t,r),a=this.unionActual(i,o);return r.add(a),Oi.combine(r)},Pi.prototype.bufferUnion=function(){if(1===arguments.length){var e=arguments[0];return e.get(0).getFactory().buildGeometry(e).buffer(0)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t.getFactory().createGeometryCollection([t,n]).buffer(0)}},Pi.prototype.interfaces_=function(){return[]},Pi.prototype.getClass=function(){return Pi},Pi.restrictToPolygons=function(e){if(D(e,Ze))return e;var t=Er.getPolygons(e);return 1===t.size()?t.get(0):e.getFactory().createMultiPolygon(yt.toPolygonArray(t))},Pi.getGeometry=function(e,t){return t>=e.size()?null:e.get(t)},Pi.union=function(e){return new Pi(e).union()},Li.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Pi,Li);var Ai=function(){};Ai.prototype.interfaces_=function(){return[]},Ai.prototype.getClass=function(){return Ai},Ai.union=function(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return Si.createEmptyResult(Si.UNION,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),oi.overlayOp(e,t,Si.UNION)},e.GeoJSONReader=Et,e.GeoJSONWriter=kt,e.OverlayOp=Si,e.UnionOp=Ai,e.BufferOp=gr,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";n.r(t),n.d(t,"DistanceDetectionType",(function(){return se})),n.d(t,"DEFAULT_OPTIONS",(function(){return le})),n.d(t,"packComponents",(function(){return ce})),n.d(t,"getFrame",(function(){return he})),n.d(t,"constructEdges",(function(){return de}));var u,l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function c(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function h(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT",e[e.STRAIGHT=2]="STRAIGHT"}(u||(u={}));var d,p=function(e,t){var n=t.x-e.from.x,r=t.y-e.from.y,i=e.to.x-e.from.x,o=e.to.y-e.from.y,a=i*i+o*o,s=-1;return 0!==a&&(s=(n*i+r*o)/a),s<0?[{x:e.from.x,y:e.from.y},t]:s>1?[{x:e.to.x,y:e.to.y},t]:[{x:e.from.x+s*i,y:e.from.y+s*o},t]},g=function(e){return e.x*e.x+e.y*e.y},v=function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.pow(n,2)+Math.pow(r,2)},y=function(e,t){var n=t.y-e.y,r=t.x-e.x;return Math.atan2(n,r)},m=function(e){return Math.abs((e.maxX-e.minX)*(e.maxY-e.minY))},b=function(e){return e.reduce((function(e,t){return{minX:Math.min(e.minX,t.minX),maxX:Math.max(e.maxX,t.maxX),minY:Math.min(e.minY,t.minY),maxY:Math.max(e.maxY,t.maxY)}}),{minX:Number.MAX_SAFE_INTEGER,maxX:Number.MIN_SAFE_INTEGER,minY:Number.MAX_SAFE_INTEGER,maxY:Number.MIN_SAFE_INTEGER})},_=function(){function e(e){var t,n;this.mPoints=e,this.mBase={x:0,y:0},this.mVerticeCenter={x:0,y:0};try{for(var r=c(this.mPoints),i=r.next();!i.done;i=r.next()){var o=i.value;this.mVerticeCenter.x+=o.x,this.mVerticeCenter.y+=o.y}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}this.mVerticeCenter.x/=this.mPoints.length,this.mVerticeCenter.y/=this.mPoints.length,this.mVerticesBbox=null}return e.fromGraph=function(e){var t,n,r=[];try{for(var i=c(e.nodes),o=i.next();!o.done;o=i.next()){var a=o.value;r.push(a.min,a.max)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return this.fromPoints(r)},e.fromPoints=function(t){return new e(this.convexHull(t))},e.fromPointsUnsafe=function(t){return new e(t)},e.prototype.withBase=function(e){return 0==this.base.x&&0==this.base.y?e:{x:e.x+this.base.x,y:e.y+this.base.y}},e.prototype.move=function(e){this.mBase.x+=e.x,this.mBase.y+=e.y},Object.defineProperty(e.prototype,"points",{get:function(){return 0==this.base.x&&0==this.base.y?this.mPoints:this.mPoints.map(this.withBase.bind(this))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointCount",{get:function(){return this.mPoints.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"base",{get:function(){return this.mBase},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return{x:this.base.x+this.mVerticeCenter.x,y:this.base.y+this.mVerticeCenter.y}},enumerable:!1,configurable:!0}),e.prototype.negative=function(){return new e(this.points.map((function(e){return{x:-e.x,y:-e.y}})))},e.prototype.getSafeIndex=function(e){return(e%(t=this.points.length)+t)%t;var t},e.prototype.getPoint=function(e){return this.withBase(this.points[this.getSafeIndex(e)])},e.prototype.getPrevPoint=function(e){return this.withBase(this.getPoint(e-1))},e.prototype.getNextPoint=function(e){return this.withBase(this.getPoint(e+1))},Object.defineProperty(e.prototype,"boundingBox",{get:function(){var e,t;if(null===this.mVerticesBbox){var n={minX:Number.MAX_SAFE_INTEGER,maxX:Number.MIN_SAFE_INTEGER,minY:Number.MAX_SAFE_INTEGER,maxY:Number.MIN_SAFE_INTEGER};try{for(var r=c(this.mPoints),i=r.next();!i.done;i=r.next()){var o=i.value;o.x<n.minX&&(n.minX=o.x),o.x>n.maxX&&(n.maxX=o.x),o.y<n.minY&&(n.minY=o.y),o.y>n.maxY&&(n.maxY=o.y)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}this.mVerticesBbox=n}var a=this.mBase;return{minX:this.mVerticesBbox.minX+a.x,maxX:this.mVerticesBbox.maxX+a.x,minY:this.mVerticesBbox.minY+a.y,maxY:this.mVerticesBbox.maxY+a.y}},enumerable:!1,configurable:!0}),e.convexHull=function(t){var n,r,i=[],o=e.topLeft(t);i.push(o),t.splice(t.findIndex((function(e){return e===o})),1),t.sort((function(e,t){return y(o,e)-y(o,t)}));var a,s,l,f,h=this.removeDuplicates(t,o);try{for(var d=c(h),p=d.next();!p.done;p=d.next()){for(var g=p.value;i.length>1&&(a=i[i.length-2],s=i[i.length-1],l=g,f=void 0,((f=s.x*l.y-s.y*l.x-a.x*l.y+a.x*s.y+a.y*l.x-a.y*s.x)<0?u.LEFT:f>0?u.RIGHT:u.STRAIGHT)===u.LEFT);)i.pop();i.push(g)}}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}return i},e.removeDuplicates=function(e,t){for(var n=[],r=0;r<e.length;){for(var i=e[r],o=r+1;o<e.length&&y(t,i)-y(t,e[o])==0;)v(t,e[o])>v(t,i)&&(i=e[o]),o+=1;n.push(i),r=o}return n},e.topLeft=function(e){return e.reduce((function(e,t){return e.y<t.y||e.y==t.y&&e.x<=t.x?e:t}),{x:Number.MAX_VALUE,y:Number.MAX_VALUE})},e}();!function(e){e[e.BruteForce=0]="BruteForce",e[e.Linear=1]="Linear",e[e.Logarithmic=2]="Logarithmic"}(d||(d={}));var w=function(e,t,n){void 0===n&&(n=d.BruteForce);var r=t.negative();if(n===d.BruteForce){var i=function(e,t){var n,r,i,o,a=[];try{for(var s=c(e.points),u=s.next();!u.done;u=s.next()){var l=u.value;try{for(var f=(i=void 0,c(t.points)),h=f.next();!h.done;h=f.next()){var d=h.value,p={x:l.x+d.x,y:l.y+d.y};a.push(p)}}catch(e){i={error:e}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return a}(e,r),o=_.fromPoints(i);return o.points.map((function(e,t){var n={from:e,to:o.getNextPoint(t)},r=p(n,{x:0,y:0}),i=g(r[0]),a=Math.sqrt(i);return{distance:i,unitVector:{x:(r[1].x-r[0].x)/a,y:(r[1].y-r[0].y)/a}}})).reduce((function(e,t){return t.distance<e.distance?t:e}))}throw new Error("Strategy "+n+" has not implemented yet")};function x(e,t,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.bbox,i=n.id;if(void 0===e)throw new Error("geometry is required");if(t&&t.constructor!==Object)throw new Error("properties must be an Object");r&&S(r),i&&N(i);var o={type:"Feature"};return i&&(o.id=i),r&&(o.bbox=r),o.properties=t||{},o.geometry=e,o}function E(e,t,n){if(!e)throw new Error("coordinates is required");for(var r=0;r<e.length;r++){var i=e[r];if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<i[i.length-1].length;o++){if(0===r&&0===o&&!k(i[0][0])||!k(i[0][1]))throw new Error("coordinates must contain numbers");if(i[i.length-1][o]!==i[0][o])throw new Error("First and last Position are not equivalent.")}}return x({type:"Polygon",coordinates:e},t,n)}function k(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function C(e){return!!e&&e.constructor===Object}function S(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((function(e){if(!k(e))throw new Error("bbox must only contain numbers")}))}function N(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}var T=function(e){return[e.x,e.y]},I=function(e){var t,n=e.points;return E([(t=h(n,[n[0]]),t.map(T))])},D=n(0);function M(e,t,n){if(null!==e)for(var r,i,o,a,s,u,l,c,f=0,h=0,d=e.type,p="FeatureCollection"===d,g="Feature"===d,v=p?e.features.length:1,y=0;y<v;y++){s=(c=!!(l=p?e.features[y].geometry:g?e.geometry:e)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var m=0;m<s;m++){var b=0,_=0;if(null!==(a=c?l.geometries[m]:l)){u=a.coordinates;var w=a.type;switch(f=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":t(u,h,y,b,_),h++,b++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++)t(u[r],h,y,b,_),h++,"MultiPoint"===w&&b++;"LineString"===w&&b++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(i=0;i<u[r].length-f;i++)t(u[r][i],h,y,b,_),h++;"MultiLineString"===w&&b++,"Polygon"===w&&_++}"Polygon"===w&&b++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for("MultiPolygon"===w&&(_=0),i=0;i<u[r].length;i++){for(o=0;o<u[r][i].length-f;o++)t(u[r][i][o],h,y,b,_),h++;_++}b++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)M(a.geometries[r],t,n);break;default:throw new Error("Unknown Geometry Type")}}}}}var O=function(e,t){if(!C(t=t||{}))throw new Error("options is invalid");var n=t.precision,r=t.coordinates,i=t.mutate;if(n=null==n||isNaN(n)?6:n,r=null==r||isNaN(r)?3:r,!e)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof r)throw new Error("<coordinates> must be a number");!1!==i&&void 0!==i||(e=JSON.parse(JSON.stringify(e)));var o=Math.pow(10,n);return M(e,(function(e){!function(e,t,n){e.length>n&&e.splice(n,e.length);for(var r=0;r<e.length;r++)e[r]=Math.round(e[r]*t)/t}(e,o,r)})),e};function P(e){if(!e)throw new Error("obj is required");var t;if(e.length?t=e:e.coordinates?t=e.coordinates:e.geometry&&e.geometry.coordinates&&(t=e.geometry.coordinates),t)return function e(t){if(t.length>1&&k(t[0])&&k(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return e(t[0]);throw new Error("coordinates must only contain numbers")}(t),t;throw new Error("No valid coordinates")}function L(e){if(!e)throw new Error("geojson is required");if(void 0!==e.geometry)return e.geometry;if(e.coordinates||e.geometries)return e;throw new Error("geojson must be a valid Feature or Geometry Object")}function A(e){var t,n,r,i,o,a=P(e);if(2===a.length&&(t=a[0],n=a[1],t[0]!==n[0]||t[1]!==n[1]))return a;var s=[],u=a.length-1;s.push(a[0]);for(var l=1;l<u;l++)r=a[l-1],i=a[l],R(r,o=a[l+1],i)||s.push(i);return s.push(o),s}function R(e,t,n){var r=n[0],i=n[1],o=e[0],a=e[1],s=t[0],u=t[1],l=s-o,c=u-a;return 0==(r-o)*c-(i-a)*l&&(Math.abs(l)>=Math.abs(c)?l>0?o<=r&&r<=s:s<=r&&r<=o:c>0?a<=i&&i<=u:u<=i&&i<=a)}var F,z=function(e,t){var n="object"==typeof t?t.mutate:t;if(!e)throw new Error("geojson is required");var r=function(e,t){if(!e)throw new Error((t||"geojson")+" is required");if(e.geometry&&e.geometry.type)return e.geometry.type;if(e.type)return e.type;throw new Error((t||"geojson")+" is invalid")}(e),i=[];switch(r){case"LineString":i=A(e);break;case"MultiLineString":case"Polygon":P(e).forEach((function(e){i.push(A(e))}));break;case"MultiPolygon":P(e).forEach((function(e){var t=[];e.forEach((function(e){t.push(A(e))})),i.push(t)}));break;case"Point":return e;case"MultiPoint":var o={};P(e).forEach((function(e){var t=e.join("-");o.hasOwnProperty(t)||(i.push(e),o[t]=!0)}));break;default:throw new Error(r+" geometry not supported")}return e.coordinates?!0===n?(e.coordinates=i,e):{type:r,coordinates:i}:!0===n?(e.geometry.coordinates=i,e):x({type:r,coordinates:i},e.properties,e.bbox,e.id)},j=function(e,t){var n=L(e),r=L(t);if(z(O(r,{precision:4})).coordinates[0].length<4)return null;if(z(O(n,{precision:4})).coordinates[0].length<4)return null;var i=new D.GeoJSONReader,o=i.read(O(n)),a=i.read(O(r)),s=D.OverlayOp.intersection(o,a);return s.isEmpty()?null:x((new D.GeoJSONWriter).write(s))};!function(e){e[e.Normal=0]="Normal",e[e.Intersection=1]="Intersection"}(F||(F={}));var B=function(e,t){var n=t.componentSpacing,r=Math.pow(t.componentSpacing,2),i=n,o=function(e){return function(t,n){var r=w(t,n),o=r.distance,a=r.unitVector,s=e(o),u=Math.abs(s)<i?s:i*Math.sign(s);return{x:a.x*u,y:a.y*u}}},a=o((function(e){return 3*Math.log2(Math.sqrt(e)/n)})),s=o((function(e){return-(r/e-1)})),u=function(n,r,i){var o=f([e.nodes[n],e.nodes[r]],2),a=o[0],s=o[1];if(null===j(I(a),I(s)))return{force:i(a,s),type:F.Normal};var u,l,c=t.componentSpacing,h=(u={from:a.center,to:s.center},l=Math.sqrt(function(e){var t=e.to.x-e.from.x,n=e.to.y-e.from.y;return t*t+n*n}(u)),{x:(u.to.x-u.from.x)/l,y:(u.to.y-u.from.y)/l});return{force:{x:-h.x*c,y:-h.y*c},type:F.Intersection}},l=t.type===se.GRID_SQUARE?t.detection.move:function(t,n){e.nodes[t].move(n)},h=Array.from({length:e.nodes.length},(function(){return{x:0,y:0}})),d=Array.from({length:e.nodes.length},(function(){return{x:0,y:0}})),p=function(){var n=function(e){return 0!==d[e].x||0!==d[e].y};!function(e,t,n){var r,i,o,s;try{for(var l=c(e.edges.entries()),h=l.next();!h.done;h=l.next()){var d=f(h.value,2),p=d[0],g=d[1];try{for(var v=(o=void 0,c(g)),y=v.next();!y.done;y=v.next()){var m=y.value,b=u(p,m,a),_=b.force,w=b.type===F.Normal?t:n;w[p].x+=_.x,w[p].y+=_.y,w[m].x-=_.x,w[m].y-=_.y}}catch(e){o={error:e}}finally{try{y&&!y.done&&(s=v.return)&&s.call(v)}finally{if(o)throw o.error}}}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}(e,h,d),function(e,n,r){if(t.type!==se.BASIC)throw new Error("Not implemented");for(var i=e.nodes.length,o=0;o<i;++o)for(var a=function(t){if(void 0!==e.edges[o].find((function(e){return e===t}))){var i=u(o,t,s),a=i.force,l=i.type===F.Normal?n:r;l[o].x+=a.x,l[o].y+=a.y,l[t].x-=a.x,l[t].y-=a.y}},l=o+1;l<i;++l)a(l)}(e,h,d);for(var r=0,i=0;i<e.nodes.length;++i){var o=n(i)?d[i]:h[i];l(i,o),r+=g(o),h[i].x=0,h[i].y=0,d[i].x=0,d[i].y=0}return r/e.nodes.length};if(void 0!==t.step)for(var v=t.step,y=0;y<v;++y)p();else{var m=0;for(y=0;y<100;y+=1)p(),(m+=1)>=5&&(e.edges=de(e.nodes),m=0)}},V=Math.pow(2,-52),U=new Uint32Array(512),G=function(){function e(t){a(this,e);var n=t.length>>1;if(n>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;var r=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}return s(e,[{key:"update",value:function(){for(var e=this.coords,t=this._hullPrev,n=this._hullNext,r=this._hullTri,i=this._hullHash,o=e.length>>1,a=1/0,s=1/0,u=-1/0,l=-1/0,c=0;c<o;c++){var f=e[2*c],h=e[2*c+1];f<a&&(a=f),h<s&&(s=h),f>u&&(u=f),h>l&&(l=h),this._ids[c]=c}for(var d,p,g,v=(a+u)/2,y=(s+l)/2,m=1/0,b=0;b<o;b++){var _=H(v,y,e[2*b],e[2*b+1]);_<m&&(d=b,m=_)}var w=e[2*d],x=e[2*d+1];m=1/0;for(var E=0;E<o;E++)if(E!==d){var k=H(w,x,e[2*E],e[2*E+1]);k<m&&k>0&&(p=E,m=k)}for(var C=e[2*p],S=e[2*p+1],N=1/0,T=0;T<o;T++)if(T!==d&&T!==p){var I=X(w,x,C,S,e[2*T],e[2*T+1]);I<N&&(g=T,N=I)}var D=e[2*g],M=e[2*g+1];if(N===1/0){for(var O=0;O<o;O++)this._dists[O]=e[2*O]-e[0]||e[2*O+1]-e[1];K(this._ids,this._dists,0,o-1);for(var P=new Uint32Array(o),L=0,A=0,R=-1/0;A<o;A++){var F=this._ids[A];this._dists[F]>R&&(P[L++]=F,R=this._dists[F])}return this.hull=P.subarray(0,L),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Y(w,x,C,S,D,M)){var z=p,j=C,B=S;p=g,C=D,S=M,g=z,D=j,M=B}var U=function(e,t,n,r,i,o){var a=n-e,s=r-t,u=i-e,l=o-t,c=a*a+s*s,f=u*u+l*l,h=.5/(a*l-s*u);return{x:e+(l*c-s*f)*h,y:t+(a*f-u*c)*h}}(w,x,C,S,D,M);this._cx=U.x,this._cy=U.y;for(var G=0;G<o;G++)this._dists[G]=H(e[2*G],e[2*G+1],U.x,U.y);K(this._ids,this._dists,0,o-1),this._hullStart=d;var q=3;n[d]=t[g]=p,n[p]=t[d]=g,n[g]=t[p]=d,r[d]=0,r[p]=1,r[g]=2,i.fill(-1),i[this._hashKey(w,x)]=d,i[this._hashKey(C,S)]=p,i[this._hashKey(D,M)]=g,this.trianglesLen=0,this._addTriangle(d,p,g,-1,-1,-1);for(var W,$,Q=0;Q<this._ids.length;Q++){var Z=this._ids[Q],J=e[2*Z],ee=e[2*Z+1];if(!(Q>0&&Math.abs(J-W)<=V&&Math.abs(ee-$)<=V)&&(W=J,$=ee,Z!==d&&Z!==p&&Z!==g)){for(var te=0,ne=0,re=this._hashKey(J,ee);ne<this._hashSize&&(-1===(te=i[(re+ne)%this._hashSize])||te===n[te]);ne++);for(var ie=void 0,oe=te=t[te];ie=n[oe],!Y(J,ee,e[2*oe],e[2*oe+1],e[2*ie],e[2*ie+1]);)if((oe=ie)===te){oe=-1;break}if(-1!==oe){var ae=this._addTriangle(oe,Z,n[oe],-1,-1,r[oe]);r[Z]=this._legalize(ae+2),r[oe]=ae,q++;for(var se=n[oe];ie=n[se],Y(J,ee,e[2*se],e[2*se+1],e[2*ie],e[2*ie+1]);)ae=this._addTriangle(se,Z,ie,r[Z],-1,r[se]),r[Z]=this._legalize(ae+2),n[se]=se,q--,se=ie;if(oe===te)for(;Y(J,ee,e[2*(ie=t[oe])],e[2*ie+1],e[2*oe],e[2*oe+1]);)ae=this._addTriangle(ie,Z,oe,-1,r[oe],r[ie]),this._legalize(ae+2),r[ie]=ae,n[oe]=oe,q--,oe=ie;this._hullStart=t[Z]=oe,n[oe]=t[se]=Z,n[Z]=se,i[this._hashKey(J,ee)]=Z,i[this._hashKey(e[2*oe],e[2*oe+1])]=oe}}}this.hull=new Uint32Array(q);for(var ue=0,le=this._hullStart;ue<q;ue++)this.hull[ue]=le,le=n[le];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(e,t){return Math.floor(function(e,t){var n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}},{key:"_legalize",value:function(e){for(var t=this._triangles,n=this._halfedges,r=this.coords,i=0,o=0;;){var a=n[e],s=e-e%3;if(o=s+(e+2)%3,-1!==a){var u=a-a%3,l=s+(e+1)%3,c=u+(a+2)%3,f=t[o],h=t[e],d=t[l],p=t[c];if(W(r[2*f],r[2*f+1],r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*p],r[2*p+1])){t[e]=p,t[a]=f;var g=n[c];if(-1===g){var v=this._hullStart;do{if(this._hullTri[v]===c){this._hullTri[v]=e;break}v=this._hullPrev[v]}while(v!==this._hullStart)}this._link(e,g),this._link(a,n[o]),this._link(o,c);var y=u+(a+1)%3;i<U.length&&(U[i++]=y)}else{if(0===i)break;e=U[--i]}}else{if(0===i)break;e=U[--i]}}return o}},{key:"_link",value:function(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}},{key:"_addTriangle",value:function(e,t,n,r,i,o){var a=this.trianglesLen;return this._triangles[a]=e,this._triangles[a+1]=t,this._triangles[a+2]=n,this._link(a,r),this._link(a+1,i),this._link(a+2,o),this.trianglesLen+=3,a}}],[{key:"from",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Q,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Z,i=t.length,o=new Float64Array(2*i),a=0;a<i;a++){var s=t[a];o[2*a]=n(s),o[2*a+1]=r(s)}return new e(o)}}]),e}();function H(e,t,n,r){var i=e-n,o=t-r;return i*i+o*o}function q(e,t,n,r,i,o){var a=(r-t)*(i-e),s=(n-e)*(o-t);return Math.abs(a-s)>=33306690738754716e-32*Math.abs(a+s)?a-s:0}function Y(e,t,n,r,i,o){return(q(i,o,e,t,n,r)||q(e,t,n,r,i,o)||q(n,r,i,o,e,t))<0}function W(e,t,n,r,i,o,a,s){var u=e-a,l=t-s,c=n-a,f=r-s,h=i-a,d=o-s,p=c*c+f*f,g=h*h+d*d;return u*(f*g-p*d)-l*(c*g-p*h)+(u*u+l*l)*(c*d-f*h)<0}function X(e,t,n,r,i,o){var a=n-e,s=r-t,u=i-e,l=o-t,c=a*a+s*s,f=u*u+l*l,h=.5/(a*l-s*u),d=(l*c-s*f)*h,p=(a*f-u*c)*h;return d*d+p*p}function K(e,t,n,r){if(r-n<=20)for(var i=n+1;i<=r;i++){for(var o=e[i],a=t[o],s=i-1;s>=n&&t[e[s]]>a;)e[s+1]=e[s--];e[s+1]=o}else{var u=n+1,l=r;$(e,n+r>>1,u),t[e[n]]>t[e[r]]&&$(e,n,r),t[e[u]]>t[e[r]]&&$(e,u,r),t[e[n]]>t[e[u]]&&$(e,n,u);for(var c=e[u],f=t[c];;){do{u++}while(t[e[u]]<f);do{l--}while(t[e[l]]>f);if(l<u)break;$(e,u,l)}e[n+1]=e[l],e[l]=c,r-u+1>=l-n?(K(e,t,u,r),K(e,t,n,l-1)):(K(e,t,n,l-1),K(e,t,u,r))}}function $(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Q(e){return e[0]}function Z(e){return e[1]}var J=function(){function e(){a(this,e),this._x0=this._y0=this._x1=this._y1=null,this._=""}return s(e,[{key:"moveTo",value:function(e,t){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(e,t){this._+="L".concat(this._x1=+e,",").concat(this._y1=+t)}},{key:"arc",value:function(e,t,n){var r=(e=+e)+(n=+n),i=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(i):(Math.abs(this._x1-r)>1e-6||Math.abs(this._y1-i)>1e-6)&&(this._+="L"+r+","+i),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(e-n,",").concat(t,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=i))}},{key:"rect",value:function(e,t,n,r){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}},{key:"value",value:function(){return this._||null}}]),e}(),ee=function(){function e(){a(this,e),this._=[]}return s(e,[{key:"moveTo",value:function(e,t){this._.push([e,t])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(e,t){this._.push([e,t])}},{key:"value",value:function(){return this._.length?this._:null}}]),e}(),te=function(){function e(t){var n=i(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],4),r=n[0],o=n[1],s=n[2],u=n[3];if(a(this,e),!((s=+s)>=(r=+r)&&(u=+u)>=(o=+o)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=s,this.xmin=r,this.ymax=u,this.ymin=o,this._init()}return s(e,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var e,t,n=this.delaunay,r=n.points,i=n.hull,o=n.triangles,a=this.vectors,s=this.circumcenters=this._circumcenters.subarray(0,o.length/3*2),u=0,l=0,c=o.length;u<c;u+=3,l+=2){var f=2*o[u],h=2*o[u+1],d=2*o[u+2],p=r[f],g=r[f+1],v=r[h],y=r[h+1],m=r[d],b=r[d+1],_=v-p,w=y-g,x=m-p,E=b-g,k=_*_+w*w,C=x*x+E*E,S=2*(_*E-w*x);if(S)if(Math.abs(S)<1e-8)e=(p+m)/2,t=(g+b)/2;else{var N=1/S;e=p+(E*k-w*C)*N,t=g+(_*C-x*k)*N}else e=(p+m)/2-1e8*E,t=(g+b)/2+1e8*x;s[l]=e,s[l+1]=t}var T,I,D,M=i[i.length-1],O=4*M,P=r[2*M],L=r[2*M+1];a.fill(0);for(var A=0;A<i.length;++A)T=O,I=P,D=L,O=4*(M=i[A]),P=r[2*M],L=r[2*M+1],a[T+2]=a[O]=D-L,a[T+3]=a[O+1]=P-I}},{key:"render",value:function(e){var t=null==e?e=new J:void 0,n=this.delaunay,r=n.halfedges,i=n.inedges,o=n.hull,a=this.circumcenters,s=this.vectors;if(o.length<=1)return null;for(var u=0,l=r.length;u<l;++u){var c=r[u];if(!(c<u)){var f=2*Math.floor(u/3),h=2*Math.floor(c/3),d=a[f],p=a[f+1],g=a[h],v=a[h+1];this._renderSegment(d,p,g,v,e)}}for(var y,m=o[o.length-1],b=0;b<o.length;++b){y=m,m=o[b];var _=2*Math.floor(i[m]/3),w=a[_],x=a[_+1],E=4*y,k=this._project(w,x,s[E+2],s[E+3]);k&&this._renderSegment(w,x,k[0],k[1],e)}return t&&t.value()}},{key:"renderBounds",value:function(e){var t=null==e?e=new J:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}},{key:"renderCell",value:function(e,t){var n=null==t?t=new J:void 0,r=this._clip(e);if(null!==r&&r.length){t.moveTo(r[0],r[1]);for(var i=r.length;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(var o=2;o<i;o+=2)r[o]===r[o-2]&&r[o+1]===r[o-1]||t.lineTo(r[o],r[o+1]);return t.closePath(),n&&n.value()}}},{key:"cellPolygons",value:r().mark((function e(){var t,n,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.delaunay.points,n=0,i=t.length/2;case 2:if(!(n<i)){e.next=12;break}if(o=this.cellPolygon(n),e.t0=o,!e.t0){e.next=9;break}return o.index=n,e.next=9,o;case 9:++n,e.next=2;break;case 12:case"end":return e.stop()}}),e,this)}))},{key:"cellPolygon",value:function(e){var t=new ee;return this.renderCell(e,t),t.value()}},{key:"_renderSegment",value:function(e,t,n,r,i){var o,a=this._regioncode(e,t),s=this._regioncode(n,r);0===a&&0===s?(i.moveTo(e,t),i.lineTo(n,r)):(o=this._clipSegment(e,t,n,r,a,s))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}},{key:"contains",value:function(e,t,n){return(t=+t)==t&&(n=+n)==n&&this.delaunay._step(e,t,n)===e}},{key:"neighbors",value:r().mark((function e(t){var n,i,a,s,u,l,c,f,h;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._clip(t))){e.next=33;break}i=o(this.delaunay.neighbors(t)),e.prev=3,i.s();case 5:if((a=i.n()).done){e.next=25;break}if(s=a.value,!(u=this._clip(s))){e.next=23;break}l=0,c=n.length;case 10:if(!(l<c)){e.next=23;break}f=0,h=u.length;case 12:if(!(f<h)){e.next=20;break}if(n[l]!=u[f]||n[l+1]!=u[f+1]||n[(l+2)%c]!=u[(f+h-2)%h]||n[(l+3)%c]!=u[(f+h-1)%h]){e.next=17;break}return e.next=16,s;case 16:return e.abrupt("break",23);case 17:f+=2,e.next=12;break;case 20:l+=2,e.next=10;break;case 23:e.next=5;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(3),i.e(e.t0);case 30:return e.prev=30,i.f(),e.finish(30);case 33:case"end":return e.stop()}}),e,this,[[3,27,30,33]])}))},{key:"_cell",value:function(e){var t=this.circumcenters,n=this.delaunay,r=n.inedges,i=n.halfedges,o=n.triangles,a=r[e];if(-1===a)return null;var s=[],u=a;do{var l=Math.floor(u/3);if(s.push(t[2*l],t[2*l+1]),o[u=u%3==2?u-2:u+1]!==e)break;u=i[u]}while(u!==a&&-1!==u);return s}},{key:"_clip",value:function(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var t=this._cell(e);if(null===t)return null;var n=this.vectors,r=4*e;return n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t)}},{key:"_clipFinite",value:function(e,t){for(var n,r,o,a,s,u=t.length,l=null,c=t[u-2],f=t[u-1],h=this._regioncode(c,f),d=0;d<u;d+=2)if(n=c,r=f,c=t[d],f=t[d+1],o=h,h=this._regioncode(c,f),0===o&&0===h)a=s,s=0,l?l.push(c,f):l=[c,f];else{var p=void 0,g=void 0,v=void 0,y=void 0,m=void 0;if(0===o){if(null===(p=this._clipSegment(n,r,c,f,o,h)))continue;var b=i(p,4);g=b[0],v=b[1],y=b[2],m=b[3]}else{var _;if(null===(p=this._clipSegment(c,f,n,r,h,o)))continue;y=(_=i(p,4))[0],m=_[1],g=_[2],v=_[3],a=s,s=this._edgecode(g,v),a&&s&&this._edge(e,a,s,l,l.length),l?l.push(g,v):l=[g,v]}a=s,s=this._edgecode(y,m),a&&s&&this._edge(e,a,s,l,l.length),l?l.push(y,m):l=[y,m]}if(l)a=s,s=this._edgecode(l[0],l[1]),a&&s&&this._edge(e,a,s,l,l.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return l}},{key:"_clipSegment",value:function(e,t,n,r,i,o){for(;;){if(0===i&&0===o)return[e,t,n,r];if(i&o)return null;var a=void 0,s=void 0,u=i||o;8&u?(a=e+(n-e)*(this.ymax-t)/(r-t),s=this.ymax):4&u?(a=e+(n-e)*(this.ymin-t)/(r-t),s=this.ymin):2&u?(s=t+(r-t)*(this.xmax-e)/(n-e),a=this.xmax):(s=t+(r-t)*(this.xmin-e)/(n-e),a=this.xmin),i?(e=a,t=s,i=this._regioncode(e,t)):(n=a,r=s,o=this._regioncode(n,r))}}},{key:"_clipInfinite",value:function(e,t,n,r,i,o){var a,s=Array.from(t);if((a=this._project(s[0],s[1],n,r))&&s.unshift(a[0],a[1]),(a=this._project(s[s.length-2],s[s.length-1],i,o))&&s.push(a[0],a[1]),s=this._clipFinite(e,s))for(var u,l=0,c=s.length,f=this._edgecode(s[c-2],s[c-1]);l<c;l+=2)u=f,f=this._edgecode(s[l],s[l+1]),u&&f&&(l=this._edge(e,u,f,s,l),c=s.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}},{key:"_edge",value:function(e,t,n,r,i){for(;t!==n;){var o=void 0,a=void 0;switch(t){case 5:t=4;continue;case 4:t=6,o=this.xmax,a=this.ymin;break;case 6:t=2;continue;case 2:t=10,o=this.xmax,a=this.ymax;break;case 10:t=8;continue;case 8:t=9,o=this.xmin,a=this.ymax;break;case 9:t=1;continue;case 1:t=5,o=this.xmin,a=this.ymin}r[i]===o&&r[i+1]===a||!this.contains(e,o,a)||(r.splice(i,0,o,a),i+=2)}if(r.length>4)for(var s=0;s<r.length;s+=2){var u=(s+2)%r.length,l=(s+4)%r.length;(r[s]===r[u]&&r[u]===r[l]||r[s+1]===r[u+1]&&r[u+1]===r[l+1])&&(r.splice(u,2),s-=2)}return i}},{key:"_project",value:function(e,t,n,r){var i,o,a,s=1/0;if(r<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/r)<s&&(a=this.ymin,o=e+(s=i)*n)}else if(r>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/r)<s&&(a=this.ymax,o=e+(s=i)*n)}if(n>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/n)<s&&(o=this.xmax,a=t+(s=i)*r)}else if(n<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/n)<s&&(o=this.xmin,a=t+(s=i)*r)}return[o,a]}},{key:"_edgecode",value:function(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}},{key:"_regioncode",value:function(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}]),e}(),ne=2*Math.PI,re=Math.pow;function ie(e){return e[0]}function oe(e){return e[1]}function ae(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}var se,ue=function(){function e(t){a(this,e),this._delaunator=new G(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}return s(e,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){for(var t=e.triangles,n=e.coords,r=0;r<t.length;r+=3){var i=2*t[r],o=2*t[r+1],a=2*t[r+2];if((n[a]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[a+1]-n[i+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(function(e,t){return t})).sort((function(e,n){return t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]}));for(var n=this.collinear[0],r=this.collinear[this.collinear.length-1],i=[t[2*n],t[2*n+1],t[2*r],t[2*r+1]],o=1e-8*Math.hypot(i[3]-i[1],i[2]-i[0]),a=0,s=t.length/2;a<s;++a){var u=ae(t[2*a],t[2*a+1],o);t[2*a]=u[0],t[2*a+1]=u[1]}this._delaunator=new G(t)}else delete this.collinear;for(var l=this.halfedges=this._delaunator.halfedges,c=this.hull=this._delaunator.hull,f=this.triangles=this._delaunator.triangles,h=this.inedges.fill(-1),d=this._hullIndex.fill(-1),p=0,g=l.length;p<g;++p){var v=f[p%3==2?p-2:p+1];-1!==l[p]&&-1!==h[v]||(h[v]=p)}for(var y=0,m=c.length;y<m;++y)d[c[y]]=y;c.length<=2&&c.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=c[0],this.triangles[1]=c[1],this.triangles[2]=c[1],h[c[0]]=1,2===c.length&&(h[c[1]]=0))}},{key:"voronoi",value:function(e){return new te(this,e)}},{key:"neighbors",value:r().mark((function e(t){var n,i,o,a,s,u,l,c,f,h,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.inedges,i=this.hull,o=this._hullIndex,a=this.halfedges,s=this.triangles,!(u=this.collinear)){e.next=13;break}if(l=u.indexOf(t),e.t0=l>0,!e.t0){e.next=7;break}return e.next=7,u[l-1];case 7:if(e.t1=l<u.length-1,!e.t1){e.next=12;break}return e.next=11,u[l+1];case 11:e.t1=e.sent;case 12:return e.abrupt("return",void e.t1);case 13:if(-1!==(c=n[t])){e.next=16;break}return e.abrupt("return");case 16:f=c,h=-1;case 17:return e.next=19,h=s[f];case 19:if(s[f=f%3==2?f-2:f+1]===t){e.next=22;break}return e.abrupt("return");case 22:if(-1!==(f=a[f])){e.next=30;break}if(d=i[(o[t]+1)%i.length],e.t2=d!==h,!e.t2){e.next=29;break}return e.next=28,d;case 28:e.t2=e.sent;case 29:return e.abrupt("return",void e.t2);case 30:if(f!==c){e.next=17;break}case 31:case"end":return e.stop()}}),e,this)}))},{key:"find",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((e=+e)!=e||(t=+t)!=t)return-1;for(var r,i=n;(r=this._step(n,e,t))>=0&&r!==n&&r!==i;)n=r;return r}},{key:"_step",value:function(e,t,n){var r=this.inedges,i=this.hull,o=this._hullIndex,a=this.halfedges,s=this.triangles,u=this.points;if(-1===r[e]||!u.length)return(e+1)%(u.length>>1);var l=e,c=re(t-u[2*e],2)+re(n-u[2*e+1],2),f=r[e],h=f;do{var d=s[h],p=re(t-u[2*d],2)+re(n-u[2*d+1],2);if(p<c&&(c=p,l=d),s[h=h%3==2?h-2:h+1]!==e)break;if(-1===(h=a[h])){if((h=i[(o[e]+1)%i.length])!==d&&re(t-u[2*h],2)+re(n-u[2*h+1],2)<c)return h;break}}while(h!==f);return l}},{key:"render",value:function(e){for(var t=null==e?e=new J:void 0,n=this.points,r=this.halfedges,i=this.triangles,o=0,a=r.length;o<a;++o){var s=r[o];if(!(s<o)){var u=2*i[o],l=2*i[s];e.moveTo(n[u],n[u+1]),e.lineTo(n[l],n[l+1])}}return this.renderHull(e),t&&t.value()}},{key:"renderPoints",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=null==e?e=new J:void 0,r=this.points,i=0,o=r.length;i<o;i+=2){var a=r[i],s=r[i+1];e.moveTo(a+t,s),e.arc(a,s,t,0,ne)}return n&&n.value()}},{key:"renderHull",value:function(e){var t=null==e?e=new J:void 0,n=this.hull,r=this.points,i=2*n[0],o=n.length;e.moveTo(r[i],r[i+1]);for(var a=1;a<o;++a){var s=2*n[a];e.lineTo(r[s],r[s+1])}return e.closePath(),t&&t.value()}},{key:"hullPolygon",value:function(){var e=new ee;return this.renderHull(e),e.value()}},{key:"renderTriangle",value:function(e,t){var n=null==t?t=new J:void 0,r=this.points,i=this.triangles,o=2*i[e*=3],a=2*i[e+1],s=2*i[e+2];return t.moveTo(r[o],r[o+1]),t.lineTo(r[a],r[a+1]),t.lineTo(r[s],r[s+1]),t.closePath(),n&&n.value()}},{key:"trianglePolygons",value:r().mark((function e(){var t,n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.triangles,n=0,i=t.length/3;case 2:if(!(n<i)){e.next=8;break}return e.next=5,this.trianglePolygon(n);case 5:++n,e.next=2;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"trianglePolygon",value:function(e){var t=new ee;return this.renderTriangle(e,t),t.value()}}],[{key:"from",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ie,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oe,a=arguments.length>3?arguments[3]:void 0;return new e("length"in t?function(e,t,n,r){for(var i=e.length,o=new Float64Array(2*i),a=0;a<i;++a){var s=e[a];o[2*a]=t.call(r,s,a,e),o[2*a+1]=n.call(r,s,a,e)}return o}(t,n,i,a):Float64Array.from(r().mark((function e(t,n,i,a){var s,u,l,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=0,u=o(t),e.prev=2,u.s();case 4:if((l=u.n()).done){e.next=13;break}return c=l.value,e.next=8,n.call(a,c,s,t);case 8:return e.next=10,i.call(a,c,s,t);case 10:++s;case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),u.e(e.t0);case 18:return e.prev=18,u.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[2,15,18,21]])}))(t,n,i,a)))}}]),e}();!function(e){e.BASIC="BASIC",e.GRID_SQUARE="GRID_SQUARE"}(se||(se={}));var le={type:se.BASIC,componentSpacing:50},ce=function(e,t){void 0===t&&(t=le),t!==le&&(t=l(l({},le),t));var n=l(l({},t),{componentSpacing:void 0!==t.componentSpacing?t.componentSpacing:pe(e)}),r=e.map((function(e){return fe(e)})),i={nodes:r,edges:de(r)};return B(i,n),{shifts:i.nodes.map((function(e){var t=e.base;return{dx:t.x,dy:t.y}})),fullness:ge(r)}},fe=function(e){var t,n,r=[];try{for(var i=c(e.nodes),o=i.next();!o.done;o=i.next()){var a=o.value;r.push({x:a.x,y:a.y}),r.push({x:a.x+a.width,y:a.y}),r.push({x:a.x,y:a.y+a.height}),r.push({x:a.x+a.width,y:a.y+a.height})}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return _.fromPoints(r)},he=function(e){var t,n,r={minX:Number.MAX_SAFE_INTEGER,maxX:Number.MIN_SAFE_INTEGER,minY:Number.MAX_SAFE_INTEGER,maxY:Number.MIN_SAFE_INTEGER};try{for(var i=c(e),o=i.next();!o.done;o=i.next()){var a=o.value.boundingBox;a.minX<r.minX&&(r.minX=a.minX),a.maxX>r.maxX&&(r.maxX=a.maxX),a.minY<r.minY&&(r.minY=a.minY),a.maxY>r.maxY&&(r.maxY=a.maxY)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},de=function(e){for(var t,n,r=Array.from({length:e.length},(function(){return[]})),i=(b(e.map((function(e){return e.boundingBox}))),function(e,t){for(var n,r,i=t.map(T),o=Array.from({length:t.length},(function(){return[]})),a=ue.from(i).voronoi([Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER]),s=0;s<t.length;++s)try{for(var u=(n=void 0,c(a.neighbors(s))),l=u.next();!l.done;l=u.next()){var f=l.value;o[s].push(f)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return o}(0,e.map((function(e){return e.center})))),o=0;o<i.length;++o)try{for(var a=(t=void 0,c(i[o])),s=a.next();!s.done;s=a.next()){var u=s.value;u>o&&r[o].push(u)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return r},pe=function(e){var t,n,r=0,i=0;try{for(var o=c(e),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.edges.length>0){i+=1;var u=s.edges[0];r+=Math.sqrt(v({x:u.startX,y:u.startY},{x:u.endX,y:u.endY}))}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r/i*1.5},ge=function(e){var t=e.map((function(e){return e.boundingBox})),n=b(t);return t.map((function(e){return m(e)})).reduce((function(e,t){return e+t}))/m(n)*100}}])},e.exports=u()}])},8148:function(e,t,n){"use strict";var r=n(5355),i=n(3589),o=n(4561),a=n(7277),s=n(8760);function u(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var l=u(r),c=u(i),f=u(o),h=u(a),d=u(s);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w="undefined"===typeof window?null:window,x=w?w.navigator:null;w&&w.document;var E=p(""),k=p({}),C=p((function(){})),S="undefined"===typeof HTMLElement?"undefined":p(HTMLElement),N=function(e){return e&&e.instanceString&&I(e.instanceString)?e.instanceString():null},T=function(e){return null!=e&&p(e)==E},I=function(e){return null!=e&&p(e)===C},D=function(e){return!L(e)&&(Array.isArray?Array.isArray(e):null!=e&&e instanceof Array)},M=function(e){return null!=e&&p(e)===k&&!D(e)&&e.constructor===Object},O=function(e){return null!=e&&p(e)===p(1)&&!isNaN(e)},P=function(e){return"undefined"===S?void 0:null!=e&&e instanceof HTMLElement},L=function(e){return A(e)||R(e)},A=function(e){return"collection"===N(e)&&e._private.single},R=function(e){return"collection"===N(e)&&!e._private.single},F=function(e){return"core"===N(e)},z=function(e){return"stylesheet"===N(e)},j=function(e){return void 0===e||null===e||!(""!==e&&!e.match(/^\s+$/))},B=function(e){return function(e){return null!=e&&p(e)===k}(e)&&I(e.then)},V=function(e,t){t||(t=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")});var n=function n(){var r,i=this,o=arguments,a=t.apply(i,o),s=n.cache;return(r=s[a])||(r=s[a]=e.apply(i,o)),r};return n.cache={},n},U=V((function(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))})),G=V((function(e){return e.replace(/(-\w)/g,(function(e){return e[1].toUpperCase()}))})),H=V((function(e,t){return e+t[0].toUpperCase()+t.substring(1)}),(function(e,t){return e+"$"+t})),q=function(e){return j(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},Y="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",W=function(e,t){return e<t?-1:e>t?1:0},X=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments,n=1;n<t.length;n++){var r=t[n];if(null!=r)for(var i=Object.keys(r),o=0;o<i.length;o++){var a=i[o];e[a]=r[a]}}return e},K=function(e){return(D(e)?e:null)||function(e){return $[e.toLowerCase()]}(e)||function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t,n,r,i=16;return 4===e.length?(t=parseInt(e[1]+e[1],i),n=parseInt(e[2]+e[2],i),r=parseInt(e[3]+e[3],i)):(t=parseInt(e[1]+e[2],i),n=parseInt(e[3]+e[4],i),r=parseInt(e[5]+e[6],i)),[t,n,r]}}(e)||function(e){var t,n=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(e);if(n){t=[];for(var r=[],i=1;i<=3;i++){var o=n[i];if("%"===o[o.length-1]&&(r[i]=!0),o=parseFloat(o),r[i]&&(o=o/100*255),o<0||o>255)return;t.push(Math.floor(o))}var a=r[1]||r[2]||r[3],s=r[1]&&r[2]&&r[3];if(a&&!s)return;var u=n[4];if(void 0!==u){if((u=parseFloat(u))<0||u>1)return;t.push(u)}}return t}(e)||function(e){var t,n,r,i,o,a,s,u;function l(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var c=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(e);if(c){if((n=parseInt(c[1]))<0?n=(360- -1*n%360)%360:n>360&&(n%=360),n/=360,(r=parseFloat(c[2]))<0||r>100)return;if(r/=100,(i=parseFloat(c[3]))<0||i>100)return;if(i/=100,void 0!==(o=c[4])&&((o=parseFloat(o))<0||o>1))return;if(0===r)a=s=u=Math.round(255*i);else{var f=i<.5?i*(1+r):i+r-i*r,h=2*i-f;a=Math.round(255*l(h,f,n+1/3)),s=Math.round(255*l(h,f,n)),u=Math.round(255*l(h,f,n-1/3))}t=[a,s,u,o]}return t}(e)},$={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Q=function(e){for(var t=e.map,n=e.keys,r=n.length,i=0;i<r;i++){var o=n[i];if(M(o))throw Error("Tried to set map with object key");i<n.length-1?(null==t[o]&&(t[o]={}),t=t[o]):t[o]=e.value}},Z=function(e){for(var t=e.map,n=e.keys,r=n.length,i=0;i<r;i++){var o=n[i];if(M(o))throw Error("Tried to get map with object key");if(null==(t=t[o]))return t}return t},J=w?w.performance:null,ee=J&&J.now?function(){return J.now()}:function(){return Date.now()},te=function(){if(w){if(w.requestAnimationFrame)return function(e){w.requestAnimationFrame(e)};if(w.mozRequestAnimationFrame)return function(e){w.mozRequestAnimationFrame(e)};if(w.webkitRequestAnimationFrame)return function(e){w.webkitRequestAnimationFrame(e)};if(w.msRequestAnimationFrame)return function(e){w.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout((function(){e(ee())}),1e3/60)}}(),ne=function(e){return te(e)},re=ee,ie=9261,oe=65599,ae=5381,se=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ie,r=n;!(t=e.next()).done;)r=r*oe+t.value|0;return r},ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ie;return t*oe+e|0},le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae;return(t<<5)+t+e|0},ce=function(e){return 2097152*e[0]+e[1]},fe=function(e,t){return[ue(e[0],t[0]),le(e[1],t[1])]},he=function(e,t){var n={value:0,done:!1},r=0,i=e.length;return se({next:function(){return r<i?n.value=e.charCodeAt(r++):n.done=!0,n}},t)},de=function(){return pe(arguments)},pe=function(e){for(var t,n=0;n<e.length;n++){var r=e[n];t=0===n?he(r):he(r,t)}return t},ge=!0,ve=null!=console.warn,ye=null!=console.trace,me=Number.MAX_SAFE_INTEGER||9007199254740991,be=function(){return!0},_e=function(){return!1},we=function(){return 0},xe=function(){},Ee=function(e){throw new Error(e)},ke=function(e){if(void 0===e)return ge;ge=!!e},Ce=function(e){ke()&&(ve?console.warn(e):(console.log(e),ye&&console.trace()))},Se=function(e){return null==e?e:D(e)?e.slice():M(e)?function(e){return X({},e)}(e):e},Ne=function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t},Te={},Ie=function(){return Te},De=function(e){var t=Object.keys(e);return function(n){for(var r={},i=0;i<t.length;i++){var o=t[i],a=null==n?void 0:n[o];r[o]=void 0===a?e[o]:a}return r}},Me=function(e,t,n){for(var r=e.length-1;r>=0&&(e[r]!==t||(e.splice(r,1),!n));r--);},Oe=function(e){e.splice(0,e.length)},Pe=function(e,t,n){return n&&(t=H(n,t)),e[t]},Le=function(e,t,n,r){n&&(t=H(n,t)),e[t]=r},Ae="undefined"!==typeof Map?Map:function(){function e(){g(this,e),this._obj={}}return y(e,[{key:"set",value:function(e,t){return this._obj[e]=t,this}},{key:"delete",value:function(e){return this._obj[e]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(e){return void 0!==this._obj[e]}},{key:"get",value:function(e){return this._obj[e]}}]),e}(),Re=function(){function e(t){if(g(this,e),this._obj=Object.create(null),this.size=0,null!=t){var n;n=null!=t.instanceString&&t.instanceString()===this.instanceString()?t.toArray():t;for(var r=0;r<n.length;r++)this.add(n[r])}}return y(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(e){var t=this._obj;1!==t[e]&&(t[e]=1,this.size++)}},{key:"delete",value:function(e){var t=this._obj;1===t[e]&&(t[e]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(e){return 1===this._obj[e]}},{key:"toArray",value:function(){var e=this;return Object.keys(this._obj).filter((function(t){return e.has(t)}))}},{key:"forEach",value:function(e,t){return this.toArray().forEach(e,t)}}]),e}(),Fe="undefined"!==("undefined"===typeof Set?"undefined":p(Set))?Set:Re,ze=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==e&&void 0!==t&&F(e)){var r=t.group;if(null==r&&(r=t.data&&null!=t.data.source&&null!=t.data.target?"edges":"nodes"),"nodes"===r||"edges"===r){this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:r,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:void 0===t.selectable||!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:void 0===t.grabbable||!!t.grabbable,pannable:void 0===t.pannable?"edges"===r:!!t.pannable,active:!1,classes:new Fe,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==i.position.x&&(i.position.x=0),null==i.position.y&&(i.position.y=0),t.renderedPosition){var o=t.renderedPosition,a=e.pan(),s=e.zoom();i.position={x:(o.x-a.x)/s,y:(o.y-a.y)/s}}var u=[];D(t.classes)?u=t.classes:T(t.classes)&&(u=t.classes.split(/\s+/));for(var l=0,c=u.length;l<c;l++){var f=u[l];f&&""!==f&&i.classes.add(f)}this.createEmitter();var h=t.style||t.css;h&&(Ce("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(h)),(void 0===n||n)&&this.restore()}else Ee("An element must be of type `nodes` or `edges`; you specified `"+r+"`")}else Ee("An element must have a core reference and parameters set")},je=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(t,n,r){var i;M(t)&&!L(t)&&(t=(i=t).roots||i.root,n=i.visit,r=i.directed),r=2!==arguments.length||I(n)?r:n,n=I(n)?n:function(){};for(var o,a=this._private.cy,s=t=T(t)?this.filter(t):t,u=[],l=[],c={},f={},h={},d=0,p=this.byGroup(),g=p.nodes,v=p.edges,y=0;y<s.length;y++){var m=s[y],b=m.id();m.isNode()&&(u.unshift(m),e.bfs&&(h[b]=!0,l.push(m)),f[b]=0)}for(var _=function(){var t=e.bfs?u.shift():u.pop(),i=t.id();if(e.dfs){if(h[i])return"continue";h[i]=!0,l.push(t)}var a,s=f[i],p=c[i],y=null!=p?p.source():null,m=null!=p?p.target():null,b=null==p?void 0:t.same(y)?m[0]:y[0];if(!0===(a=n(t,p,b,d++,s)))return o=t,"break";if(!1===a)return"break";for(var _=t.connectedEdges().filter((function(e){return(!r||e.source().same(t))&&v.has(e)})),w=0;w<_.length;w++){var x=_[w],E=x.connectedNodes().filter((function(e){return!e.same(t)&&g.has(e)})),k=E.id();0===E.length||h[k]||(E=E[0],u.push(E),e.bfs&&(h[k]=!0,l.push(E)),c[k]=x,f[k]=f[i]+1)}};0!==u.length;){var w=_();if("continue"!==w&&"break"===w)break}for(var x=a.collection(),E=0;E<l.length;E++){var k=l[E],C=c[k.id()];null!=C&&x.push(C),x.push(k)}return{path:a.collection(x),found:a.collection(o)}}},Be={breadthFirstSearch:je({bfs:!0}),depthFirstSearch:je({dfs:!0})};Be.bfs=Be.breadthFirstSearch,Be.dfs=Be.depthFirstSearch;var Ve=De({root:null,weight:function(e){return 1},directed:!1}),Ue={dijkstra:function(e){if(!M(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var n=Ve(e),r=n.root,i=n.weight,o=n.directed,a=this,s=i,u=T(r)?this.filter(r)[0]:r[0],l={},f={},h={},d=this.byGroup(),p=d.nodes,g=d.edges;g.unmergeBy((function(e){return e.isLoop()}));for(var v=function(e){return l[e.id()]},y=function(e,t){l[e.id()]=t,m.updateItem(e)},m=new c.default((function(e,t){return v(e)-v(t)})),b=0;b<p.length;b++){var _=p[b];l[_.id()]=_.same(u)?0:1/0,m.push(_)}for(var w=function(e,t){for(var n,r=(o?e.edgesTo(t):e.edgesWith(t)).intersect(g),i=1/0,a=0;a<r.length;a++){var u=r[a],l=s(u);(l<i||!n)&&(i=l,n=u)}return{edge:n,dist:i}};m.size()>0;){var x=m.pop(),E=v(x),k=x.id();if(h[k]=E,E!==1/0)for(var C=x.neighborhood().intersect(p),S=0;S<C.length;S++){var N=C[S],I=N.id(),D=w(x,N),O=E+D.dist;O<v(N)&&(y(N,O),f[I]={node:x,edge:D.edge})}}return{distanceTo:function(e){var t=T(e)?p.filter(e)[0]:e[0];return h[t.id()]},pathTo:function(e){var t=T(e)?p.filter(e)[0]:e[0],n=[],r=t,i=r.id();if(t.length>0)for(n.unshift(t);f[i];){var o=f[i];n.unshift(o.edge),n.unshift(o.node),i=(r=o.node).id()}return a.spawn(n)}}}},Ge={kruskal:function(e){e=e||function(e){return 1};for(var t=this.byGroup(),n=t.nodes,r=t.edges,i=n.length,o=new Array(i),a=n,s=function(e){for(var t=0;t<o.length;t++){if(o[t].has(e))return t}},u=0;u<i;u++)o[u]=this.spawn(n[u]);for(var l=r.sort((function(t,n){return e(t)-e(n)})),c=0;c<l.length;c++){var f=l[c],h=f.source()[0],d=f.target()[0],p=s(h),g=s(d),v=o[p],y=o[g];p!==g&&(a.merge(f),v.merge(y),o.splice(g,1))}return a}},He=De({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),qe={aStar:function(e){var t=this.cy(),n=He(e),r=n.root,i=n.goal,o=n.heuristic,a=n.directed,s=n.weight;r=t.collection(r)[0],i=t.collection(i)[0];var u,l,f=r.id(),h=i.id(),d={},p={},g={},v=new c.default((function(e,t){return p[e.id()]-p[t.id()]})),y=new Fe,m={},b={},_=function(e,t){v.push(e),y.add(t)};_(r,f),d[f]=0,p[f]=o(r);for(var w,x=0;v.size()>0;){if(u=v.pop(),l=u.id(),y.delete(l),x++,l===h){for(var E=[],k=i,C=h,S=b[C];E.unshift(k),null!=S&&E.unshift(S),null!=(k=m[C]);)S=b[C=k.id()];return{found:!0,distance:d[l],path:this.spawn(E),steps:x}}g[l]=!0;for(var N=u._private.edges,T=0;T<N.length;T++){var I=N[T];if(this.hasElementWithId(I.id())&&(!a||I.data("source")===l)){var D=I.source(),M=I.target(),O=D.id()!==l?D:M,P=O.id();if(this.hasElementWithId(P)&&!g[P]){var L=d[l]+s(I);w=P,y.has(w)?L<d[P]&&(d[P]=L,p[P]=L+o(O),m[P]=u,b[P]=I):(d[P]=L,p[P]=L+o(O),_(O,P),m[P]=u,b[P]=I)}}}}return{found:!1,distance:void 0,path:void 0,steps:x}}},Ye=De({weight:function(e){return 1},directed:!1}),We={floydWarshall:function(e){for(var t=this.cy(),n=Ye(e),r=n.weight,i=n.directed,o=r,a=this.byGroup(),s=a.nodes,u=a.edges,l=s.length,c=l*l,f=function(e){return s.indexOf(e)},h=function(e){return s[e]},d=new Array(c),p=0;p<c;p++){var g=p%l,v=(p-g)/l;d[p]=v===g?0:1/0}for(var y=new Array(c),m=new Array(c),b=0;b<u.length;b++){var _=u[b],w=_.source()[0],x=_.target()[0];if(w!==x){var E=f(w),k=f(x),C=E*l+k,S=o(_);if(d[C]>S&&(d[C]=S,y[C]=k,m[C]=_),!i){var N=k*l+E;!i&&d[N]>S&&(d[N]=S,y[N]=E,m[N]=_)}}}for(var I=0;I<l;I++)for(var D=0;D<l;D++)for(var M=D*l+I,O=0;O<l;O++){var P=D*l+O,L=I*l+O;d[M]+d[L]<d[P]&&(d[P]=d[M]+d[L],y[P]=y[M])}var A=function(e){return f(function(e){return(T(e)?t.filter(e):e)[0]}(e))},R={distance:function(e,t){var n=A(e),r=A(t);return d[n*l+r]},path:function(e,n){var r=A(e),i=A(n),o=h(r);if(r===i)return o.collection();if(null==y[r*l+i])return t.collection();var a,s=t.collection(),u=r;for(s.merge(o);r!==i;)u=r,r=y[r*l+i],a=m[u*l+r],s.merge(a),s.merge(h(r));return s}};return R}},Xe=De({weight:function(e){return 1},directed:!1,root:null}),Ke={bellmanFord:function(e){var t=this,n=Xe(e),r=n.weight,i=n.directed,o=n.root,a=r,s=this,u=this.cy(),l=this.byGroup(),c=l.edges,f=l.nodes,h=f.length,d=new Ae,p=!1,g=[];o=u.collection(o)[0],c.unmergeBy((function(e){return e.isLoop()}));for(var v=c.length,y=function(e){var t=d.get(e.id());return t||(t={},d.set(e.id(),t)),t},m=function(e){return(T(e)?u.$(e):e)[0]},b=0;b<h;b++){var _=f[b],w=y(_);_.same(o)?w.dist=0:w.dist=1/0,w.pred=null,w.edge=null}for(var x=!1,E=function(e,t,n,r,i,o){var a=r.dist+o;a<i.dist&&!n.same(r.edge)&&(i.dist=a,i.pred=e,i.edge=n,x=!0)},k=1;k<h;k++){x=!1;for(var C=0;C<v;C++){var S=c[C],N=S.source(),I=S.target(),D=a(S),M=y(N),O=y(I);E(N,0,S,M,O,D),i||E(I,0,S,O,M,D)}if(!x)break}if(x)for(var P=[],L=0;L<v;L++){var A=c[L],R=A.source(),F=A.target(),z=a(A),j=y(R).dist,B=y(F).dist;if(j+z<B||!i&&B+z<j){if(p||(Ce("Graph contains a negative weight cycle for Bellman-Ford"),p=!0),!1===e.findNegativeWeightCycles)break;var V=[];j+z<B&&V.push(R),!i&&B+z<j&&V.push(F);for(var U=V.length,G=0;G<U;G++){var H=V[G],q=[H];q.push(y(H).edge);for(var Y=y(H).pred;-1===q.indexOf(Y);)q.push(Y),q.push(y(Y).edge),Y=y(Y).pred;for(var W=(q=q.slice(q.indexOf(Y)))[0].id(),X=0,K=2;K<q.length;K+=2)q[K].id()<W&&(W=q[K].id(),X=K);(q=q.slice(X).concat(q.slice(0,X))).push(q[0]);var $=q.map((function(e){return e.id()})).join(",");-1===P.indexOf($)&&(g.push(s.spawn(q)),P.push($))}}}return{distanceTo:function(e){return y(m(e)).dist},pathTo:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,r=m(e),i=[],a=r;;){if(null==a)return t.spawn();var u=y(a),l=u.edge,c=u.pred;if(i.unshift(a[0]),a.same(n)&&i.length>0)break;null!=l&&i.unshift(l),a=c}return s.spawn(i)},hasNegativeWeightCycle:p,negativeWeightCycles:g}}},$e=Math.sqrt(2),Qe=function(e,t,n){0===n.length&&Ee("Karger-Stein must be run on a connected (sub)graph");for(var r=n[e],i=r[1],o=r[2],a=t[i],s=t[o],u=n,l=u.length-1;l>=0;l--){var c=u[l],f=c[1],h=c[2];(t[f]===a&&t[h]===s||t[f]===s&&t[h]===a)&&u.splice(l,1)}for(var d=0;d<u.length;d++){var p=u[d];p[1]===s?(u[d]=p.slice(),u[d][1]=a):p[2]===s&&(u[d]=p.slice(),u[d][2]=a)}for(var g=0;g<t.length;g++)t[g]===s&&(t[g]=a);return u},Ze=function(e,t,n,r){for(;n>r;){var i=Math.floor(Math.random()*t.length);t=Qe(i,e,t),n--}return t},Je={kargerStein:function(){var e=this,t=this.byGroup(),n=t.nodes,r=t.edges;r.unmergeBy((function(e){return e.isLoop()}));var i=n.length,o=r.length,a=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),s=Math.floor(i/$e);if(!(i<2)){for(var u=[],l=0;l<o;l++){var c=r[l];u.push([l,n.indexOf(c.source()),n.indexOf(c.target())])}for(var f=1/0,h=[],d=new Array(i),p=new Array(i),g=new Array(i),v=function(e,t){for(var n=0;n<i;n++)t[n]=e[n]},y=0;y<=a;y++){for(var m=0;m<i;m++)p[m]=m;var b=Ze(p,u.slice(),i,s),_=b.slice();v(p,g);var w=Ze(p,b,s,2),x=Ze(g,_,s,2);w.length<=x.length&&w.length<f?(f=w.length,h=w,v(p,d)):x.length<=w.length&&x.length<f&&(f=x.length,h=x,v(g,d))}for(var E=this.spawn(h.map((function(e){return r[e[0]]}))),k=this.spawn(),C=this.spawn(),S=d[0],N=0;N<d.length;N++){var T=d[N],I=n[N];T===S?k.merge(I):C.merge(I)}var D=function(t){var n=e.spawn();return t.forEach((function(t){n.merge(t),t.connectedEdges().forEach((function(t){e.contains(t)&&!E.contains(t)&&n.merge(t)}))})),n},M=[D(k),D(C)];return{cut:E,components:M,partition1:k,partition2:C}}Ee("At least 2 nodes are required for Karger-Stein algorithm")}},et=function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}},tt=function(e,t,n){return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}},nt=function(e){return{x:e[0],y:e[1]}},rt=function(e,t){return Math.atan2(t,e)-Math.PI/2},it=Math.log2||function(e){return Math.log(e)/Math.log(2)},ot=function(e){return e>0?1:e<0?-1:0},at=function(e,t){return Math.sqrt(st(e,t))},st=function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r},ut=function(e){for(var t=e.length,n=0,r=0;r<t;r++)n+=e[r];for(var i=0;i<t;i++)e[i]=e[i]/n;return e},lt=function(e,t,n,r){return(1-r)*(1-r)*e+2*(1-r)*r*t+r*r*n},ct=function(e,t,n,r){return{x:lt(e.x,t.x,n.x,r),y:lt(e.y,t.y,n.y,r)}},ft=function(e,t,n){return Math.max(e,Math.min(n,t))},ht=function(e){if(null==e)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},dt=function(e,t,n){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},pt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},gt=function(e){var t,n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===o.length)t=n=r=i=o[0];else if(2===o.length)t=r=o[0],i=n=o[1];else if(4===o.length){var a=b(o,4);t=a[0],n=a[1],r=a[2],i=a[3]}return e.x1-=i,e.x2+=n,e.y1-=t,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},vt=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},yt=function(e,t){return!(e.x1>t.x2)&&(!(t.x1>e.x2)&&(!(e.x2<t.x1)&&(!(t.x2<e.x1)&&(!(e.y2<t.y1)&&(!(t.y2<e.y1)&&(!(e.y1>t.y2)&&!(t.y1>e.y2)))))))},mt=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},bt=function(e,t){return mt(e,t.x1,t.y1)&&mt(e,t.x2,t.y2)},_t=function(e,t,n,r,i,o,a){var s,u=zt(i,o),l=i/2,c=o/2,f=r-c-a;if((s=Ot(e,t,n,r,n-l+u-a,f,n+l-u+a,f,!1)).length>0)return s;var h=n+l+a;if((s=Ot(e,t,n,r,h,r-c+u-a,h,r+c-u+a,!1)).length>0)return s;var d=r+c+a;if((s=Ot(e,t,n,r,n-l+u-a,d,n+l-u+a,d,!1)).length>0)return s;var p,g=n-l-a;if((s=Ot(e,t,n,r,g,r-c+u-a,g,r+c-u+a,!1)).length>0)return s;var v=n-l+u,y=r-c+u;if((p=Dt(e,t,n,r,v,y,u+a)).length>0&&p[0]<=v&&p[1]<=y)return[p[0],p[1]];var m=n+l-u,b=r-c+u;if((p=Dt(e,t,n,r,m,b,u+a)).length>0&&p[0]>=m&&p[1]<=b)return[p[0],p[1]];var _=n+l-u,w=r+c-u;if((p=Dt(e,t,n,r,_,w,u+a)).length>0&&p[0]>=_&&p[1]>=w)return[p[0],p[1]];var x=n-l+u,E=r+c-u;return(p=Dt(e,t,n,r,x,E,u+a)).length>0&&p[0]<=x&&p[1]>=E?[p[0],p[1]]:[]},wt=function(e,t,n,r,i,o,a){var s=a,u=Math.min(n,i),l=Math.max(n,i),c=Math.min(r,o),f=Math.max(r,o);return u-s<=e&&e<=l+s&&c-s<=t&&t<=f+s},xt=function(e,t,n,r,i,o,a,s,u){var l=Math.min(n,a,i)-u,c=Math.max(n,a,i)+u,f=Math.min(r,s,o)-u,h=Math.max(r,s,o)+u;return!(e<l||e>c||t<f||t>h)},Et=function(e,t,n,r,i,o,a,s){var u=[];!function(e,t,n,r,i){var o,a,s,u,l,c,f,h;0===e&&(e=1e-5),s=-27*(r/=e)+(t/=e)*(9*(n/=e)-t*t*2),o=(a=(3*n-t*t)/9)*a*a+(s/=54)*s,i[1]=0,f=t/3,o>0?(l=(l=s+Math.sqrt(o))<0?-Math.pow(-l,1/3):Math.pow(l,1/3),c=(c=s-Math.sqrt(o))<0?-Math.pow(-c,1/3):Math.pow(c,1/3),i[0]=-f+l+c,f+=(l+c)/2,i[4]=i[2]=-f,f=Math.sqrt(3)*(-c+l)/2,i[3]=f,i[5]=-f):(i[5]=i[3]=0,0===o?(h=s<0?-Math.pow(-s,1/3):Math.pow(s,1/3),i[0]=2*h-f,i[4]=i[2]=-(h+f)):(u=(a=-a)*a*a,u=Math.acos(s/Math.sqrt(u)),h=2*Math.sqrt(a),i[0]=-f+h*Math.cos(u/3),i[2]=-f+h*Math.cos((u+2*Math.PI)/3),i[4]=-f+h*Math.cos((u+4*Math.PI)/3)))}(1*n*n-4*n*i+2*n*a+4*i*i-4*i*a+a*a+r*r-4*r*o+2*r*s+4*o*o-4*o*s+s*s,9*n*i-3*n*n-3*n*a-6*i*i+3*i*a+9*r*o-3*r*r-3*r*s-6*o*o+3*o*s,3*n*n-6*n*i+n*a-n*e+2*i*i+2*i*e-a*e+3*r*r-6*r*o+r*s-r*t+2*o*o+2*o*t-s*t,1*n*i-n*n+n*e-i*e+r*o-r*r+r*t-o*t,u);for(var l=[],c=0;c<6;c+=2)Math.abs(u[c+1])<1e-7&&u[c]>=0&&u[c]<=1&&l.push(u[c]);l.push(1),l.push(0);for(var f,h,d,p=-1,g=0;g<l.length;g++)f=Math.pow(1-l[g],2)*n+2*(1-l[g])*l[g]*i+l[g]*l[g]*a,h=Math.pow(1-l[g],2)*r+2*(1-l[g])*l[g]*o+l[g]*l[g]*s,d=Math.pow(f-e,2)+Math.pow(h-t,2),p>=0?d<p&&(p=d):p=d;return p},kt=function(e,t,n,r,i,o){var a=[e-n,t-r],s=[i-n,o-r],u=s[0]*s[0]+s[1]*s[1],l=a[0]*a[0]+a[1]*a[1],c=a[0]*s[0]+a[1]*s[1],f=c*c/u;return c<0?l:f>u?(e-i)*(e-i)+(t-o)*(t-o):l-f},Ct=function(e,t,n){for(var r,i,o,a,s=0,u=0;u<n.length/2;u++)if(r=n[2*u],i=n[2*u+1],u+1<n.length/2?(o=n[2*(u+1)],a=n[2*(u+1)+1]):(o=n[2*(u+1-n.length/2)],a=n[2*(u+1-n.length/2)+1]),r==e&&o==e);else{if(!(r>=e&&e>=o||r<=e&&e<=o))continue;(e-r)/(o-r)*(a-i)+i>t&&s++}return s%2!==0},St=function(e,t,n,r,i,o,a,s,u){var l,c=new Array(n.length);null!=s[0]?(l=Math.atan(s[1]/s[0]),s[0]<0?l+=Math.PI/2:l=-l-Math.PI/2):l=s;for(var f,h=Math.cos(-l),d=Math.sin(-l),p=0;p<c.length/2;p++)c[2*p]=o/2*(n[2*p]*h-n[2*p+1]*d),c[2*p+1]=a/2*(n[2*p+1]*h+n[2*p]*d),c[2*p]+=r,c[2*p+1]+=i;if(u>0){var g=Tt(c,-u);f=Nt(g)}else f=c;return Ct(e,t,f)},Nt=function(e){for(var t,n,r,i,o,a,s,u,l=new Array(e.length/2),c=0;c<e.length/4;c++){t=e[4*c],n=e[4*c+1],r=e[4*c+2],i=e[4*c+3],c<e.length/4-1?(o=e[4*(c+1)],a=e[4*(c+1)+1],s=e[4*(c+1)+2],u=e[4*(c+1)+3]):(o=e[0],a=e[1],s=e[2],u=e[3]);var f=Ot(t,n,r,i,o,a,s,u,!0);l[2*c]=f[0],l[2*c+1]=f[1]}return l},Tt=function(e,t){for(var n,r,i,o,a=new Array(2*e.length),s=0;s<e.length/2;s++){n=e[2*s],r=e[2*s+1],s<e.length/2-1?(i=e[2*(s+1)],o=e[2*(s+1)+1]):(i=e[0],o=e[1]);var u=o-r,l=-(i-n),c=Math.sqrt(u*u+l*l),f=u/c,h=l/c;a[4*s]=n+f*t,a[4*s+1]=r+h*t,a[4*s+2]=i+f*t,a[4*s+3]=o+h*t}return a},It=function(e,t,n,r,i,o,a){return e-=i,t-=o,(e/=n/2+a)*e+(t/=r/2+a)*t<=1},Dt=function(e,t,n,r,i,o,a){var s=[n-e,r-t],u=[e-i,t-o],l=s[0]*s[0]+s[1]*s[1],c=2*(u[0]*s[0]+u[1]*s[1]),f=c*c-4*l*(u[0]*u[0]+u[1]*u[1]-a*a);if(f<0)return[];var h=(-c+Math.sqrt(f))/(2*l),d=(-c-Math.sqrt(f))/(2*l),p=Math.min(h,d),g=Math.max(h,d),v=[];if(p>=0&&p<=1&&v.push(p),g>=0&&g<=1&&v.push(g),0===v.length)return[];var y=v[0]*s[0]+e,m=v[0]*s[1]+t;return v.length>1?v[0]==v[1]?[y,m]:[y,m,v[1]*s[0]+e,v[1]*s[1]+t]:[y,m]},Mt=function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n},Ot=function(e,t,n,r,i,o,a,s,u){var l=e-i,c=n-e,f=a-i,h=t-o,d=r-t,p=s-o,g=f*h-p*l,v=c*h-d*l,y=p*c-f*d;if(0!==y){var m=g/y,b=v/y,_=-.001;return _<=m&&m<=1.001&&_<=b&&b<=1.001||u?[e+m*c,t+m*d]:[]}return 0===g||0===v?Mt(e,n,a)===a?[a,s]:Mt(e,n,i)===i?[i,o]:Mt(i,a,n)===n?[n,r]:[]:[]},Pt=function(e,t,n,r,i,o,a,s){var u,l,c,f,h,d,p=[],g=new Array(n.length),v=!0;if(null==o&&(v=!1),v){for(var y=0;y<g.length/2;y++)g[2*y]=n[2*y]*o+r,g[2*y+1]=n[2*y+1]*a+i;if(s>0){var m=Tt(g,-s);l=Nt(m)}else l=g}else l=n;for(var b=0;b<l.length/2;b++)c=l[2*b],f=l[2*b+1],b<l.length/2-1?(h=l[2*(b+1)],d=l[2*(b+1)+1]):(h=l[0],d=l[1]),0!==(u=Ot(e,t,r,i,c,f,h,d)).length&&p.push(u[0],u[1]);return p},Lt=function(e,t,n){var r=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(r[0]*r[0]+r[1]*r[1]),o=(i-n)/i;return o<0&&(o=1e-5),[t[0]+o*r[0],t[1]+o*r[1]]},At=function(e,t){var n=Ft(e,t);return n=Rt(n)},Rt=function(e){for(var t,n,r=e.length/2,i=1/0,o=1/0,a=-1/0,s=-1/0,u=0;u<r;u++)t=e[2*u],n=e[2*u+1],i=Math.min(i,t),a=Math.max(a,t),o=Math.min(o,n),s=Math.max(s,n);for(var l=2/(a-i),c=2/(s-o),f=0;f<r;f++)t=e[2*f]=e[2*f]*l,n=e[2*f+1]=e[2*f+1]*c,i=Math.min(i,t),a=Math.max(a,t),o=Math.min(o,n),s=Math.max(s,n);if(o<-1)for(var h=0;h<r;h++)n=e[2*h+1]=e[2*h+1]+(-1-o);return e},Ft=function(e,t){var n=1/e*2*Math.PI,r=e%2===0?Math.PI/2+n/2:Math.PI/2;r+=t;for(var i,o=new Array(2*e),a=0;a<e;a++)i=a*n+r,o[2*a]=Math.cos(i),o[2*a+1]=Math.sin(-i);return o},zt=function(e,t){return Math.min(e/4,t/4,8)},jt=function(e,t){return Math.min(e/10,t/10,8)},Bt=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},Vt=De({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),Ut={pageRank:function(e){for(var t=Vt(e),n=t.dampingFactor,r=t.precision,i=t.iterations,o=t.weight,a=this._private.cy,s=this.byGroup(),u=s.nodes,l=s.edges,c=u.length,f=c*c,h=l.length,d=new Array(f),p=new Array(c),g=(1-n)/c,v=0;v<c;v++){for(var y=0;y<c;y++){d[v*c+y]=0}p[v]=0}for(var m=0;m<h;m++){var b=l[m],_=b.data("source"),w=b.data("target");if(_!==w){var x=u.indexOfId(_),E=u.indexOfId(w),k=o(b);d[E*c+x]+=k,p[x]+=k}}for(var C=1/c+g,S=0;S<c;S++)if(0===p[S])for(var N=0;N<c;N++){d[N*c+S]=C}else for(var T=0;T<c;T++){var I=T*c+S;d[I]=d[I]/p[S]+g}for(var D,M=new Array(c),O=new Array(c),P=0;P<c;P++)M[P]=1;for(var L=0;L<i;L++){for(var A=0;A<c;A++)O[A]=0;for(var R=0;R<c;R++)for(var F=0;F<c;F++){var z=R*c+F;O[R]+=d[z]*M[F]}ut(O),D=M,M=O,O=D;for(var j=0,B=0;B<c;B++){var V=D[B]-M[B];j+=V*V}if(j<r)break}return{rank:function(e){return e=a.collection(e)[0],M[u.indexOf(e)]}}}},Gt=De({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Ht={degreeCentralityNormalized:function(e){e=Gt(e);var t=this.cy(),n=this.nodes(),r=n.length;if(e.directed){for(var i={},o={},a=0,s=0,u=0;u<r;u++){var l=n[u],c=l.id();e.root=l;var f=this.degreeCentrality(e);a<f.indegree&&(a=f.indegree),s<f.outdegree&&(s=f.outdegree),i[c]=f.indegree,o[c]=f.outdegree}return{indegree:function(e){return 0==a?0:(T(e)&&(e=t.filter(e)),i[e.id()]/a)},outdegree:function(e){return 0===s?0:(T(e)&&(e=t.filter(e)),o[e.id()]/s)}}}for(var h={},d=0,p=0;p<r;p++){var g=n[p];e.root=g;var v=this.degreeCentrality(e);d<v.degree&&(d=v.degree),h[g.id()]=v.degree}return{degree:function(e){return 0===d?0:(T(e)&&(e=t.filter(e)),h[e.id()]/d)}}},degreeCentrality:function(e){e=Gt(e);var t=this.cy(),n=this,r=e,i=r.root,o=r.weight,a=r.directed,s=r.alpha;if(i=t.collection(i)[0],a){for(var u=i.connectedEdges(),l=u.filter((function(e){return e.target().same(i)&&n.has(e)})),c=u.filter((function(e){return e.source().same(i)&&n.has(e)})),f=l.length,h=c.length,d=0,p=0,g=0;g<l.length;g++)d+=o(l[g]);for(var v=0;v<c.length;v++)p+=o(c[v]);return{indegree:Math.pow(f,1-s)*Math.pow(d,s),outdegree:Math.pow(h,1-s)*Math.pow(p,s)}}for(var y=i.connectedEdges().intersection(n),m=y.length,b=0,_=0;_<y.length;_++)b+=o(y[_]);return{degree:Math.pow(m,1-s)*Math.pow(b,s)}}};Ht.dc=Ht.degreeCentrality,Ht.dcn=Ht.degreeCentralityNormalised=Ht.degreeCentralityNormalized;var qt=De({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Yt={closenessCentralityNormalized:function(e){for(var t=qt(e),n=t.harmonic,r=t.weight,i=t.directed,o=this.cy(),a={},s=0,u=this.nodes(),l=this.floydWarshall({weight:r,directed:i}),c=0;c<u.length;c++){for(var f=0,h=u[c],d=0;d<u.length;d++)if(c!==d){var p=l.distance(h,u[d]);f+=n?1/p:p}n||(f=1/f),s<f&&(s=f),a[h.id()]=f}return{closeness:function(e){return 0==s?0:(e=T(e)?o.filter(e)[0].id():e.id(),a[e]/s)}}},closenessCentrality:function(e){var t=qt(e),n=t.root,r=t.weight,i=t.directed,o=t.harmonic;n=this.filter(n)[0];for(var a=this.dijkstra({root:n,weight:r,directed:i}),s=0,u=this.nodes(),l=0;l<u.length;l++){var c=u[l];if(!c.same(n)){var f=a.distanceTo(c);s+=o?1/f:f}}return o?s:1/s}};Yt.cc=Yt.closenessCentrality,Yt.ccn=Yt.closenessCentralityNormalised=Yt.closenessCentralityNormalized;var Wt=De({weight:null,directed:!1}),Xt={betweennessCentrality:function(e){for(var t=Wt(e),n=t.directed,r=t.weight,i=null!=r,o=this.cy(),a=this.nodes(),s={},u={},l=0,f=function(e,t){u[e]=t,t>l&&(l=t)},h=function(e){return u[e]},d=0;d<a.length;d++){var p=a[d],g=p.id();s[g]=n?p.outgoers().nodes():p.openNeighborhood().nodes(),f(g,0)}for(var v=function(e){for(var t=a[e].id(),n=[],u={},l={},d={},p=new c.default((function(e,t){return d[e]-d[t]})),g=0;g<a.length;g++){var v=a[g].id();u[v]=[],l[v]=0,d[v]=1/0}for(l[t]=1,d[t]=0,p.push(t);!p.empty();){var y=p.pop();if(n.push(y),i)for(var m=0;m<s[y].length;m++){var b=s[y][m],_=o.getElementById(y),w=void 0;w=_.edgesTo(b).length>0?_.edgesTo(b)[0]:b.edgesTo(_)[0];var x=r(w);b=b.id(),d[b]>d[y]+x&&(d[b]=d[y]+x,p.nodes.indexOf(b)<0?p.push(b):p.updateItem(b),l[b]=0,u[b]=[]),d[b]==d[y]+x&&(l[b]=l[b]+l[y],u[b].push(y))}else for(var E=0;E<s[y].length;E++){var k=s[y][E].id();d[k]==1/0&&(p.push(k),d[k]=d[y]+1),d[k]==d[y]+1&&(l[k]=l[k]+l[y],u[k].push(y))}}for(var C={},S=0;S<a.length;S++)C[a[S].id()]=0;for(;n.length>0;){for(var N=n.pop(),T=0;T<u[N].length;T++){var I=u[N][T];C[I]=C[I]+l[I]/l[N]*(1+C[N])}N!=a[e].id()&&f(N,h(N)+C[N])}},y=0;y<a.length;y++)v(y);var m={betweenness:function(e){var t=o.collection(e).id();return h(t)},betweennessNormalized:function(e){if(0==l)return 0;var t=o.collection(e).id();return h(t)/l}};return m.betweennessNormalised=m.betweennessNormalized,m}};Xt.bc=Xt.betweennessCentrality;var Kt=De({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),$t=function(e,t){for(var n=0,r=0;r<t.length;r++)n+=t[r](e);return n},Qt=function(e,t){for(var n,r=0;r<t;r++){n=0;for(var i=0;i<t;i++)n+=e[i*t+r];for(var o=0;o<t;o++)e[o*t+r]=e[o*t+r]/n}},Zt=function(e,t,n){for(var r=new Array(n*n),i=0;i<n;i++){for(var o=0;o<n;o++)r[i*n+o]=0;for(var a=0;a<n;a++)for(var s=0;s<n;s++)r[i*n+s]+=e[i*n+a]*t[a*n+s]}return r},Jt=function(e,t,n){for(var r=e.slice(0),i=1;i<n;i++)e=Zt(e,r,t);return e},en=function(e,t,n){for(var r=new Array(t*t),i=0;i<t*t;i++)r[i]=Math.pow(e[i],n);return Qt(r,t),r},tn=function(e,t,n,r){for(var i=0;i<n;i++){if(Math.round(e[i]*Math.pow(10,r))/Math.pow(10,r)!==Math.round(t[i]*Math.pow(10,r))/Math.pow(10,r))return!1}return!0},nn=function(e,t){for(var n=0;n<e.length;n++)if(!t[n]||e[n].id()!==t[n].id())return!1;return!0},rn=function(e){for(var t=this.nodes(),n=this.edges(),r=this.cy(),i=function(e){return Kt(e)}(e),o={},a=0;a<t.length;a++)o[t[a].id()]=a;for(var s,u=t.length,l=u*u,c=new Array(l),f=0;f<l;f++)c[f]=0;for(var h=0;h<n.length;h++){var d=n[h],p=o[d.source().id()],g=o[d.target().id()],v=$t(d,i.attributes);c[p*u+g]+=v,c[g*u+p]+=v}!function(e,t,n){for(var r=0;r<t;r++)e[r*t+r]=n}(c,u,i.multFactor),Qt(c,u);for(var y=!0,m=0;y&&m<i.maxIterations;)y=!1,s=Jt(c,u,i.expandFactor),c=en(s,u,i.inflateFactor),tn(c,s,l,4)||(y=!0),m++;var b=function(e,t,n,r){for(var i=[],o=0;o<t;o++){for(var a=[],s=0;s<t;s++)Math.round(1e3*e[o*t+s])/1e3>0&&a.push(n[s]);0!==a.length&&i.push(r.collection(a))}return i}(c,u,t,r);return b=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)t!=n&&nn(e[t],e[n])&&e.splice(n,1);return e}(b),b},on={markovClustering:rn,mcl:rn},an=function(e){return e},sn=function(e,t){return Math.abs(t-e)},un=function(e,t,n){return e+sn(t,n)},ln=function(e,t,n){return e+Math.pow(n-t,2)},cn=function(e){return Math.sqrt(e)},fn=function(e,t,n){return Math.max(e,sn(t,n))},hn=function(e,t,n,r,i){for(var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:an,a=r,s=0;s<e;s++)a=i(a,t(s),n(s));return o(a)},dn={euclidean:function(e,t,n){return e>=2?hn(e,t,n,0,ln,cn):hn(e,t,n,0,un)},squaredEuclidean:function(e,t,n){return hn(e,t,n,0,ln)},manhattan:function(e,t,n){return hn(e,t,n,0,un)},max:function(e,t,n){return hn(e,t,n,-1/0,fn)}};function pn(e,t,n,r,i,o){var a;return a=I(e)?e:dn[e]||dn.euclidean,0===t&&I(e)?a(i,o):a(t,n,r,i,o)}dn["squared-euclidean"]=dn.squaredEuclidean,dn.squaredeuclidean=dn.squaredEuclidean;var gn=De({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),vn=function(e){return gn(e)},yn=function(e,t,n,r,i){var o="kMedoids"!==i?function(e){return n[e]}:function(e){return r[e](n)},a=n,s=t;return pn(e,r.length,o,(function(e){return r[e](t)}),a,s)},mn=function(e,t,n){for(var r=n.length,i=new Array(r),o=new Array(r),a=new Array(t),s=null,u=0;u<r;u++)i[u]=e.min(n[u]).value,o[u]=e.max(n[u]).value;for(var l=0;l<t;l++){s=[];for(var c=0;c<r;c++)s[c]=Math.random()*(o[c]-i[c])+i[c];a[l]=s}return a},bn=function(e,t,n,r,i){for(var o=1/0,a=0,s=0;s<t.length;s++){var u=yn(n,e,t[s],r,i);u<o&&(o=u,a=s)}return a},_n=function(e,t,n){for(var r=[],i=null,o=0;o<t.length;o++)n[(i=t[o]).id()]===e&&r.push(i);return r},wn=function(e,t,n){for(var r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++){if(Math.abs(e[r][i]-t[r][i])>n)return!1}return!0},xn=function(e,t,n){for(var r=0;r<n;r++)if(e===t[r])return!0;return!1},En=function(e,t){var n=new Array(t);if(e.length<50)for(var r=0;r<t;r++){for(var i=e[Math.floor(Math.random()*e.length)];xn(i,n,r);)i=e[Math.floor(Math.random()*e.length)];n[r]=i}else for(var o=0;o<t;o++)n[o]=e[Math.floor(Math.random()*e.length)];return n},kn=function(e,t,n){for(var r=0,i=0;i<t.length;i++)r+=yn("manhattan",t[i],e,n,"kMedoids");return r},Cn=function(e,t,n,r,i){for(var o,a,s=0;s<t.length;s++)for(var u=0;u<e.length;u++)r[s][u]=Math.pow(n[s][u],i.m);for(var l=0;l<e.length;l++)for(var c=0;c<i.attributes.length;c++){o=0,a=0;for(var f=0;f<t.length;f++)o+=r[f][l]*i.attributes[c](t[f]),a+=r[f][l];e[l][c]=o/a}},Sn=function(e,t,n,r,i){for(var o=0;o<e.length;o++)t[o]=e[o].slice();for(var a,s,u,l=2/(i.m-1),c=0;c<n.length;c++)for(var f=0;f<r.length;f++){a=0;for(var h=0;h<n.length;h++)s=yn(i.distance,r[f],n[c],i.attributes,"cmeans"),u=yn(i.distance,r[f],n[h],i.attributes,"cmeans"),a+=Math.pow(s/u,l);e[f][c]=1/a}},Nn=function(e){var t,n,r,i,o,a=this.cy(),s=this.nodes(),u=vn(e);i=new Array(s.length);for(var l=0;l<s.length;l++)i[l]=new Array(u.k);r=new Array(s.length);for(var c=0;c<s.length;c++)r[c]=new Array(u.k);for(var f=0;f<s.length;f++){for(var h=0,d=0;d<u.k;d++)r[f][d]=Math.random(),h+=r[f][d];for(var p=0;p<u.k;p++)r[f][p]=r[f][p]/h}n=new Array(u.k);for(var g=0;g<u.k;g++)n[g]=new Array(u.attributes.length);o=new Array(s.length);for(var v=0;v<s.length;v++)o[v]=new Array(u.k);for(var y=!0,m=0;y&&m<u.maxIterations;)y=!1,Cn(n,s,r,o,u),Sn(r,i,n,s,u),wn(r,i,u.sensitivityThreshold)||(y=!0),m++;return t=function(e,t,n,r){for(var i,o,a=new Array(n.k),s=0;s<a.length;s++)a[s]=[];for(var u=0;u<t.length;u++){i=-1/0,o=-1;for(var l=0;l<t[0].length;l++)t[u][l]>i&&(i=t[u][l],o=l);a[o].push(e[u])}for(var c=0;c<a.length;c++)a[c]=r.collection(a[c]);return a}(s,r,u,a),{clusters:t,degreeOfMembership:r}},Tn={kMeans:function(e){var t,n=this.cy(),r=this.nodes(),i=null,o=vn(e),a=new Array(o.k),s={};o.testMode?"number"===typeof o.testCentroids?(o.testCentroids,t=mn(r,o.k,o.attributes)):t="object"===p(o.testCentroids)?o.testCentroids:mn(r,o.k,o.attributes):t=mn(r,o.k,o.attributes);for(var u,l,c,f=!0,h=0;f&&h<o.maxIterations;){for(var d=0;d<r.length;d++)s[(i=r[d]).id()]=bn(i,t,o.distance,o.attributes,"kMeans");f=!1;for(var g=0;g<o.k;g++){var v=_n(g,r,s);if(0!==v.length){for(var y=o.attributes.length,m=t[g],b=new Array(y),_=new Array(y),w=0;w<y;w++){_[w]=0;for(var x=0;x<v.length;x++)i=v[x],_[w]+=o.attributes[w](i);b[w]=_[w]/v.length,u=b[w],l=m[w],c=o.sensitivityThreshold,Math.abs(l-u)<=c||(f=!0)}t[g]=b,a[g]=n.collection(v)}}h++}return a},kMedoids:function(e){var t,n,r=this.cy(),i=this.nodes(),o=null,a=vn(e),s=new Array(a.k),u={},l=new Array(a.k);a.testMode?"number"===typeof a.testCentroids||(t="object"===p(a.testCentroids)?a.testCentroids:En(i,a.k)):t=En(i,a.k);for(var c=!0,f=0;c&&f<a.maxIterations;){for(var h=0;h<i.length;h++)u[(o=i[h]).id()]=bn(o,t,a.distance,a.attributes,"kMedoids");c=!1;for(var d=0;d<t.length;d++){var g=_n(d,i,u);if(0!==g.length){l[d]=kn(t[d],g,a.attributes);for(var v=0;v<g.length;v++)(n=kn(g[v],g,a.attributes))<l[d]&&(l[d]=n,t[d]=g[v],c=!0);s[d]=r.collection(g)}}f++}return s},fuzzyCMeans:Nn,fcm:Nn},In=De({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Dn={single:"min",complete:"max"},Mn=function(e,t,n,r,i){for(var o,a=0,s=1/0,u=i.attributes,l=function(e,t){return pn(i.distance,u.length,(function(t){return u[t](e)}),(function(e){return u[e](t)}),e,t)},c=0;c<e.length;c++){var f=e[c].key,h=n[f][r[f]];h<s&&(a=f,s=h)}if("threshold"===i.mode&&s>=i.threshold||"dendrogram"===i.mode&&1===e.length)return!1;var d,p=t[a],g=t[r[a]];d="dendrogram"===i.mode?{left:p,right:g,key:p.key}:{value:p.value.concat(g.value),key:p.key},e[p.index]=d,e.splice(g.index,1),t[p.key]=d;for(var v=0;v<e.length;v++){var y=e[v];p.key===y.key?o=1/0:"min"===i.linkage?(o=n[p.key][y.key],n[p.key][y.key]>n[g.key][y.key]&&(o=n[g.key][y.key])):"max"===i.linkage?(o=n[p.key][y.key],n[p.key][y.key]<n[g.key][y.key]&&(o=n[g.key][y.key])):o="mean"===i.linkage?(n[p.key][y.key]*p.size+n[g.key][y.key]*g.size)/(p.size+g.size):"dendrogram"===i.mode?l(y.value,p.value):l(y.value[0],p.value[0]),n[p.key][y.key]=n[y.key][p.key]=o}for(var m=0;m<e.length;m++){var b=e[m].key;if(r[b]===p.key||r[b]===g.key){for(var _=b,w=0;w<e.length;w++){var x=e[w].key;n[b][x]<n[b][_]&&(_=x)}r[b]=_}e[m].index=m}return p.key=g.key=p.index=g.index=null,!0},On=function e(t,n,r){t&&(t.value?n.push(t.value):(t.left&&e(t.left,n),t.right&&e(t.right,n)))},Pn=function e(t,n){if(!t)return"";if(t.left&&t.right){var r=e(t.left,n),i=e(t.right,n),o=n.add({group:"nodes",data:{id:r+","+i}});return n.add({group:"edges",data:{source:r,target:o.id()}}),n.add({group:"edges",data:{source:i,target:o.id()}}),o.id()}return t.value?t.value.id():void 0},Ln=function e(t,n,r){if(!t)return[];var i=[],o=[],a=[];return 0===n?(t.left&&On(t.left,i),t.right&&On(t.right,o),a=i.concat(o),[r.collection(a)]):1===n?t.value?[r.collection(t.value)]:(t.left&&On(t.left,i),t.right&&On(t.right,o),[r.collection(i),r.collection(o)]):t.value?[r.collection(t.value)]:(t.left&&(i=e(t.left,n-1,r)),t.right&&(o=e(t.right,n-1,r)),i.concat(o))},An=function(e){for(var t=this.cy(),n=this.nodes(),r=function(e){var t=In(e),n=Dn[t.linkage];return null!=n&&(t.linkage=n),t}(e),i=r.attributes,o=function(e,t){return pn(r.distance,i.length,(function(t){return i[t](e)}),(function(e){return i[e](t)}),e,t)},a=[],s=[],u=[],l=[],c=0;c<n.length;c++){var f={value:"dendrogram"===r.mode?n[c]:[n[c]],key:c,index:c};a[c]=f,l[c]=f,s[c]=[],u[c]=0}for(var h=0;h<a.length;h++)for(var d=0;d<=h;d++){var p=void 0;p="dendrogram"===r.mode?h===d?1/0:o(a[h].value,a[d].value):h===d?1/0:o(a[h].value[0],a[d].value[0]),s[h][d]=p,s[d][h]=p,p<s[h][u[h]]&&(u[h]=d)}for(var g,v=Mn(a,l,s,u,r);v;)v=Mn(a,l,s,u,r);return"dendrogram"===r.mode?(g=Ln(a[0],r.dendrogramDepth,t),r.addDendrogram&&Pn(a[0],t)):(g=new Array(a.length),a.forEach((function(e,n){e.key=e.index=null,g[n]=t.collection(e.value)}))),g},Rn={hierarchicalClustering:An,hca:An},Fn=De({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),zn=function(e,t,n,r){var i=function(e,t){return r[t](e)};return-pn(e,r.length,(function(e){return i(t,e)}),(function(e){return i(n,e)}),t,n)},jn=function(e,t){var n=null;return n="median"===t?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(n<e.length&&e.splice(n,e.length-n),t>0&&e.splice(0,t)):e=e.slice(t,n);for(var o=0,a=e.length-1;a>=0;a--){var s=e[a];i?isFinite(s)||(e[a]=-1/0,o++):e.splice(a,1)}r&&e.sort((function(e,t){return e-t}));var u=e.length,l=Math.floor(u/2);return u%2!==0?e[l+1+o]:(e[l-1+o]+e[l+o])/2}(e):"mean"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=0,i=0,o=t;o<n;o++){var a=e[o];isFinite(a)&&(r+=a,i++)}return r/i}(e):"min"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=1/0,i=t;i<n;i++){var o=e[i];isFinite(o)&&(r=Math.min(o,r))}return r}(e):"max"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=-1/0,i=t;i<n;i++){var o=e[i];isFinite(o)&&(r=Math.max(o,r))}return r}(e):t,n},Bn=function(e,t,n){for(var r=[],i=0;i<e;i++){for(var o=-1,a=-1/0,s=0;s<n.length;s++){var u=n[s];t[i*e+u]>a&&(o=u,a=t[i*e+u])}o>0&&r.push(o)}for(var l=0;l<n.length;l++)r[n[l]]=n[l];return r},Vn=function(e){for(var t,n,r,i,o,a,s=this.cy(),u=this.nodes(),l=function(e){var t=e.damping,n=e.preference;.5<=t&&t<1||Ee("Damping must range on [0.5, 1).  Got: ".concat(t));var r=["median","mean","min","max"];return r.some((function(e){return e===n}))||O(n)||Ee("Preference must be one of [".concat(r.map((function(e){return"'".concat(e,"'")})).join(", "),"] or a number.  Got: ").concat(n)),Fn(e)}(e),c={},f=0;f<u.length;f++)c[u[f].id()]=f;n=(t=u.length)*t,r=new Array(n);for(var h=0;h<n;h++)r[h]=-1/0;for(var d=0;d<t;d++)for(var p=0;p<t;p++)d!==p&&(r[d*t+p]=zn(l.distance,u[d],u[p],l.attributes));i=jn(r,l.preference);for(var g=0;g<t;g++)r[g*t+g]=i;o=new Array(n);for(var v=0;v<n;v++)o[v]=0;a=new Array(n);for(var y=0;y<n;y++)a[y]=0;for(var m=new Array(t),b=new Array(t),_=new Array(t),w=0;w<t;w++)m[w]=0,b[w]=0,_[w]=0;for(var x,E=new Array(t*l.minIterations),k=0;k<E.length;k++)E[k]=0;for(x=0;x<l.maxIterations;x++){for(var C=0;C<t;C++){for(var S=-1/0,N=-1/0,T=-1,I=0,D=0;D<t;D++)m[D]=o[C*t+D],(I=a[C*t+D]+r[C*t+D])>=S?(N=S,S=I,T=D):I>N&&(N=I);for(var M=0;M<t;M++)o[C*t+M]=(1-l.damping)*(r[C*t+M]-S)+l.damping*m[M];o[C*t+T]=(1-l.damping)*(r[C*t+T]-N)+l.damping*m[T]}for(var P=0;P<t;P++){for(var L=0,A=0;A<t;A++)m[A]=a[A*t+P],b[A]=Math.max(0,o[A*t+P]),L+=b[A];L-=b[P],b[P]=o[P*t+P],L+=b[P];for(var R=0;R<t;R++)a[R*t+P]=(1-l.damping)*Math.min(0,L-b[R])+l.damping*m[R];a[P*t+P]=(1-l.damping)*(L-b[P])+l.damping*m[P]}for(var F=0,z=0;z<t;z++){var j=a[z*t+z]+o[z*t+z]>0?1:0;E[x%l.minIterations*t+z]=j,F+=j}if(F>0&&(x>=l.minIterations-1||x==l.maxIterations-1)){for(var B=0,V=0;V<t;V++){_[V]=0;for(var U=0;U<l.minIterations;U++)_[V]+=E[U*t+V];0!==_[V]&&_[V]!==l.minIterations||B++}if(B===t)break}}for(var G=function(e,t,n){for(var r=[],i=0;i<e;i++)t[i*e+i]+n[i*e+i]>0&&r.push(i);return r}(t,o,a),H=function(e,t,n){for(var r=Bn(e,t,n),i=0;i<n.length;i++){for(var o=[],a=0;a<r.length;a++)r[a]===n[i]&&o.push(a);for(var s=-1,u=-1/0,l=0;l<o.length;l++){for(var c=0,f=0;f<o.length;f++)c+=t[o[f]*e+o[l]];c>u&&(s=l,u=c)}n[i]=o[s]}return Bn(e,t,n)}(t,r,G),q={},Y=0;Y<G.length;Y++)q[G[Y]]=[];for(var W=0;W<u.length;W++){var X=H[c[u[W].id()]];null!=X&&q[X].push(u[W])}for(var K=new Array(G.length),$=0;$<G.length;$++)K[$]=s.collection(q[G[$]]);return K},Un={affinityPropagation:Vn,ap:Vn},Gn=De({root:void 0,directed:!1}),Hn={hierholzer:function(e){if(!M(e)){var t=arguments;e={root:t[0],directed:t[1]}}var n,r,i,o=Gn(e),a=o.root,s=o.directed,u=this,l=!1;a&&(i=T(a)?this.filter(a)[0].id():a[0].id());var c={},f={};s?u.forEach((function(e){var t=e.id();if(e.isNode()){var i=e.indegree(!0),o=e.outdegree(!0),a=i-o,s=o-i;1==a?n?l=!0:n=t:1==s?r?l=!0:r=t:(s>1||a>1)&&(l=!0),c[t]=[],e.outgoers().forEach((function(e){e.isEdge()&&c[t].push(e.id())}))}else f[t]=[void 0,e.target().id()]})):u.forEach((function(e){var t=e.id();e.isNode()?(e.degree(!0)%2&&(n?r?l=!0:r=t:n=t),c[t]=[],e.connectedEdges().forEach((function(e){return c[t].push(e.id())}))):f[t]=[e.source().id(),e.target().id()]}));var h={found:!1,trail:void 0};if(l)return h;if(r&&n)if(s){if(i&&r!=i)return h;i=r}else{if(i&&r!=i&&n!=i)return h;i||(i=r)}else i||(i=u[0].id());var d=function(e){for(var t,n,r,i=e,o=[e];c[i].length;)t=c[i].shift(),n=f[t][0],i!=(r=f[t][1])?(c[r]=c[r].filter((function(e){return e!=t})),i=r):s||i==n||(c[n]=c[n].filter((function(e){return e!=t})),i=n),o.unshift(t),o.unshift(i);return o},p=[],g=[];for(g=d(i);1!=g.length;)0==c[g[0]].length?(p.unshift(u.getElementById(g.shift())),p.unshift(u.getElementById(g.shift()))):g=d(g.shift()).concat(g);for(var v in p.unshift(u.getElementById(g.shift())),c)if(c[v].length)return h;return h.found=!0,h.trail=this.spawn(p,!0),h}},qn=function(){var e=this,t={},n=0,r=0,i=[],o=[],a={},s=function s(u,l,c){u===c&&(r+=1),t[l]={id:n,low:n++,cutVertex:!1};var f,h,d,p,g=e.getElementById(l).connectedEdges().intersection(e);0===g.size()?i.push(e.spawn(e.getElementById(l))):g.forEach((function(n){f=n.source().id(),h=n.target().id(),(d=f===l?h:f)!==c&&(p=n.id(),a[p]||(a[p]=!0,o.push({x:l,y:d,edge:n})),d in t?t[l].low=Math.min(t[l].low,t[d].id):(s(u,d,l),t[l].low=Math.min(t[l].low,t[d].low),t[l].id<=t[d].low&&(t[l].cutVertex=!0,function(n,r){for(var a=o.length-1,s=[],u=e.spawn();o[a].x!=n||o[a].y!=r;)s.push(o.pop().edge),a--;s.push(o.pop().edge),s.forEach((function(n){var r=n.connectedNodes().intersection(e);u.merge(n),r.forEach((function(n){var r=n.id(),i=n.connectedEdges().intersection(e);u.merge(n),t[r].cutVertex?u.merge(i.filter((function(e){return e.isLoop()}))):u.merge(i)}))})),i.push(u)}(l,d))))}))};e.forEach((function(e){if(e.isNode()){var n=e.id();n in t||(r=0,s(n,n),t[n].cutVertex=r>1)}}));var u=Object.keys(t).filter((function(e){return t[e].cutVertex})).map((function(t){return e.getElementById(t)}));return{cut:e.spawn(u),components:i}},Yn=function(){var e=this,t={},n=0,r=[],i=[],o=e.spawn(e),a=function a(s){if(i.push(s),t[s]={index:n,low:n++,explored:!1},e.getElementById(s).connectedEdges().intersection(e).forEach((function(e){var n=e.target().id();n!==s&&(n in t||a(n),t[n].explored||(t[s].low=Math.min(t[s].low,t[n].low)))})),t[s].index===t[s].low){for(var u=e.spawn();;){var l=i.pop();if(u.merge(e.getElementById(l)),t[l].low=t[s].index,t[l].explored=!0,l===s)break}var c=u.edgesWith(u),f=u.merge(c);r.push(f),o=o.difference(f)}};return e.forEach((function(e){if(e.isNode()){var n=e.id();n in t||a(n)}})),{cut:o,components:r}},Wn={};[Be,Ue,Ge,qe,We,Ke,Je,Ut,Ht,Yt,Xt,on,Tn,Rn,Un,Hn,{hopcroftTarjanBiconnected:qn,htbc:qn,htb:qn,hopcroftTarjanBiconnectedComponents:qn},{tarjanStronglyConnected:Yn,tsc:Yn,tscc:Yn,tarjanStronglyConnectedComponents:Yn}].forEach((function(e){X(Wn,e)}));var Xn=function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"===typeof t&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};Xn.prototype={fulfill:function(e){return Kn(this,1,"fulfillValue",e)},reject:function(e){return Kn(this,2,"rejectReason",e)},then:function(e,t){var n=this,r=new Xn;return n.onFulfilled.push(Zn(e,r,"fulfill")),n.onRejected.push(Zn(t,r,"reject")),$n(n),r.proxy}};var Kn=function(e,t,n,r){return 0===e.state&&(e.state=t,e[n]=r,$n(e)),e},$n=function(e){1===e.state?Qn(e,"onFulfilled",e.fulfillValue):2===e.state&&Qn(e,"onRejected",e.rejectReason)},Qn=function(e,t,n){if(0!==e[t].length){var r=e[t];e[t]=[];var i=function(){for(var e=0;e<r.length;e++)r[e](n)};"function"===typeof setImmediate?setImmediate(i):setTimeout(i,0)}},Zn=function(e,t,n){return function(r){if("function"!==typeof e)t[n].call(t,r);else{var i;try{i=e(r)}catch(o){return void t.reject(o)}Jn(t,i)}}},Jn=function e(t,n){if(t!==n&&t.proxy!==n){var r;if("object"===p(n)&&null!==n||"function"===typeof n)try{r=n.then}catch(o){return void t.reject(o)}if("function"!==typeof r)t.fulfill(n);else{var i=!1;try{r.call(n,(function(r){i||(i=!0,r===n?t.reject(new TypeError("circular thenable chain")):e(t,r))}),(function(e){i||(i=!0,t.reject(e))}))}catch(o){i||t.reject(o)}}}else t.reject(new TypeError("cannot resolve promise with itself"))};Xn.all=function(e){return new Xn((function(t,n){for(var r=new Array(e.length),i=0,o=function(n,o){r[n]=o,++i===e.length&&t(r)},a=0;a<e.length;a++)!function(t){var r=e[t];null!=r&&null!=r.then?r.then((function(e){o(t,e)}),(function(e){n(e)})):o(t,r)}(a)}))},Xn.resolve=function(e){return new Xn((function(t,n){t(e)}))},Xn.reject=function(e){return new Xn((function(t,n){n(e)}))};var er="undefined"!==typeof Promise?Promise:Xn,tr=function(e,t,n){var r=F(e),i=!r,o=this._private=X({duration:1e3},t,n);if(o.target=e,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&I(o.complete)&&o.completes.push(o.complete),i){var a=e.position();o.startPosition=o.startPosition||{x:a.x,y:a.y},o.startStyle=o.startStyle||e.cy().style().getAnimationStartStyle(e,o.style)}if(r){var s=e.pan();o.startPan={x:s.x,y:s.y},o.startZoom=e.zoom()}this.length=1,this[0]=this},nr=tr.prototype;X(nr,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t=e.target._private.animation;(e.queue?t.queue:t.current).push(this),L(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return 1===e.progress&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return void 0===e?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,n=t.playing;return void 0===e?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(t,n){var r=e[t];null!=r&&(e[t]=e[n],e[n]=r)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var r=0;r<e.style.length;r++){var i=e.style[r],o=i.name,a=e.startStyle[o];e.startStyle[o]=i,e.style[r]=a}return t&&this.play(),this},promise:function(e){var t,n=this._private;if("frame"===e)t=n.frames;else t=n.completes;return new er((function(e,n){t.push((function(){e()}))}))}}),nr.complete=nr.completed,nr.run=nr.play,nr.running=nr.playing;var rr={animated:function(){return function(){var e=this,t=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return!1;var n=t[0];return n?n._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var e=this,t=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return this;for(var n=0;n<t.length;n++){t[n]._private.animation.queue=[]}return this}},delay:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function(){return function(e,t){var n=this,r=void 0!==n.length,i=r?n:[n],o=this._private.cy||this,a=!r,s=!a;if(!o.styleEnabled())return this;var u=o.style();if(e=X({},e,t),0===Object.keys(e).length)return new tr(i[0],e);switch(void 0===e.duration&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}if(s&&(e.style=u.getPropsList(e.style||e.css),e.css=void 0),s&&null!=e.renderedPosition){var l=e.renderedPosition,c=o.pan(),f=o.zoom();e.position=tt(l,f,c)}if(a&&null!=e.panBy){var h=e.panBy,d=o.pan();e.pan={x:d.x+h.x,y:d.y+h.y}}var p=e.center||e.centre;if(a&&null!=p){var g=o.getCenterPan(p.eles,e.zoom);null!=g&&(e.pan=g)}if(a&&null!=e.fit){var v=e.fit,y=o.getFitViewport(v.eles||v.boundingBox,v.padding);null!=y&&(e.pan=y.pan,e.zoom=y.zoom)}if(a&&M(e.zoom)){var m=o.getZoomedViewport(e.zoom);null!=m?(m.zoomed&&(e.zoom=m.zoom),m.panned&&(e.pan=m.pan)):e.zoom=null}return new tr(i[0],e)}},animate:function(){return function(e,t){var n=this,r=void 0!==n.length?n:[n];if(!(this._private.cy||this).styleEnabled())return this;t&&(e=X({},e,t));for(var i=0;i<r.length;i++){var o=r[i],a=o.animated()&&(void 0===e.queue||e.queue);o.animation(e,a?{queue:!0}:void 0).play()}return this}},stop:function(){return function(e,t){var n=this,r=void 0!==n.length?n:[n],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var o=0;o<r.length;o++){for(var a=r[o]._private,s=a.animation.current,u=0;u<s.length;u++){var l=s[u]._private;t&&(l.duration=0)}e&&(a.animation.queue=[]),t||(a.animation.current=[])}return i.notify("draw"),this}}},ir={data:function(e){return e=X({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(e){},beforeSet:function(e,t){},onSet:function(e){},canSet:function(e){return!0}},e),function(t,n){var r=e,i=this,o=void 0!==i.length,a=o?i:[i],s=o?i[0]:i;if(T(t)){var u,l=-1!==t.indexOf(".")&&d.default(t);if(r.allowGetting&&void 0===n)return s&&(r.beforeGet(s),u=l&&void 0===s._private[r.field][t]?f.default(s._private[r.field],l):s._private[r.field][t]),u;if(r.allowSetting&&void 0!==n&&!r.immutableKeys[t]){var c=m({},t,n);r.beforeSet(i,c);for(var p=0,g=a.length;p<g;p++){var v=a[p];r.canSet(v)&&(l&&void 0===s._private[r.field][t]?h.default(v._private[r.field],l,n):v._private[r.field][t]=n)}r.updateStyle&&i.updateStyle(),r.onSet(i),r.settingTriggersEvent&&i[r.triggerFnName](r.settingEvent)}}else if(r.allowSetting&&M(t)){var y,b,_=t,w=Object.keys(_);r.beforeSet(i,_);for(var x=0;x<w.length;x++){if(b=_[y=w[x]],!r.immutableKeys[y])for(var E=0;E<a.length;E++){var k=a[E];r.canSet(k)&&(k._private[r.field][y]=b)}}r.updateStyle&&i.updateStyle(),r.onSet(i),r.settingTriggersEvent&&i[r.triggerFnName](r.settingEvent)}else if(r.allowBinding&&I(t)){var C=t;i.on(r.bindingEvent,C)}else if(r.allowGetting&&void 0===t){var S;return s&&(r.beforeGet(s),S=s._private[r.field]),S}return i}},removeData:function(e){return e=X({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},e),function(t){var n=e,r=this,i=void 0!==r.length?r:[r];if(T(t)){for(var o=t.split(/\s+/),a=o.length,s=0;s<a;s++){var u=o[s];if(!j(u))if(!n.immutableKeys[u])for(var l=0,c=i.length;l<c;l++)i[l]._private[n.field][u]=void 0}n.triggerEvent&&r[n.triggerFnName](n.event)}else if(void 0===t){for(var f=0,h=i.length;f<h;f++)for(var d=i[f]._private[n.field],p=Object.keys(d),g=0;g<p.length;g++){var v=p[g];!n.immutableKeys[v]&&(d[v]=void 0)}n.triggerEvent&&r[n.triggerFnName](n.event)}return r}}},or={eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(e,t){var n=this,r=Array.prototype.slice.call(arguments,0);return new er((function(e,t){var i=r.concat([function(t){n.off.apply(n,o),e(t)}]),o=i.concat([]);n.on.apply(n,i)}))}}},ar={};[rr,ir,or].forEach((function(e){X(ar,e)}));var sr={animate:ar.animate(),animation:ar.animation(),animated:ar.animated(),clearQueue:ar.clearQueue(),delay:ar.delay(),delayAnimation:ar.delayAnimation(),stop:ar.stop()},ur={classes:function(e){var t=this;if(void 0===e){var n=[];return t[0]._private.classes.forEach((function(e){return n.push(e)})),n}D(e)||(e=(e||"").match(/\S+/g)||[]);for(var r=[],i=new Fe(e),o=0;o<t.length;o++){for(var a=t[o],s=a._private,u=s.classes,l=!1,c=0;c<e.length;c++){var f=e[c];if(!u.has(f)){l=!0;break}}l||(l=u.size!==e.length),l&&(s.classes=i,r.push(a))}return r.length>0&&this.spawn(r).updateStyle().emit("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return null!=t&&t._private.classes.has(e)},toggleClass:function(e,t){D(e)||(e=e.match(/\S+/g)||[]);for(var n=this,r=void 0===t,i=[],o=0,a=n.length;o<a;o++)for(var s=n[o],u=s._private.classes,l=!1,c=0;c<e.length;c++){var f=e[c],h=u.has(f),d=!1;t||r&&!h?(u.add(f),d=!0):(!t||r&&h)&&(u.delete(f),d=!0),!l&&d&&(i.push(s),l=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var n=this;if(null==t)t=250;else if(0===t)return n;return n.addClass(e),setTimeout((function(){n.removeClass(e)}),t),n}};ur.className=ur.classNames=ur.classes;var lr={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:Y,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};lr.variable="(?:[\\w-.]|(?:\\\\"+lr.metaChar+"))+",lr.className="(?:[\\w-]|(?:\\\\"+lr.metaChar+"))+",lr.value=lr.string+"|"+lr.number,lr.id=lr.variable,function(){var e,t,n;for(e=lr.comparatorOp.split("|"),n=0;n<e.length;n++)t=e[n],lr.comparatorOp+="|@"+t;for(e=lr.comparatorOp.split("|"),n=0;n<e.length;n++)(t=e[n]).indexOf("!")>=0||"="!==t&&(lr.comparatorOp+="|\\!"+t)}();var cr=0,fr=1,hr=2,dr=3,pr=4,gr=5,vr=6,yr=7,mr=8,br=9,_r=10,wr=11,xr=12,Er=13,kr=14,Cr=15,Sr=16,Nr=17,Tr=18,Ir=19,Dr=20,Mr=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort((function(e,t){return function(e,t){return-1*W(e,t)}(e.selector,t.selector)})),Or=function(){for(var e,t={},n=0;n<Mr.length;n++)t[(e=Mr[n]).selector]=e.matches;return t}(),Pr="("+Mr.map((function(e){return e.selector})).join("|")+")",Lr=function(e){return e.replace(new RegExp("\\\\("+lr.metaChar+")","g"),(function(e,t){return t}))},Ar=function(e,t,n){e[e.length-1]=n},Rr=[{name:"group",query:!0,regex:"("+lr.group+")",populate:function(e,t,n){var r=b(n,1)[0];t.checks.push({type:cr,value:"*"===r?r:r+"s"})}},{name:"state",query:!0,regex:Pr,populate:function(e,t,n){var r=b(n,1)[0];t.checks.push({type:yr,value:r})}},{name:"id",query:!0,regex:"\\#("+lr.id+")",populate:function(e,t,n){var r=b(n,1)[0];t.checks.push({type:mr,value:Lr(r)})}},{name:"className",query:!0,regex:"\\.("+lr.className+")",populate:function(e,t,n){var r=b(n,1)[0];t.checks.push({type:br,value:Lr(r)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+lr.variable+")\\s*\\]",populate:function(e,t,n){var r=b(n,1)[0];t.checks.push({type:pr,field:Lr(r)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+lr.variable+")\\s*("+lr.comparatorOp+")\\s*("+lr.value+")\\s*\\]",populate:function(e,t,n){var r=b(n,3),i=r[0],o=r[1],a=r[2];a=null!=new RegExp("^"+lr.string+"$").exec(a)?a.substring(1,a.length-1):parseFloat(a),t.checks.push({type:dr,field:Lr(i),operator:o,value:a})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+lr.boolOp+")\\s*("+lr.variable+")\\s*\\]",populate:function(e,t,n){var r=b(n,2),i=r[0],o=r[1];t.checks.push({type:gr,field:Lr(o),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+lr.meta+")\\s*("+lr.comparatorOp+")\\s*("+lr.number+")\\s*\\]\\]",populate:function(e,t,n){var r=b(n,3),i=r[0],o=r[1],a=r[2];t.checks.push({type:vr,field:Lr(i),operator:o,value:parseFloat(a)})}},{name:"nextQuery",separator:!0,regex:lr.separator,populate:function(e,t){var n=e.currentSubject,r=e.edgeCount,i=e.compoundCount,o=e[e.length-1];return null!=n&&(o.subject=n,e.currentSubject=null),o.edgeCount=r,o.compoundCount=i,e.edgeCount=0,e.compoundCount=0,e[e.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:lr.directedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r=t,i={checks:[]};return n.checks.push({type:wr,source:r,target:i}),Ar(e,0,n),e.edgeCount++,i}var o={checks:[]},a=t,s={checks:[]};return o.checks.push({type:xr,source:a,target:s}),Ar(e,0,o),e.edgeCount++,s}},{name:"undirectedEdge",separator:!0,regex:lr.undirectedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r=t,i={checks:[]};return n.checks.push({type:_r,nodes:[r,i]}),Ar(e,0,n),e.edgeCount++,i}var o={checks:[]},a=t,s={checks:[]};return o.checks.push({type:kr,node:a,neighbor:s}),Ar(e,0,o),s}},{name:"child",separator:!0,regex:lr.child,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r={checks:[]},i=e[e.length-1];return n.checks.push({type:Cr,parent:i,child:r}),Ar(e,0,n),e.compoundCount++,r}if(e.currentSubject===t){var o={checks:[]},a=e[e.length-1],s={checks:[]},u={checks:[]},l={checks:[]},c={checks:[]};return o.checks.push({type:Ir,left:a,right:s,subject:u}),u.checks=t.checks,t.checks=[{type:Dr}],c.checks.push({type:Dr}),s.checks.push({type:Nr,parent:c,child:l}),Ar(e,0,o),e.currentSubject=u,e.compoundCount++,l}var f={checks:[]},h={checks:[]},d=[{type:Nr,parent:f,child:h}];return f.checks=t.checks,t.checks=d,e.compoundCount++,h}},{name:"descendant",separator:!0,regex:lr.descendant,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},r={checks:[]},i=e[e.length-1];return n.checks.push({type:Sr,ancestor:i,descendant:r}),Ar(e,0,n),e.compoundCount++,r}if(e.currentSubject===t){var o={checks:[]},a=e[e.length-1],s={checks:[]},u={checks:[]},l={checks:[]},c={checks:[]};return o.checks.push({type:Ir,left:a,right:s,subject:u}),u.checks=t.checks,t.checks=[{type:Dr}],c.checks.push({type:Dr}),s.checks.push({type:Tr,ancestor:c,descendant:l}),Ar(e,0,o),e.currentSubject=u,e.compoundCount++,l}var f={checks:[]},h={checks:[]},d=[{type:Tr,ancestor:f,descendant:h}];return f.checks=t.checks,t.checks=d,e.compoundCount++,h}},{name:"subject",modifier:!0,regex:lr.subject,populate:function(e,t){if(null!=e.currentSubject&&e.currentSubject!==t)return Ce("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var n=e[e.length-1].checks[0],r=null==n?null:n.type;r===wr?n.type=Er:r===_r&&(n.type=kr,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)}}];Rr.forEach((function(e){return e.regexObj=new RegExp("^"+e.regex)}));var Fr=function(e){for(var t,n,r,i=0;i<Rr.length;i++){var o=Rr[i],a=o.name,s=e.match(o.regexObj);if(null!=s){n=s,t=o,r=a;var u=s[0];e=e.substring(u.length);break}}return{expr:t,match:n,name:r,remaining:e}},zr={parse:function(e){var t=this,n=t.inputText=e,r=t[0]={checks:[]};for(t.length=1,n=function(e){var t=e.match(/^\s+/);if(t){var n=t[0];e=e.substring(n.length)}return e}(n);;){var i=Fr(n);if(null==i.expr)return Ce("The selector `"+e+"`is invalid"),!1;var o=i.match.slice(1),a=i.expr.populate(t,r,o);if(!1===a)return!1;if(null!=a&&(r=a),(n=i.remaining).match(/^\s*$/))break}var s=t[t.length-1];null!=t.currentSubject&&(s.subject=t.currentSubject),s.edgeCount=t.edgeCount,s.compoundCount=t.compoundCount;for(var u=0;u<t.length;u++){var l=t[u];if(l.compoundCount>0&&l.edgeCount>0)return Ce("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(l.edgeCount>1)return Ce("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;1===l.edgeCount&&Ce("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var e=function(e){return null==e?"":e},t=function(t){return T(t)?'"'+t+'"':e(t)},n=function(e){return" "+e+" "},r=function(r,o){var a=r.type,s=r.value;switch(a){case cr:var u=e(s);return u.substring(0,u.length-1);case dr:var l=r.field,c=r.operator;return"["+l+n(e(c))+t(s)+"]";case gr:var f=r.operator,h=r.field;return"["+e(f)+h+"]";case pr:return"["+r.field+"]";case vr:var d=r.operator;return"[["+r.field+n(e(d))+t(s)+"]]";case yr:return s;case mr:return"#"+s;case br:return"."+s;case Nr:case Cr:return i(r.parent,o)+n(">")+i(r.child,o);case Tr:case Sr:return i(r.ancestor,o)+" "+i(r.descendant,o);case Ir:var p=i(r.left,o),g=i(r.subject,o),v=i(r.right,o);return p+(p.length>0?" ":"")+g+v;case Dr:return""}},i=function(e,t){return e.checks.reduce((function(n,i,o){return n+(t===e&&0===o?"$":"")+r(i,t)}),"")},o="",a=0;a<this.length;a++){var s=this[a];o+=i(s,s.subject),this.length>1&&a<this.length-1&&(o+=", ")}return this.toStringCache=o,o}},jr=function(e,t,n){var r,i,o,a=T(e),s=O(e),u=T(n),l=!1,c=!1,f=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),c=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),l=!0),(a||u||l)&&(i=a||s?""+e:"",o=""+n),l&&(e=i=i.toLowerCase(),n=o=o.toLowerCase()),t){case"*=":r=i.indexOf(o)>=0;break;case"$=":r=i.indexOf(o,i.length-o.length)>=0;break;case"^=":r=0===i.indexOf(o);break;case"=":r=e===n;break;case">":f=!0,r=e>n;break;case">=":f=!0,r=e>=n;break;case"<":f=!0,r=e<n;break;case"<=":f=!0,r=e<=n;break;default:r=!1}return!c||null==e&&f||(r=!r),r},Br=function(e,t){return e.data(t)},Vr=[],Ur=function(e,t){return e.checks.every((function(e){return Vr[e.type](e,t)}))};Vr[cr]=function(e,t){var n=e.value;return"*"===n||n===t.group()},Vr[yr]=function(e,t){return function(e,t){return Or[e](t)}(e.value,t)},Vr[mr]=function(e,t){var n=e.value;return t.id()===n},Vr[br]=function(e,t){var n=e.value;return t.hasClass(n)},Vr[vr]=function(e,t){var n=e.field,r=e.operator,i=e.value;return jr(function(e,t){return e[t]()}(t,n),r,i)},Vr[dr]=function(e,t){var n=e.field,r=e.operator,i=e.value;return jr(Br(t,n),r,i)},Vr[gr]=function(e,t){var n=e.field,r=e.operator;return function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return void 0===e}}(Br(t,n),r)},Vr[pr]=function(e,t){var n=e.field;return e.operator,void 0!==Br(t,n)},Vr[_r]=function(e,t){var n=e.nodes[0],r=e.nodes[1],i=t.source(),o=t.target();return Ur(n,i)&&Ur(r,o)||Ur(r,i)&&Ur(n,o)},Vr[kr]=function(e,t){return Ur(e.node,t)&&t.neighborhood().some((function(t){return t.isNode()&&Ur(e.neighbor,t)}))},Vr[wr]=function(e,t){return Ur(e.source,t.source())&&Ur(e.target,t.target())},Vr[xr]=function(e,t){return Ur(e.source,t)&&t.outgoers().some((function(t){return t.isNode()&&Ur(e.target,t)}))},Vr[Er]=function(e,t){return Ur(e.target,t)&&t.incomers().some((function(t){return t.isNode()&&Ur(e.source,t)}))},Vr[Cr]=function(e,t){return Ur(e.child,t)&&Ur(e.parent,t.parent())},Vr[Nr]=function(e,t){return Ur(e.parent,t)&&t.children().some((function(t){return Ur(e.child,t)}))},Vr[Sr]=function(e,t){return Ur(e.descendant,t)&&t.ancestors().some((function(t){return Ur(e.ancestor,t)}))},Vr[Tr]=function(e,t){return Ur(e.ancestor,t)&&t.descendants().some((function(t){return Ur(e.descendant,t)}))},Vr[Ir]=function(e,t){return Ur(e.subject,t)&&Ur(e.left,t)&&Ur(e.right,t)},Vr[Dr]=function(){return!0},Vr[fr]=function(e,t){return e.value.has(t)},Vr[hr]=function(e,t){return(0,e.value)(t)};var Gr={matches:function(e){for(var t=0;t<this.length;t++){var n=this[t];if(Ur(n,e))return!0}return!1},filter:function(e){var t=this;if(1===t.length&&1===t[0].checks.length&&t[0].checks[0].type===mr)return e.getElementById(t[0].checks[0].value).collection();var n=function(e){for(var n=0;n<t.length;n++){var r=t[n];if(Ur(r,e))return!0}return!1};return null==t.text()&&(n=function(){return!0}),e.filter(n)}},Hr=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==e||T(e)&&e.match(/^\s*$/)||(L(e)?this.addQuery({checks:[{type:fr,value:e.collection()}]}):I(e)?this.addQuery({checks:[{type:hr,value:e}]}):T(e)?this.parse(e)||(this.invalid=!0):Ee("A selector must be created from a string; found "))},qr=Hr.prototype;[zr,Gr].forEach((function(e){return X(qr,e)})),qr.text=function(){return this.inputText},qr.size=function(){return this.length},qr.eq=function(e){return this[e]},qr.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()},qr.addQuery=function(e){this[this.length++]=e},qr.selector=qr.toString;var Yr={allAre:function(e){var t=new Hr(e);return this.every((function(e){return t.matches(e)}))},is:function(e){var t=new Hr(e);return this.some((function(e){return t.matches(e)}))},some:function(e,t){for(var n=0;n<this.length;n++){if(t?e.apply(t,[this[n],n,this]):e(this[n],n,this))return!0}return!1},every:function(e,t){for(var n=0;n<this.length;n++){if(!(t?e.apply(t,[this[n],n,this]):e(this[n],n,this)))return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length;return t===e.length&&(1===t?this[0]===e[0]:this.every((function(t){return e.hasElementWithId(t.id())})))},anySame:function(e){return e=this.cy().collection(e),this.some((function(t){return e.hasElementWithId(t.id())}))},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every((function(e){return t.hasElementWithId(e.id())}))},contains:function(e){e=this.cy().collection(e);var t=this;return e.every((function(e){return t.hasElementWithId(e.id())}))}};Yr.allAreNeighbours=Yr.allAreNeighbors,Yr.has=Yr.contains,Yr.equal=Yr.equals=Yr.same;var Wr,Xr,Kr=function(e,t){return function(n,r,i,o){var a,s=n,u=this;if(null==s?a="":L(s)&&1===s.length&&(a=s.id()),1===u.length&&a){var l=u[0]._private,c=l.traversalCache=l.traversalCache||{},f=c[t]=c[t]||[],h=he(a),d=f[h];return d||(f[h]=e.call(u,n,r,i,o))}return e.call(u,n,r,i,o)}},$r={parent:function(e){var t=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var r=0;r<this.length;r++){var i=this[r]._private.parent;i&&t.push(i)}return this.spawn(t,!0).filter(e)},parents:function(e){for(var t=[],n=this.parent();n.nonempty();){for(var r=0;r<n.length;r++){var i=n[r];t.push(i)}n=n.parent()}return this.spawn(t,!0).filter(e)},commonAncestors:function(e){for(var t,n=0;n<this.length;n++){var r=this[n].parents();t=(t=t||r).intersect(r)}return t.filter(e)},orphans:function(e){return this.stdFilter((function(e){return e.isOrphan()})).filter(e)},nonorphans:function(e){return this.stdFilter((function(e){return e.isChild()})).filter(e)},children:Kr((function(e){for(var t=[],n=0;n<this.length;n++)for(var r=this[n]._private.children,i=0;i<r.length;i++)t.push(r[i]);return this.spawn(t,!0).filter(e)}),"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&0!==e._private.children.length},isChildless:function(){var e=this[0];if(e)return e.isNode()&&0===e._private.children.length},isChild:function(){var e=this[0];if(e)return e.isNode()&&null!=e._private.parent},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&null==e._private.parent},descendants:function(e){var t=[];return function e(n){for(var r=0;r<n.length;r++){var i=n[r];t.push(i),i.children().nonempty()&&e(i.children())}}(this.children()),this.spawn(t,!0).filter(e)}};function Qr(e,t,n,r){for(var i=[],o=new Fe,a=e.cy().hasCompoundNodes(),s=0;s<e.length;s++){var u=e[s];n?i.push(u):a&&r(i,o,u)}for(;i.length>0;){var l=i.shift();t(l),o.add(l.id()),a&&r(i,o,l)}return e}function Zr(e,t,n){if(n.isParent())for(var r=n._private.children,i=0;i<r.length;i++){var o=r[i];t.has(o.id())||e.push(o)}}function Jr(e,t,n){if(n.isChild()){var r=n._private.parent;t.has(r.id())||e.push(r)}}function ei(e,t,n){Jr(e,t,n),Zr(e,t,n)}$r.forEachDown=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Qr(this,e,t,Zr)},$r.forEachUp=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Qr(this,e,t,Jr)},$r.forEachUpAndDown=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Qr(this,e,t,ei)},$r.ancestors=$r.parents,(Wr=Xr={data:ar.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:ar.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:ar.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ar.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:ar.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:ar.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}}).attr=Wr.data,Wr.removeAttr=Wr.removeData;var ti,ni,ri=Xr,ii={};function oi(e){return function(t){var n=this;if(void 0===t&&(t=!0),0!==n.length&&n.isNode()&&!n.removed()){for(var r=0,i=n[0],o=i._private.edges,a=0;a<o.length;a++){var s=o[a];!t&&s.isLoop()||(r+=e(i,s))}return r}}}function ai(e,t){return function(n){for(var r,i=this.nodes(),o=0;o<i.length;o++){var a=i[o][e](n);void 0===a||void 0!==r&&!t(a,r)||(r=a)}return r}}X(ii,{degree:oi((function(e,t){return t.source().same(t.target())?2:1})),indegree:oi((function(e,t){return t.target().same(e)?1:0})),outdegree:oi((function(e,t){return t.source().same(e)?1:0}))}),X(ii,{minDegree:ai("degree",(function(e,t){return e<t})),maxDegree:ai("degree",(function(e,t){return e>t})),minIndegree:ai("indegree",(function(e,t){return e<t})),maxIndegree:ai("indegree",(function(e,t){return e>t})),minOutdegree:ai("outdegree",(function(e,t){return e<t})),maxOutdegree:ai("outdegree",(function(e,t){return e>t}))}),X(ii,{totalDegree:function(e){for(var t=0,n=this.nodes(),r=0;r<n.length;r++)t+=n[r].degree(e);return t}});var si=function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(!i.locked()){var o=i._private.position,a={x:null!=t.x?t.x-o.x:0,y:null!=t.y?t.y-o.y:0};!i.isParent()||0===a.x&&0===a.y||i.children().shift(a,n),i.dirtyBoundingBoxCache()}}},ui={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){si(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};ti=ni={position:ar.data(ui),silentPosition:ar.data(X({},ui,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){si(e,t,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,t){if(M(e))t?this.silentPosition(e):this.position(e);else if(I(e)){var n=e,r=this.cy();r.startBatch();for(var i=0;i<this.length;i++){var o,a=this[i];(o=n(a,i))&&(t?a.silentPosition(o):a.position(o))}r.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,n){var r;if(M(e)?(r={x:O(e.x)?e.x:0,y:O(e.y)?e.y:0},n=t):T(e)&&O(t)&&((r={x:0,y:0})[e]=t),null!=r){var i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var a=this[o];if(!(i.hasCompoundNodes()&&a.isChild()&&a.ancestors().anySame(this))){var s=a.position(),u={x:s.x+r.x,y:s.y+r.y};n?a.silentPosition(u):a.position(u)}}i.endBatch()}return this},silentShift:function(e,t){return M(e)?this.shift(e,!0):T(e)&&O(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var n=this[0],r=this.cy(),i=r.zoom(),o=r.pan(),a=M(e)?e:void 0,s=void 0!==a||void 0!==t&&T(e);if(n&&n.isNode()){if(!s){var u=n.position();return a=et(u,i,o),void 0===e?a:a[e]}for(var l=0;l<this.length;l++){var c=this[l];void 0!==t?c.position(e,(t-o[e])/i):void 0!==a&&c.position(tt(a,i,o))}}else if(!s)return;return this},relativePosition:function(e,t){var n=this[0],r=this.cy(),i=M(e)?e:void 0,o=void 0!==i||void 0!==t&&T(e),a=r.hasCompoundNodes();if(n&&n.isNode()){if(!o){var s=n.position(),u=a?n.parent():null,l=u&&u.length>0,c=l;l&&(u=u[0]);var f=c?u.position():{x:0,y:0};return i={x:s.x-f.x,y:s.y-f.y},void 0===e?i:i[e]}for(var h=0;h<this.length;h++){var d=this[h],p=a?d.parent():null,g=p&&p.length>0,v=g;g&&(p=p[0]);var y=v?p.position():{x:0,y:0};void 0!==t?d.position(e,t+y[e]):void 0!==i&&d.position({x:i.x+y.x,y:i.y+y.y})}}else if(!o)return;return this}},ti.modelPosition=ti.point=ti.position,ti.modelPositions=ti.points=ti.positions,ti.renderedPoint=ti.renderedPosition,ti.relativePoint=ti.relativePosition;var li,ci,fi=ni;li=ci={},ci.renderedBoundingBox=function(e){var t=this.boundingBox(e),n=this.cy(),r=n.zoom(),i=n.pan(),o=t.x1*r+i.x,a=t.x2*r+i.x,s=t.y1*r+i.y,u=t.y2*r+i.y;return{x1:o,x2:a,y1:s,y2:u,w:a-o,h:u-s}},ci.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();return t.styleEnabled()&&t.hasCompoundNodes()?(this.forEachUp((function(t){if(t.isParent()){var n=t._private;n.compoundBoundsClean=!1,n.bbCache=null,e||t.emitAndNotify("bounds")}})),this):this},ci.updateCompoundBounds=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function n(e){if(e.isParent()){var t=e._private,n=e.children(),r="include"===e.pstyle("compound-sizing-wrt-labels").value,i={width:{val:e.pstyle("min-width").pfValue,left:e.pstyle("min-width-bias-left"),right:e.pstyle("min-width-bias-right")},height:{val:e.pstyle("min-height").pfValue,top:e.pstyle("min-height-bias-top"),bottom:e.pstyle("min-height-bias-bottom")}},o=n.boundingBox({includeLabels:r,includeOverlays:!1,useCache:!1}),a=t.position;0!==o.w&&0!==o.h||((o={w:e.pstyle("width").pfValue,h:e.pstyle("height").pfValue}).x1=a.x-o.w/2,o.x2=a.x+o.w/2,o.y1=a.y-o.h/2,o.y2=a.y+o.h/2);var s=i.width.left.value;"px"===i.width.left.units&&i.width.val>0&&(s=100*s/i.width.val);var u=i.width.right.value;"px"===i.width.right.units&&i.width.val>0&&(u=100*u/i.width.val);var l=i.height.top.value;"px"===i.height.top.units&&i.height.val>0&&(l=100*l/i.height.val);var c=i.height.bottom.value;"px"===i.height.bottom.units&&i.height.val>0&&(c=100*c/i.height.val);var f=y(i.width.val-o.w,s,u),h=f.biasDiff,d=f.biasComplementDiff,p=y(i.height.val-o.h,l,c),g=p.biasDiff,v=p.biasComplementDiff;t.autoPadding=function(e,t,n,r){if("%"!==n.units)return"px"===n.units?n.pfValue:0;switch(r){case"width":return e>0?n.pfValue*e:0;case"height":return t>0?n.pfValue*t:0;case"average":return e>0&&t>0?n.pfValue*(e+t)/2:0;case"min":return e>0&&t>0?e>t?n.pfValue*t:n.pfValue*e:0;case"max":return e>0&&t>0?e>t?n.pfValue*e:n.pfValue*t:0;default:return 0}}(o.w,o.h,e.pstyle("padding"),e.pstyle("padding-relative-to").value),t.autoWidth=Math.max(o.w,i.width.val),a.x=(-h+o.x1+o.x2+d)/2,t.autoHeight=Math.max(o.h,i.height.val),a.y=(-g+o.y1+o.y2+v)/2}function y(e,t,n){var r=0,i=0,o=t+n;return e>0&&o>0&&(r=t/o*e,i=n/o*e),{biasDiff:r,biasComplementDiff:i}}}for(var r=0;r<this.length;r++){var i=this[r],o=i._private;o.compoundBoundsClean&&!e||(n(i),t.batching()||(o.compoundBoundsClean=!0))}return this};var hi=function(e){return e===1/0||e===-1/0?0:e},di=function(e,t,n,r,i){r-t!==0&&i-n!==0&&null!=t&&null!=n&&null!=r&&null!=i&&(e.x1=t<e.x1?t:e.x1,e.x2=r>e.x2?r:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},pi=function(e,t){return null==t?e:di(e,t.x1,t.y1,t.x2,t.y2)},gi=function(e,t,n){return Pe(e,t,n)},vi=function(e,t,n){if(!t.cy().headless()){var r,i,o=t._private,a=o.rstyle,s=a.arrowWidth/2;if("none"!==t.pstyle(n+"-arrow-shape").value){"source"===n?(r=a.srcX,i=a.srcY):"target"===n?(r=a.tgtX,i=a.tgtY):(r=a.midX,i=a.midY);var u=o.arrowBounds=o.arrowBounds||{},l=u[n]=u[n]||{};l.x1=r-s,l.y1=i-s,l.x2=r+s,l.y2=i+s,l.w=l.x2-l.x1,l.h=l.y2-l.y1,pt(l,1),di(e,l.x1,l.y1,l.x2,l.y2)}}},yi=function(e,t,n){if(!t.cy().headless()){var r;r=n?n+"-":"";var i=t._private,o=i.rstyle;if(t.pstyle(r+"label").strValue){var a,s,u,l,c=t.pstyle("text-halign"),f=t.pstyle("text-valign"),h=gi(o,"labelWidth",n),d=gi(o,"labelHeight",n),p=gi(o,"labelX",n),g=gi(o,"labelY",n),v=t.pstyle(r+"text-margin-x").pfValue,y=t.pstyle(r+"text-margin-y").pfValue,m=t.isEdge(),b=t.pstyle(r+"text-rotation"),_=t.pstyle("text-outline-width").pfValue,w=t.pstyle("text-border-width").pfValue/2,x=t.pstyle("text-background-padding").pfValue,E=d,k=h,C=k/2,S=E/2;if(m)a=p-C,s=p+C,u=g-S,l=g+S;else{switch(c.value){case"left":a=p-k,s=p;break;case"center":a=p-C,s=p+C;break;case"right":a=p,s=p+k}switch(f.value){case"top":u=g-E,l=g;break;case"center":u=g-S,l=g+S;break;case"bottom":u=g,l=g+E}}a+=v-Math.max(_,w)-x-2,s+=v+Math.max(_,w)+x+2,u+=y-Math.max(_,w)-x-2,l+=y+Math.max(_,w)+x+2;var N=n||"main",T=i.labelBounds,I=T[N]=T[N]||{};I.x1=a,I.y1=u,I.x2=s,I.y2=l,I.w=s-a,I.h=l-u;var D=m&&"autorotate"===b.strValue,M=null!=b.pfValue&&0!==b.pfValue;if(D||M){var O=D?gi(i.rstyle,"labelAngle",n):b.pfValue,P=Math.cos(O),L=Math.sin(O),A=(a+s)/2,R=(u+l)/2;if(!m){switch(c.value){case"left":A=s;break;case"right":A=a}switch(f.value){case"top":R=l;break;case"bottom":R=u}}var F=function(e,t){return{x:(e-=A)*P-(t-=R)*L+A,y:e*L+t*P+R}},z=F(a,u),j=F(a,l),B=F(s,u),V=F(s,l);a=Math.min(z.x,j.x,B.x,V.x),s=Math.max(z.x,j.x,B.x,V.x),u=Math.min(z.y,j.y,B.y,V.y),l=Math.max(z.y,j.y,B.y,V.y)}var U=N+"Rot",G=T[U]=T[U]||{};G.x1=a,G.y1=u,G.x2=s,G.y2=l,G.w=s-a,G.h=l-u,di(e,a,u,s,l),di(i.labelBounds.all,a,u,s,l)}return e}},mi=function(e){var t=0,n=function(e){return(e?1:0)<<t++},r=0;return r+=n(e.incudeNodes),r+=n(e.includeEdges),r+=n(e.includeLabels),r+=n(e.includeMainLabels),r+=n(e.includeSourceLabels),r+=n(e.includeTargetLabels),r+=n(e.includeOverlays)},bi=function(e){if(e.isEdge()){var t=e.source().position(),n=e.target().position(),r=function(e){return Math.round(e)};return function(e,t){var n={value:0,done:!1},r=0,i=e.length;return se({next:function(){return r<i?n.value=e[r++]:n.done=!0,n}},t)}([r(t.x),r(t.y),r(n.x),r(n.y)])}return 0},_i=function(e,t){var n,r=e._private,i=e.isEdge(),o=(null==t?xi:mi(t))===xi,a=bi(e),s=r.bbCachePosKey===a,u=t.useCache&&s,l=function(e){return null==e._private.bbCache||e._private.styleDirty};if(!u||l(e)||i&&l(e.source())||l(e.target())?(s||e.recalculateRenderedStyle(u),n=function(e,t){var n,r,i,o,a,s,u,l=e._private.cy,c=l.styleEnabled(),f=l.headless(),h=ht(),d=e._private,p=e.isNode(),g=e.isEdge(),v=d.rstyle,y=p&&c?e.pstyle("bounds-expansion").pfValue:[0],m=function(e){return"none"!==e.pstyle("display").value},b=!c||m(e)&&(!g||m(e.source())&&m(e.target()));if(b){var _=0;c&&t.includeOverlays&&0!==e.pstyle("overlay-opacity").value&&(_=e.pstyle("overlay-padding").value);var w=0;c&&t.includeUnderlays&&0!==e.pstyle("underlay-opacity").value&&(w=e.pstyle("underlay-padding").value);var x=Math.max(_,w),E=0;if(c&&(E=e.pstyle("width").pfValue/2),p&&t.includeNodes){var k=e.position();a=k.x,s=k.y;var C=e.outerWidth()/2,S=e.outerHeight()/2;di(h,n=a-C,i=s-S,r=a+C,o=s+S)}else if(g&&t.includeEdges)if(c&&!f){var N=e.pstyle("curve-style").strValue;if(n=Math.min(v.srcX,v.midX,v.tgtX),r=Math.max(v.srcX,v.midX,v.tgtX),i=Math.min(v.srcY,v.midY,v.tgtY),o=Math.max(v.srcY,v.midY,v.tgtY),di(h,n-=E,i-=E,r+=E,o+=E),"haystack"===N){var T=v.haystackPts;if(T&&2===T.length){if(n=T[0].x,i=T[0].y,n>(r=T[1].x)){var I=n;n=r,r=I}if(i>(o=T[1].y)){var D=i;i=o,o=D}di(h,n-E,i-E,r+E,o+E)}}else if("bezier"===N||"unbundled-bezier"===N||"segments"===N||"taxi"===N){var M;switch(N){case"bezier":case"unbundled-bezier":M=v.bezierPts;break;case"segments":case"taxi":M=v.linePts}if(null!=M)for(var O=0;O<M.length;O++){var P=M[O];n=P.x-E,r=P.x+E,i=P.y-E,o=P.y+E,di(h,n,i,r,o)}}}else{var L=e.source().position(),A=e.target().position();if((n=L.x)>(r=A.x)){var R=n;n=r,r=R}if((i=L.y)>(o=A.y)){var F=i;i=o,o=F}di(h,n-=E,i-=E,r+=E,o+=E)}if(c&&t.includeEdges&&g&&(vi(h,e,"mid-source"),vi(h,e,"mid-target"),vi(h,e,"source"),vi(h,e,"target")),c&&"yes"===e.pstyle("ghost").value){var z=e.pstyle("ghost-offset-x").pfValue,j=e.pstyle("ghost-offset-y").pfValue;di(h,h.x1+z,h.y1+j,h.x2+z,h.y2+j)}var B=d.bodyBounds=d.bodyBounds||{};vt(B,h),gt(B,y),pt(B,1),c&&(n=h.x1,r=h.x2,i=h.y1,o=h.y2,di(h,n-x,i-x,r+x,o+x));var V=d.overlayBounds=d.overlayBounds||{};vt(V,h),gt(V,y),pt(V,1);var U=d.labelBounds=d.labelBounds||{};null!=U.all?((u=U.all).x1=1/0,u.y1=1/0,u.x2=-1/0,u.y2=-1/0,u.w=0,u.h=0):U.all=ht(),c&&t.includeLabels&&(t.includeMainLabels&&yi(h,e,null),g&&(t.includeSourceLabels&&yi(h,e,"source"),t.includeTargetLabels&&yi(h,e,"target")))}return h.x1=hi(h.x1),h.y1=hi(h.y1),h.x2=hi(h.x2),h.y2=hi(h.y2),h.w=hi(h.x2-h.x1),h.h=hi(h.y2-h.y1),h.w>0&&h.h>0&&b&&(gt(h,y),pt(h,1)),h}(e,wi),r.bbCache=n,r.bbCachePosKey=a):n=r.bbCache,!o){var c=e.isNode();n=ht(),(t.includeNodes&&c||t.includeEdges&&!c)&&(t.includeOverlays?pi(n,r.overlayBounds):pi(n,r.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!i||t.includeSourceLabels&&t.includeTargetLabels)?pi(n,r.labelBounds.all):(t.includeMainLabels&&pi(n,r.labelBounds.mainRot),t.includeSourceLabels&&pi(n,r.labelBounds.sourceRot),t.includeTargetLabels&&pi(n,r.labelBounds.targetRot))),n.w=n.x2-n.x1,n.h=n.y2-n.y1}return n},wi={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},xi=mi(wi),Ei=De(wi);ci.boundingBox=function(e){var t;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==e&&void 0!==e.useCache&&!0!==e.useCache){t=ht();var n=Ei(e=e||wi),r=this;if(r.cy().styleEnabled())for(var i=0;i<r.length;i++){var o=r[i],a=o._private,s=bi(o),u=a.bbCachePosKey===s,l=n.useCache&&u&&!a.styleDirty;o.recalculateRenderedStyle(l)}this.updateCompoundBounds(!e.useCache);for(var c=0;c<r.length;c++){var f=r[c];pi(t,_i(f,n))}}else e=void 0===e?wi:Ei(e),t=_i(this[0],e);return t.x1=hi(t.x1),t.y1=hi(t.y1),t.x2=hi(t.x2),t.y2=hi(t.y2),t.w=hi(t.x2-t.x1),t.h=hi(t.y2-t.y1),t},ci.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},ci.boundingBoxAt=function(e){var t=this.nodes(),n=this.cy(),r=n.hasCompoundNodes(),i=n.collection();if(r&&(i=t.filter((function(e){return e.isParent()})),t=t.not(i)),M(e)){var o=e;e=function(){return o}}n.startBatch(),t.forEach((function(t,n){return t._private.bbAtOldPos=e(t,n)})).silentPositions(e),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var a=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}}(this.boundingBox({useCache:!1}));return t.silentPositions((function(e){return e._private.bbAtOldPos})),r&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),n.endBatch(),a},li.boundingbox=li.bb=li.boundingBox,li.renderedBoundingbox=li.renderedBoundingBox;var ki,Ci,Si=ci;ki=Ci={};var Ni=function(e){e.uppercaseName=q(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=q(e.outerName),ki[e.name]=function(){var t=this[0],n=t._private,r=n.cy._private.styleEnabled;if(t){if(r){if(t.isParent())return t.updateCompoundBounds(),n[e.autoName]||0;var i=t.pstyle(e.name);return"label"===i.strValue?(t.recalculateRenderedStyle(),n.rstyle[e.labelName]||0):i.pfValue}return 1}},ki["outer"+e.uppercaseName]=function(){var t=this[0],n=t._private.cy._private.styleEnabled;if(t)return n?t[e.name]()+t.pstyle("border-width").pfValue+2*t.padding():1},ki["rendered"+e.uppercaseName]=function(){var t=this[0];if(t)return t[e.name]()*this.cy().zoom()},ki["rendered"+e.uppercaseOuterName]=function(){var t=this[0];if(t)return t[e.outerName]()*this.cy().zoom()}};Ni({name:"width"}),Ni({name:"height"}),Ci.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),void 0!==t.autoPadding?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue},Ci.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()},Ci.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var Ti=Ci,Ii={controlPoints:{get:function(e){return e.renderer().getControlPoints(e)},mult:!0},segmentPoints:{get:function(e){return e.renderer().getSegmentPoints(e)},mult:!0},sourceEndpoint:{get:function(e){return e.renderer().getSourceEndpoint(e)}},targetEndpoint:{get:function(e){return e.renderer().getTargetEndpoint(e)}},midpoint:{get:function(e){return e.renderer().getEdgeMidpoint(e)}}},Di=Object.keys(Ii).reduce((function(e,t){var n=Ii[t],r=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)}(t);return e[t]=function(){return function(e,t){if(e.isEdge())return t(e)}(this,n.get)},n.mult?e[r]=function(){return function(e,t){if(e.isEdge()){var n=e.cy(),r=n.pan(),i=n.zoom();return t(e).map((function(e){return et(e,i,r)}))}}(this,n.get)}:e[r]=function(){return function(e,t){if(e.isEdge()){var n=e.cy();return et(t(e),n.zoom(),n.pan())}}(this,n.get)},e}),{}),Mi=X({},fi,Si,Ti,Di),Oi=function(e,t){this.recycle(e,t)};function Pi(){return!1}function Li(){return!0}Oi.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Pi,null!=e&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Li:Pi):null!=e&&e.type?t=e:this.type=e,null!=t&&(this.originalEvent=t.originalEvent,this.type=null!=t.type?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var n=this.position,r=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*r+i.x,y:n.y*r+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Li;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Li;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Li,this.stopPropagation()},isDefaultPrevented:Pi,isPropagationStopped:Pi,isImmediatePropagationStopped:Pi};var Ai=/^([^.]+)(\.(?:[^.]+))?$/,Ri={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Fi=Object.keys(Ri),zi={};function ji(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi,t=arguments.length>1?arguments[1]:void 0,n=0;n<Fi.length;n++){var r=Fi[n];this[r]=e[r]||Ri[r]}this.context=t||this.context,this.listeners=[],this.emitting=0}var Bi=ji.prototype,Vi=function(e,t,n,r,i,o,a){I(r)&&(i=r,r=null),a&&(o=null==o?a:X({},o,a));for(var s=D(n)?n:n.split(/\s+/),u=0;u<s.length;u++){var l=s[u];if(!j(l)){var c=l.match(Ai);if(c)if(!1===t(e,l,c[1],c[2]?c[2]:null,r,i,o))break}}},Ui=function(e,t){return e.addEventFields(e.context,t),new Oi(t.type,t)},Gi=function(e,t,n){if("event"!==N(n))if(M(n))t(e,Ui(e,n));else for(var r=D(n)?n:n.split(/\s+/),i=0;i<r.length;i++){var o=r[i];if(!j(o)){var a=o.match(Ai);if(a){var s=a[1],u=a[2]?a[2]:null;t(e,Ui(e,{type:s,namespace:u,target:e.context}))}}}else t(e,n)};Bi.on=Bi.addListener=function(e,t,n,r,i){return Vi(this,(function(e,t,n,r,i,o,a){I(o)&&e.listeners.push({event:t,callback:o,type:n,namespace:r,qualifier:i,conf:a})}),e,t,n,r,i),this},Bi.one=function(e,t,n,r){return this.on(e,t,n,r,{one:!0})},Bi.removeListener=Bi.off=function(e,t,n,r){var i=this;0!==this.emitting&&(this.listeners=this.listeners.slice());for(var o=this.listeners,a=function(a){var s=o[a];Vi(i,(function(t,n,r,i,u,l){if((s.type===r||"*"===e)&&(!i&&".*"!==s.namespace||s.namespace===i)&&(!u||t.qualifierCompare(s.qualifier,u))&&(!l||s.callback===l))return o.splice(a,1),!1}),e,t,n,r)},s=o.length-1;s>=0;s--)a(s);return this},Bi.removeAllListeners=function(){return this.removeListener("*")},Bi.emit=Bi.trigger=function(e,t,n){var r=this.listeners,i=r.length;return this.emitting++,D(t)||(t=[t]),Gi(this,(function(e,o){null!=n&&(r=[{event:o.event,type:o.type,namespace:o.namespace,callback:n}],i=r.length);for(var a=function(n){var i=r[n];if(i.type===o.type&&(!i.namespace||i.namespace===o.namespace||".*"===i.namespace)&&e.eventMatches(e.context,i,o)){var a=[o];null!=t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}}(a,t),e.beforeEmit(e.context,i,o),i.conf&&i.conf.one&&(e.listeners=e.listeners.filter((function(e){return e!==i})));var s=e.callbackContext(e.context,i,o),u=i.callback.apply(s,a);e.afterEmit(e.context,i,o),!1===u&&(o.stopPropagation(),o.preventDefault())}},s=0;s<i;s++)a(s);e.bubble(e.context)&&!o.isPropagationStopped()&&e.parent(e.context).emit(o,t)}),e),this.emitting--,this};var Hi={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&A(n.target)&&r.matches(n.target)},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},qi=function(e){return T(e)?new Hr(e):e},Yi={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],n=t._private;n.emitter||(n.emitter=new ji(Hi,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,n){for(var r=qi(t),i=0;i<this.length;i++){this[i].emitter().on(e,r,n)}return this},removeListener:function(e,t,n){for(var r=qi(t),i=0;i<this.length;i++){this[i].emitter().removeListener(e,r,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){this[e].emitter().removeAllListeners()}return this},one:function(e,t,n){for(var r=qi(t),i=0;i<this.length;i++){this[i].emitter().one(e,r,n)}return this},once:function(e,t,n){for(var r=qi(t),i=0;i<this.length;i++){this[i].emitter().on(e,r,n,{once:!0,onceCollection:this})}},emit:function(e,t){for(var n=0;n<this.length;n++){this[n].emitter().emit(e,t)}return this},emitAndNotify:function(e,t){if(0!==this.length)return this.cy().notify(e,this),this.emit(e,t),this}};ar.eventAliasesOn(Yi);var Wi={nodes:function(e){return this.filter((function(e){return e.isNode()})).filter(e)},edges:function(e){return this.filter((function(e){return e.isEdge()})).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),n=0;n<this.length;n++){var r=this[n];r.isNode()?e.push(r):t.push(r)}return{nodes:e,edges:t}},filter:function(e,t){if(void 0===e)return this;if(T(e)||L(e))return new Hr(e).filter(this);if(I(e)){for(var n=this.spawn(),r=this,i=0;i<r.length;i++){var o=r[i];(t?e.apply(t,[o,i,r]):e(o,i,r))&&n.push(o)}return n}return this.spawn()},not:function(e){if(e){T(e)&&(e=this.filter(e));for(var t=this.spawn(),n=0;n<this.length;n++){var r=this[n];e.has(r)||t.push(r)}return t}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(e){if(T(e)){var t=e;return this.filter(t)}for(var n=this.spawn(),r=e,i=this.length<e.length,o=i?this:r,a=i?r:this,s=0;s<o.length;s++){var u=o[s];a.has(u)&&n.push(u)}return n},xor:function(e){var t=this._private.cy;T(e)&&(e=t.$(e));var n=this.spawn(),r=e,i=function(e,t){for(var r=0;r<e.length;r++){var i=e[r],o=i._private.data.id;t.hasElementWithId(o)||n.push(i)}};return i(this,r),i(r,this),n},diff:function(e){var t=this._private.cy;T(e)&&(e=t.$(e));var n=this.spawn(),r=this.spawn(),i=this.spawn(),o=e,a=function(e,t,n){for(var r=0;r<e.length;r++){var o=e[r],a=o._private.data.id;t.hasElementWithId(a)?i.merge(o):n.push(o)}};return a(this,o,n),a(o,this,r),{left:n,right:r,both:i}},add:function(e){var t=this._private.cy;if(!e)return this;if(T(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=this.spawnSelf(),i=0;i<e.length;i++){var o=e[i],a=!this.has(o);a&&r.push(o)}return r},merge:function(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&T(e)){var r=e;e=n.mutableElements().filter(r)}for(var i=t.map,o=0;o<e.length;o++){var a=e[o],s=a._private.data.id;if(!i.has(s)){var u=this.length++;this[u]=a,i.set(s,{ele:a,index:u})}}return this},unmergeAt:function(e){var t=this[e].id(),n=this._private.map;this[e]=void 0,n.delete(t);var r=e===this.length-1;if(this.length>1&&!r){var i=this.length-1,o=this[i],a=o._private.data.id;this[i]=void 0,this[e]=o,n.set(a,{ele:o,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var t=this._private,n=e._private.data.id,r=t.map.get(n);if(!r)return this;var i=r.index;return this.unmergeAt(i),this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&T(e)){var n=e;e=t.mutableElements().filter(n)}for(var r=0;r<e.length;r++)this.unmergeOne(e[r]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--){e(this[t])&&this.unmergeAt(t)}return this},map:function(e,t){for(var n=[],r=this,i=0;i<r.length;i++){var o=r[i],a=t?e.apply(t,[o,i,r]):e(o,i,r);n.push(a)}return n},reduce:function(e,t){for(var n=t,r=this,i=0;i<r.length;i++)n=e(n,r[i],i,r);return n},max:function(e,t){for(var n,r=-1/0,i=this,o=0;o<i.length;o++){var a=i[o],s=t?e.apply(t,[a,o,i]):e(a,o,i);s>r&&(r=s,n=a)}return{value:r,ele:n}},min:function(e,t){for(var n,r=1/0,i=this,o=0;o<i.length;o++){var a=i[o],s=t?e.apply(t,[a,o,i]):e(a,o,i);s<r&&(r=s,n=a)}return{value:r,ele:n}}},Xi=Wi;Xi.u=Xi["|"]=Xi["+"]=Xi.union=Xi.or=Xi.add,Xi["\\"]=Xi["!"]=Xi["-"]=Xi.difference=Xi.relativeComplement=Xi.subtract=Xi.not,Xi.n=Xi["&"]=Xi["."]=Xi.and=Xi.intersection=Xi.intersect,Xi["^"]=Xi["(+)"]=Xi["(-)"]=Xi.symmetricDifference=Xi.symdiff=Xi.xor,Xi.fnFilter=Xi.filterFn=Xi.stdFilter=Xi.filter,Xi.complement=Xi.abscomp=Xi.absoluteComplement;var Ki=function(e,t){var n=e.cy().hasCompoundNodes();function r(e){var t=e.pstyle("z-compound-depth");return"auto"===t.value?n?e.zDepth():0:"bottom"===t.value?-1:"top"===t.value?me:0}var i=r(e)-r(t);if(0!==i)return i;function o(e){return"auto"===e.pstyle("z-index-compare").value&&e.isNode()?1:0}var a=o(e)-o(t);if(0!==a)return a;var s=e.pstyle("z-index").value-t.pstyle("z-index").value;return 0!==s?s:e.poolIndex()-t.poolIndex()},$i={forEach:function(e,t){if(I(e))for(var n=this.length,r=0;r<n;r++){var i=this[r];if(!1===(t?e.apply(t,[i,r,this]):e(i,r,this)))break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var n=[],r=this.length;null==t&&(t=r),null==e&&(e=0),e<0&&(e=r+e),t<0&&(t=r+t);for(var i=e;i>=0&&i<t&&i<r;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){if(!I(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(Ki)},zDepth:function(){var e=this[0];if(e){var t=e._private;if("nodes"===t.group){var n=t.data.parent?e.parents().size():0;return e.isParent()?n:me-1}var r=t.source,i=t.target,o=r.zDepth(),a=i.zDepth();return Math.max(o,a,0)}}};$i.each=$i.forEach;!function(){var e="undefined";("undefined"===typeof Symbol?"undefined":p(Symbol))!=e&&p(Symbol.iterator)!=e&&($i[Symbol.iterator]=function(){var e=this,t={value:void 0,done:!1},n=0,r=this.length;return m({next:function(){return n<r?t.value=e[n++]:(t.value=void 0,t.done=!0),t}},Symbol.iterator,(function(){return this}))})}();var Qi=De({nodeDimensionsIncludeLabels:!1}),Zi={layoutDimensions:function(e){var t;if(e=Qi(e),this.takesUpSpace())if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();t={w:n.w,h:n.h}}else t={w:this.outerWidth(),h:this.outerHeight()};else t={w:0,h:0};return 0!==t.w&&0!==t.h||(t.w=t.h=1),t},layoutPositions:function(e,t,n){var r=this.nodes().filter((function(e){return!e.isParent()})),i=this.cy(),o=t.eles,a=function(e){return e.id()},s=V(n,a);e.emit({type:"layoutstart",layout:e}),e.animations=[];var u=t.spacingFactor&&1!==t.spacingFactor,l=function(){if(!u)return null;for(var e=ht(),t=0;t<r.length;t++){var n=r[t],i=s(n,t);dt(e,i.x,i.y)}return e}(),c=V((function(e,n){var r=s(e,n);u&&(r=function(e,t,n){var r=t.x1+t.w/2,i=t.y1+t.h/2;return{x:r+(n.x-r)*e,y:i+(n.y-i)*e}}(Math.abs(t.spacingFactor),l,r));return null!=t.transform&&(r=t.transform(e,r)),r}),a);if(t.animate){for(var f=0;f<r.length;f++){var h=r[f],d=c(h,f);if(null==t.animateFilter||t.animateFilter(h,f)){var p=h.animation({position:d,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(p)}else h.position(d)}if(t.fit){var g=i.animation({fit:{boundingBox:o.boundingBoxAt(c),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(g)}else if(void 0!==t.zoom&&void 0!==t.pan){var v=i.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(v)}e.animations.forEach((function(e){return e.play()})),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),er.all(e.animations.map((function(e){return e.promise()}))).then((function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})}))}else r.positions(c),t.fit&&i.fit(t.eles,t.padding),null!=t.zoom&&i.zoom(t.zoom),t.pan&&i.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){return this.cy().makeLayout(X({},e,{eles:this}))}};function Ji(e,t,n){var r,i=n._private,o=i.styleCache=i.styleCache||[];return null!=(r=o[e])?r:r=o[e]=t(n)}function eo(e,t){return e=he(e),function(n){return Ji(e,t,n)}}function to(e,t){e=he(e);var n=function(e){return t.call(e)};return function(){var t=this[0];if(t)return Ji(e,n,t)}}Zi.createLayout=Zi.makeLayout=Zi.layout;var no={recalculateRenderedStyle:function(e){var t=this.cy(),n=t.renderer(),r=t.styleEnabled();return n&&r&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e,t=this.cy(),n=function(e){return e._private.styleCache=null};t.hasCompoundNodes()?((e=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(e.connectedEdges()),e.forEach(n)):this.forEach((function(e){n(e),e.connectedEdges().forEach(n)}));return this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching())return t._private.batchStyleEles.merge(this),this;var n=this;e=!(!e&&void 0!==e),t.hasCompoundNodes()&&(n=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var r=n;return e?r.emitAndNotify("style"):r.emit("style"),n.forEach((function(e){return e._private.styleDirty=!0})),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var n=this[t];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this[0],r=n.cy();if(r.styleEnabled()&&n){this.cleanStyle();var i=n._private.style[e];return null!=i?i:t?r.style().getDefaultProperty(e):null}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var n=t.pstyle(e);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled())return t?t.pstyle(e).units:void 0},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];return n?t.style().getRenderedStyle(n,e):void 0},style:function(e,t){var n=this.cy();if(!n.styleEnabled())return this;var r=n.style();if(M(e)){var i=e;r.applyBypass(this,i,false),this.emitAndNotify("style")}else if(T(e)){if(void 0===t){var o=this[0];return o?r.getStylePropertyValue(o,e):void 0}r.applyBypass(this,e,t,false),this.emitAndNotify("style")}else if(void 0===e){var a=this[0];return a?r.getRawStyle(a):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=t.style(),r=this;if(void 0===e)for(var i=0;i<r.length;i++){var o=r[i];n.removeAllBypasses(o,false)}else{e=e.split(/\s+/);for(var a=0;a<r.length;a++){var s=r[a];n.removeBypasses(s,e,false)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var r=n._private,i=n.pstyle("opacity").value;if(!t)return i;var o=r.data.parent?n.parents():null;if(o)for(var a=0;a<o.length;a++){i*=o[a].pstyle("opacity").value}return i}},transparent:function(){if(!this.cy().styleEnabled())return!1;var e=this[0],t=e.cy().hasCompoundNodes();return e?t?0===e.effectiveOpacity():0===e.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function ro(e,t){var n=e._private.data.parent?e.parents():null;if(n)for(var r=0;r<n.length;r++){if(!t(n[r]))return!1}return!0}function io(e){var t=e.ok,n=e.edgeOkViaNode||e.ok,r=e.parentOk||e.ok;return function(){var e=this.cy();if(!e.styleEnabled())return!0;var i=this[0],o=e.hasCompoundNodes();if(i){var a=i._private;if(!t(i))return!1;if(i.isNode())return!o||ro(i,r);var s=a.source,u=a.target;return n(s)&&(!o||ro(s,n))&&(s===u||n(u)&&(!o||ro(u,n)))}}}var oo=eo("eleTakesUpSpace",(function(e){return"element"===e.pstyle("display").value&&0!==e.width()&&(!e.isNode()||0!==e.height())}));no.takesUpSpace=to("takesUpSpace",io({ok:oo}));var ao=eo("eleInteractive",(function(e){return"yes"===e.pstyle("events").value&&"visible"===e.pstyle("visibility").value&&oo(e)})),so=eo("parentInteractive",(function(e){return"visible"===e.pstyle("visibility").value&&oo(e)}));no.interactive=to("interactive",io({ok:ao,parentOk:so,edgeOkViaNode:oo})),no.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var uo=eo("eleVisible",(function(e){return"visible"===e.pstyle("visibility").value&&0!==e.pstyle("opacity").pfValue&&oo(e)})),lo=oo;no.visible=to("visible",io({ok:uo,edgeOkViaNode:lo})),no.hidden=function(){var e=this[0];if(e)return!e.visible()},no.isBundledBezier=to("isBundledBezier",(function(){return!!this.cy().styleEnabled()&&(!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace())})),no.bypass=no.css=no.style,no.renderedCss=no.renderedStyle,no.removeBypass=no.removeCss=no.removeStyle,no.pstyle=no.parsedStyle;var co={};function fo(e){return function(){var t=arguments,n=[];if(2===t.length){var r=t[0],i=t[1];this.on(e.event,r,i)}else if(1===t.length&&I(t[0])){var o=t[0];this.on(e.event,o)}else if(0===t.length||1===t.length&&D(t[0])){for(var a=1===t.length?t[0]:null,s=0;s<this.length;s++){var u=this[s],l=!e.ableField||u._private[e.ableField],c=u._private[e.field]!=e.value;if(e.overrideAble){var f=e.overrideAble(u);if(void 0!==f&&(l=f,!f))return this}l&&(u._private[e.field]=e.value,c&&n.push(u))}var h=this.spawn(n);h.updateStyle(),h.emit(e.event),a&&h.emit(a)}return this}}function ho(e){co[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var n=e.overrideField(t);if(void 0!==n)return n}return t._private[e.field]}},co[e.on]=fo({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),co[e.off]=fo({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}ho({field:"locked",overrideField:function(e){return!!e.cy().autolock()||void 0},on:"lock",off:"unlock"}),ho({field:"grabbable",overrideField:function(e){return!e.cy().autoungrabify()&&!e.pannable()&&void 0},on:"grabify",off:"ungrabify"}),ho({field:"selected",ableField:"selectable",overrideAble:function(e){return!e.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),ho({field:"selectable",overrideField:function(e){return!e.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),co.deselect=co.unselect,co.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},ho({field:"active",on:"activate",off:"unactivate"}),ho({field:"pannable",on:"panify",off:"unpanify"}),co.inactive=function(){var e=this[0];if(e)return!e._private.active};var po={},go=function(e){return function(t){for(var n=[],r=0;r<this.length;r++){var i=this[r];if(i.isNode()){for(var o=!1,a=i.connectedEdges(),s=0;s<a.length;s++){var u=a[s],l=u.source(),c=u.target();if(e.noIncomingEdges&&c===i&&l!==i||e.noOutgoingEdges&&l===i&&c!==i){o=!0;break}}o||n.push(i)}}return this.spawn(n,!0).filter(t)}},vo=function(e){return function(t){for(var n=[],r=0;r<this.length;r++){var i=this[r];if(i.isNode())for(var o=i.connectedEdges(),a=0;a<o.length;a++){var s=o[a],u=s.source(),l=s.target();e.outgoing&&u===i?(n.push(s),n.push(l)):e.incoming&&l===i&&(n.push(s),n.push(u))}}return this.spawn(n,!0).filter(t)}},yo=function(e){return function(t){for(var n=this,r=[],i={};;){var o=e.outgoing?n.outgoers():n.incomers();if(0===o.length)break;for(var a=!1,s=0;s<o.length;s++){var u=o[s],l=u.id();i[l]||(i[l]=!0,r.push(u),a=!0)}if(!a)break;n=o}return this.spawn(r,!0).filter(t)}};function mo(e){return function(t){for(var n=[],r=0;r<this.length;r++){var i=this[r]._private[e.attr];i&&n.push(i)}return this.spawn(n,!0).filter(t)}}function bo(e){return function(t){var n=[],r=this._private.cy,i=e||{};T(t)&&(t=r.$(t));for(var o=0;o<t.length;o++)for(var a=t[o]._private.edges,s=0;s<a.length;s++){var u=a[s],l=u._private.data,c=this.hasElementWithId(l.source)&&t.hasElementWithId(l.target),f=t.hasElementWithId(l.source)&&this.hasElementWithId(l.target);if(c||f){if(i.thisIsSrc||i.thisIsTgt){if(i.thisIsSrc&&!c)continue;if(i.thisIsTgt&&!f)continue}n.push(u)}}return this.spawn(n,!0)}}function _o(e){return e=X({},{codirected:!1},e),function(t){for(var n=[],r=this.edges(),i=e,o=0;o<r.length;o++)for(var a=r[o]._private,s=a.source,u=s._private.data.id,l=a.data.target,c=s._private.edges,f=0;f<c.length;f++){var h=c[f],d=h._private.data,p=d.target,g=d.source,v=p===l&&g===u,y=u===p&&l===g;(i.codirected&&v||!i.codirected&&(v||y))&&n.push(h)}return this.spawn(n,!0).filter(t)}}po.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},X(po,{roots:go({noIncomingEdges:!0}),leaves:go({noOutgoingEdges:!0}),outgoers:Kr(vo({outgoing:!0}),"outgoers"),successors:yo({outgoing:!0}),incomers:Kr(vo({incoming:!0}),"incomers"),predecessors:yo({incoming:!0})}),X(po,{neighborhood:Kr((function(e){for(var t=[],n=this.nodes(),r=0;r<n.length;r++)for(var i=n[r],o=i.connectedEdges(),a=0;a<o.length;a++){var s=o[a],u=s.source(),l=s.target(),c=i===u?l:u;c.length>0&&t.push(c[0]),t.push(s[0])}return this.spawn(t,!0).filter(e)}),"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),po.neighbourhood=po.neighborhood,po.closedNeighbourhood=po.closedNeighborhood,po.openNeighbourhood=po.openNeighborhood,X(po,{source:Kr((function(e){var t,n=this[0];return n&&(t=n._private.source||n.cy().collection()),t&&e?t.filter(e):t}),"source"),target:Kr((function(e){var t,n=this[0];return n&&(t=n._private.target||n.cy().collection()),t&&e?t.filter(e):t}),"target"),sources:mo({attr:"source"}),targets:mo({attr:"target"})}),X(po,{edgesWith:Kr(bo(),"edgesWith"),edgesTo:Kr(bo({thisIsSrc:!0}),"edgesTo")}),X(po,{connectedEdges:Kr((function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];if(r.isNode())for(var i=r._private.edges,o=0;o<i.length;o++){var a=i[o];t.push(a)}}return this.spawn(t,!0).filter(e)}),"connectedEdges"),connectedNodes:Kr((function(e){for(var t=[],n=0;n<this.length;n++){var r=this[n];r.isEdge()&&(t.push(r.source()[0]),t.push(r.target()[0]))}return this.spawn(t,!0).filter(e)}),"connectedNodes"),parallelEdges:Kr(_o(),"parallelEdges"),codirectedEdges:Kr(_o({codirected:!0}),"codirectedEdges")}),X(po,{components:function(e){var t=this,n=t.cy(),r=n.collection(),i=null==e?t.nodes():e.nodes(),o=[];null!=e&&i.empty()&&(i=e.sources());var a=function(e,t){r.merge(e),i.unmerge(e),t.merge(e)};if(i.empty())return t.spawn();var s=function(){var e=n.collection();o.push(e);var r=i[0];a(r,e),t.bfs({directed:!1,roots:r,visit:function(t){return a(t,e)}}),e.forEach((function(n){n.connectedEdges().forEach((function(n){t.has(n)&&e.has(n.source())&&e.has(n.target())&&e.merge(n)}))}))};do{s()}while(i.length>0);return o},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}}),po.componentsOf=po.components;var wo=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0!==e){var r=new Ae,i=!1;if(t){if(t.length>0&&M(t[0])&&!A(t[0])){i=!0;for(var o=[],a=new Fe,s=0,u=t.length;s<u;s++){var l=t[s];null==l.data&&(l.data={});var c=l.data;if(null==c.id)c.id=Ne();else if(e.hasElementWithId(c.id)||a.has(c.id))continue;var f=new ze(e,l,!1);o.push(f),a.add(c.id)}t=o}}else t=[];this.length=0;for(var h=0,d=t.length;h<d;h++){var p=t[h][0];if(null!=p){var g=p._private.data.id;n&&r.has(g)||(n&&r.set(g,{index:this.length,ele:p}),this[this.length]=p,this.length++)}}this._private={eles:this,cy:e,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(e){this.lazyMap=e},rebuildMap:function(){for(var e=this.lazyMap=new Ae,t=this.eles,n=0;n<t.length;n++){var r=t[n];e.set(r.id(),{index:n,ele:r})}}},n&&(this._private.map=r),i&&this.restore()}else Ee("A collection must have a reference to the core")},xo=ze.prototype=wo.prototype=Object.create(Array.prototype);xo.instanceString=function(){return"collection"},xo.spawn=function(e,t){return new wo(this.cy(),e,t)},xo.spawnSelf=function(){return this.spawn(this)},xo.cy=function(){return this._private.cy},xo.renderer=function(){return this._private.cy.renderer()},xo.element=function(){return this[0]},xo.collection=function(){return R(this)?this:new wo(this._private.cy,[this])},xo.unique=function(){return new wo(this._private.cy,this,!0)},xo.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)},xo.getElementById=function(e){e=""+e;var t=this._private.cy,n=this._private.map.get(e);return n?n.ele:new wo(t)},xo.$id=xo.getElementById,xo.poolIndex=function(){var e=this._private.cy._private.elements,t=this[0]._private.data.id;return e._private.map.get(t).index},xo.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index},xo.indexOfId=function(e){return e=""+e,this._private.map.get(e).index},xo.json=function(e){var t=this.element(),n=this.cy();if(null==t&&e)return this;if(null!=t){var r=t._private;if(M(e)){if(n.startBatch(),e.data){t.data(e.data);var i=r.data;if(t.isEdge()){var o=!1,a={},s=e.data.source,u=e.data.target;null!=s&&s!=i.source&&(a.source=""+s,o=!0),null!=u&&u!=i.target&&(a.target=""+u,o=!0),o&&(t=t.move(a))}else{var l="parent"in e.data,c=e.data.parent;!l||null==c&&null==i.parent||c==i.parent||(void 0===c&&(c=null),null!=c&&(c=""+c),t=t.move({parent:c}))}}e.position&&t.position(e.position);var f=function(n,i,o){var a=e[n];null!=a&&a!==r[n]&&(a?t[i]():t[o]())};return f("removed","remove","restore"),f("selected","select","unselect"),f("selectable","selectify","unselectify"),f("locked","lock","unlock"),f("grabbable","grabify","ungrabify"),f("pannable","panify","unpanify"),null!=e.classes&&t.classes(e.classes),n.endBatch(),this}if(void 0===e){var h={data:Se(r.data),position:Se(r.position),group:r.group,removed:r.removed,selected:r.selected,selectable:r.selectable,locked:r.locked,grabbable:r.grabbable,pannable:r.pannable,classes:null};h.classes="";var d=0;return r.classes.forEach((function(e){return h.classes+=0===d++?e:" "+e})),h}}},xo.jsons=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t].json();e.push(n)}return e},xo.clone=function(){for(var e=this.cy(),t=[],n=0;n<this.length;n++){var r=this[n].json(),i=new ze(e,r,!1);t.push(i)}return new wo(e,t)},xo.copy=xo.clone,xo.restore=function(){for(var e,t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this,o=i.cy(),a=o._private,s=[],u=[],l=0,c=i.length;l<c;l++){var f=i[l];r&&!f.removed()||(f.isNode()?s.push(f):u.push(f))}e=s.concat(u);var h=function(){e.splice(t,1),t--};for(t=0;t<e.length;t++){var d=e[t],p=d._private,g=p.data;if(d.clearTraversalCache(),r||p.removed)if(void 0===g.id)g.id=Ne();else if(O(g.id))g.id=""+g.id;else{if(j(g.id)||!T(g.id)){Ee("Can not create element with invalid string ID `"+g.id+"`"),h();continue}if(o.hasElementWithId(g.id)){Ee("Can not create second element with ID `"+g.id+"`"),h();continue}}else;var v=g.id;if(d.isNode()){var y=p.position;null==y.x&&(y.x=0),null==y.y&&(y.y=0)}if(d.isEdge()){for(var m=d,b=["source","target"],_=b.length,w=!1,x=0;x<_;x++){var E=b[x],k=g[E];O(k)&&(k=g[E]=""+g[E]),null==k||""===k?(Ee("Can not create edge `"+v+"` with unspecified "+E),w=!0):o.hasElementWithId(k)||(Ee("Can not create edge `"+v+"` with nonexistant "+E+" `"+k+"`"),w=!0)}if(w){h();continue}var C=o.getElementById(g.source),S=o.getElementById(g.target);C.same(S)?C._private.edges.push(m):(C._private.edges.push(m),S._private.edges.push(m)),m._private.source=C,m._private.target=S}p.map=new Ae,p.map.set(v,{ele:d,index:0}),p.removed=!1,r&&o.addToPool(d)}for(var N=0;N<s.length;N++){var I=s[N],D=I._private.data;O(D.parent)&&(D.parent=""+D.parent);var M=D.parent,P=null!=M;if(P){var L=o.getElementById(M);if(L.empty())D.parent=void 0;else{for(var A=!1,R=L;!R.empty();){if(I.same(R)){A=!0,D.parent=void 0;break}R=R.parent()}A||(L[0]._private.children.push(I),I._private.parent=L[0],a.hasCompoundNodes=!0)}}}if(e.length>0){for(var F=e.length===i.length?i:new wo(o,e),z=0;z<F.length;z++){var B=F[z];B.isNode()||(B.parallelEdges().clearTraversalCache(),B.source().clearTraversalCache(),B.target().clearTraversalCache())}(a.hasCompoundNodes?o.collection().merge(F).merge(F.connectedNodes()).merge(F.parent()):F).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(n),n?F.emitAndNotify("add"):r&&F.emit("add")}return i},xo.removed=function(){var e=this[0];return e&&e._private.removed},xo.inside=function(){var e=this[0];return e&&!e._private.removed},xo.remove=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,r=[],i={},o=n._private.cy;function a(e){for(var t=e._private.edges,n=0;n<t.length;n++)u(t[n])}function s(e){for(var t=e._private.children,n=0;n<t.length;n++)u(t[n])}function u(e){var n=i[e.id()];t&&e.removed()||n||(i[e.id()]=!0,e.isNode()?(r.push(e),a(e),s(e)):r.unshift(e))}for(var l=0,c=n.length;l<c;l++){var f=n[l];u(f)}function h(e,t){var n=e._private.edges;Me(n,t),e.clearTraversalCache()}function d(e){e.clearTraversalCache()}var p=[];function g(e,t){t=t[0];var n=(e=e[0])._private.children,r=e.id();Me(n,t),t._private.parent=null,p.ids[r]||(p.ids[r]=!0,p.push(e))}p.ids={},n.dirtyCompoundBoundsCache(),t&&o.removeFromPool(r);for(var v=0;v<r.length;v++){var y=r[v];if(y.isEdge()){var m=y.source()[0],b=y.target()[0];h(m,y),h(b,y);for(var _=y.parallelEdges(),w=0;w<_.length;w++){var x=_[w];d(x),x.isBundledBezier()&&x.dirtyBoundingBoxCache()}}else{var E=y.parent();0!==E.length&&g(E,y)}t&&(y._private.removed=!0)}var k=o._private.elements;o._private.hasCompoundNodes=!1;for(var C=0;C<k.length;C++){var S=k[C];if(S.isParent()){o._private.hasCompoundNodes=!0;break}}var N=new wo(this.cy(),r);N.size()>0&&(e?N.emitAndNotify("remove"):t&&N.emit("remove"));for(var T=0;T<p.length;T++){var I=p[T];t&&I.removed()||I.updateStyle()}return N},xo.move=function(e){var t=this._private.cy,n=this,r=!1,i=!1,o=function(e){return null==e?e:""+e};if(void 0!==e.source||void 0!==e.target){var a=o(e.source),s=o(e.target),u=null!=a&&t.hasElementWithId(a),l=null!=s&&t.hasElementWithId(s);(u||l)&&(t.batch((function(){n.remove(r,i),n.emitAndNotify("moveout");for(var e=0;e<n.length;e++){var t=n[e],o=t._private.data;t.isEdge()&&(u&&(o.source=a),l&&(o.target=s))}n.restore(r,i)})),n.emitAndNotify("move"))}else if(void 0!==e.parent){var c=o(e.parent);if(null===c||t.hasElementWithId(c)){var f=null===c?void 0:c;t.batch((function(){var e=n.remove(r,i);e.emitAndNotify("moveout");for(var t=0;t<n.length;t++){var o=n[t],a=o._private.data;o.isNode()&&(a.parent=f)}e.restore(r,i)})),n.emitAndNotify("move")}}return this},[Wn,sr,ur,Yr,$r,ri,ii,Mi,Yi,Wi,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},$i,Zi,no,co,po].forEach((function(e){X(xo,e)}));var Eo={add:function(e){var t,n=this;if(L(e)){var r=e;if(r._private.cy===n)t=r.restore();else{for(var i=[],o=0;o<r.length;o++){var a=r[o];i.push(a.json())}t=new wo(n,i)}}else if(D(e)){t=new wo(n,e)}else if(M(e)&&(D(e.nodes)||D(e.edges))){for(var s=e,u=[],l=["nodes","edges"],c=0,f=l.length;c<f;c++){var h=l[c],d=s[h];if(D(d))for(var p=0,g=d.length;p<g;p++){var v=X({group:h},d[p]);u.push(v)}}t=new wo(n,u)}else{t=new ze(n,e).collection()}return t},remove:function(e){if(L(e));else if(T(e)){var t=e;e=this.$(t)}return e.remove()}};var ko=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,r){var i={x:t.x+r.dx*n,v:t.v+r.dv*n,tension:t.tension,friction:t.friction};return{dx:i.v,dv:e(i)}}function n(n,r){var i={dx:n.v,dv:e(n)},o=t(n,.5*r,i),a=t(n,.5*r,o),s=t(n,r,a),u=1/6*(i.dx+2*(o.dx+a.dx)+s.dx),l=1/6*(i.dv+2*(o.dv+a.dv)+s.dv);return n.x=n.x+u*r,n.v=n.v+l*r,n}return function e(t,r,i){var o,a,s,u={x:-1,v:0,tension:null,friction:null},l=[0],c=0,f=1e-4;for(t=parseFloat(t)||500,r=parseFloat(r)||20,i=i||null,u.tension=t,u.friction=r,a=(o=null!==i)?(c=e(t,r))/i*.016:.016;s=n(s||u,a),l.push(1+s.x),c+=16,Math.abs(s.x)>f&&Math.abs(s.v)>f;);return o?function(e){return l[e*(l.length-1)|0]}:c}}(),Co=function(e,t,n,r){var i=function(e,t,n,r){var i=4,o=.001,a=1e-7,s=10,u=11,l=1/(u-1),c="undefined"!==typeof Float32Array;if(4!==arguments.length)return!1;for(var f=0;f<4;++f)if("number"!==typeof arguments[f]||isNaN(arguments[f])||!isFinite(arguments[f]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var h=c?new Float32Array(u):new Array(u);function d(e,t){return 1-3*t+3*e}function p(e,t){return 3*t-6*e}function g(e){return 3*e}function v(e,t,n){return((d(t,n)*e+p(t,n))*e+g(t))*e}function y(e,t,n){return 3*d(t,n)*e*e+2*p(t,n)*e+g(t)}function m(t,r){for(var o=0;o<i;++o){var a=y(r,e,n);if(0===a)return r;r-=(v(r,e,n)-t)/a}return r}function b(){for(var t=0;t<u;++t)h[t]=v(t*l,e,n)}function _(t,r,i){var o,u,l=0;do{(o=v(u=r+(i-r)/2,e,n)-t)>0?i=u:r=u}while(Math.abs(o)>a&&++l<s);return u}function w(t){for(var r=0,i=1,a=u-1;i!==a&&h[i]<=t;++i)r+=l;--i;var s=r+(t-h[i])/(h[i+1]-h[i])*l,c=y(s,e,n);return c>=o?m(t,s):0===c?s:_(t,r,r+l)}var x=!1;function E(){x=!0,e===t&&n===r||b()}var k=function(i){return x||E(),e===t&&n===r?i:0===i?0:1===i?1:v(w(i),t,r)};k.getControlPoints=function(){return[{x:e,y:t},{x:n,y:r}]};var C="generateBezier("+[e,t,n,r]+")";return k.toString=function(){return C},k}(e,t,n,r);return function(e,t,n){return e+(t-e)*i(n)}},So={linear:function(e,t,n){return e+(t-e)*n},ease:Co(.25,.1,.25,1),"ease-in":Co(.42,0,1,1),"ease-out":Co(0,0,.58,1),"ease-in-out":Co(.42,0,.58,1),"ease-in-sine":Co(.47,0,.745,.715),"ease-out-sine":Co(.39,.575,.565,1),"ease-in-out-sine":Co(.445,.05,.55,.95),"ease-in-quad":Co(.55,.085,.68,.53),"ease-out-quad":Co(.25,.46,.45,.94),"ease-in-out-quad":Co(.455,.03,.515,.955),"ease-in-cubic":Co(.55,.055,.675,.19),"ease-out-cubic":Co(.215,.61,.355,1),"ease-in-out-cubic":Co(.645,.045,.355,1),"ease-in-quart":Co(.895,.03,.685,.22),"ease-out-quart":Co(.165,.84,.44,1),"ease-in-out-quart":Co(.77,0,.175,1),"ease-in-quint":Co(.755,.05,.855,.06),"ease-out-quint":Co(.23,1,.32,1),"ease-in-out-quint":Co(.86,0,.07,1),"ease-in-expo":Co(.95,.05,.795,.035),"ease-out-expo":Co(.19,1,.22,1),"ease-in-out-expo":Co(1,0,0,1),"ease-in-circ":Co(.6,.04,.98,.335),"ease-out-circ":Co(.075,.82,.165,1),"ease-in-out-circ":Co(.785,.135,.15,.86),spring:function(e,t,n){if(0===n)return So.linear;var r=ko(e,t,n);return function(e,t,n){return e+(t-e)*r(n)}},"cubic-bezier":Co};function No(e,t,n,r,i){if(1===r)return n;if(t===n)return n;var o=i(t,n,r);return null==e||((e.roundValue||e.color)&&(o=Math.round(o)),void 0!==e.min&&(o=Math.max(o,e.min)),void 0!==e.max&&(o=Math.min(o,e.max))),o}function To(e,t){return null!=e.pfValue||null!=e.value?null==e.pfValue||null!=t&&"%"===t.type.units?e.value:e.pfValue:e}function Io(e,t,n,r,i){var o=null!=i?i.type:null;n<0?n=0:n>1&&(n=1);var a=To(e,i),s=To(t,i);if(O(a)&&O(s))return No(o,a,s,n,r);if(D(a)&&D(s)){for(var u=[],l=0;l<s.length;l++){var c=a[l],f=s[l];if(null!=c&&null!=f){var h=No(o,c,f,n,r);u.push(h)}else u.push(f)}return u}}function Do(e,t,n,r){var i=!r,o=e._private,a=t._private,s=a.easing,u=a.startTime,l=(r?e:e.cy()).style();if(!a.easingImpl)if(null==s)a.easingImpl=So.linear;else{var c,f,h;if(T(s))c=l.parse("transition-timing-function",s).value;else c=s;T(c)?(f=c,h=[]):(f=c[1],h=c.slice(2).map((function(e){return+e}))),h.length>0?("spring"===f&&h.push(a.duration),a.easingImpl=So[f].apply(null,h)):a.easingImpl=So[f]}var d,p=a.easingImpl;if(d=0===a.duration?1:(n-u)/a.duration,a.applying&&(d=a.progress),d<0?d=0:d>1&&(d=1),null==a.delay){var g=a.startPosition,v=a.position;if(v&&i&&!e.locked()){var y={};Mo(g.x,v.x)&&(y.x=Io(g.x,v.x,d,p)),Mo(g.y,v.y)&&(y.y=Io(g.y,v.y,d,p)),e.position(y)}var m=a.startPan,b=a.pan,_=o.pan,w=null!=b&&r;w&&(Mo(m.x,b.x)&&(_.x=Io(m.x,b.x,d,p)),Mo(m.y,b.y)&&(_.y=Io(m.y,b.y,d,p)),e.emit("pan"));var x=a.startZoom,E=a.zoom,k=null!=E&&r;k&&(Mo(x,E)&&(o.zoom=ft(o.minZoom,Io(x,E,d,p),o.maxZoom)),e.emit("zoom")),(w||k)&&e.emit("viewport");var C=a.style;if(C&&C.length>0&&i){for(var S=0;S<C.length;S++){var N=C[S],I=N.name,D=N,M=a.startStyle[I],O=Io(M,D,d,p,l.properties[M.name]);l.overrideBypass(e,I,O)}e.emit("style")}}return a.progress=d,d}function Mo(e,t){return null!=e&&null!=t&&(!(!O(e)||!O(t))||!(!e||!t))}function Oo(e,t,n,r){var i=t._private;i.started=!0,i.startTime=n-i.progress*i.duration}function Po(e,t){var n=t._private.aniEles,r=[];function i(t,n){var i=t._private,o=i.animation.current,a=i.animation.queue,s=!1;if(0===o.length){var u=a.shift();u&&o.push(u)}for(var l=function(e){for(var t=e.length-1;t>=0;t--){(0,e[t])()}e.splice(0,e.length)},c=o.length-1;c>=0;c--){var f=o[c],h=f._private;h.stopped?(o.splice(c,1),h.hooked=!1,h.playing=!1,h.started=!1,l(h.frames)):(h.playing||h.applying)&&(h.playing&&h.applying&&(h.applying=!1),h.started||Oo(0,f,e),Do(t,f,e,n),h.applying&&(h.applying=!1),l(h.frames),null!=h.step&&h.step(e),f.completed()&&(o.splice(c,1),h.hooked=!1,h.playing=!1,h.started=!1,l(h.completes)),s=!0)}return n||0!==o.length||0!==a.length||r.push(t),s}for(var o=!1,a=0;a<n.length;a++){var s=i(n[a]);o=o||s}var u=i(t,!0);(o||u)&&(n.length>0?t.notify("draw",n):t.notify("draw")),n.unmerge(r),t.emit("step")}var Lo={animate:ar.animate(),animation:ar.animation(),animated:ar.animated(),clearQueue:ar.clearQueue(),delay:ar.delay(),delayAnimation:ar.delayAnimation(),stop:ar.stop(),addToAnimationPool:function(e){this.styleEnabled()&&this._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,e.styleEnabled()){var t=e.renderer();t&&t.beforeRender?t.beforeRender((function(t,n){Po(n,e)}),t.beforeRenderPriorities.animations):function t(){e._private.animationsRunning&&ne((function(n){Po(n,e),t()}))}()}}},Ao={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var r=t.qualifier;return null==r||e!==n.target&&A(n.target)&&r.matches(n.target)},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e}},Ro=function(e){return T(e)?new Hr(e):e},Fo={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new ji(Ao,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,n){return this.emitter().on(e,Ro(t),n),this},removeListener:function(e,t,n){return this.emitter().removeListener(e,Ro(t),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,t,n){return this.emitter().one(e,Ro(t),n),this},once:function(e,t,n){return this.emitter().one(e,Ro(t),n),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};ar.eventAliasesOn(Fo);var zo={png:function(e){return e=e||{},this._private.renderer.png(e)},jpg:function(e){var t=this._private.renderer;return(e=e||{}).bg=e.bg||"#fff",t.jpg(e)}};zo.jpeg=zo.jpg;var jo={layout:function(e){var t=this;if(null!=e)if(null!=e.name){var n=e.name,r=t.extension("layout",n);if(null!=r){var i;i=T(e.eles)?t.$(e.eles):null!=e.eles?e.eles:t.$();var o=new r(X({},e,{cy:t,eles:i}));return o}Ee("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else Ee("A `name` must be specified to make a layout");else Ee("Layout options must be specified to make a layout")}};jo.createLayout=jo.makeLayout=jo.layout;var Bo={notify:function(e,t){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var r=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();null!=t&&r.merge(t)}else if(n.notificationsEnabled){var i=this.renderer();!this.destroyed()&&i&&i.notify(e,t)}},notifications:function(e){var t=this._private;return void 0===e?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return null==e.batchCount&&(e.batchCount=0),0===e.batchCount&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(0===e.batchCount)return this;if(e.batchCount--,0===e.batchCount){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach((function(n){var r=e.batchNotifications[n];r.empty()?t.notify(n):t.notify(n,r)}))}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch((function(){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r],o=e[i];t.getElementById(i).data(o)}}))}},Vo=De({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Uo={renderTo:function(e,t,n,r){return this._private.renderer.renderTo(e,t,n,r),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this,n=t.extension("renderer",e.name);if(null!=n){void 0!==e.wheelSensitivity&&Ce("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var r=Vo(e);r.cy=t,t._private.renderer=new n(r),this.notify("init")}else Ee("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach((function(e){var t=e._private;t.rscratch={},t.rstyle={},t.animation.current=[],t.animation.queue=[]}))},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};Uo.invalidateDimensions=Uo.resize;var Go={collection:function(e,t){return T(e)?this.$(e):L(e)?e.collection():D(e)?new wo(this,e,t):new wo(this)},nodes:function(e){var t=this.$((function(e){return e.isNode()}));return e?t.filter(e):t},edges:function(e){var t=this.$((function(e){return e.isEdge()}));return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};Go.elements=Go.filter=Go.$;var Ho={},qo="t";Ho.apply=function(e){for(var t=this,n=t._private.cy.collection(),r=0;r<e.length;r++){var i=e[r],o=t.getContextMeta(i);if(!o.empty){var a=t.getContextStyle(o),s=t.applyContextStyle(o,a,i);i._private.appliedInitStyle?t.updateTransitions(i,s.diffProps):i._private.appliedInitStyle=!0,t.updateStyleHints(i)&&n.push(i)}}return n},Ho.getPropertiesDiff=function(e,t){var n=this,r=n._private.propDiffs=n._private.propDiffs||{},i=e+"-"+t,o=r[i];if(o)return o;for(var a=[],s={},u=0;u<n.length;u++){var l=n[u],c=e[u]===qo,f=t[u]===qo,h=c!==f,d=l.mappedProperties.length>0;if(h||f&&d){var p=void 0;h&&d||h?p=l.properties:d&&(p=l.mappedProperties);for(var g=0;g<p.length;g++){for(var v=p[g],y=v.name,m=!1,b=u+1;b<n.length;b++){var _=n[b];if(t[b]===qo&&(m=null!=_.properties[v.name]))break}s[y]||m||(s[y]=!0,a.push(y))}}}return r[i]=a,a},Ho.getContextMeta=function(e){for(var t,n=this,r="",i=e._private.styleCxtKey||"",o=0;o<n.length;o++){var a=n[o];r+=a.selector&&a.selector.matches(e)?qo:"f"}return t=n.getPropertiesDiff(i,r),e._private.styleCxtKey=r,{key:r,diffPropNames:t,empty:0===t.length}},Ho.getContextStyle=function(e){var t=e.key,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var r={_private:{key:t}},i=0;i<this.length;i++){var o=this[i];if(t[i]===qo)for(var a=0;a<o.properties.length;a++){var s=o.properties[a];r[s.name]=s}}return n[t]=r,r},Ho.applyContextStyle=function(e,t,n){for(var r=e.diffPropNames,i={},o=this.types,a=0;a<r.length;a++){var s=r[a],u=t[s],l=n.pstyle(s);if(!u){if(!l)continue;u=l.bypass?{name:s,deleteBypassed:!0}:{name:s,delete:!0}}if(l!==u){if(u.mapped===o.fn&&null!=l&&null!=l.mapping&&l.mapping.value===u.value){var c=l.mapping;if((c.fnValue=u.value(n))===c.prevFnValue)continue}var f=i[s]={prev:l};this.applyParsedProperty(n,u),f.next=n.pstyle(s),f.next&&f.next.bypass&&(f.next=f.next.bypassed)}}return{diffProps:i}},Ho.updateStyleHints=function(e){var t=e._private,n=this,r=n.propertyGroupNames,i=n.propertyGroupKeys,o=function(e,t,r){return n.getPropertiesHash(e,t,r)},a=t.styleKey;if(e.removed())return!1;var s="nodes"===t.group,u=e._private.style;r=Object.keys(u);for(var l=0;l<i.length;l++){var c=i[l];t.styleKeys[c]=[ie,ae]}for(var f,h=function(e,n){return t.styleKeys[n][0]=ue(e,t.styleKeys[n][0])},d=function(e,n){return t.styleKeys[n][1]=le(e,t.styleKeys[n][1])},p=function(e,t){h(e,t),d(e,t)},g=function(e,t){for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);h(r,t),d(r,t)}},v=0;v<r.length;v++){var y=r[v],m=u[y];if(null!=m){var b=this.properties[y],_=b.type,w=b.groupKey,x=void 0;null!=b.hashOverride?x=b.hashOverride(e,m):null!=m.pfValue&&(x=m.pfValue);var E=null==b.enums?m.value:null,k=null!=x,C=k||null!=E,S=m.units;if(_.number&&C&&!_.multiple)p(-128<(f=k?x:E)&&f<128&&Math.floor(f)!==f?2e9-(1024*f|0):f,w),k||null==S||g(S,w);else g(m.strValue,w)}}for(var N,T,I=[ie,ae],D=0;D<i.length;D++){var M=i[D],O=t.styleKeys[M];I[0]=ue(O[0],I[0]),I[1]=le(O[1],I[1])}t.styleKey=(N=I[0],T=I[1],2097152*N+T);var P=t.styleKeys;t.labelDimsKey=ce(P.labelDimensions);var L=o(e,["label"],P.labelDimensions);if(t.labelKey=ce(L),t.labelStyleKey=ce(fe(P.commonLabel,L)),!s){var A=o(e,["source-label"],P.labelDimensions);t.sourceLabelKey=ce(A),t.sourceLabelStyleKey=ce(fe(P.commonLabel,A));var R=o(e,["target-label"],P.labelDimensions);t.targetLabelKey=ce(R),t.targetLabelStyleKey=ce(fe(P.commonLabel,R))}if(s){var F=t.styleKeys,z=F.nodeBody,j=F.nodeBorder,B=F.backgroundImage,V=F.compound,U=F.pie,G=[z,j,B,V,U].filter((function(e){return null!=e})).reduce(fe,[ie,ae]);t.nodeKey=ce(G),t.hasPie=null!=U&&U[0]!==ie&&U[1]!==ae}return a!==t.styleKey},Ho.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null},Ho.applyParsedProperty=function(e,t){var n,r=this,i=t,o=e._private.style,a=r.types,s=r.properties[i.name].type,u=i.bypass,l=o[i.name],c=l&&l.bypass,f=e._private,h="mapping",d=function(e){return null==e?null:null!=e.pfValue?e.pfValue:e.value},p=function(){var t=d(l),n=d(i);r.checkTriggers(e,i.name,t,n)};if(i&&"pie"===i.name.substr(0,3)&&Ce("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===t.name&&e.isEdge()&&("bezier"!==t.value&&e.isLoop()||"haystack"===t.value&&(e.source().isParent()||e.target().isParent()))&&(i=t=this.parse(t.name,"bezier",u)),i.delete)return o[i.name]=void 0,p(),!0;if(i.deleteBypassed)return l?!!l.bypass&&(l.bypassed=void 0,p(),!0):(p(),!0);if(i.deleteBypass)return l?!!l.bypass&&(o[i.name]=l.bypassed,p(),!0):(p(),!0);var g=function(){Ce("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+i.name+"` with data field `"+i.field+"`); try a `["+i.field+"]` selector to limit scope to elements with `"+i.field+"` defined")};switch(i.mapped){case a.mapData:for(var v,y=i.field.split("."),m=f.data,b=0;b<y.length&&m;b++){m=m[y[b]]}if(null==m)return g(),!1;if(!O(m))return Ce("Do not use continuous mappers without specifying numeric data (i.e. `"+i.field+": "+m+"` for `"+e.id()+"` is non-numeric)"),!1;var _=i.fieldMax-i.fieldMin;if((v=0===_?0:(m-i.fieldMin)/_)<0?v=0:v>1&&(v=1),s.color){var w=i.valueMin[0],x=i.valueMax[0],E=i.valueMin[1],k=i.valueMax[1],C=i.valueMin[2],S=i.valueMax[2],N=null==i.valueMin[3]?1:i.valueMin[3],T=null==i.valueMax[3]?1:i.valueMax[3],I=[Math.round(w+(x-w)*v),Math.round(E+(k-E)*v),Math.round(C+(S-C)*v),Math.round(N+(T-N)*v)];n={bypass:i.bypass,name:i.name,value:I,strValue:"rgb("+I[0]+", "+I[1]+", "+I[2]+")"}}else{if(!s.number)return!1;var D=i.valueMin+(i.valueMax-i.valueMin)*v;n=this.parse(i.name,D,i.bypass,h)}if(!n)return g(),!1;n.mapping=i,i=n;break;case a.data:for(var M=i.field.split("."),P=f.data,L=0;L<M.length&&P;L++){P=P[M[L]]}if(null!=P&&(n=this.parse(i.name,P,i.bypass,h)),!n)return g(),!1;n.mapping=i,i=n;break;case a.fn:var A=i.value,R=null!=i.fnValue?i.fnValue:A(e);if(i.prevFnValue=R,null==R)return Ce("Custom function mappers may not return null (i.e. `"+i.name+"` for ele `"+e.id()+"` is null)"),!1;if(!(n=this.parse(i.name,R,i.bypass,h)))return Ce("Custom function mappers may not return invalid values for the property type (i.e. `"+i.name+"` for ele `"+e.id()+"` is invalid)"),!1;n.mapping=Se(i),i=n;break;case void 0:break;default:return!1}return u?(i.bypassed=c?l.bypassed:l,o[i.name]=i):c?l.bypassed=i:o[i.name]=i,p(),!0},Ho.cleanElements=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(this.clearStyleHints(r),r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),t)for(var i=r._private.style,o=Object.keys(i),a=0;a<o.length;a++){var s=o[a],u=i[s];null!=u&&(u.bypass?u.bypassed=null:i[s]=null)}else r._private.style={}}},Ho.update=function(){this._private.cy.mutableElements().updateStyle()},Ho.updateTransitions=function(e,t){var n=this,r=e._private,i=e.pstyle("transition-property").value,o=e.pstyle("transition-duration").pfValue,a=e.pstyle("transition-delay").pfValue;if(i.length>0&&o>0){for(var s={},u=!1,l=0;l<i.length;l++){var c=i[l],f=e.pstyle(c),h=t[c];if(h){var d=h.prev,p=null!=h.next?h.next:f,g=!1,v=void 0,y=1e-6;d&&(O(d.pfValue)&&O(p.pfValue)?(g=p.pfValue-d.pfValue,v=d.pfValue+y*g):O(d.value)&&O(p.value)?(g=p.value-d.value,v=d.value+y*g):D(d.value)&&D(p.value)&&(g=d.value[0]!==p.value[0]||d.value[1]!==p.value[1]||d.value[2]!==p.value[2],v=d.strValue),g&&(s[c]=p.strValue,this.applyBypass(e,c,v),u=!0))}}if(!u)return;r.transitioning=!0,new er((function(t){a>0?e.delayAnimation(a).play().promise().then(t):t()})).then((function(){return e.animation({style:s,duration:o,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()})).then((function(){n.removeBypasses(e,i),e.emitAndNotify("style"),r.transitioning=!1}))}else r.transitioning&&(this.removeBypasses(e,i),e.emitAndNotify("style"),r.transitioning=!1)},Ho.checkTrigger=function(e,t,n,r,i,o){var a=this.properties[t],s=i(a);null!=s&&s(n,r)&&o(a)},Ho.checkZOrderTrigger=function(e,t,n,r){var i=this;this.checkTrigger(e,t,n,r,(function(e){return e.triggersZOrder}),(function(){i._private.cy.notify("zorder",e)}))},Ho.checkBoundsTrigger=function(e,t,n,r){this.checkTrigger(e,t,n,r,(function(e){return e.triggersBounds}),(function(i){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache(),!i.triggersBoundsOfParallelBeziers||("curve-style"!==t||"bezier"!==n&&"bezier"!==r)&&("display"!==t||"none"!==n&&"none"!==r)||e.parallelEdges().forEach((function(e){e.isBundledBezier()&&e.dirtyBoundingBoxCache()}))}))},Ho.checkTriggers=function(e,t,n,r){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,n,r),this.checkBoundsTrigger(e,t,n,r)};var Yo={applyBypass:function(e,t,n,r){var i=[];if("*"===t||"**"===t){if(void 0!==n)for(var o=0;o<this.properties.length;o++){var a=this.properties[o].name,s=this.parse(a,n,!0);s&&i.push(s)}}else if(T(t)){var u=this.parse(t,n,!0);u&&i.push(u)}else{if(!M(t))return!1;var l=t;r=n;for(var c=Object.keys(l),f=0;f<c.length;f++){var h=c[f],d=l[h];if(void 0===d&&(d=l[G(h)]),void 0!==d){var p=this.parse(h,d,!0);p&&i.push(p)}}}if(0===i.length)return!1;for(var g=!1,v=0;v<e.length;v++){for(var y=e[v],m={},b=void 0,_=0;_<i.length;_++){var w=i[_];if(r){var x=y.pstyle(w.name);b=m[w.name]={prev:x}}g=this.applyParsedProperty(y,Se(w))||g,r&&(b.next=y.pstyle(w.name))}g&&this.updateStyleHints(y),r&&this.updateTransitions(y,m,true)}return g},overrideBypass:function(e,t,n){t=U(t);for(var r=0;r<e.length;r++){var i=e[r],o=i._private.style[t],a=this.properties[t].type,s=a.color,u=a.mutiple,l=o?null!=o.pfValue?o.pfValue:o.value:null;o&&o.bypass?(o.value=n,null!=o.pfValue&&(o.pfValue=n),o.strValue=s?"rgb("+n.join(",")+")":u?n.join(" "):""+n,this.updateStyleHints(i)):this.applyBypass(i,t,n),this.checkTriggers(i,t,l,n)}},removeAllBypasses:function(e,t){return this.removeBypasses(e,this.propertyNames,t)},removeBypasses:function(e,t,n){for(var r=0;r<e.length;r++){for(var i=e[r],o={},a=0;a<t.length;a++){var s=t[a],u=this.properties[s],l=i.pstyle(u.name);if(l&&l.bypass){var c=this.parse(s,"",!0),f=o[u.name]={prev:l};this.applyParsedProperty(i,c),f.next=i.pstyle(u.name)}}this.updateStyleHints(i),n&&this.updateTransitions(i,o,true)}}},Wo={getEmSizeInPixels:function(){var e=this.containerCss("font-size");return null!=e?parseFloat(e):1},containerCss:function(e){var t=this._private.cy.container();if(w&&t&&w.getComputedStyle)return w.getComputedStyle(t).getPropertyValue(e)}},Xo={getRenderedStyle:function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},getRawStyle:function(e,t){var n=this;if(e=e[0]){for(var r={},i=0;i<n.properties.length;i++){var o=n.properties[i],a=n.getStylePropertyValue(e,o.name,t);null!=a&&(r[o.name]=a,r[G(o.name)]=a)}return r}},getIndexedStyle:function(e,t,n,r){var i=e.pstyle(t)[n][r];return null!=i?i:e.cy().style().getDefaultProperty(t)[n][0]},getStylePropertyValue:function(e,t,n){if(e=e[0]){var r=this.properties[t];r.alias&&(r=r.pointsTo);var i=r.type,o=e.pstyle(r.name);if(o){var a=o.value,s=o.units,u=o.strValue;if(n&&i.number&&null!=a&&O(a)){var l=e.cy().zoom(),c=function(e){return e*l},f=function(e,t){return c(e)+t},h=D(a);return(h?s.every((function(e){return null!=e})):null!=s)?h?a.map((function(e,t){return f(e,s[t])})).join(" "):f(a,s):h?a.map((function(e){return T(e)?e:""+c(e)})).join(" "):""+c(a)}if(null!=u)return u}return null}},getAnimationStartStyle:function(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r].name,o=e.pstyle(i);void 0!==o&&(o=M(o)?this.parse(i,o.strValue):this.parse(i,o)),o&&(n[i]=o)}return n},getPropsList:function(e){var t=[],n=e,r=this.properties;if(n)for(var i=Object.keys(n),o=0;o<i.length;o++){var a=i[o],s=n[a],u=r[a]||r[U(a)],l=this.parse(u.name,s);l&&t.push(l)}return t},getNonDefaultPropertiesHash:function(e,t,n){var r,i,o,a,s,u,l=n.slice();for(s=0;s<t.length;s++)if(r=t[s],null!=(i=e.pstyle(r,!1)))if(null!=i.pfValue)l[0]=ue(a,l[0]),l[1]=le(a,l[1]);else for(o=i.strValue,u=0;u<o.length;u++)a=o.charCodeAt(u),l[0]=ue(a,l[0]),l[1]=le(a,l[1]);return l}};Xo.getPropertiesHash=Xo.getNonDefaultPropertiesHash;var Ko={appendFromJson:function(e){for(var t=this,n=0;n<e.length;n++){var r=e[n],i=r.selector,o=r.style||r.css,a=Object.keys(o);t.selector(i);for(var s=0;s<a.length;s++){var u=a[s],l=o[u];t.css(u,l)}}return t},fromJson:function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t},json:function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var n=this[t],r=n.selector,i=n.properties,o={},a=0;a<i.length;a++){var s=i[a];o[s.name]=s.strValue}e.push({selector:r?r.toString():"core",style:o})}return e}},$o={appendFromString:function(e){var t,n,r,i=this,o=""+e;function a(){o=o.length>t.length?o.substr(t.length):""}function s(){n=n.length>r.length?n.substr(r.length):""}for(o=o.replace(/[/][*](\s|.)+?[*][/]/g,"");;){if(o.match(/^\s*$/))break;var u=o.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!u){Ce("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+o);break}t=u[0];var l=u[1];if("core"!==l)if(new Hr(l).invalid){Ce("Skipping parsing of block: Invalid selector found in string stylesheet: "+l),a();continue}var c=u[2],f=!1;n=c;for(var h=[];;){if(n.match(/^\s*$/))break;var d=n.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!d){Ce("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+c),f=!0;break}r=d[0];var p=d[1],g=d[2];if(this.properties[p])i.parse(p,g)?(h.push({name:p,val:g}),s()):(Ce("Skipping property: Invalid property definition in: "+r),s());else Ce("Skipping property: Invalid property name in: "+r),s()}if(f){a();break}i.selector(l);for(var v=0;v<h.length;v++){var y=h[v];i.css(y.name,y.val)}a()}return i},fromString:function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t}},Qo={};!function(){var e=Y,t=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},n=function(t){var n=e+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+t+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+n+")\\s*\\,\\s*("+n+")\\)$"},r=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];Qo.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:t("data")},layoutData:{mapping:!0,regex:t("layoutData")},scratch:{mapping:!0,regex:t("scratch")},mapData:{mapping:!0,regex:n("mapData")},mapLayoutData:{mapping:!0,regex:n("mapLayoutData")},mapScratch:{mapping:!0,regex:n("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:r,singleRegexMatchValue:!0},urls:{regexes:r,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(e,t){switch(e.length){case 2:return"deg"!==t[0]&&"rad"!==t[0]&&"deg"!==t[1]&&"rad"!==t[1];case 1:return T(e[0])||"deg"===t[0]||"rad"===t[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(e){var t=e.length;return 1===t||2===t||4===t}}};var i={zeroNonZero:function(e,t){return(null==e||null==t)&&e!==t||(0==e&&0!=t||0!=e&&0==t)},any:function(e,t){return e!=t},emptyNonEmpty:function(e,t){var n=j(e),r=j(t);return n&&!r||!n&&r}},o=Qo.types,a=[{name:"label",type:o.text,triggersBounds:i.any,triggersZOrder:i.emptyNonEmpty},{name:"text-rotation",type:o.textRotation,triggersBounds:i.any},{name:"text-margin-x",type:o.bidirectionalSize,triggersBounds:i.any},{name:"text-margin-y",type:o.bidirectionalSize,triggersBounds:i.any}],s=[{name:"source-label",type:o.text,triggersBounds:i.any},{name:"source-text-rotation",type:o.textRotation,triggersBounds:i.any},{name:"source-text-margin-x",type:o.bidirectionalSize,triggersBounds:i.any},{name:"source-text-margin-y",type:o.bidirectionalSize,triggersBounds:i.any},{name:"source-text-offset",type:o.size,triggersBounds:i.any}],u=[{name:"target-label",type:o.text,triggersBounds:i.any},{name:"target-text-rotation",type:o.textRotation,triggersBounds:i.any},{name:"target-text-margin-x",type:o.bidirectionalSize,triggersBounds:i.any},{name:"target-text-margin-y",type:o.bidirectionalSize,triggersBounds:i.any},{name:"target-text-offset",type:o.size,triggersBounds:i.any}],l=[{name:"font-family",type:o.fontFamily,triggersBounds:i.any},{name:"font-style",type:o.fontStyle,triggersBounds:i.any},{name:"font-weight",type:o.fontWeight,triggersBounds:i.any},{name:"font-size",type:o.size,triggersBounds:i.any},{name:"text-transform",type:o.textTransform,triggersBounds:i.any},{name:"text-wrap",type:o.textWrap,triggersBounds:i.any},{name:"text-overflow-wrap",type:o.textOverflowWrap,triggersBounds:i.any},{name:"text-max-width",type:o.size,triggersBounds:i.any},{name:"text-outline-width",type:o.size,triggersBounds:i.any},{name:"line-height",type:o.positiveNumber,triggersBounds:i.any}],c=[{name:"text-valign",type:o.valign,triggersBounds:i.any},{name:"text-halign",type:o.halign,triggersBounds:i.any},{name:"color",type:o.color},{name:"text-outline-color",type:o.color},{name:"text-outline-opacity",type:o.zeroOneNumber},{name:"text-background-color",type:o.color},{name:"text-background-opacity",type:o.zeroOneNumber},{name:"text-background-padding",type:o.size,triggersBounds:i.any},{name:"text-border-opacity",type:o.zeroOneNumber},{name:"text-border-color",type:o.color},{name:"text-border-width",type:o.size,triggersBounds:i.any},{name:"text-border-style",type:o.borderStyle,triggersBounds:i.any},{name:"text-background-shape",type:o.textBackgroundShape,triggersBounds:i.any},{name:"text-justification",type:o.justification}],f=[{name:"events",type:o.bool},{name:"text-events",type:o.bool}],h=[{name:"display",type:o.display,triggersZOrder:i.any,triggersBounds:i.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:o.visibility,triggersZOrder:i.any},{name:"opacity",type:o.zeroOneNumber,triggersZOrder:i.zeroNonZero},{name:"text-opacity",type:o.zeroOneNumber},{name:"min-zoomed-font-size",type:o.size},{name:"z-compound-depth",type:o.zCompoundDepth,triggersZOrder:i.any},{name:"z-index-compare",type:o.zIndexCompare,triggersZOrder:i.any},{name:"z-index",type:o.nonNegativeInt,triggersZOrder:i.any}],d=[{name:"overlay-padding",type:o.size,triggersBounds:i.any},{name:"overlay-color",type:o.color},{name:"overlay-opacity",type:o.zeroOneNumber,triggersBounds:i.zeroNonZero},{name:"overlay-shape",type:o.overlayShape,triggersBounds:i.any}],p=[{name:"underlay-padding",type:o.size,triggersBounds:i.any},{name:"underlay-color",type:o.color},{name:"underlay-opacity",type:o.zeroOneNumber,triggersBounds:i.zeroNonZero},{name:"underlay-shape",type:o.overlayShape,triggersBounds:i.any}],g=[{name:"transition-property",type:o.propList},{name:"transition-duration",type:o.time},{name:"transition-delay",type:o.time},{name:"transition-timing-function",type:o.easing}],v=function(e,t){return"label"===t.value?-e.poolIndex():t.pfValue},y=[{name:"height",type:o.nodeSize,triggersBounds:i.any,hashOverride:v},{name:"width",type:o.nodeSize,triggersBounds:i.any,hashOverride:v},{name:"shape",type:o.nodeShape,triggersBounds:i.any},{name:"shape-polygon-points",type:o.polygonPointList,triggersBounds:i.any},{name:"background-color",type:o.color},{name:"background-fill",type:o.fill},{name:"background-opacity",type:o.zeroOneNumber},{name:"background-blacken",type:o.nOneOneNumber},{name:"background-gradient-stop-colors",type:o.colors},{name:"background-gradient-stop-positions",type:o.percentages},{name:"background-gradient-direction",type:o.gradientDirection},{name:"padding",type:o.sizeMaybePercent,triggersBounds:i.any},{name:"padding-relative-to",type:o.paddingRelativeTo,triggersBounds:i.any},{name:"bounds-expansion",type:o.boundsExpansion,triggersBounds:i.any}],m=[{name:"border-color",type:o.color},{name:"border-opacity",type:o.zeroOneNumber},{name:"border-width",type:o.size,triggersBounds:i.any},{name:"border-style",type:o.borderStyle}],b=[{name:"background-image",type:o.urls},{name:"background-image-crossorigin",type:o.bgCrossOrigin},{name:"background-image-opacity",type:o.zeroOneNumbers},{name:"background-image-containment",type:o.bgContainment},{name:"background-image-smoothing",type:o.bools},{name:"background-position-x",type:o.bgPos},{name:"background-position-y",type:o.bgPos},{name:"background-width-relative-to",type:o.bgRelativeTo},{name:"background-height-relative-to",type:o.bgRelativeTo},{name:"background-repeat",type:o.bgRepeat},{name:"background-fit",type:o.bgFit},{name:"background-clip",type:o.bgClip},{name:"background-width",type:o.bgWH},{name:"background-height",type:o.bgWH},{name:"background-offset-x",type:o.bgPos},{name:"background-offset-y",type:o.bgPos}],_=[{name:"position",type:o.position,triggersBounds:i.any},{name:"compound-sizing-wrt-labels",type:o.compoundIncludeLabels,triggersBounds:i.any},{name:"min-width",type:o.size,triggersBounds:i.any},{name:"min-width-bias-left",type:o.sizeMaybePercent,triggersBounds:i.any},{name:"min-width-bias-right",type:o.sizeMaybePercent,triggersBounds:i.any},{name:"min-height",type:o.size,triggersBounds:i.any},{name:"min-height-bias-top",type:o.sizeMaybePercent,triggersBounds:i.any},{name:"min-height-bias-bottom",type:o.sizeMaybePercent,triggersBounds:i.any}],w=[{name:"line-style",type:o.lineStyle},{name:"line-color",type:o.color},{name:"line-fill",type:o.fill},{name:"line-cap",type:o.lineCap},{name:"line-opacity",type:o.zeroOneNumber},{name:"line-dash-pattern",type:o.numbers},{name:"line-dash-offset",type:o.number},{name:"line-gradient-stop-colors",type:o.colors},{name:"line-gradient-stop-positions",type:o.percentages},{name:"curve-style",type:o.curveStyle,triggersBounds:i.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:o.zeroOneNumber,triggersBounds:i.any},{name:"source-endpoint",type:o.edgeEndpoint,triggersBounds:i.any},{name:"target-endpoint",type:o.edgeEndpoint,triggersBounds:i.any},{name:"control-point-step-size",type:o.size,triggersBounds:i.any},{name:"control-point-distances",type:o.bidirectionalSizes,triggersBounds:i.any},{name:"control-point-weights",type:o.numbers,triggersBounds:i.any},{name:"segment-distances",type:o.bidirectionalSizes,triggersBounds:i.any},{name:"segment-weights",type:o.numbers,triggersBounds:i.any},{name:"taxi-turn",type:o.bidirectionalSizeMaybePercent,triggersBounds:i.any},{name:"taxi-turn-min-distance",type:o.size,triggersBounds:i.any},{name:"taxi-direction",type:o.axisDirection,triggersBounds:i.any},{name:"edge-distances",type:o.edgeDistances,triggersBounds:i.any},{name:"arrow-scale",type:o.positiveNumber,triggersBounds:i.any},{name:"loop-direction",type:o.angle,triggersBounds:i.any},{name:"loop-sweep",type:o.angle,triggersBounds:i.any},{name:"source-distance-from-node",type:o.size,triggersBounds:i.any},{name:"target-distance-from-node",type:o.size,triggersBounds:i.any}],x=[{name:"ghost",type:o.bool,triggersBounds:i.any},{name:"ghost-offset-x",type:o.bidirectionalSize,triggersBounds:i.any},{name:"ghost-offset-y",type:o.bidirectionalSize,triggersBounds:i.any},{name:"ghost-opacity",type:o.zeroOneNumber}],E=[{name:"selection-box-color",type:o.color},{name:"selection-box-opacity",type:o.zeroOneNumber},{name:"selection-box-border-color",type:o.color},{name:"selection-box-border-width",type:o.size},{name:"active-bg-color",type:o.color},{name:"active-bg-opacity",type:o.zeroOneNumber},{name:"active-bg-size",type:o.size},{name:"outside-texture-bg-color",type:o.color},{name:"outside-texture-bg-opacity",type:o.zeroOneNumber}],k=[];Qo.pieBackgroundN=16,k.push({name:"pie-size",type:o.sizeMaybePercent});for(var C=1;C<=Qo.pieBackgroundN;C++)k.push({name:"pie-"+C+"-background-color",type:o.color}),k.push({name:"pie-"+C+"-background-size",type:o.percent}),k.push({name:"pie-"+C+"-background-opacity",type:o.zeroOneNumber});var S=[],N=Qo.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:o.arrowShape,triggersBounds:i.any},{name:"arrow-color",type:o.color},{name:"arrow-fill",type:o.arrowFill}].forEach((function(e){N.forEach((function(t){var n=t+"-"+e.name,r=e.type,i=e.triggersBounds;S.push({name:n,type:r,triggersBounds:i})}))}),{});var I=Qo.properties=[].concat(f,g,h,d,p,x,c,l,a,s,u,y,m,b,k,_,w,S,E),D=Qo.propertyGroups={behavior:f,transition:g,visibility:h,overlay:d,underlay:p,ghost:x,commonLabel:c,labelDimensions:l,mainLabel:a,sourceLabel:s,targetLabel:u,nodeBody:y,nodeBorder:m,backgroundImage:b,pie:k,compound:_,edgeLine:w,edgeArrow:S,core:E},M=Qo.propertyGroupNames={};(Qo.propertyGroupKeys=Object.keys(D)).forEach((function(e){M[e]=D[e].map((function(e){return e.name})),D[e].forEach((function(t){return t.groupKey=e}))}));var O=Qo.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Qo.propertyNames=I.map((function(e){return e.name}));for(var P=0;P<I.length;P++){var L=I[P];I[L.name]=L}for(var A=0;A<O.length;A++){var R=O[A],F=I[R.pointsTo],z={name:R.name,alias:!0,pointsTo:F};I.push(z),I[R.name]=z}}(),Qo.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},Qo.getDefaultProperties=function(){var e=this._private;if(null!=e.defaultProperties)return e.defaultProperties;for(var t=X({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce((function(e,t){for(var n=1;n<=Qo.pieBackgroundN;n++){var r=t.name.replace("{{i}}",n),i=t.value;e[r]=i}return e}),{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce((function(e,t){return Qo.arrowPrefixes.forEach((function(n){var r=n+"-"+t.name,i=t.value;e[r]=i})),e}),{})),n={},r=0;r<this.properties.length;r++){var i=this.properties[r];if(!i.pointsTo){var o=i.name,a=t[o],s=this.parse(o,a);n[o]=s}}return e.defaultProperties=n,e.defaultProperties},Qo.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Zo={parse:function(e,t,n,r){var i=this;if(I(t))return i.parseImplWarn(e,t,n,r);var o,a=de(e,""+t,n?"t":"f","mapping"===r||!0===r||!1===r||null==r?"dontcare":r),s=i.propCache=i.propCache||[];return(o=s[a])||(o=s[a]=i.parseImplWarn(e,t,n,r)),(n||"mapping"===r)&&(o=Se(o))&&(o.value=Se(o.value)),o},parseImplWarn:function(e,t,n,r){var i=this.parseImpl(e,t,n,r);return i||null==t||Ce("The style property `".concat(e,": ").concat(t,"` is invalid")),!i||"width"!==i.name&&"height"!==i.name||"label"!==t||Ce("The style value of `label` is deprecated for `"+i.name+"`"),i}};Zo.parseImpl=function(e,t,n,r){var i=this;e=U(e);var o=i.properties[e],a=t,s=i.types;if(!o)return null;if(void 0===t)return null;o.alias&&(o=o.pointsTo,e=o.name);var u=T(t);u&&(t=t.trim());var l,c,f=o.type;if(!f)return null;if(n&&(""===t||null===t))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(I(t))return{name:e,value:t,strValue:"fn",mapped:s.fn,bypass:n};if(!u||r||t.length<7||"a"!==t[1]);else{if(t.length>=7&&"d"===t[0]&&(l=new RegExp(s.data.regex).exec(t))){if(n)return!1;var h=s.data;return{name:e,value:l,strValue:""+t,mapped:h,field:l[1],bypass:n}}if(t.length>=10&&"m"===t[0]&&(c=new RegExp(s.mapData.regex).exec(t))){if(n)return!1;if(f.multiple)return!1;var d=s.mapData;if(!f.color&&!f.number)return!1;var p=this.parse(e,c[4]);if(!p||p.mapped)return!1;var g=this.parse(e,c[5]);if(!g||g.mapped)return!1;if(p.pfValue===g.pfValue||p.strValue===g.strValue)return Ce("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+p.strValue+"`"),this.parse(e,p.strValue);if(f.color){var v=p.value,y=g.value;if(v[0]===y[0]&&v[1]===y[1]&&v[2]===y[2]&&(v[3]===y[3]||(null==v[3]||1===v[3])&&(null==y[3]||1===y[3])))return!1}return{name:e,value:c,strValue:""+t,mapped:d,field:c[1],fieldMin:parseFloat(c[2]),fieldMax:parseFloat(c[3]),valueMin:p.value,valueMax:g.value,bypass:n}}}if(f.multiple&&"multiple"!==r){var m;if(m=u?t.split(/\s+/):D(t)?t:[t],f.evenMultiple&&m.length%2!==0)return null;for(var b=[],_=[],w=[],x="",E=!1,k=0;k<m.length;k++){var C=i.parse(e,m[k],n,"multiple");E=E||T(C.value),b.push(C.value),w.push(null!=C.pfValue?C.pfValue:C.value),_.push(C.units),x+=(k>0?" ":"")+C.strValue}return f.validate&&!f.validate(b,_)?null:f.singleEnum&&E?1===b.length&&T(b[0])?{name:e,value:b[0],strValue:b[0],bypass:n}:null:{name:e,value:b,pfValue:w,strValue:x,bypass:n,units:_}}var S,N,M=function(){for(var r=0;r<f.enums.length;r++){if(f.enums[r]===t)return{name:e,value:t,strValue:""+t,bypass:n}}return null};if(f.number){var P,L="px";if(f.units&&(P=f.units),f.implicitUnits&&(L=f.implicitUnits),!f.unitless)if(u){var A="px|em"+(f.allowPercent?"|\\%":"");P&&(A=P);var R=t.match("^("+Y+")("+A+")?$");R&&(t=R[1],P=R[2]||L)}else P&&!f.implicitUnits||(P=L);if(t=parseFloat(t),isNaN(t)&&void 0===f.enums)return null;if(isNaN(t)&&void 0!==f.enums)return t=a,M();if(f.integer&&(!O(N=t)||Math.floor(N)!==N))return null;if(void 0!==f.min&&(t<f.min||f.strictMin&&t===f.min)||void 0!==f.max&&(t>f.max||f.strictMax&&t===f.max))return null;var F={name:e,value:t,strValue:""+t+(P||""),units:P,bypass:n};return f.unitless||"px"!==P&&"em"!==P?F.pfValue=t:F.pfValue="px"!==P&&P?this.getEmSizeInPixels()*t:t,"ms"!==P&&"s"!==P||(F.pfValue="ms"===P?t:1e3*t),"deg"!==P&&"rad"!==P||(F.pfValue="rad"===P?t:(S=t,Math.PI*S/180)),"%"===P&&(F.pfValue=t/100),F}if(f.propList){var z=[],j=""+t;if("none"===j);else{for(var B=j.split(/\s*,\s*|\s+/),V=0;V<B.length;V++){var G=B[V].trim();i.properties[G]?z.push(G):Ce("`"+G+"` is not a valid property name")}if(0===z.length)return null}return{name:e,value:z,strValue:0===z.length?"none":z.join(" "),bypass:n}}if(f.color){var H=K(t);return H?{name:e,value:H,pfValue:H,strValue:"rgb("+H[0]+","+H[1]+","+H[2]+")",bypass:n}:null}if(f.regex||f.regexes){if(f.enums){var q=M();if(q)return q}for(var W=f.regexes?f.regexes:[f.regex],X=0;X<W.length;X++){var $=new RegExp(W[X]).exec(t);if($)return{name:e,value:f.singleRegexMatchValue?$[1]:$,strValue:""+t,bypass:n}}return null}return f.string?{name:e,value:""+t,strValue:""+t,bypass:n}:f.enums?M():null};var Jo=function e(t){if(!(this instanceof e))return new e(t);F(t)?(this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()):Ee("A style must have a core reference")},ea=Jo.prototype;ea.instanceString=function(){return"style"},ea.clear=function(){for(var e=this._private,t=e.cy.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(t,!0),t.forEach((function(e){var t=e[0]._private;t.styleDirty=!0,t.appliedInitStyle=!1})),this},ea.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},ea.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)},ea.selector=function(e){var t="core"===e?null:new Hr(e),n=this.length++;return this[n]={selector:t,properties:[],mappedProperties:[],index:n},this},ea.css=function(){var e=this,t=arguments;if(1===t.length)for(var n=t[0],r=0;r<e.properties.length;r++){var i=e.properties[r],o=n[i.name];void 0===o&&(o=n[G(i.name)]),void 0!==o&&this.cssRule(i.name,o)}else 2===t.length&&this.cssRule(t[0],t[1]);return this},ea.style=ea.css,ea.cssRule=function(e,t){var n=this.parse(e,t);if(n){var r=this.length-1;this[r].properties.push(n),this[r].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[r].mappedProperties.push(n),!this[r].selector&&(this._private.coreStyle[n.name]=n)}return this},ea.append=function(e){return z(e)?e.appendToStyle(this):D(e)?this.appendFromJson(e):T(e)&&this.appendFromString(e),this},Jo.fromJson=function(e,t){var n=new Jo(e);return n.fromJson(t),n},Jo.fromString=function(e,t){return new Jo(e).fromString(t)},[Ho,Yo,Wo,Xo,Ko,$o,Qo,Zo].forEach((function(e){X(ea,e)})),Jo.types=ea.types,Jo.properties=ea.properties,Jo.propertyGroups=ea.propertyGroups,Jo.propertyGroupNames=ea.propertyGroupNames,Jo.propertyGroupKeys=ea.propertyGroupKeys;var ta={style:function(e){e&&this.setStyle(e).update();return this._private.style},setStyle:function(e){var t=this._private;return z(e)?t.style=e.generateStyle(this):D(e)?t.style=Jo.fromJson(this,e):T(e)?t.style=Jo.fromString(this,e):t.style=Jo(this),t.style},updateStyle:function(){this.mutableElements().updateStyle()}},na={autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=!!e,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=!!e,this)},selectionType:function(e){var t=this._private;return null==t.selectionType&&(t.selectionType="single"),void 0===e?t.selectionType:("additive"!==e&&"single"!==e||(t.selectionType=e),this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},pan:function(){var e,t,n,r,i,o=arguments,a=this._private.pan;switch(o.length){case 0:return a;case 1:if(T(o[0]))return a[e=o[0]];if(M(o[0])){if(!this._private.panningEnabled)return this;r=(n=o[0]).x,i=n.y,O(r)&&(a.x=r),O(i)&&(a.y=i),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;e=o[0],t=o[1],"x"!==e&&"y"!==e||!O(t)||(a[e]=t),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(e,t){var n,r,i,o,a,s=arguments,u=this._private.pan;if(!this._private.panningEnabled)return this;switch(s.length){case 1:M(e)&&(o=(i=s[0]).x,a=i.y,O(o)&&(u.x+=o),O(a)&&(u.y+=a),this.emit("pan viewport"));break;case 2:r=t,"x"!==(n=e)&&"y"!==n||!O(r)||(u[n]+=r),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var r=this._private;r.zoom=n.zoom,r.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){if(O(e)&&void 0===t&&(t=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var n,r;if(T(e)){var i=e;e=this.$(i)}else if(M(r=e)&&O(r.x1)&&O(r.x2)&&O(r.y1)&&O(r.y2)){var o=e;(n={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2}).w=n.x2-n.x1,n.h=n.y2-n.y1}else L(e)||(e=this.mutableElements());if(!L(e)||!e.empty()){n=n||e.boundingBox();var a,s=this.width(),u=this.height();if(t=O(t)?t:0,!isNaN(s)&&!isNaN(u)&&s>0&&u>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0)return{zoom:a=(a=(a=Math.min((s-2*t)/n.w,(u-2*t)/n.h))>this._private.maxZoom?this._private.maxZoom:a)<this._private.minZoom?this._private.minZoom:a,pan:{x:(s-a*(n.x1+n.x2))/2,y:(u-a*(n.y1+n.y2))/2}}}}},zoomRange:function(e,t){var n=this._private;if(null==t){var r=e;e=r.min,t=r.max}return O(e)&&O(t)&&e<=t?(n.minZoom=e,n.maxZoom=t):O(e)&&void 0===t&&e<=n.maxZoom?n.minZoom=e:O(t)&&void 0===e&&t>=n.minZoom&&(n.maxZoom=t),this},minZoom:function(e){return void 0===e?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return void 0===e?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t,n,r=this._private,i=r.pan,o=r.zoom,a=!1;if(r.zoomingEnabled||(a=!0),O(e)?n=e:M(e)&&(n=e.level,null!=e.position?t=et(e.position,o,i):null!=e.renderedPosition&&(t=e.renderedPosition),null==t||r.panningEnabled||(a=!0)),n=(n=n>r.maxZoom?r.maxZoom:n)<r.minZoom?r.minZoom:n,a||!O(n)||n===o||null!=t&&(!O(t.x)||!O(t.y)))return null;if(null!=t){var s=i,u=o,l=n;return{zoomed:!0,panned:!0,zoom:l,pan:{x:-l/u*(t.x-s.x)+t.x,y:-l/u*(t.y-s.y)+t.y}}}return{zoomed:!0,panned:!1,zoom:n,pan:i}},zoom:function(e){if(void 0===e)return this._private.zoom;var t=this.getZoomedViewport(e),n=this._private;return null!=t&&t.zoomed?(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(e){var t=this._private,n=!0,r=!0,i=[],o=!1,a=!1;if(!e)return this;if(O(e.zoom)||(n=!1),M(e.pan)||(r=!1),!n&&!r)return this;if(n){var s=e.zoom;s<t.minZoom||s>t.maxZoom||!t.zoomingEnabled?o=!0:(t.zoom=s,i.push("zoom"))}if(r&&(!o||!e.cancelOnFailedZoom)&&t.panningEnabled){var u=e.pan;O(u.x)&&(t.pan.x=u.x,a=!1),O(u.y)&&(t.pan.y=u.y,a=!1),a||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(T(e)){var n=e;e=this.mutableElements().filter(n)}else L(e)||(e=this.mutableElements());if(0!==e.length){var r=e.boundingBox(),i=this.width(),o=this.height();return{x:(i-(t=void 0===t?this._private.zoom:t)*(r.x1+r.x2))/2,y:(o-t*(r.y1+r.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,t=e.container;return e.sizeCache=e.sizeCache||(t?function(){var e=w.getComputedStyle(t),n=function(t){return parseFloat(e.getPropertyValue(t))};return{width:t.clientWidth-n("padding-left")-n("padding-right"),height:t.clientHeight-n("padding-top")-n("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),r={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return r.w=r.x2-r.x1,r.h=r.y2-r.y1,r},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},multiClickDebounceTime:function(e){return e?(this._private.multiClickDebounceTime=e,this):this._private.multiClickDebounceTime}};na.centre=na.center,na.autolockNodes=na.autolock,na.autoungrabifyNodes=na.autoungrabify;var ra={data:ar.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:ar.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:ar.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ar.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};ra.attr=ra.data,ra.removeAttr=ra.removeData;var ia=function(e){var t=this,n=(e=X({},e)).container;n&&!P(n)&&P(n[0])&&(n=n[0]);var r=n?n._cyreg:null;(r=r||{})&&r.cy&&(r.cy.destroy(),r={});var i=r.readies=r.readies||[];n&&(n._cyreg=r),r.cy=t;var o=void 0!==w&&void 0!==n&&!e.headless,a=e;a.layout=X({name:o?"grid":"null"},a.layout),a.renderer=X({name:o?"canvas":"null"},a.renderer);var s=function(e,t,n){return void 0!==t?t:void 0!==n?n:e},u=this._private={container:n,ready:!1,options:a,elements:new wo(this),listeners:[],aniEles:new wo(this),data:a.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:s(!0,a.zoomingEnabled),userZoomingEnabled:s(!0,a.userZoomingEnabled),panningEnabled:s(!0,a.panningEnabled),userPanningEnabled:s(!0,a.userPanningEnabled),boxSelectionEnabled:s(!0,a.boxSelectionEnabled),autolock:s(!1,a.autolock,a.autolockNodes),autoungrabify:s(!1,a.autoungrabify,a.autoungrabifyNodes),autounselectify:s(!1,a.autounselectify),styleEnabled:void 0===a.styleEnabled?o:a.styleEnabled,zoom:O(a.zoom)?a.zoom:1,pan:{x:M(a.pan)&&O(a.pan.x)?a.pan.x:0,y:M(a.pan)&&O(a.pan.y)?a.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:s(250,a.multiClickDebounceTime)};this.createEmitter(),this.selectionType(a.selectionType),this.zoomRange({min:a.minZoom,max:a.maxZoom});u.styleEnabled&&t.setStyle([]);var l=X({},a,a.renderer);t.initRenderer(l);!function(e,t){if(e.some(B))return er.all(e).then(t);t(e)}([a.style,a.elements],(function(e){var n=e[0],o=e[1];u.styleEnabled&&t.style().append(n),function(e,n,r){t.notifications(!1);var i=t.mutableElements();i.length>0&&i.remove(),null!=e&&(M(e)||D(e))&&t.add(e),t.one("layoutready",(function(e){t.notifications(!0),t.emit(e),t.one("load",n),t.emitAndNotify("load")})).one("layoutstop",(function(){t.one("done",r),t.emit("done")}));var o=X({},t._private.options.layout);o.eles=t.elements(),t.layout(o).run()}(o,(function(){t.startAnimationLoop(),u.ready=!0,I(a.ready)&&t.on("ready",a.ready);for(var e=0;e<i.length;e++){var n=i[e];t.on("ready",n)}r&&(r.readies=[]),t.emit("ready")}),a.done)}))},oa=ia.prototype;X(oa,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},mount:function(e){if(null!=e){var t=this,n=t._private,r=n.options;return!P(e)&&P(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),n.container=e,n.styleEnabled=!0,t.invalidateSize(),t.initRenderer(X({},r,r.renderer,{name:"null"===r.renderer.name?"canvas":r.renderer.name})),t.startAnimationLoop(),t.style(r.style),t.emit("mount"),t}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Se(this._private.options)},json:function(e){var t=this,n=t._private,r=t.mutableElements();if(M(e)){if(t.startBatch(),e.elements){var i={},o=function(e,n){for(var r=[],o=[],a=0;a<e.length;a++){var s=e[a];if(s.data.id){var u=""+s.data.id,l=t.getElementById(u);i[u]=!0,0!==l.length?o.push({ele:l,json:s}):n?(s.group=n,r.push(s)):r.push(s)}else Ce("cy.json() cannot handle elements without an ID attribute")}t.add(r);for(var c=0;c<o.length;c++){var f=o[c],h=f.ele,d=f.json;h.json(d)}};if(D(e.elements))o(e.elements);else for(var a=["nodes","edges"],s=0;s<a.length;s++){var u=a[s],l=e.elements[u];D(l)&&o(l,u)}var c=t.collection();r.filter((function(e){return!i[e.id()]})).forEach((function(e){e.isParent()?c.merge(e):e.remove()})),c.forEach((function(e){return e.children().move({parent:null})})),c.forEach((function(e){return function(e){return t.getElementById(e.id())}(e).remove()}))}e.style&&t.style(e.style),null!=e.zoom&&e.zoom!==n.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x===n.pan.x&&e.pan.y===n.pan.y||t.pan(e.pan)),e.data&&t.data(e.data);for(var f=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],h=0;h<f.length;h++){var d=f[h];null!=e[d]&&t[d](e[d])}return t.endBatch(),this}var p={};!!e?p.elements=this.elements().map((function(e){return e.json()})):(p.elements={},r.forEach((function(e){var t=e.group();p.elements[t]||(p.elements[t]=[]),p.elements[t].push(e.json())}))),this._private.styleEnabled&&(p.style=t.style().json()),p.data=Se(t.data());var g=n.options;return p.zoomingEnabled=n.zoomingEnabled,p.userZoomingEnabled=n.userZoomingEnabled,p.zoom=n.zoom,p.minZoom=n.minZoom,p.maxZoom=n.maxZoom,p.panningEnabled=n.panningEnabled,p.userPanningEnabled=n.userPanningEnabled,p.pan=Se(n.pan),p.boxSelectionEnabled=n.boxSelectionEnabled,p.renderer=Se(g.renderer),p.hideEdgesOnViewport=g.hideEdgesOnViewport,p.textureOnViewport=g.textureOnViewport,p.wheelSensitivity=g.wheelSensitivity,p.motionBlur=g.motionBlur,p.multiClickDebounceTime=g.multiClickDebounceTime,p}}),oa.$id=oa.getElementById,[Eo,Lo,Fo,zo,jo,Bo,Uo,Go,ta,na,ra].forEach((function(e){X(oa,e)}));var aa={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},sa=function(e){return e.scratch("breadthfirst")},ua=function(e,t){return e.scratch("breadthfirst",t)};function la(e){this.options=X({},aa,e)}la.prototype.run=function(){var e,t=this.options,n=t,r=t.cy,i=n.eles,o=i.nodes().filter((function(e){return!e.isParent()})),a=i,s=n.directed,u=n.maximal||n.maximalAdjustments>0,l=ht(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(L(n.roots))e=n.roots;else if(D(n.roots)){for(var c=[],f=0;f<n.roots.length;f++){var h=n.roots[f],d=r.getElementById(h);c.push(d)}e=r.collection(c)}else if(T(n.roots))e=r.$(n.roots);else if(s)e=o.roots();else{var p=i.components();e=r.collection();for(var g=function(t){var n=p[t],r=n.maxDegree(!1),i=n.filter((function(e){return e.degree(!1)===r}));e=e.add(i)},v=0;v<p.length;v++)g(v)}var y=[],m={},b=function(e,t){null==y[t]&&(y[t]=[]);var n=y[t].length;y[t].push(e),ua(e,{index:n,depth:t})};a.bfs({roots:e,directed:n.directed,visit:function(e,t,n,r,i){var o=e[0],a=o.id();b(o,i),m[a]=!0}});for(var _=[],w=0;w<o.length;w++){var x=o[w];m[x.id()]||_.push(x)}var E=function(e){for(var t=y[e],n=0;n<t.length;n++){var r=t[n];null!=r?ua(r,{depth:e,index:n}):(t.splice(n,1),n--)}},k=function(){for(var e=0;e<y.length;e++)E(e)},C=function(e,t){for(var n=sa(e),r=e.incomers().filter((function(e){return e.isNode()&&i.has(e)})),o=-1,a=e.id(),s=0;s<r.length;s++){var u=r[s],l=sa(u);o=Math.max(o,l.depth)}return n.depth<=o&&(t[a]?null:(function(e,t){var n=sa(e),r=n.depth,i=n.index;y[r][i]=null,b(e,t)}(e,o+1),t[a]=!0,!0))};if(s&&u){var S=[],N={},I=function(e){return S.push(e)};for(o.forEach((function(e){return S.push(e)}));S.length>0;){var M=S.shift(),O=C(M,N);if(O)M.outgoers().filter((function(e){return e.isNode()&&i.has(e)})).forEach(I);else if(null===O){Ce("Detected double maximal shift for node `"+M.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}k();var P=0;if(n.avoidOverlap)for(var A=0;A<o.length;A++){var R=o[A].layoutDimensions(n),F=R.w,z=R.h;P=Math.max(P,F,z)}var j={},B=function(e){if(j[e.id()])return j[e.id()];for(var t=sa(e).depth,n=e.neighborhood(),r=0,i=0,a=0;a<n.length;a++){var s=n[a];if(!s.isEdge()&&!s.isParent()&&o.has(s)){var u=sa(s);if(null!=u){var l=u.index,c=u.depth;if(null!=l&&null!=c){var f=y[c].length;c<t&&(r+=l/f,i++)}}}}return r/=i=Math.max(1,i),0===i&&(r=0),j[e.id()]=r,r},V=function(e,t){var n=B(e)-B(t);return 0===n?W(e.id(),t.id()):n};void 0!==n.depthSort&&(V=n.depthSort);for(var U=0;U<y.length;U++)y[U].sort(V),E(U);for(var G=[],H=0;H<_.length;H++)G.push(_[H]);y.unshift(G),k();for(var q=0,Y=0;Y<y.length;Y++)q=Math.max(y[Y].length,q);var X=l.x1+l.w/2,K=l.x1+l.h/2,$=y.reduce((function(e,t){return Math.max(e,t.length)}),0);return i.nodes().layoutPositions(this,n,(function(e){var t=sa(e),r=t.depth,i=t.index,o=y[r].length,a=Math.max(l.w/((n.grid?$:o)+1),P),s=Math.max(l.h/(y.length+1),P),u=Math.min(l.w/2/y.length,l.h/2/y.length);if(u=Math.max(u,P),n.circle){var c=u*r+u-(y.length>0&&y[0].length<=3?u/2:0),f=2*Math.PI/y[r].length*i;return 0===r&&1===y[0].length&&(c=1),{x:X+c*Math.cos(f),y:K+c*Math.sin(f)}}return{x:X+(i+1-(o+1)/2)*a,y:(r+1)*s}})),this};var ca={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function fa(e){this.options=X({},ca,e)}fa.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,i=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,o=r.nodes().not(":parent");t.sort&&(o=o.sort(t.sort));for(var a,s=ht(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),u=s.x1+s.w/2,l=s.y1+s.h/2,c=(void 0===t.sweep?2*Math.PI-2*Math.PI/o.length:t.sweep)/Math.max(1,o.length-1),f=0,h=0;h<o.length;h++){var d=o[h].layoutDimensions(t),p=d.w,g=d.h;f=Math.max(f,p,g)}if(a=O(t.radius)?t.radius:o.length<=1?0:Math.min(s.h,s.w)/2-f,o.length>1&&t.avoidOverlap){f*=1.75;var v=Math.cos(c)-Math.cos(0),y=Math.sin(c)-Math.sin(0),m=Math.sqrt(f*f/(v*v+y*y));a=Math.max(m,a)}return r.nodes().layoutPositions(this,t,(function(e,n){var r=t.startAngle+n*c*(i?1:-1),o=a*Math.cos(r),s=a*Math.sin(r);return{x:u+o,y:l+s}})),this};var ha,da={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function pa(e){this.options=X({},da,e)}pa.prototype.run=function(){for(var e=this.options,t=e,n=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,r=e.cy,i=t.eles,o=i.nodes().not(":parent"),a=ht(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s=a.x1+a.w/2,u=a.y1+a.h/2,l=[],c=0,f=0;f<o.length;f++){var h,d=o[f];h=t.concentric(d),l.push({value:h,node:d}),d._private.scratch.concentric=h}o.updateStyle();for(var p=0;p<o.length;p++){var g=o[p].layoutDimensions(t);c=Math.max(c,g.w,g.h)}l.sort((function(e,t){return t.value-e.value}));for(var v=t.levelWidth(o),y=[[]],m=y[0],b=0;b<l.length;b++){var _=l[b];if(m.length>0)Math.abs(m[0].value-_.value)>=v&&(m=[],y.push(m));m.push(_)}var w=c+t.minNodeSpacing;if(!t.avoidOverlap){var x=y.length>0&&y[0].length>1,E=(Math.min(a.w,a.h)/2-w)/(y.length+x?1:0);w=Math.min(w,E)}for(var k=0,C=0;C<y.length;C++){var S=y[C],N=void 0===t.sweep?2*Math.PI-2*Math.PI/S.length:t.sweep,T=S.dTheta=N/Math.max(1,S.length-1);if(S.length>1&&t.avoidOverlap){var I=Math.cos(T)-Math.cos(0),D=Math.sin(T)-Math.sin(0),M=Math.sqrt(w*w/(I*I+D*D));k=Math.max(M,k)}S.r=k,k+=w}if(t.equidistant){for(var O=0,P=0,L=0;L<y.length;L++){var A=y[L].r-P;O=Math.max(O,A)}P=0;for(var R=0;R<y.length;R++){var F=y[R];0===R&&(P=F.r),F.r=P,P+=O}}for(var z={},j=0;j<y.length;j++)for(var B=y[j],V=B.dTheta,U=B.r,G=0;G<B.length;G++){var H=B[G],q=t.startAngle+(n?1:-1)*V*G,Y={x:s+U*Math.cos(q),y:u+U*Math.sin(q)};z[H.node.id()]=Y}return i.nodes().layoutPositions(this,t,(function(e){var t=e.id();return z[t]})),this};var ga={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function va(e){this.options=X({},ga,e),this.options.layout=this}va.prototype.run=function(){var e=this.options,t=e.cy,n=this;n.stopped=!1,!0!==e.animate&&!1!==e.animate||n.emit({type:"layoutstart",layout:n}),ha=!0===e.debug;var r=ya(t,n,e);ha&&undefined(r),e.randomize&&_a(r);var i=re(),o=function(){xa(r,t,e),!0===e.fit&&t.fit(e.padding)},a=function(t){return!(n.stopped||t>=e.numIter)&&(Ea(r,e),r.temperature=r.temperature*e.coolingFactor,!(r.temperature<e.minTemp))},s=function(){if(!0===e.animate||!1===e.animate)o(),n.one("layoutstop",e.stop),n.emit({type:"layoutstop",layout:n});else{var t=e.eles.nodes(),i=wa(r,e,t);t.layoutPositions(n,e,i)}},u=0,l=!0;if(!0===e.animate){!function t(){for(var n=0;l&&n<e.refresh;)l=a(u),u++,n++;l?(re()-i>=e.animationThreshold&&o(),ne(t)):(Aa(r,e),s())}()}else{for(;l;)l=a(u),u++;Aa(r,e),s()}return this},va.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},va.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var ya=function(e,t,n){for(var r=n.eles.edges(),i=n.eles.nodes(),o={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:r.size(),temperature:n.initialTemp,clientWidth:e.width(),clientHeight:e.width(),boundingBox:ht(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()})},a=n.eles.components(),s={},u=0;u<a.length;u++)for(var l=a[u],c=0;c<l.length;c++){s[l[c].id()]=u}for(u=0;u<o.nodeSize;u++){var f=(v=i[u]).layoutDimensions(n);(P={}).isLocked=v.locked(),P.id=v.data("id"),P.parentId=v.data("parent"),P.cmptId=s[v.id()],P.children=[],P.positionX=v.position("x"),P.positionY=v.position("y"),P.offsetX=0,P.offsetY=0,P.height=f.w,P.width=f.h,P.maxX=P.positionX+P.width/2,P.minX=P.positionX-P.width/2,P.maxY=P.positionY+P.height/2,P.minY=P.positionY-P.height/2,P.padLeft=parseFloat(v.style("padding")),P.padRight=parseFloat(v.style("padding")),P.padTop=parseFloat(v.style("padding")),P.padBottom=parseFloat(v.style("padding")),P.nodeRepulsion=I(n.nodeRepulsion)?n.nodeRepulsion(v):n.nodeRepulsion,o.layoutNodes.push(P),o.idToIndex[P.id]=u}var h=[],d=0,p=-1,g=[];for(u=0;u<o.nodeSize;u++){var v,y=(v=o.layoutNodes[u]).parentId;null!=y?o.layoutNodes[o.idToIndex[y]].children.push(v.id):(h[++p]=v.id,g.push(v.id))}for(o.graphSet.push(g);d<=p;){var m=h[d++],b=o.idToIndex[m],_=o.layoutNodes[b].children;if(_.length>0){o.graphSet.push(_);for(u=0;u<_.length;u++)h[++p]=_[u]}}for(u=0;u<o.graphSet.length;u++){var w=o.graphSet[u];for(c=0;c<w.length;c++){var x=o.idToIndex[w[c]];o.indexToGraph[x]=u}}for(u=0;u<o.edgeSize;u++){var E=r[u],k={};k.id=E.data("id"),k.sourceId=E.data("source"),k.targetId=E.data("target");var C=I(n.idealEdgeLength)?n.idealEdgeLength(E):n.idealEdgeLength,S=I(n.edgeElasticity)?n.edgeElasticity(E):n.edgeElasticity,N=o.idToIndex[k.sourceId],T=o.idToIndex[k.targetId];if(o.indexToGraph[N]!=o.indexToGraph[T]){for(var D=ma(k.sourceId,k.targetId,o),M=o.graphSet[D],O=0,P=o.layoutNodes[N];-1===M.indexOf(P.id);)P=o.layoutNodes[o.idToIndex[P.parentId]],O++;for(P=o.layoutNodes[T];-1===M.indexOf(P.id);)P=o.layoutNodes[o.idToIndex[P.parentId]],O++;C*=O*n.nestingFactor}k.idealLength=C,k.elasticity=S,o.layoutEdges.push(k)}return o},ma=function(e,t,n){var r=ba(e,t,0,n);return 2>r.count?0:r.graph},ba=function e(t,n,r,i){var o=i.graphSet[r];if(-1<o.indexOf(t)&&-1<o.indexOf(n))return{count:2,graph:r};for(var a=0,s=0;s<o.length;s++){var u=o[s],l=i.idToIndex[u],c=i.layoutNodes[l].children;if(0!==c.length){var f=e(t,n,i.indexToGraph[i.idToIndex[c[0]]],i);if(0!==f.count){if(1!==f.count)return f;if(2===++a)break}}}return{count:a,graph:r}},_a=function(e,t){for(var n=e.clientWidth,r=e.clientHeight,i=0;i<e.nodeSize;i++){var o=e.layoutNodes[i];0!==o.children.length||o.isLocked||(o.positionX=Math.random()*n,o.positionY=Math.random()*r)}},wa=function(e,t,n){var r=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(n.forEach((function(t){var n=e.layoutNodes[e.idToIndex[t.data("id")]];i.x1=Math.min(i.x1,n.positionX),i.x2=Math.max(i.x2,n.positionX),i.y1=Math.min(i.y1,n.positionY),i.y2=Math.max(i.y2,n.positionY)})),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(n,o){var a=e.layoutNodes[e.idToIndex[n.data("id")]];if(t.boundingBox){var s=(a.positionX-i.x1)/i.w,u=(a.positionY-i.y1)/i.h;return{x:r.x1+s*r.w,y:r.y1+u*r.h}}return{x:a.positionX,y:a.positionY}}},xa=function(e,t,n){var r=n.layout,i=n.eles.nodes(),o=wa(e,n,i);i.positions(o),!0!==e.ready&&(e.ready=!0,r.one("layoutready",n.ready),r.emit({type:"layoutready",layout:this}))},Ea=function(e,t,n){ka(e,t),Ia(e),Da(e,t),Ma(e),Oa(e)},ka=function(e,t){for(var n=0;n<e.graphSet.length;n++)for(var r=e.graphSet[n],i=r.length,o=0;o<i;o++)for(var a=e.layoutNodes[e.idToIndex[r[o]]],s=o+1;s<i;s++){var u=e.layoutNodes[e.idToIndex[r[s]]];Sa(a,u,e,t)}},Ca=function(e){return-e+2*e*Math.random()},Sa=function(e,t,n,r){if(e.cmptId===t.cmptId||n.isCompound){var i=t.positionX-e.positionX,o=t.positionY-e.positionY;0===i&&0===o&&(i=Ca(1),o=Ca(1));var a=Na(e,t,i,o);if(a>0)var s=(l=r.nodeOverlap*a)*i/(g=Math.sqrt(i*i+o*o)),u=l*o/g;else{var l,c=Ta(e,i,o),f=Ta(t,-1*i,-1*o),h=f.x-c.x,d=f.y-c.y,p=h*h+d*d,g=Math.sqrt(p);s=(l=(e.nodeRepulsion+t.nodeRepulsion)/p)*h/g,u=l*d/g}e.isLocked||(e.offsetX-=s,e.offsetY-=u),t.isLocked||(t.offsetX+=s,t.offsetY+=u)}},Na=function(e,t,n,r){if(n>0)var i=e.maxX-t.minX;else i=t.maxX-e.minX;if(r>0)var o=e.maxY-t.minY;else o=t.maxY-e.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},Ta=function(e,t,n){var r=e.positionX,i=e.positionY,o=e.height||1,a=e.width||1,s=n/t,u=o/a,l={};return 0===t&&0<n||0===t&&0>n?(l.x=r,l.y=i+o/2,l):0<t&&-1*u<=s&&s<=u?(l.x=r+a/2,l.y=i+a*n/2/t,l):0>t&&-1*u<=s&&s<=u?(l.x=r-a/2,l.y=i-a*n/2/t,l):0<n&&(s<=-1*u||s>=u)?(l.x=r+o*t/2/n,l.y=i+o/2,l):0>n&&(s<=-1*u||s>=u)?(l.x=r-o*t/2/n,l.y=i-o/2,l):l},Ia=function(e,t){for(var n=0;n<e.edgeSize;n++){var r=e.layoutEdges[n],i=e.idToIndex[r.sourceId],o=e.layoutNodes[i],a=e.idToIndex[r.targetId],s=e.layoutNodes[a],u=s.positionX-o.positionX,l=s.positionY-o.positionY;if(0!==u||0!==l){var c=Ta(o,u,l),f=Ta(s,-1*u,-1*l),h=f.x-c.x,d=f.y-c.y,p=Math.sqrt(h*h+d*d),g=Math.pow(r.idealLength-p,2)/r.elasticity;if(0!==p)var v=g*h/p,y=g*d/p;else v=0,y=0;o.isLocked||(o.offsetX+=v,o.offsetY+=y),s.isLocked||(s.offsetX-=v,s.offsetY-=y)}}},Da=function(e,t){if(0!==t.gravity)for(var n=0;n<e.graphSet.length;n++){var r=e.graphSet[n],i=r.length;if(0===n)var o=e.clientHeight/2,a=e.clientWidth/2;else{var s=e.layoutNodes[e.idToIndex[r[0]]],u=e.layoutNodes[e.idToIndex[s.parentId]];o=u.positionX,a=u.positionY}for(var l=0;l<i;l++){var c=e.layoutNodes[e.idToIndex[r[l]]];if(!c.isLocked){var f=o-c.positionX,h=a-c.positionY,d=Math.sqrt(f*f+h*h);if(d>1){var p=t.gravity*f/d,g=t.gravity*h/d;c.offsetX+=p,c.offsetY+=g}}}}},Ma=function(e,t){var n=[],r=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;r<=i;){var o=n[r++],a=e.idToIndex[o],s=e.layoutNodes[a],u=s.children;if(0<u.length&&!s.isLocked){for(var l=s.offsetX,c=s.offsetY,f=0;f<u.length;f++){var h=e.layoutNodes[e.idToIndex[u[f]]];h.offsetX+=l,h.offsetY+=c,n[++i]=u[f]}s.offsetX=0,s.offsetY=0}}},Oa=function(e,t){for(var n=0;n<e.nodeSize;n++){0<(i=e.layoutNodes[n]).children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(n=0;n<e.nodeSize;n++){if(!(0<(i=e.layoutNodes[n]).children.length||i.isLocked)){var r=Pa(i.offsetX,i.offsetY,e.temperature);i.positionX+=r.x,i.positionY+=r.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,La(i,e)}}for(n=0;n<e.nodeSize;n++){var i;0<(i=e.layoutNodes[n]).children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},Pa=function(e,t,n){var r=Math.sqrt(e*e+t*t);if(r>n)var i={x:n*e/r,y:n*t/r};else i={x:e,y:t};return i},La=function e(t,n){var r=t.parentId;if(null!=r){var i=n.layoutNodes[n.idToIndex[r]],o=!1;return(null==i.maxX||t.maxX+i.padRight>i.maxX)&&(i.maxX=t.maxX+i.padRight,o=!0),(null==i.minX||t.minX-i.padLeft<i.minX)&&(i.minX=t.minX-i.padLeft,o=!0),(null==i.maxY||t.maxY+i.padBottom>i.maxY)&&(i.maxY=t.maxY+i.padBottom,o=!0),(null==i.minY||t.minY-i.padTop<i.minY)&&(i.minY=t.minY-i.padTop,o=!0),o?e(i,n):void 0}},Aa=function(e,t){for(var n=e.layoutNodes,r=[],i=0;i<n.length;i++){var o=n[i],a=o.cmptId;(r[a]=r[a]||[]).push(o)}var s=0;for(i=0;i<r.length;i++){if(g=r[i]){g.x1=1/0,g.x2=-1/0,g.y1=1/0,g.y2=-1/0;for(var u=0;u<g.length;u++){var l=g[u];g.x1=Math.min(g.x1,l.positionX-l.width/2),g.x2=Math.max(g.x2,l.positionX+l.width/2),g.y1=Math.min(g.y1,l.positionY-l.height/2),g.y2=Math.max(g.y2,l.positionY+l.height/2)}g.w=g.x2-g.x1,g.h=g.y2-g.y1,s+=g.w*g.h}}r.sort((function(e,t){return t.w*t.h-e.w*e.h}));var c=0,f=0,h=0,d=0,p=Math.sqrt(s)*e.clientWidth/e.clientHeight;for(i=0;i<r.length;i++){var g;if(g=r[i]){for(u=0;u<g.length;u++){(l=g[u]).isLocked||(l.positionX+=c-g.x1,l.positionY+=f-g.y1)}c+=g.w+t.componentSpacing,h+=g.w+t.componentSpacing,d=Math.max(d,g.h),h>p&&(f+=d+t.componentSpacing,c=0,h=0,d=0)}}},Ra={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Fa(e){this.options=X({},Ra,e)}Fa.prototype.run=function(){var e=this.options,t=e,n=e.cy,r=t.eles,i=r.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));var o=ht(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===o.h||0===o.w)r.nodes().layoutPositions(this,t,(function(e){return{x:o.x1,y:o.y1}}));else{var a=i.size(),s=Math.sqrt(a*o.h/o.w),u=Math.round(s),l=Math.round(o.w/o.h*s),c=function(e){if(null==e)return Math.min(u,l);Math.min(u,l)==u?u=e:l=e},f=function(e){if(null==e)return Math.max(u,l);Math.max(u,l)==u?u=e:l=e},h=t.rows,d=null!=t.cols?t.cols:t.columns;if(null!=h&&null!=d)u=h,l=d;else if(null!=h&&null==d)u=h,l=Math.ceil(a/u);else if(null==h&&null!=d)l=d,u=Math.ceil(a/l);else if(l*u>a){var p=c(),g=f();(p-1)*g>=a?c(p-1):(g-1)*p>=a&&f(g-1)}else for(;l*u<a;){var v=c(),y=f();(y+1)*v>=a?f(y+1):c(v+1)}var m=o.w/l,b=o.h/u;if(t.condense&&(m=0,b=0),t.avoidOverlap)for(var _=0;_<i.length;_++){var w=i[_],x=w._private.position;null!=x.x&&null!=x.y||(x.x=0,x.y=0);var E=w.layoutDimensions(t),k=t.avoidOverlapPadding,C=E.w+k,S=E.h+k;m=Math.max(m,C),b=Math.max(b,S)}for(var N={},T=function(e,t){return!!N["c-"+e+"-"+t]},I=function(e,t){N["c-"+e+"-"+t]=!0},D=0,M=0,O=function(){++M>=l&&(M=0,D++)},P={},L=0;L<i.length;L++){var A=i[L],R=t.position(A);if(R&&(void 0!==R.row||void 0!==R.col)){var F={row:R.row,col:R.col};if(void 0===F.col)for(F.col=0;T(F.row,F.col);)F.col++;else if(void 0===F.row)for(F.row=0;T(F.row,F.col);)F.row++;P[A.id()]=F,I(F.row,F.col)}}i.layoutPositions(this,t,(function(e,t){var n,r;if(e.locked()||e.isParent())return!1;var i=P[e.id()];if(i)n=i.col*m+m/2+o.x1,r=i.row*b+b/2+o.y1;else{for(;T(D,M);)O();n=M*m+m/2+o.x1,r=D*b+b/2+o.y1,I(D,M),O()}return{x:n,y:r}}))}return this};var za={ready:function(){},stop:function(){}};function ja(e){this.options=X({},za,e)}ja.prototype.run=function(){var e=this.options,t=e.eles,n=this;return e.cy,n.emit("layoutstart"),t.nodes().positions((function(){return{x:0,y:0}})),n.one("layoutready",e.ready),n.emit("layoutready"),n.one("layoutstop",e.stop),n.emit("layoutstop"),this},ja.prototype.stop=function(){return this};var Ba={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Va(e){this.options=X({},Ba,e)}Va.prototype.run=function(){var e=this.options,t=e.eles.nodes(),n=I(e.positions);return t.layoutPositions(this,e,(function(t,r){var i=function(t){if(null==e.positions)return function(e){return{x:e.x,y:e.y}}(t.position());if(n)return e.positions(t);var r=e.positions[t._private.data.id];return null==r?null:r}(t);return!t.locked()&&null!=i&&i})),this};var Ua={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Ga(e){this.options=X({},Ua,e)}Ga.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles,r=ht(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});return n.nodes().layoutPositions(this,e,(function(e,t){return{x:r.x1+Math.round(Math.random()*r.w),y:r.y1+Math.round(Math.random()*r.h)}})),this};var Ha=[{name:"breadthfirst",impl:la},{name:"circle",impl:fa},{name:"concentric",impl:pa},{name:"cose",impl:va},{name:"grid",impl:Fa},{name:"null",impl:ja},{name:"preset",impl:Va},{name:"random",impl:Ga}];function qa(e){this.options=e,this.notifications=0}var Ya=function(){},Wa=function(){throw new Error("A headless instance can not render images")};qa.prototype={recalculateRenderedStyle:Ya,notify:function(){this.notifications++},init:Ya,isHeadless:function(){return!0},png:Wa,jpg:Wa};var Xa={arrowShapeWidth:.3,registerArrowShapes:function(){var e=this.arrowShapes={},t=this,n=function(e,t,n,r,i,o,a){var s=i.x-n/2-a,u=i.x+n/2+a,l=i.y-n/2-a,c=i.y+n/2+a;return s<=e&&e<=u&&l<=t&&t<=c},r=function(e,t,n,r,i){var o=e*Math.cos(r)-t*Math.sin(r),a=(e*Math.sin(r)+t*Math.cos(r))*n;return{x:o*n+i.x,y:a+i.y}},i=function(e,t,n,i){for(var o=[],a=0;a<e.length;a+=2){var s=e[a],u=e[a+1];o.push(r(s,u,t,n,i))}return o},o=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r.x,r.y)}return t},a=function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").pfValue*2},s=function(r,s){T(s)&&(s=e[s]),e[r]=X({name:r,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(e,t,n,r,a,s){var u=o(i(this.points,n+2*s,r,a));return Ct(e,t,u)},roughCollide:n,draw:function(e,n,r,o){var a=i(this.points,n,r,o);t.arrowShapeImpl("polygon")(e,a)},spacing:function(e){return 0},gap:a},s)};s("none",{collide:_e,roughCollide:_e,draw:xe,spacing:we,gap:we}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(e,n,o,a,s){var u=i(this.points,n,o,a),l=this.controlPoint,c=r(l[0],l[1],n,o,a);t.arrowShapeImpl(this.name)(e,u,c)},gap:function(e){return.8*a(e)}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,t,n,r,a,s,u){var l=o(i(this.points,n+2*u,r,a)),c=o(i(this.pointsTee,n+2*u,r,a));return Ct(e,t,l)||Ct(e,t,c)},draw:function(e,n,r,o,a){var s=i(this.points,n,r,o),u=i(this.pointsTee,n,r,o);t.arrowShapeImpl(this.name)(e,s,u)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(e,t,n,r,a,s,u){var l=a,c=Math.pow(l.x-e,2)+Math.pow(l.y-t,2)<=Math.pow((n+2*u)*this.radius,2),f=o(i(this.points,n+2*u,r,a));return Ct(e,t,f)||c},draw:function(e,n,r,o,a){var s=i(this.pointsTr,n,r,o);t.arrowShapeImpl(this.name)(e,s,o.x,o.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(e,t){var n=this.baseCrossLinePts.slice(),r=t/e;return n[3]=n[3]-r,n[5]=n[5]-r,n},collide:function(e,t,n,r,a,s,u){var l=o(i(this.points,n+2*u,r,a)),c=o(i(this.crossLinePts(n,s),n+2*u,r,a));return Ct(e,t,l)||Ct(e,t,c)},draw:function(e,n,r,o,a){var s=i(this.points,n,r,o),u=i(this.crossLinePts(n,a),n,r,o);t.arrowShapeImpl(this.name)(e,s,u)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(e){return.525*a(e)}}),s("circle",{radius:.15,collide:function(e,t,n,r,i,o,a){var s=i;return Math.pow(s.x-e,2)+Math.pow(s.y-t,2)<=Math.pow((n+2*a)*this.radius,2)},draw:function(e,n,r,i,o){t.arrowShapeImpl(this.name)(e,i.x,i.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(e){return 1},gap:function(e){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(e){return.95*e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}})}},Ka={projectIntoViewport:function(e,t){var n=this.cy,r=this.findContainerClientCoords(),i=r[0],o=r[1],a=r[4],s=n.pan(),u=n.zoom();return[((e-i)/a-s.x)/u,((t-o)/a-s.y)/u]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),n=w.getComputedStyle(e),r=function(e){return parseFloat(n.getPropertyValue(e))},i=r("padding-left"),o=r("padding-right"),a=r("padding-top"),s=r("padding-bottom"),u=r("border-left-width"),l=r("border-right-width"),c=r("border-top-width"),f=(r("border-bottom-width"),e.clientWidth),h=e.clientHeight,d=i+o,p=a+s,g=u+l,v=t.width/(f+g),y=f-d,m=h-p,b=t.left+i+u,_=t.top+a+c;return this.containerBB=[b,_,y,m,v]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(e,t,n,r){return this.findNearestElements(e,t,n,r)[0]},findNearestElements:function(e,t,n,r){var i,o,a=this,s=this,u=s.getCachedZSortedEles(),l=[],c=s.cy.zoom(),f=s.cy.hasCompoundNodes(),h=(r?24:8)/c,d=(r?8:2)/c,p=(r?8:2)/c,g=1/0;function v(e,t){if(e.isNode()){if(o)return;o=e,l.push(e)}if(e.isEdge()&&(null==t||t<g))if(i){if(i.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value&&i.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value)for(var n=0;n<l.length;n++)if(l[n].isEdge()){l[n]=e,i=e,g=null!=t?t:g;break}}else l.push(e),i=e,g=null!=t?t:g}function y(n){var r=n.outerWidth()+2*d,i=n.outerHeight()+2*d,o=r/2,u=i/2,l=n.position();if(l.x-o<=e&&e<=l.x+o&&l.y-u<=t&&t<=l.y+u&&s.nodeShapes[a.getNodeShape(n)].checkPoint(e,t,0,r,i,l.x,l.y))return v(n,0),!0}function m(n){var r,i=n._private,o=i.rscratch,u=n.pstyle("width").pfValue,c=n.pstyle("arrow-scale").value,d=u/2+h,p=d*d,g=2*d,m=i.source,b=i.target;if("segments"===o.edgeType||"straight"===o.edgeType||"haystack"===o.edgeType){for(var _=o.allpts,w=0;w+3<_.length;w+=2)if(wt(e,t,_[w],_[w+1],_[w+2],_[w+3],g)&&p>(r=kt(e,t,_[w],_[w+1],_[w+2],_[w+3])))return v(n,r),!0}else if("bezier"===o.edgeType||"multibezier"===o.edgeType||"self"===o.edgeType||"compound"===o.edgeType)for(_=o.allpts,w=0;w+5<o.allpts.length;w+=4)if(xt(e,t,_[w],_[w+1],_[w+2],_[w+3],_[w+4],_[w+5],g)&&p>(r=Et(e,t,_[w],_[w+1],_[w+2],_[w+3],_[w+4],_[w+5])))return v(n,r),!0;m=m||i.source,b=b||i.target;var x=a.getArrowWidth(u,c),E=[{name:"source",x:o.arrowStartX,y:o.arrowStartY,angle:o.srcArrowAngle},{name:"target",x:o.arrowEndX,y:o.arrowEndY,angle:o.tgtArrowAngle},{name:"mid-source",x:o.midX,y:o.midY,angle:o.midsrcArrowAngle},{name:"mid-target",x:o.midX,y:o.midY,angle:o.midtgtArrowAngle}];for(w=0;w<E.length;w++){var k=E[w],C=s.arrowShapes[n.pstyle(k.name+"-arrow-shape").value],S=n.pstyle("width").pfValue;if(C.roughCollide(e,t,x,k.angle,{x:k.x,y:k.y},S,h)&&C.collide(e,t,x,k.angle,{x:k.x,y:k.y},S,h))return v(n),!0}f&&l.length>0&&(y(m),y(b))}function b(e,t,n){return Pe(e,t,n)}function _(n,r){var i,o=n._private,a=p;i=r?r+"-":"",n.boundingBox();var s=o.labelBounds[r||"main"],u=n.pstyle(i+"label").value;if("yes"===n.pstyle("text-events").strValue&&u){var l=b(o.rscratch,"labelX",r),c=b(o.rscratch,"labelY",r),f=b(o.rscratch,"labelAngle",r),h=n.pstyle(i+"text-margin-x").pfValue,d=n.pstyle(i+"text-margin-y").pfValue,g=s.x1-a-h,y=s.x2+a-h,m=s.y1-a-d,_=s.y2+a-d;if(f){var w=Math.cos(f),x=Math.sin(f),E=function(e,t){return{x:(e-=l)*w-(t-=c)*x+l,y:e*x+t*w+c}},k=E(g,m),C=E(g,_),S=E(y,m),N=E(y,_),T=[k.x+h,k.y+d,S.x+h,S.y+d,N.x+h,N.y+d,C.x+h,C.y+d];if(Ct(e,t,T))return v(n),!0}else if(mt(s,e,t))return v(n),!0}}n&&(u=u.interactive);for(var w=u.length-1;w>=0;w--){var x=u[w];x.isNode()?y(x)||_(x):m(x)||_(x)||_(x,"source")||_(x,"target")}return l},getAllInBox:function(e,t,n,r){for(var i,o,a=this.getCachedZSortedEles().interactive,s=[],u=Math.min(e,n),l=Math.max(e,n),c=Math.min(t,r),f=Math.max(t,r),h=ht({x1:e=u,y1:t=c,x2:n=l,y2:r=f}),d=0;d<a.length;d++){var p=a[d];if(p.isNode()){var g=p,v=g.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});yt(h,v)&&!bt(v,h)&&s.push(g)}else{var y=p,m=y._private,b=m.rscratch;if(null!=b.startX&&null!=b.startY&&!mt(h,b.startX,b.startY))continue;if(null!=b.endX&&null!=b.endY&&!mt(h,b.endX,b.endY))continue;if("bezier"===b.edgeType||"multibezier"===b.edgeType||"self"===b.edgeType||"compound"===b.edgeType||"segments"===b.edgeType||"haystack"===b.edgeType){for(var _=m.rstyle.bezierPts||m.rstyle.linePts||m.rstyle.haystackPts,w=!0,x=0;x<_.length;x++)if(i=h,o=_[x],!mt(i,o.x,o.y)){w=!1;break}w&&s.push(y)}else"haystack"!==b.edgeType&&"straight"!==b.edgeType||s.push(y)}}return s}},$a={calculateArrowAngles:function(e){var t,n,r,i,o,a,s=e._private.rscratch,u="haystack"===s.edgeType,l="bezier"===s.edgeType,c="multibezier"===s.edgeType,f="segments"===s.edgeType,h="compound"===s.edgeType,d="self"===s.edgeType;if(u?(r=s.haystackPts[0],i=s.haystackPts[1],o=s.haystackPts[2],a=s.haystackPts[3]):(r=s.arrowStartX,i=s.arrowStartY,o=s.arrowEndX,a=s.arrowEndY),g=s.midX,v=s.midY,f)t=r-s.segpts[0],n=i-s.segpts[1];else if(c||h||d||l){var p=s.allpts;t=r-lt(p[0],p[2],p[4],.1),n=i-lt(p[1],p[3],p[5],.1)}else t=r-g,n=i-v;s.srcArrowAngle=rt(t,n);var g=s.midX,v=s.midY;if(u&&(g=(r+o)/2,v=(i+a)/2),t=o-r,n=a-i,f)if((p=s.allpts).length/2%2===0){var y=(m=p.length/2)-2;t=p[m]-p[y],n=p[m+1]-p[y+1]}else{y=(m=p.length/2-1)-2;var m,b=m+2;t=p[m]-p[y],n=p[m+1]-p[y+1]}else if(c||h||d){var _,w,x,E,p=s.allpts;if(s.ctrlpts.length/2%2===0){var k=(C=(S=p.length/2-1)+2)+2;_=lt(p[S],p[C],p[k],0),w=lt(p[S+1],p[C+1],p[k+1],0),x=lt(p[S],p[C],p[k],1e-4),E=lt(p[S+1],p[C+1],p[k+1],1e-4)}else{var C,S;k=(C=p.length/2-1)+2;_=lt(p[S=C-2],p[C],p[k],.4999),w=lt(p[S+1],p[C+1],p[k+1],.4999),x=lt(p[S],p[C],p[k],.5),E=lt(p[S+1],p[C+1],p[k+1],.5)}t=x-_,n=E-w}(s.midtgtArrowAngle=rt(t,n),s.midDispX=t,s.midDispY=n,t*=-1,n*=-1,f)&&((p=s.allpts).length/2%2===0||(t=-(p[b=(m=p.length/2-1)+2]-p[m]),n=-(p[b+1]-p[m+1])));if(s.midsrcArrowAngle=rt(t,n),f)t=o-s.segpts[s.segpts.length-2],n=a-s.segpts[s.segpts.length-1];else if(c||h||d||l){var N=(p=s.allpts).length;t=o-lt(p[N-6],p[N-4],p[N-2],.9),n=a-lt(p[N-5],p[N-3],p[N-1],.9)}else t=o-g,n=a-v;s.tgtArrowAngle=rt(t,n)}};$a.getArrowWidth=$a.getArrowHeight=function(e,t){var n=this.arrowWidthCache=this.arrowWidthCache||{},r=n[e+", "+t];return r||(r=Math.max(Math.pow(13.37*e,.9),29)*t,n[e+", "+t]=r,r)};var Qa={};function Za(e){var t=[];if(null!=e){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];t.push({x:r,y:i})}return t}}Qa.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n._private,i=r.rscratch;if(!i.haystack){var o=2*Math.random()*Math.PI;i.source={x:Math.cos(o),y:Math.sin(o)},o=2*Math.random()*Math.PI,i.target={x:Math.cos(o),y:Math.sin(o)}}var a=r.source,s=r.target,u=a.position(),l=s.position(),c=a.width(),f=s.width(),h=a.height(),d=s.height(),p=n.pstyle("haystack-radius").value/2;i.haystackPts=i.allpts=[i.source.x*c*p+u.x,i.source.y*h*p+u.y,i.target.x*f*p+l.x,i.target.y*d*p+l.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}},Qa.findSegmentsPoints=function(e,t){var n=e._private.rscratch,r=t.posPts,i=t.intersectionPts,o=t.vectorNormInverse,a=e.pstyle("edge-distances").value,s=e.pstyle("segment-weights"),u=e.pstyle("segment-distances"),l=Math.min(s.pfValue.length,u.pfValue.length);n.edgeType="segments",n.segpts=[];for(var c=0;c<l;c++){var f=s.pfValue[c],h=u.pfValue[c],d=1-f,p=f,g="node-position"===a?r:i,v={x:g.x1*d+g.x2*p,y:g.y1*d+g.y2*p};n.segpts.push(v.x+o.x*h,v.y+o.y*h)}},Qa.findLoopPoints=function(e,t,n,r){var i=e._private.rscratch,o=t.dirCounts,a=t.srcPos,s=e.pstyle("control-point-distances"),u=s?s.pfValue[0]:void 0,l=e.pstyle("loop-direction").pfValue,c=e.pstyle("loop-sweep").pfValue,f=e.pstyle("control-point-step-size").pfValue;i.edgeType="self";var h=n,d=f;r&&(h=0,d=u);var p=l-Math.PI/2,g=p-c/2,v=p+c/2,y=String(l+"_"+c);h=void 0===o[y]?o[y]=0:++o[y],i.ctrlpts=[a.x+1.4*Math.cos(g)*d*(h/3+1),a.y+1.4*Math.sin(g)*d*(h/3+1),a.x+1.4*Math.cos(v)*d*(h/3+1),a.y+1.4*Math.sin(v)*d*(h/3+1)]},Qa.findCompoundLoopPoints=function(e,t,n,r){var i=e._private.rscratch;i.edgeType="compound";var o=t.srcPos,a=t.tgtPos,s=t.srcW,u=t.srcH,l=t.tgtW,c=t.tgtH,f=e.pstyle("control-point-step-size").pfValue,h=e.pstyle("control-point-distances"),d=h?h.pfValue[0]:void 0,p=n,g=f;r&&(p=0,g=d);var v={x:o.x-s/2,y:o.y-u/2},y={x:a.x-l/2,y:a.y-c/2},m={x:Math.min(v.x,y.x),y:Math.min(v.y,y.y)},b=Math.max(.5,Math.log(.01*s)),_=Math.max(.5,Math.log(.01*l));i.ctrlpts=[m.x,m.y-(1+Math.pow(50,1.12)/100)*g*(p/3+1)*b,m.x-(1+Math.pow(50,1.12)/100)*g*(p/3+1)*_,m.y]},Qa.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"},Qa.findBezierPoints=function(e,t,n,r,i){var o=e._private.rscratch,a=t.vectorNormInverse,s=t.posPts,u=t.intersectionPts,l=e.pstyle("edge-distances").value,c=e.pstyle("control-point-step-size").pfValue,f=e.pstyle("control-point-distances"),h=e.pstyle("control-point-weights"),d=f&&h?Math.min(f.value.length,h.value.length):1,p=f?f.pfValue[0]:void 0,g=h.value[0],v=r;o.edgeType=v?"multibezier":"bezier",o.ctrlpts=[];for(var y=0;y<d;y++){var m=(.5-t.eles.length/2+n)*c*(i?-1:1),b=void 0,_=ot(m);v&&(p=f?f.pfValue[y]:c,g=h.value[y]);var w=void 0!==(b=r?p:void 0!==p?_*p:void 0)?b:m,x=1-g,E=g,k="node-position"===l?s:u,C={x:k.x1*x+k.x2*E,y:k.y1*x+k.y2*E};o.ctrlpts.push(C.x+a.x*w,C.y+a.y*w)}},Qa.findTaxiPoints=function(e,t){var n=e._private.rscratch;n.edgeType="segments";var r="vertical",i="horizontal",o="leftward",a="rightward",s="downward",u="upward",l=t.posPts,c=t.srcW,f=t.srcH,h=t.tgtW,d=t.tgtH,p="node-position"!==e.pstyle("edge-distances").value,g=e.pstyle("taxi-direction").value,v=g,y=e.pstyle("taxi-turn"),m="%"===y.units,b=y.pfValue,_=b<0,w=e.pstyle("taxi-turn-min-distance").pfValue,x=p?(c+h)/2:0,E=p?(f+d)/2:0,k=l.x2-l.x1,C=l.y2-l.y1,S=function(e,t){return e>0?Math.max(e-t,0):Math.min(e+t,0)},N=S(k,x),T=S(C,E),I=!1;"auto"===v?g=Math.abs(N)>Math.abs(T)?i:r:v===u||v===s?(g=r,I=!0):v!==o&&v!==a||(g=i,I=!0);var D,M=g===r,O=M?T:N,P=M?C:k,L=ot(P),A=!1;(I&&(m||_)||!(v===s&&P<0||v===u&&P>0||v===o&&P>0||v===a&&P<0)||(O=(L*=-1)*Math.abs(O),A=!0),m)?D=(b<0?1+b:b)*O:D=(b<0?O:0)+b*L;var R=function(e){return Math.abs(e)<w||Math.abs(e)>=Math.abs(O)},F=R(D),z=R(Math.abs(O)-Math.abs(D));if((F||z)&&!A)if(M){var j=Math.abs(P)<=f/2,B=Math.abs(k)<=h/2;if(j){var V=(l.x1+l.x2)/2,U=l.y1,G=l.y2;n.segpts=[V,U,V,G]}else if(B){var H=(l.y1+l.y2)/2,q=l.x1,Y=l.x2;n.segpts=[q,H,Y,H]}else n.segpts=[l.x1,l.y2]}else{var W=Math.abs(P)<=c/2,X=Math.abs(C)<=d/2;if(W){var K=(l.y1+l.y2)/2,$=l.x1,Q=l.x2;n.segpts=[$,K,Q,K]}else if(X){var Z=(l.x1+l.x2)/2,J=l.y1,ee=l.y2;n.segpts=[Z,J,Z,ee]}else n.segpts=[l.x2,l.y1]}else if(M){var te=l.y1+D+(p?f/2*L:0),ne=l.x1,re=l.x2;n.segpts=[ne,te,re,te]}else{var ie=l.x1+D+(p?c/2*L:0),oe=l.y1,ae=l.y2;n.segpts=[ie,oe,ie,ae]}},Qa.tryToCorrectInvalidPoints=function(e,t){var n=e._private.rscratch;if("bezier"===n.edgeType){var r=t.srcPos,i=t.tgtPos,o=t.srcW,a=t.srcH,s=t.tgtW,u=t.tgtH,l=t.srcShape,c=t.tgtShape,f=!O(n.startX)||!O(n.startY),h=!O(n.arrowStartX)||!O(n.arrowStartY),d=!O(n.endX)||!O(n.endY),p=!O(n.arrowEndX)||!O(n.arrowEndY),g=3*(this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth),v=at({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),y=v<g,m=at({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),b=m<g,_=!1;if(f||h||y){_=!0;var w={x:n.ctrlpts[0]-r.x,y:n.ctrlpts[1]-r.y},x=Math.sqrt(w.x*w.x+w.y*w.y),E={x:w.x/x,y:w.y/x},k=Math.max(o,a),C={x:n.ctrlpts[0]+2*E.x*k,y:n.ctrlpts[1]+2*E.y*k},S=l.intersectLine(r.x,r.y,o,a,C.x,C.y,0);y?(n.ctrlpts[0]=n.ctrlpts[0]+E.x*(g-v),n.ctrlpts[1]=n.ctrlpts[1]+E.y*(g-v)):(n.ctrlpts[0]=S[0]+E.x*g,n.ctrlpts[1]=S[1]+E.y*g)}if(d||p||b){_=!0;var N={x:n.ctrlpts[0]-i.x,y:n.ctrlpts[1]-i.y},T=Math.sqrt(N.x*N.x+N.y*N.y),I={x:N.x/T,y:N.y/T},D=Math.max(o,a),M={x:n.ctrlpts[0]+2*I.x*D,y:n.ctrlpts[1]+2*I.y*D},P=c.intersectLine(i.x,i.y,s,u,M.x,M.y,0);b?(n.ctrlpts[0]=n.ctrlpts[0]+I.x*(g-m),n.ctrlpts[1]=n.ctrlpts[1]+I.y*(g-m)):(n.ctrlpts[0]=P[0]+I.x*g,n.ctrlpts[1]=P[1]+I.y*g)}_&&this.findEndpoints(e)}},Qa.storeAllpts=function(e){var t=e._private.rscratch;if("multibezier"===t.edgeType||"bezier"===t.edgeType||"self"===t.edgeType||"compound"===t.edgeType){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var n=0;n+1<t.ctrlpts.length;n+=2)t.allpts.push(t.ctrlpts[n],t.ctrlpts[n+1]),n+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[n]+t.ctrlpts[n+2])/2,(t.ctrlpts[n+1]+t.ctrlpts[n+3])/2);var r;t.allpts.push(t.endX,t.endY),t.ctrlpts.length/2%2===0?(r=t.allpts.length/2-1,t.midX=t.allpts[r],t.midY=t.allpts[r+1]):(r=t.allpts.length/2-3,.5,t.midX=lt(t.allpts[r],t.allpts[r+2],t.allpts[r+4],.5),t.midY=lt(t.allpts[r+1],t.allpts[r+3],t.allpts[r+5],.5))}else if("straight"===t.edgeType)t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if("segments"===t.edgeType)if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.segpts.length%4===0){var i=t.segpts.length/2,o=i-2;t.midX=(t.segpts[o]+t.segpts[i])/2,t.midY=(t.segpts[o+1]+t.segpts[i+1])/2}else{var a=t.segpts.length/2-1;t.midX=t.segpts[a],t.midY=t.segpts[a+1]}},Qa.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||O(t.startX)&&O(t.startY)&&O(t.endX)&&O(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,Ce("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},Qa.findEdgeControlPoints=function(e){var t=this;if(e&&0!==e.length){for(var n=this,r=n.cy.hasCompoundNodes(),i={map:new Ae,get:function(e){var t=this.map.get(e[0]);return null!=t?t.get(e[1]):null},set:function(e,t){var n=this.map.get(e[0]);null==n&&(n=new Ae,this.map.set(e[0],n)),n.set(e[1],t)}},o=[],a=[],s=0;s<e.length;s++){var u=e[s],l=u._private,c=u.pstyle("curve-style").value;if(!u.removed()&&u.takesUpSpace())if("haystack"!==c){var f="unbundled-bezier"===c||"segments"===c||"straight"===c||"straight-triangle"===c||"taxi"===c,h="unbundled-bezier"===c||"bezier"===c,d=l.source,p=l.target,g=[d.poolIndex(),p.poolIndex()].sort(),v=i.get(g);null==v&&(v={eles:[]},i.set(g,v),o.push(g)),v.eles.push(u),f&&(v.hasUnbundled=!0),h&&(v.hasBezier=!0)}else a.push(u)}for(var y=function(e){var a=o[e],s=i.get(a),u=void 0;if(!s.hasUnbundled){var l=s.eles[0].parallelEdges().filter((function(e){return e.isBundledBezier()}));Oe(s.eles),l.forEach((function(e){return s.eles.push(e)})),s.eles.sort((function(e,t){return e.poolIndex()-t.poolIndex()}))}var c=s.eles[0],f=c.source(),h=c.target();if(f.poolIndex()>h.poolIndex()){var d=f;f=h,h=d}var p=s.srcPos=f.position(),g=s.tgtPos=h.position(),v=s.srcW=f.outerWidth(),y=s.srcH=f.outerHeight(),m=s.tgtW=h.outerWidth(),b=s.tgtH=h.outerHeight(),_=s.srcShape=n.nodeShapes[t.getNodeShape(f)],w=s.tgtShape=n.nodeShapes[t.getNodeShape(h)];s.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var x=0;x<s.eles.length;x++){var E=s.eles[x],k=E[0]._private.rscratch,C=E.pstyle("curve-style").value,S="unbundled-bezier"===C||"segments"===C||"taxi"===C,N=!f.same(E.source());if(!s.calculatedIntersection&&f!==h&&(s.hasBezier||s.hasUnbundled)){s.calculatedIntersection=!0;var T=_.intersectLine(p.x,p.y,v,y,g.x,g.y,0),I=s.srcIntn=T,D=w.intersectLine(g.x,g.y,m,b,p.x,p.y,0),M=s.tgtIntn=D,P=s.intersectionPts={x1:T[0],x2:D[0],y1:T[1],y2:D[1]},L=s.posPts={x1:p.x,x2:g.x,y1:p.y,y2:g.y},A=D[1]-T[1],R=D[0]-T[0],F=Math.sqrt(R*R+A*A),z=s.vector={x:R,y:A},j=s.vectorNorm={x:z.x/F,y:z.y/F},B={x:-j.y,y:j.x};s.nodesOverlap=!O(F)||w.checkPoint(T[0],T[1],0,m,b,g.x,g.y)||_.checkPoint(D[0],D[1],0,v,y,p.x,p.y),s.vectorNormInverse=B,u={nodesOverlap:s.nodesOverlap,dirCounts:s.dirCounts,calculatedIntersection:!0,hasBezier:s.hasBezier,hasUnbundled:s.hasUnbundled,eles:s.eles,srcPos:g,tgtPos:p,srcW:m,srcH:b,tgtW:v,tgtH:y,srcIntn:M,tgtIntn:I,srcShape:w,tgtShape:_,posPts:{x1:L.x2,y1:L.y2,x2:L.x1,y2:L.y1},intersectionPts:{x1:P.x2,y1:P.y2,x2:P.x1,y2:P.y1},vector:{x:-z.x,y:-z.y},vectorNorm:{x:-j.x,y:-j.y},vectorNormInverse:{x:-B.x,y:-B.y}}}var V=N?u:s;k.nodesOverlap=V.nodesOverlap,k.srcIntn=V.srcIntn,k.tgtIntn=V.tgtIntn,r&&(f.isParent()||f.isChild()||h.isParent()||h.isChild())&&(f.parents().anySame(h)||h.parents().anySame(f)||f.same(h)&&f.isParent())?t.findCompoundLoopPoints(E,V,x,S):f===h?t.findLoopPoints(E,V,x,S):"segments"===C?t.findSegmentsPoints(E,V):"taxi"===C?t.findTaxiPoints(E,V):"straight"===C||!S&&s.eles.length%2===1&&x===Math.floor(s.eles.length/2)?t.findStraightEdgePoints(E):t.findBezierPoints(E,V,x,S,N),t.findEndpoints(E),t.tryToCorrectInvalidPoints(E,V),t.checkForInvalidEdgeWarning(E),t.storeAllpts(E),t.storeEdgeProjections(E),t.calculateArrowAngles(E),t.recalculateEdgeLabelProjections(E),t.calculateLabelAngles(E)}},m=0;m<o.length;m++)y(m);this.findHaystackPoints(a)}},Qa.getSegmentPoints=function(e){var t=e[0]._private.rscratch;if("segments"===t.edgeType)return this.recalculateRenderedStyle(e),Za(t.segpts)},Qa.getControlPoints=function(e){var t=e[0]._private.rscratch,n=t.edgeType;if("bezier"===n||"multibezier"===n||"self"===n||"compound"===n)return this.recalculateRenderedStyle(e),Za(t.ctrlpts)},Qa.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var Ja={manualEndptToPx:function(e,t){var n=e.position(),r=e.outerWidth(),i=e.outerHeight();if(2===t.value.length){var o=[t.pfValue[0],t.pfValue[1]];return"%"===t.units[0]&&(o[0]=o[0]*r),"%"===t.units[1]&&(o[1]=o[1]*i),o[0]+=n.x,o[1]+=n.y,o}var a=t.pfValue[0];a=-Math.PI/2+a;var s=2*Math.max(r,i),u=[n.x+Math.cos(a)*s,n.y+Math.sin(a)*s];return this.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,r,i,u[0],u[1],0)},findEndpoints:function(e){var t,n,r,i,o,a=this,s=e.source()[0],u=e.target()[0],l=s.position(),c=u.position(),f=e.pstyle("target-arrow-shape").value,h=e.pstyle("source-arrow-shape").value,d=e.pstyle("target-distance-from-node").pfValue,p=e.pstyle("source-distance-from-node").pfValue,g=e.pstyle("curve-style").value,v=e._private.rscratch,y=v.edgeType,m="self"===y||"compound"===y,b="bezier"===y||"multibezier"===y||m,_="bezier"!==y,w="straight"===y||"segments"===y,x="segments"===y,E=b||_||w,k=m||"taxi"===g,C=e.pstyle("source-endpoint"),S=k?"outside-to-node":C.value,N=e.pstyle("target-endpoint"),T=k?"outside-to-node":N.value;if(v.srcManEndpt=C,v.tgtManEndpt=N,b){var I=[v.ctrlpts[0],v.ctrlpts[1]];n=_?[v.ctrlpts[v.ctrlpts.length-2],v.ctrlpts[v.ctrlpts.length-1]]:I,r=I}else if(w){var D=x?v.segpts.slice(0,2):[c.x,c.y];n=x?v.segpts.slice(v.segpts.length-2):[l.x,l.y],r=D}if("inside-to-node"===T)t=[c.x,c.y];else if(N.units)t=this.manualEndptToPx(u,N);else if("outside-to-line"===T)t=v.tgtIntn;else if("outside-to-node"===T||"outside-to-node-or-label"===T?i=n:"outside-to-line"!==T&&"outside-to-line-or-label"!==T||(i=[l.x,l.y]),t=a.nodeShapes[this.getNodeShape(u)].intersectLine(c.x,c.y,u.outerWidth(),u.outerHeight(),i[0],i[1],0),"outside-to-node-or-label"===T||"outside-to-line-or-label"===T){var M=u._private.rscratch,P=M.labelWidth,L=M.labelHeight,A=M.labelX,R=M.labelY,F=P/2,z=L/2,j=u.pstyle("text-valign").value;"top"===j?R-=z:"bottom"===j&&(R+=z);var B=u.pstyle("text-halign").value;"left"===B?A-=F:"right"===B&&(A+=F);var V=Pt(i[0],i[1],[A-F,R-z,A+F,R-z,A+F,R+z,A-F,R+z],c.x,c.y);if(V.length>0){var U=l,G=st(U,nt(t)),H=st(U,nt(V)),q=G;if(H<G&&(t=V,q=H),V.length>2)st(U,{x:V[2],y:V[3]})<q&&(t=[V[2],V[3]])}}var Y=Lt(t,n,a.arrowShapes[f].spacing(e)+d),W=Lt(t,n,a.arrowShapes[f].gap(e)+d);if(v.endX=W[0],v.endY=W[1],v.arrowEndX=Y[0],v.arrowEndY=Y[1],"inside-to-node"===S)t=[l.x,l.y];else if(C.units)t=this.manualEndptToPx(s,C);else if("outside-to-line"===S)t=v.srcIntn;else if("outside-to-node"===S||"outside-to-node-or-label"===S?o=r:"outside-to-line"!==S&&"outside-to-line-or-label"!==S||(o=[c.x,c.y]),t=a.nodeShapes[this.getNodeShape(s)].intersectLine(l.x,l.y,s.outerWidth(),s.outerHeight(),o[0],o[1],0),"outside-to-node-or-label"===S||"outside-to-line-or-label"===S){var X=s._private.rscratch,K=X.labelWidth,$=X.labelHeight,Q=X.labelX,Z=X.labelY,J=K/2,ee=$/2,te=s.pstyle("text-valign").value;"top"===te?Z-=ee:"bottom"===te&&(Z+=ee);var ne=s.pstyle("text-halign").value;"left"===ne?Q-=J:"right"===ne&&(Q+=J);var re=Pt(o[0],o[1],[Q-J,Z-ee,Q+J,Z-ee,Q+J,Z+ee,Q-J,Z+ee],l.x,l.y);if(re.length>0){var ie=c,oe=st(ie,nt(t)),ae=st(ie,nt(re)),se=oe;if(ae<oe&&(t=[re[0],re[1]],se=ae),re.length>2)st(ie,{x:re[2],y:re[3]})<se&&(t=[re[2],re[3]])}}var ue=Lt(t,r,a.arrowShapes[h].spacing(e)+p),le=Lt(t,r,a.arrowShapes[h].gap(e)+p);v.startX=le[0],v.startY=le[1],v.arrowStartX=ue[0],v.arrowStartY=ue[1],E&&(O(v.startX)&&O(v.startY)&&O(v.endX)&&O(v.endY)?v.badLine=!1:v.badLine=!0)},getSourceEndpoint:function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),"haystack"===t.edgeType?{x:t.haystackPts[0],y:t.haystackPts[1]}:{x:t.arrowStartX,y:t.arrowStartY}},getTargetEndpoint:function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),"haystack"===t.edgeType?{x:t.haystackPts[2],y:t.haystackPts[3]}:{x:t.arrowEndX,y:t.arrowEndY}}},es={};function ts(e,t,n){for(var r=function(e,t,n,r){return lt(e,t,n,r)},i=t._private.rstyle.bezierPts,o=0;o<e.bezierProjPcts.length;o++){var a=e.bezierProjPcts[o];i.push({x:r(n[0],n[2],n[4],a),y:r(n[1],n[3],n[5],a)})}}es.storeEdgeProjections=function(e){var t=e._private,n=t.rscratch,r=n.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,"multibezier"===r||"bezier"===r||"self"===r||"compound"===r){t.rstyle.bezierPts=[];for(var i=0;i+5<n.allpts.length;i+=4)ts(this,e,n.allpts.slice(i,i+6))}else if("segments"===r){var o=t.rstyle.linePts=[];for(i=0;i+1<n.allpts.length;i+=2)o.push({x:n.allpts[i],y:n.allpts[i+1]})}else if("haystack"===r){var a=n.haystackPts;t.rstyle.haystackPts=[{x:a[0],y:a[1]},{x:a[2],y:a[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},es.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var ns={recalculateNodeLabelProjection:function(e){var t=e.pstyle("label").strValue;if(!j(t)){var n,r,i=e._private,o=e.width(),a=e.height(),s=e.padding(),u=e.position(),l=e.pstyle("text-halign").strValue,c=e.pstyle("text-valign").strValue,f=i.rscratch,h=i.rstyle;switch(l){case"left":n=u.x-o/2-s;break;case"right":n=u.x+o/2+s;break;default:n=u.x}switch(c){case"top":r=u.y-a/2-s;break;case"bottom":r=u.y+a/2+s;break;default:r=u.y}f.labelX=n,f.labelY=r,h.labelX=n,h.labelY=r,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}}},rs=function(e,t){var n=Math.atan(t/e);return 0===e&&n<0&&(n*=-1),n},is=function(e,t){var n=t.x-e.x,r=t.y-e.y;return rs(n,r)};ns.recalculateEdgeLabelProjections=function(e){var t,n=e._private,r=n.rscratch,i=this,o={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(o.mid||o.source||o.target){t={x:r.midX,y:r.midY};var a=function(e,t,r){Le(n.rscratch,e,t,r),Le(n.rstyle,e,t,r)};a("labelX",null,t.x),a("labelY",null,t.y);var s=rs(r.midDispX,r.midDispY);a("labelAutoAngle",null,s);var u=function e(){if(e.cache)return e.cache;for(var t=[],o=0;o+5<r.allpts.length;o+=4){var a={x:r.allpts[o],y:r.allpts[o+1]},s={x:r.allpts[o+2],y:r.allpts[o+3]},u={x:r.allpts[o+4],y:r.allpts[o+5]};t.push({p0:a,p1:s,p2:u,startDist:0,length:0,segments:[]})}var l=n.rstyle.bezierPts,c=i.bezierProjPcts.length;function f(e,t,n,r,i){var o=at(t,n),a=e.segments[e.segments.length-1],s={p0:t,p1:n,t0:r,t1:i,startDist:a?a.startDist+a.length:0,length:o};e.segments.push(s),e.length+=o}for(var h=0;h<t.length;h++){var d=t[h],p=t[h-1];p&&(d.startDist=p.startDist+p.length),f(d,d.p0,l[h*c],0,i.bezierProjPcts[0]);for(var g=0;g<c-1;g++)f(d,l[h*c+g],l[h*c+g+1],i.bezierProjPcts[g],i.bezierProjPcts[g+1]);f(d,l[h*c+c-1],d.p2,i.bezierProjPcts[c-1],1)}return e.cache=t},l=function(n){var i,s="source"===n;if(o[n]){var l=e.pstyle(n+"-text-offset").pfValue;switch(r.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var c,f=u(),h=0,d=0,p=0;p<f.length;p++){for(var g=f[s?p:f.length-1-p],v=0;v<g.segments.length;v++){var y=g.segments[s?v:g.segments.length-1-v],m=p===f.length-1&&v===g.segments.length-1;if(h=d,(d+=y.length)>=l||m){c={cp:g,segment:y};break}}if(c)break}var b=c.cp,_=c.segment,w=(l-h)/_.length,x=_.t1-_.t0,E=s?_.t0+x*w:_.t1-x*w;E=ft(0,E,1),t=ct(b.p0,b.p1,b.p2,E),i=function(e,t,n,r){var i=ft(0,r-.001,1),o=ft(0,r+.001,1),a=ct(e,t,n,i),s=ct(e,t,n,o);return is(a,s)}(b.p0,b.p1,b.p2,E);break;case"straight":case"segments":case"haystack":for(var k,C,S,N,T=0,I=r.allpts.length,D=0;D+3<I&&(s?(S={x:r.allpts[D],y:r.allpts[D+1]},N={x:r.allpts[D+2],y:r.allpts[D+3]}):(S={x:r.allpts[I-2-D],y:r.allpts[I-1-D]},N={x:r.allpts[I-4-D],y:r.allpts[I-3-D]}),C=T,!((T+=k=at(S,N))>=l));D+=2);var M=(l-C)/k;M=ft(0,M,1),t=function(e,t,n,r){var i=t.x-e.x,o=t.y-e.y,a=at(e,t),s=i/a,u=o/a;return n=null==n?0:n,r=null!=r?r:n*a,{x:e.x+s*r,y:e.y+u*r}}(S,N,M),i=is(S,N)}a("labelX",n,t.x),a("labelY",n,t.y),a("labelAutoAngle",n,i)}};l("source"),l("target"),this.applyLabelDimensions(e)}},ns.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},ns.applyPrefixedLabelDimensions=function(e,t){var n=e._private,r=this.getLabelText(e,t),i=this.calculateLabelDimensions(e,r),o=e.pstyle("line-height").pfValue,a=e.pstyle("text-wrap").strValue,s=Pe(n.rscratch,"labelWrapCachedLines",t)||[],u="wrap"!==a?1:Math.max(s.length,1),l=i.height/u,c=l*o,f=i.width,h=i.height+(u-1)*(o-1)*l;Le(n.rstyle,"labelWidth",t,f),Le(n.rscratch,"labelWidth",t,f),Le(n.rstyle,"labelHeight",t,h),Le(n.rscratch,"labelHeight",t,h),Le(n.rscratch,"labelLineHeight",t,c)},ns.getLabelText=function(e,t){var n=e._private,r=t?t+"-":"",i=e.pstyle(r+"label").strValue,o=e.pstyle("text-transform").value,a=function(e,r){return r?(Le(n.rscratch,e,t,r),r):Pe(n.rscratch,e,t)};if(!i)return"";"none"==o||("uppercase"==o?i=i.toUpperCase():"lowercase"==o&&(i=i.toLowerCase()));var s=e.pstyle("text-wrap").value;if("wrap"===s){var u=a("labelKey");if(null!=u&&a("labelWrapKey")===u)return a("labelWrapCachedText");for(var l=i.split("\n"),c=e.pstyle("text-max-width").pfValue,f="anywhere"===e.pstyle("text-overflow-wrap").value,h=[],d=/[\s\u200b]+/,p=f?"":" ",g=0;g<l.length;g++){var v=l[g],y=this.calculateLabelDimensions(e,v).width;if(f){var m=v.split("").join("\u200b");v=m}if(y>c){for(var b=v.split(d),_="",w=0;w<b.length;w++){var x=b[w],E=0===_.length?x:_+p+x;this.calculateLabelDimensions(e,E).width<=c?_+=x+p:(_&&h.push(_),_=x+p)}_.match(/^[\s\u200b]+$/)||h.push(_)}else h.push(v)}a("labelWrapCachedLines",h),i=a("labelWrapCachedText",h.join("\n")),a("labelWrapKey",u)}else if("ellipsis"===s){var k=e.pstyle("text-max-width").pfValue,C="",S=!1;if(this.calculateLabelDimensions(e,i).width<k)return i;for(var N=0;N<i.length;N++){if(this.calculateLabelDimensions(e,C+i[N]+"\u2026").width>k)break;C+=i[N],N===i.length-1&&(S=!0)}return S||(C+="\u2026"),C}return i},ns.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,n=e.pstyle("text-halign").strValue;if("auto"!==t)return t;if(!e.isNode())return"center";switch(n){case"left":return"right";case"right":return"left";default:return"center"}},ns.calculateLabelDimensions=function(e,t){var n=he(t,e._private.labelDimsKey),r=this.labelDimCache||(this.labelDimCache=[]),i=r[n];if(null!=i)return i;var o=e.pstyle("font-style").strValue,a=e.pstyle("font-size").pfValue,s=e.pstyle("font-family").strValue,u=e.pstyle("font-weight").strValue,l=this.labelCalcCanvas,c=this.labelCalcCanvasContext;if(!l){l=this.labelCalcCanvas=document.createElement("canvas"),c=this.labelCalcCanvasContext=l.getContext("2d");var f=l.style;f.position="absolute",f.left="-9999px",f.top="-9999px",f.zIndex="-1",f.visibility="hidden",f.pointerEvents="none"}c.font="".concat(o," ").concat(u," ").concat(a,"px ").concat(s);for(var h=0,d=0,p=t.split("\n"),g=0;g<p.length;g++){var v=p[g],y=c.measureText(v),m=Math.ceil(y.width),b=a;h=Math.max(m,h),d+=b}return h+=0,d+=0,r[n]={width:h,height:d}},ns.calculateLabelAngle=function(e,t){var n=e._private.rscratch,r=e.isEdge(),i=t?t+"-":"",o=e.pstyle(i+"text-rotation"),a=o.strValue;return"none"===a?0:r&&"autorotate"===a?n.labelAutoAngle:"autorotate"===a?0:o.pfValue},ns.calculateLabelAngles=function(e){var t=this,n=e.isEdge(),r=e._private.rscratch;r.labelAngle=t.calculateLabelAngle(e),n&&(r.sourceLabelAngle=t.calculateLabelAngle(e,"source"),r.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var os={},as=!1;os.getNodeShape=function(e){var t=e.pstyle("shape").value;if("cutrectangle"===t&&(e.width()<28||e.height()<28))return as||(Ce("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),as=!0),"rectangle";if(e.isParent())return"rectangle"===t||"roundrectangle"===t||"round-rectangle"===t||"cutrectangle"===t||"cut-rectangle"===t||"barrel"===t?t:"rectangle";if("polygon"===t){var n=e.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(n).name}return t};var ss={registerCalculationListeners:function(){var e=this.cy,t=e.collection(),n=this,r=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.merge(e),n)for(var r=0;r<e.length;r++){var i=e[r],o=i._private,a=o.rstyle;a.clean=!1,a.cleanConnected=!1}};n.binder(e).on("bounds.* dirty.*",(function(e){var t=e.target;r(t)})).on("style.* background.*",(function(e){var t=e.target;r(t,!1)}));var i=function(i){if(i){var o=n.onUpdateEleCalcsFns;t.cleanStyle();for(var a=0;a<t.length;a++){var s=t[a],u=s._private.rstyle;s.isNode()&&!u.cleanConnected&&(r(s.connectedEdges()),u.cleanConnected=!0)}if(o)for(var l=0;l<o.length;l++){(0,o[l])(i,t)}n.recalculateRenderedStyle(t),t=e.collection()}};n.flushRenderedStyleQueue=function(){i(!0)},n.beforeRender(i,n.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(e){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(e)},recalculateRenderedStyle:function(e,t){var n=function(e){return e._private.rstyle.cleanConnected},r=[],i=[];if(!this.destroyed){void 0===t&&(t=!0);for(var o=0;o<e.length;o++){var a=e[o],s=a._private,u=s.rstyle;!a.isEdge()||n(a.source())&&n(a.target())||(u.clean=!1),t&&u.clean||a.removed()||"none"!==a.pstyle("display").value&&("nodes"===s.group?i.push(a):r.push(a),u.clean=!0)}for(var l=0;l<i.length;l++){var c=i[l],f=c._private.rstyle,h=c.position();this.recalculateNodeLabelProjection(c),f.nodeX=h.x,f.nodeY=h.y,f.nodeW=c.pstyle("width").pfValue,f.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(r);for(var d=0;d<r.length;d++){var p=r[d]._private,g=p.rstyle,v=p.rscratch;g.srcX=v.arrowStartX,g.srcY=v.arrowStartY,g.tgtX=v.arrowEndX,g.tgtY=v.arrowEndY,g.midX=v.midX,g.midY=v.midY,g.labelAngle=v.labelAngle,g.sourceLabelAngle=v.sourceLabelAngle,g.targetLabelAngle=v.targetLabelAngle}}}},us={updateCachedGrabbedEles:function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],n=0;n<e.length;n++){var r=(i=e[n])._private.rscratch;i.grabbed()&&!i.isParent()?t.push(i):r.inDragLayer?e.drag.push(i):e.nondrag.push(i)}for(n=0;n<t.length;n++){var i=t[n];e.drag.push(i)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(Ki),t.interactive=t.filter((function(e){return e.interactive()})),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t}},ls={};[Ka,$a,Qa,Ja,es,ns,os,ss,us].forEach((function(e){X(ls,e)}));var cs={getCachedImage:function(e,t,n){var r=this.imageCache=this.imageCache||{},i=r[e];if(i)return i.image.complete||i.image.addEventListener("load",n),i.image;var o=(i=r[e]=r[e]||{}).image=new Image;o.addEventListener("load",n),o.addEventListener("error",(function(){o.error=!0}));var a="data:";return e.substring(0,a.length).toLowerCase()===a||(o.crossOrigin=t),o.src=e,o}},fs={registerBinding:function(e,t,n,r){var i=Array.prototype.slice.apply(arguments,[1]),o=this.binder(e);return o.on.apply(o,i)}};fs.binder=function(e){var t,n=this,r=e===window||e===document||e===document.body||(t=e,"undefined"!==typeof HTMLElement&&t instanceof HTMLElement);if(null==n.supportsPassiveEvents){var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});window.addEventListener("test",null,o)}catch(s){}n.supportsPassiveEvents=i}var a=function(t,i,o){var a=Array.prototype.slice.call(arguments);return r&&n.supportsPassiveEvents&&(a[2]={capture:null!=o&&o,passive:!1,once:!1}),n.bindings.push({target:e,args:a}),(e.addEventListener||e.on).apply(e,a),this};return{on:a,addEventListener:a,addListener:a,bind:a}},fs.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},fs.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()},fs.load=function(){var e=this,t=function(e){return e.selected()},n=function(t,n,r,i){null==t&&(t=e.cy);for(var o=0;o<n.length;o++){var a=n[o];t.emit({originalEvent:r,type:a,position:i})}},r=function(e){return e.shiftKey||e.metaKey||e.ctrlKey},i=function(t,n){var r=!0;if(e.cy.hasCompoundNodes()&&t&&t.pannable())for(var i=0;n&&i<n.length;i++){if((t=n[i]).isNode()&&t.isParent()&&!t.pannable()){r=!1;break}}else r=!0;return r},o=function(e){e[0]._private.rscratch.inDragLayer=!0},a=function(e){e[0]._private.rscratch.isGrabTarget=!0},s=function(e,t){var n=t.addToList;n.has(e)||!e.grabbable()||e.locked()||(n.merge(e),function(e){e[0]._private.grabbed=!0}(e))},u=function(t,n){n=n||{};var r=t.cy().hasCompoundNodes();n.inDragLayer&&(t.forEach(o),t.neighborhood().stdFilter((function(e){return!r||e.isEdge()})).forEach(o)),n.addToList&&t.forEach((function(e){s(e,n)})),function(e,t){if(e.cy().hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList)){var n=e.descendants();t.inDragLayer&&(n.forEach(o),n.connectedEdges().forEach(o)),t.addToList&&s(n,t)}}(t,n),h(t,{inDragLayer:n.inDragLayer}),e.updateCachedGrabbedEles()},c=u,f=function(t){t&&(e.getCachedZSortedEles().forEach((function(e){!function(e){e[0]._private.grabbed=!1}(e),function(e){e[0]._private.rscratch.inDragLayer=!1}(e),function(e){e[0]._private.rscratch.isGrabTarget=!1}(e)})),e.updateCachedGrabbedEles())},h=function(e,t){if((null!=t.inDragLayer||null!=t.addToList)&&e.cy().hasCompoundNodes()){var n=e.ancestors().orphans();if(!n.same(e)){var r=n.descendants().spawnSelf().merge(n).unmerge(e).unmerge(e.descendants()),i=r.connectedEdges();t.inDragLayer&&(i.forEach(o),r.forEach(o)),t.addToList&&r.forEach((function(e){s(e,t)}))}}},d=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},p="undefined"!==typeof MutationObserver,g="undefined"!==typeof ResizeObserver;p?(e.removeObserver=new MutationObserver((function(t){for(var n=0;n<t.length;n++){var r=t[n].removedNodes;if(r)for(var i=0;i<r.length;i++){if(r[i]===e.container){e.destroy();break}}}})),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",(function(t){e.destroy()}));var v=l.default((function(){e.cy.resize()}),100);p&&(e.styleObserver=new MutationObserver(v),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(window,"resize",v),g&&(e.resizeObserver=new ResizeObserver(v),e.resizeObserver.observe(e.container));var y=function(){e.invalidateContainerClientCoordsCache()};!function(e,t){for(;null!=e;)t(e),e=e.parentNode}(e.container,(function(t){e.registerBinding(t,"transitionend",y),e.registerBinding(t,"animationend",y),e.registerBinding(t,"scroll",y)})),e.registerBinding(e.container,"contextmenu",(function(e){e.preventDefault()}));var m,b,_,w=function(t){for(var n=e.findContainerClientCoords(),r=n[0],i=n[1],o=n[2],a=n[3],s=t.touches?t.touches:[t],u=!1,l=0;l<s.length;l++){var c=s[l];if(r<=c.clientX&&c.clientX<=r+o&&i<=c.clientY&&c.clientY<=i+a){u=!0;break}}if(!u)return!1;for(var f=e.container,h=t.target.parentNode,d=!1;h;){if(h===f){d=!0;break}h=h.parentNode}return!!d};e.registerBinding(e.container,"mousedown",(function(t){if(w(t)){t.preventDefault(),d(),e.hoverData.capture=!0,e.hoverData.which=t.which;var r=e.cy,i=[t.clientX,t.clientY],o=e.projectIntoViewport(i[0],i[1]),s=e.selection,l=e.findNearestElements(o[0],o[1],!0,!1),f=l[0],h=e.dragData.possibleDragElements;e.hoverData.mdownPos=o,e.hoverData.mdownGPos=i;if(3==t.which){e.hoverData.cxtStarted=!0;var p={originalEvent:t,type:"cxttapstart",position:{x:o[0],y:o[1]}};f?(f.activate(),f.emit(p),e.hoverData.down=f):r.emit(p),e.hoverData.downTime=(new Date).getTime(),e.hoverData.cxtDragged=!1}else if(1==t.which){if(f&&f.activate(),null!=f&&e.nodeIsGrabbable(f)){var g=function(e){return{originalEvent:t,type:e,position:{x:o[0],y:o[1]}}};if(a(f),f.selected()){h=e.dragData.possibleDragElements=r.collection();var v=r.$((function(t){return t.isNode()&&t.selected()&&e.nodeIsGrabbable(t)}));u(v,{addToList:h}),f.emit(g("grabon")),v.forEach((function(e){e.emit(g("grab"))}))}else h=e.dragData.possibleDragElements=r.collection(),c(f,{addToList:h}),f.emit(g("grabon")).emit(g("grab"));e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=f,e.hoverData.downs=l,e.hoverData.downTime=(new Date).getTime(),n(f,["mousedown","tapstart","vmousedown"],t,{x:o[0],y:o[1]}),null==f?(s[4]=1,e.data.bgActivePosistion={x:o[0],y:o[1]},e.redrawHint("select",!0),e.redraw()):f.pannable()&&(s[4]=1),e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout((function(){if(!e.hoverData.tapholdCancelled){var n=e.hoverData.down;n?n.emit({originalEvent:t,type:"taphold",position:{x:o[0],y:o[1]}}):r.emit({originalEvent:t,type:"taphold",position:{x:o[0],y:o[1]}})}}),e.tapholdDuration)}s[0]=s[2]=o[0],s[1]=s[3]=o[1]}}),!1),e.registerBinding(window,"mousemove",(function(t){if(e.hoverData.capture||w(t)){var o=!1,a=e.cy,s=a.zoom(),l=[t.clientX,t.clientY],c=e.projectIntoViewport(l[0],l[1]),h=e.hoverData.mdownPos,d=e.hoverData.mdownGPos,p=e.selection,g=null;e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.selecting||(g=e.findNearestElement(c[0],c[1],!0,!1));var v,y=e.hoverData.last,m=e.hoverData.down,b=[c[0]-p[2],c[1]-p[3]],_=e.dragData.possibleDragElements;if(d){var x=l[0]-d[0],E=x*x,k=l[1]-d[1],C=E+k*k;e.hoverData.isOverThresholdDrag=v=C>=e.desktopTapThreshold2}var S=r(t);v&&(e.hoverData.tapholdCancelled=!0);o=!0,n(g,["mousemove","vmousemove","tapdrag"],t,{x:c[0],y:c[1]});var N=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||a.emit({originalEvent:t,type:"boxstart",position:{x:c[0],y:c[1]}}),p[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(3===e.hoverData.which){if(v){var T={originalEvent:t,type:"cxtdrag",position:{x:c[0],y:c[1]}};m?m.emit(T):a.emit(T),e.hoverData.cxtDragged=!0,e.hoverData.cxtOver&&g===e.hoverData.cxtOver||(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit({originalEvent:t,type:"cxtdragout",position:{x:c[0],y:c[1]}}),e.hoverData.cxtOver=g,g&&g.emit({originalEvent:t,type:"cxtdragover",position:{x:c[0],y:c[1]}}))}}else if(e.hoverData.dragging){if(o=!0,a.panningEnabled()&&a.userPanningEnabled()){var I;if(e.hoverData.justStartedPan){var D=e.hoverData.mdownPos;I={x:(c[0]-D[0])*s,y:(c[1]-D[1])*s},e.hoverData.justStartedPan=!1}else I={x:b[0]*s,y:b[1]*s};a.panBy(I),a.emit("dragpan"),e.hoverData.dragged=!0}c=e.projectIntoViewport(t.clientX,t.clientY)}else if(1!=p[4]||null!=m&&!m.pannable()){if(m&&m.pannable()&&m.active()&&m.unactivate(),m&&m.grabbed()||g==y||(y&&n(y,["mouseout","tapdragout"],t,{x:c[0],y:c[1]}),g&&n(g,["mouseover","tapdragover"],t,{x:c[0],y:c[1]}),e.hoverData.last=g),m)if(v){if(a.boxSelectionEnabled()&&S)m&&m.grabbed()&&(f(_),m.emit("freeon"),_.emit("free"),e.dragData.didDrag&&(m.emit("dragfreeon"),_.emit("dragfree"))),N();else if(m&&m.grabbed()&&e.nodeIsDraggable(m)){var M=!e.dragData.didDrag;M&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||u(_,{inDragLayer:!0});var P={x:0,y:0};if(O(b[0])&&O(b[1])&&(P.x+=b[0],P.y+=b[1],M)){var L=e.hoverData.dragDelta;L&&O(L[0])&&O(L[1])&&(P.x+=L[0],P.y+=L[1])}e.hoverData.draggingEles=!0,_.silentShift(P).emit("position drag"),e.redrawHint("drag",!0),e.redraw()}}else!function(){var t=e.hoverData.dragDelta=e.hoverData.dragDelta||[];0===t.length?(t.push(b[0]),t.push(b[1])):(t[0]+=b[0],t[1]+=b[1])}();o=!0}else if(v){if(e.hoverData.dragging||!a.boxSelectionEnabled()||!S&&a.panningEnabled()&&a.userPanningEnabled()){if(!e.hoverData.selecting&&a.panningEnabled()&&a.userPanningEnabled()){i(m,e.hoverData.downs)&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,p[4]=0,e.data.bgActivePosistion=nt(h),e.redrawHint("select",!0),e.redraw())}}else N();m&&m.pannable()&&m.active()&&m.unactivate()}return p[2]=c[0],p[3]=c[1],o?(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),!1):void 0}}),!1),e.registerBinding(window,"mouseup",(function(i){if(e.hoverData.capture){e.hoverData.capture=!1;var o=e.cy,a=e.projectIntoViewport(i.clientX,i.clientY),s=e.selection,u=e.findNearestElement(a[0],a[1],!0,!1),l=e.dragData.possibleDragElements,c=e.hoverData.down,h=r(i);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,c&&c.unactivate(),3===e.hoverData.which){var d={originalEvent:i,type:"cxttapend",position:{x:a[0],y:a[1]}};if(c?c.emit(d):o.emit(d),!e.hoverData.cxtDragged){var p={originalEvent:i,type:"cxttap",position:{x:a[0],y:a[1]}};c?c.emit(p):o.emit(p)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(1===e.hoverData.which){if(n(u,["mouseup","tapend","vmouseup"],i,{x:a[0],y:a[1]}),e.dragData.didDrag||e.hoverData.dragged||e.hoverData.selecting||e.hoverData.isOverThresholdDrag||(n(c,["click","tap","vclick"],i,{x:a[0],y:a[1]}),b=!1,i.timeStamp-_<=o.multiClickDebounceTime()?(m&&clearTimeout(m),b=!0,_=null,n(c,["dblclick","dbltap","vdblclick"],i,{x:a[0],y:a[1]})):(m=setTimeout((function(){b||n(c,["oneclick","onetap","voneclick"],i,{x:a[0],y:a[1]})}),o.multiClickDebounceTime()),_=i.timeStamp)),null!=c||e.dragData.didDrag||e.hoverData.selecting||e.hoverData.dragged||r(i)||(o.$(t).unselect(["tapunselect"]),l.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=l=o.collection()),u!=c||e.dragData.didDrag||e.hoverData.selecting||null!=u&&u._private.selectable&&(e.hoverData.dragging||("additive"===o.selectionType()||h?u.selected()?u.unselect(["tapunselect"]):u.select(["tapselect"]):h||(o.$(t).unmerge(u).unselect(["tapunselect"]),u.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var g=o.collection(e.getAllInBox(s[0],s[1],s[2],s[3]));e.redrawHint("select",!0),g.length>0&&e.redrawHint("eles",!0),o.emit({type:"boxend",originalEvent:i,position:{x:a[0],y:a[1]}});var v=function(e){return e.selectable()&&!e.selected()};"additive"===o.selectionType()||h||o.$(t).unmerge(g).unselect(),g.emit("box").stdFilter(v).select().emit("boxselect"),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!s[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var y=c&&c.grabbed();f(l),y&&(c.emit("freeon"),l.emit("free"),e.dragData.didDrag&&(c.emit("dragfreeon"),l.emit("dragfree")))}}s[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null}}),!1);var x,E,k,C,S,N,T,I,D,M,P,L,A,R=function(t){if(!e.scrollingPage){var n=e.cy,r=n.zoom(),i=n.pan(),o=e.projectIntoViewport(t.clientX,t.clientY),a=[o[0]*r+i.x,o[1]*r+i.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||0!==e.selection[4])t.preventDefault();else if(n.panningEnabled()&&n.userPanningEnabled()&&n.zoomingEnabled()&&n.userZoomingEnabled()){var s;t.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout((function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()}),150),s=null!=t.deltaY?t.deltaY/-250:null!=t.wheelDeltaY?t.wheelDeltaY/1e3:t.wheelDelta/1e3,s*=e.wheelSensitivity,1===t.deltaMode&&(s*=33);var u=n.zoom()*Math.pow(10,s);"gesturechange"===t.type&&(u=e.gestureStartZoom*t.scale),n.zoom({level:u,renderedPosition:{x:a[0],y:a[1]}}),n.emit("gesturechange"===t.type?"pinchzoom":"scrollzoom")}}};e.registerBinding(e.container,"wheel",R,!0),e.registerBinding(window,"scroll",(function(t){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout((function(){e.scrollingPage=!1}),250)}),!0),e.registerBinding(e.container,"gesturestart",(function(t){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||t.preventDefault()}),!0),e.registerBinding(e.container,"gesturechange",(function(t){e.hasTouchStarted||R(t)}),!0),e.registerBinding(e.container,"mouseout",(function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseout",position:{x:n[0],y:n[1]}})}),!1),e.registerBinding(e.container,"mouseover",(function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseover",position:{x:n[0],y:n[1]}})}),!1);var F,z,j,B,V,U,G,H=function(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))},q=function(e,t,n,r){return(n-e)*(n-e)+(r-t)*(r-t)};if(e.registerBinding(e.container,"touchstart",F=function(t){if(e.hasTouchStarted=!0,w(t)){d(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var r=e.cy,i=e.touchData.now,o=e.touchData.earlier;if(t.touches[0]){var s=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);i[0]=s[0],i[1]=s[1]}if(t.touches[1]){s=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);i[2]=s[0],i[3]=s[1]}if(t.touches[2]){s=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);i[4]=s[0],i[5]=s[1]}if(t.touches[1]){e.touchData.singleTouchMoved=!0,f(e.dragData.touchDragEles);var l=e.findContainerClientCoords();D=l[0],M=l[1],P=l[2],L=l[3],x=t.touches[0].clientX-D,E=t.touches[0].clientY-M,k=t.touches[1].clientX-D,C=t.touches[1].clientY-M,A=0<=x&&x<=P&&0<=k&&k<=P&&0<=E&&E<=L&&0<=C&&C<=L;var h=r.pan(),p=r.zoom();S=H(x,E,k,C),N=q(x,E,k,C),I=[((T=[(x+k)/2,(E+C)/2])[0]-h.x)/p,(T[1]-h.y)/p];if(N<4e4&&!t.touches[2]){var g=e.findNearestElement(i[0],i[1],!0,!0),v=e.findNearestElement(i[2],i[3],!0,!0);return g&&g.isNode()?(g.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start=g):v&&v.isNode()?(v.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start=v):r.emit({originalEvent:t,type:"cxttapstart",position:{x:i[0],y:i[1]}}),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,void e.redraw()}}if(t.touches[2])r.boxSelectionEnabled()&&t.preventDefault();else if(t.touches[1]);else if(t.touches[0]){var y=e.findNearestElements(i[0],i[1],!0,!0),m=y[0];if(null!=m&&(m.activate(),e.touchData.start=m,e.touchData.starts=y,e.nodeIsGrabbable(m))){var b=e.dragData.touchDragEles=r.collection(),_=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),m.selected()?(_=r.$((function(t){return t.selected()&&e.nodeIsGrabbable(t)})),u(_,{addToList:b})):c(m,{addToList:b}),a(m);var O=function(e){return{originalEvent:t,type:e,position:{x:i[0],y:i[1]}}};m.emit(O("grabon")),_?_.forEach((function(e){e.emit(O("grab"))})):m.emit(O("grab"))}n(m,["touchstart","tapstart","vmousedown"],t,{x:i[0],y:i[1]}),null==m&&(e.data.bgActivePosistion={x:s[0],y:s[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout((function(){!1!==e.touchData.singleTouchMoved||e.pinching||e.touchData.selecting||n(e.touchData.start,["taphold"],t,{x:i[0],y:i[1]})}),e.tapholdDuration)}if(t.touches.length>=1){for(var R=e.touchData.startPosition=[],F=0;F<i.length;F++)R[F]=o[F]=i[F];var z=t.touches[0];e.touchData.startGPosition=[z.clientX,z.clientY]}}},!1),e.registerBinding(window,"touchmove",z=function(t){var r=e.touchData.capture;if(r||w(t)){var o=e.selection,a=e.cy,s=e.touchData.now,l=e.touchData.earlier,c=a.zoom();if(t.touches[0]){var h=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);s[0]=h[0],s[1]=h[1]}if(t.touches[1]){h=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);s[2]=h[0],s[3]=h[1]}if(t.touches[2]){h=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);s[4]=h[0],s[5]=h[1]}var d,p=e.touchData.startGPosition;if(r&&t.touches[0]&&p){for(var g=[],v=0;v<s.length;v++)g[v]=s[v]-l[v];var y=t.touches[0].clientX-p[0],m=y*y,b=t.touches[0].clientY-p[1];d=m+b*b>=e.touchTapThreshold2}if(r&&e.touchData.cxt){t.preventDefault();var _=t.touches[0].clientX-D,T=t.touches[0].clientY-M,P=t.touches[1].clientX-D,L=t.touches[1].clientY-M,R=q(_,T,P,L);if(R/N>=2.25||R>=22500){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var F={originalEvent:t,type:"cxttapend",position:{x:s[0],y:s[1]}};e.touchData.start?(e.touchData.start.unactivate().emit(F),e.touchData.start=null):a.emit(F)}}if(r&&e.touchData.cxt){F={originalEvent:t,type:"cxtdrag",position:{x:s[0],y:s[1]}};e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(F):a.emit(F),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var z=e.findNearestElement(s[0],s[1],!0,!0);e.touchData.cxtOver&&z===e.touchData.cxtOver||(e.touchData.cxtOver&&e.touchData.cxtOver.emit({originalEvent:t,type:"cxtdragout",position:{x:s[0],y:s[1]}}),e.touchData.cxtOver=z,z&&z.emit({originalEvent:t,type:"cxtdragover",position:{x:s[0],y:s[1]}}))}else if(r&&t.touches[2]&&a.boxSelectionEnabled())t.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||a.emit({originalEvent:t,type:"boxstart",position:{x:s[0],y:s[1]}}),e.touchData.selecting=!0,e.touchData.didSelect=!0,o[4]=1,o&&0!==o.length&&void 0!==o[0]?(o[2]=(s[0]+s[2]+s[4])/3,o[3]=(s[1]+s[3]+s[5])/3):(o[0]=(s[0]+s[2]+s[4])/3,o[1]=(s[1]+s[3]+s[5])/3,o[2]=(s[0]+s[2]+s[4])/3+1,o[3]=(s[1]+s[3]+s[5])/3+1),e.redrawHint("select",!0),e.redraw();else if(r&&t.touches[1]&&!e.touchData.didSelect&&a.zoomingEnabled()&&a.panningEnabled()&&a.userZoomingEnabled()&&a.userPanningEnabled()){if(t.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),ee=e.dragData.touchDragEles){e.redrawHint("drag",!0);for(var j=0;j<ee.length;j++){var B=ee[j]._private;B.grabbed=!1,B.rscratch.inDragLayer=!1}}var V=e.touchData.start,U=(_=t.touches[0].clientX-D,T=t.touches[0].clientY-M,P=t.touches[1].clientX-D,L=t.touches[1].clientY-M,H(_,T,P,L)),G=U/S;if(A){var Y=(_-x+(P-k))/2,W=(T-E+(L-C))/2,X=a.zoom(),K=X*G,$=a.pan(),Q=I[0]*X+$.x,Z=I[1]*X+$.y,J={x:-K/X*(Q-$.x-Y)+Q,y:-K/X*(Z-$.y-W)+Z};if(V&&V.active()){var ee=e.dragData.touchDragEles;f(ee),e.redrawHint("drag",!0),e.redrawHint("eles",!0),V.unactivate().emit("freeon"),ee.emit("free"),e.dragData.didDrag&&(V.emit("dragfreeon"),ee.emit("dragfree"))}a.viewport({zoom:K,pan:J,cancelOnFailedZoom:!0}),a.emit("pinchzoom"),S=U,x=_,E=T,k=P,C=L,e.pinching=!0}if(t.touches[0]){h=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);s[0]=h[0],s[1]=h[1]}if(t.touches[1]){h=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);s[2]=h[0],s[3]=h[1]}if(t.touches[2]){h=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);s[4]=h[0],s[5]=h[1]}}else if(t.touches[0]&&!e.touchData.didSelect){var te=e.touchData.start,ne=e.touchData.last;if(e.hoverData.draggingEles||e.swipePanning||(z=e.findNearestElement(s[0],s[1],!0,!0)),r&&null!=te&&t.preventDefault(),r&&null!=te&&e.nodeIsDraggable(te))if(d){ee=e.dragData.touchDragEles;var re=!e.dragData.didDrag;re&&u(ee,{inDragLayer:!0}),e.dragData.didDrag=!0;var ie={x:0,y:0};if(O(g[0])&&O(g[1]))if(ie.x+=g[0],ie.y+=g[1],re)e.redrawHint("eles",!0),(oe=e.touchData.dragDelta)&&O(oe[0])&&O(oe[1])&&(ie.x+=oe[0],ie.y+=oe[1]);e.hoverData.draggingEles=!0,ee.silentShift(ie).emit("position drag"),e.redrawHint("drag",!0),e.touchData.startPosition[0]==l[0]&&e.touchData.startPosition[1]==l[1]&&e.redrawHint("eles",!0),e.redraw()}else{var oe;0===(oe=e.touchData.dragDelta=e.touchData.dragDelta||[]).length?(oe.push(g[0]),oe.push(g[1])):(oe[0]+=g[0],oe[1]+=g[1])}if(n(te||z,["touchmove","tapdrag","vmousemove"],t,{x:s[0],y:s[1]}),te&&te.grabbed()||z==ne||(ne&&ne.emit({originalEvent:t,type:"tapdragout",position:{x:s[0],y:s[1]}}),z&&z.emit({originalEvent:t,type:"tapdragover",position:{x:s[0],y:s[1]}})),e.touchData.last=z,r)for(j=0;j<s.length;j++)s[j]&&e.touchData.startPosition[j]&&d&&(e.touchData.singleTouchMoved=!0);if(r&&(null==te||te.pannable())&&a.panningEnabled()&&a.userPanningEnabled()){i(te,e.touchData.starts)&&(t.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=nt(e.touchData.startPosition)),e.swipePanning?(a.panBy({x:g[0]*c,y:g[1]*c}),a.emit("dragpan")):d&&(e.swipePanning=!0,a.panBy({x:y*c,y:b*c}),a.emit("dragpan"),te&&(te.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));h=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);s[0]=h[0],s[1]=h[1]}}for(v=0;v<s.length;v++)l[v]=s[v];r&&t.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&null!=e.data.bgActivePosistion&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1),e.registerBinding(window,"touchcancel",j=function(t){var n=e.touchData.start;e.touchData.capture=!1,n&&n.unactivate()}),e.registerBinding(window,"touchend",B=function(r){var i=e.touchData.start;if(e.touchData.capture){0===r.touches.length&&(e.touchData.capture=!1),r.preventDefault();var o=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var a,s=e.cy,u=s.zoom(),l=e.touchData.now,c=e.touchData.earlier;if(r.touches[0]){var h=e.projectIntoViewport(r.touches[0].clientX,r.touches[0].clientY);l[0]=h[0],l[1]=h[1]}if(r.touches[1]){h=e.projectIntoViewport(r.touches[1].clientX,r.touches[1].clientY);l[2]=h[0],l[3]=h[1]}if(r.touches[2]){h=e.projectIntoViewport(r.touches[2].clientX,r.touches[2].clientY);l[4]=h[0],l[5]=h[1]}if(i&&i.unactivate(),e.touchData.cxt){if(a={originalEvent:r,type:"cxttapend",position:{x:l[0],y:l[1]}},i?i.emit(a):s.emit(a),!e.touchData.cxtDragged){var d={originalEvent:r,type:"cxttap",position:{x:l[0],y:l[1]}};i?i.emit(d):s.emit(d)}return e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,void e.redraw()}if(!r.touches[2]&&s.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var p=s.collection(e.getAllInBox(o[0],o[1],o[2],o[3]));o[0]=void 0,o[1]=void 0,o[2]=void 0,o[3]=void 0,o[4]=0,e.redrawHint("select",!0),s.emit({type:"boxend",originalEvent:r,position:{x:l[0],y:l[1]}});p.emit("box").stdFilter((function(e){return e.selectable()&&!e.selected()})).select().emit("boxselect"),p.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(null!=i&&i.unactivate(),r.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(r.touches[1]);else if(r.touches[0]);else if(!r.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var g=e.dragData.touchDragEles;if(null!=i){var v=i._private.grabbed;f(g),e.redrawHint("drag",!0),e.redrawHint("eles",!0),v&&(i.emit("freeon"),g.emit("free"),e.dragData.didDrag&&(i.emit("dragfreeon"),g.emit("dragfree"))),n(i,["touchend","tapend","vmouseup","tapdragout"],r,{x:l[0],y:l[1]}),i.unactivate(),e.touchData.start=null}else{var y=e.findNearestElement(l[0],l[1],!0,!0);n(y,["touchend","tapend","vmouseup","tapdragout"],r,{x:l[0],y:l[1]})}var m=e.touchData.startPosition[0]-l[0],b=m*m,_=e.touchData.startPosition[1]-l[1],w=(b+_*_)*u*u;e.touchData.singleTouchMoved||(i||s.$(":selected").unselect(["tapunselect"]),n(i,["tap","vclick"],r,{x:l[0],y:l[1]}),V=!1,r.timeStamp-G<=s.multiClickDebounceTime()?(U&&clearTimeout(U),V=!0,G=null,n(i,["dbltap","vdblclick"],r,{x:l[0],y:l[1]})):(U=setTimeout((function(){V||n(i,["onetap","voneclick"],r,{x:l[0],y:l[1]})}),s.multiClickDebounceTime()),G=r.timeStamp)),null!=i&&!e.dragData.didDrag&&i._private.selectable&&w<e.touchTapThreshold2&&!e.pinching&&("single"===s.selectionType()?(s.$(t).unmerge(i).unselect(["tapunselect"]),i.select(["tapselect"])):i.selected()?i.unselect(["tapunselect"]):i.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}for(var x=0;x<l.length;x++)c[x]=l[x];e.dragData.didDrag=!1,0===r.touches.length&&(e.touchData.dragDelta=[],e.touchData.startPosition=null,e.touchData.startGPosition=null,e.touchData.didSelect=!1),r.touches.length<2&&(1===r.touches.length&&(e.touchData.startGPosition=[r.touches[0].clientX,r.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())}},!1),"undefined"===typeof TouchEvent){var Y=[],W=function(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},X=function(e){Y.push(function(e){return{event:e,touch:W(e)}}(e))},K=function(e){for(var t=0;t<Y.length;t++){if(Y[t].event.pointerId===e.pointerId)return void Y.splice(t,1)}},$=function(e){e.touches=Y.map((function(e){return e.touch}))},Q=function(e){return"mouse"===e.pointerType||4===e.pointerType};e.registerBinding(e.container,"pointerdown",(function(e){Q(e)||(e.preventDefault(),X(e),$(e),F(e))})),e.registerBinding(e.container,"pointerup",(function(e){Q(e)||(K(e),$(e),B(e))})),e.registerBinding(e.container,"pointercancel",(function(e){Q(e)||(K(e),$(e),j())})),e.registerBinding(e.container,"pointermove",(function(e){Q(e)||(e.preventDefault(),function(e){var t=Y.filter((function(t){return t.event.pointerId===e.pointerId}))[0];t.event=e,t.touch=W(e)}(e),$(e),z(e))}))}};var hs={generatePolygon:function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl("polygon",e,t,n,r,i,this.points)},intersectLine:function(e,t,n,r,i,o,a){return Pt(i,o,this.points,e,t,n/2,r/2,a)},checkPoint:function(e,t,n,r,i,o,a){return St(e,t,this.points,o,a,r,i,[0,-1],n)}}}};hs.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,o,a){return function(e,t,n,r,i,o){var a=n-e,s=r-t;a/=i,s/=o;var u=Math.sqrt(a*a+s*s),l=u-1;if(l<0)return[];var c=l/u;return[(n-e)*c+e,(r-t)*c+t]}(i,o,e,t,n/2+a,r/2+a)},checkPoint:function(e,t,n,r,i,o,a){return It(e,t,r,i,o,a,n)}}},hs.generateRoundPolygon=function(e,t){for(var n=new Array(2*t.length),r=0;r<t.length/2;r++){var i=2*r,o=void 0;o=r<t.length/2-1?2*(r+1):0,n[4*r]=t[i],n[4*r+1]=t[i+1];var a=t[o]-t[i],s=t[o+1]-t[i+1],u=Math.sqrt(a*a+s*s);n[4*r+2]=a/u,n[4*r+3]=s/u}return this.nodeShapes[e]={renderer:this,name:e,points:n,draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl("round-polygon",e,t,n,r,i,this.points)},intersectLine:function(e,t,n,r,i,o,a){return function(e,t,n,r,i,o,a,s){for(var u,l=[],c=new Array(n.length),f=o/2,h=a/2,d=jt(o,a),p=0;p<n.length/4;p++){var g,v=void 0;v=0===p?n.length-2:4*p-2,g=4*p+2;var y=r+f*n[4*p],m=i+h*n[4*p+1],b=-n[v]*n[g]-n[v+1]*n[g+1],_=d/Math.tan(Math.acos(b)/2),w=y-_*n[v],x=m-_*n[v+1],E=y+_*n[g],k=m+_*n[g+1];0===p?(c[n.length-2]=w,c[n.length-1]=x):(c[4*p-2]=w,c[4*p-1]=x),c[4*p]=E,c[4*p+1]=k;var C=n[v+1],S=-n[v];C*n[g]+S*n[g+1]<0&&(C*=-1,S*=-1),0!==(u=Dt(e,t,r,i,w+C*d,x+S*d,d)).length&&l.push(u[0],u[1])}for(var N=0;N<c.length/4;N++)0!==(u=Ot(e,t,r,i,c[4*N],c[4*N+1],c[4*N+2],c[4*N+3],!1)).length&&l.push(u[0],u[1]);if(l.length>2){for(var T=[l[0],l[1]],I=Math.pow(T[0]-e,2)+Math.pow(T[1]-t,2),D=1;D<l.length/2;D++){var M=Math.pow(l[2*D]-e,2)+Math.pow(l[2*D+1]-t,2);M<=I&&(T[0]=l[2*D],T[1]=l[2*D+1],I=M)}return T}return l}(i,o,this.points,e,t,n,r)},checkPoint:function(e,t,n,r,i,o,a){return function(e,t,n,r,i,o,a){for(var s=new Array(n.length),u=o/2,l=a/2,c=jt(o,a),f=c*c,h=0;h<n.length/4;h++){var d,p=void 0;p=0===h?n.length-2:4*h-2,d=4*h+2;var g=r+u*n[4*h],v=i+l*n[4*h+1],y=-n[p]*n[d]-n[p+1]*n[d+1],m=c/Math.tan(Math.acos(y)/2),b=g-m*n[p],_=v-m*n[p+1],w=g+m*n[d],x=v+m*n[d+1];s[4*h]=b,s[4*h+1]=_,s[4*h+2]=w,s[4*h+3]=x;var E=n[p+1],k=-n[p];E*n[d]+k*n[d+1]<0&&(E*=-1,k*=-1);var C=b+E*c,S=_+k*c;if(Math.pow(C-e,2)+Math.pow(S-t,2)<=f)return!0}return Ct(e,t,s)}(e,t,this.points,o,a,r,i)}}},hs.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:At(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,o,a){return _t(i,o,e,t,n,r,a)},checkPoint:function(e,t,n,r,i,o,a){var s=zt(r,i),u=2*s;return!!St(e,t,this.points,o,a,r,i-u,[0,-1],n)||(!!St(e,t,this.points,o,a,r-u,i,[0,-1],n)||(!!It(e,t,u,u,o-r/2+s,a-i/2+s,n)||(!!It(e,t,u,u,o+r/2-s,a-i/2+s,n)||(!!It(e,t,u,u,o+r/2-s,a+i/2-s,n)||!!It(e,t,u,u,o-r/2+s,a+i/2-s,n)))))}}},hs.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:At(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},generateCutTrianglePts:function(e,t,n,r){var i=this.cornerLength,o=t/2,a=e/2,s=n-a,u=n+a,l=r-o,c=r+o;return{topLeft:[s,l+i,s+i,l,s+i,l+i],topRight:[u-i,l,u,l+i,u-i,l+i],bottomRight:[u,c-i,u-i,c,u-i,c-i],bottomLeft:[s+i,c,s,c-i,s+i,c-i]}},intersectLine:function(e,t,n,r,i,o,a){var s=this.generateCutTrianglePts(n+2*a,r+2*a,e,t),u=[].concat.apply([],[s.topLeft.splice(0,4),s.topRight.splice(0,4),s.bottomRight.splice(0,4),s.bottomLeft.splice(0,4)]);return Pt(i,o,u,e,t)},checkPoint:function(e,t,n,r,i,o,a){if(St(e,t,this.points,o,a,r,i-2*this.cornerLength,[0,-1],n))return!0;if(St(e,t,this.points,o,a,r-2*this.cornerLength,i,[0,-1],n))return!0;var s=this.generateCutTrianglePts(r,i,o,a);return Ct(e,t,s.topLeft)||Ct(e,t,s.topRight)||Ct(e,t,s.bottomRight)||Ct(e,t,s.bottomLeft)}}},hs.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:At(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,o,a){var s=this.generateBarrelBezierPts(n+2*a,r+2*a,e,t),u=function(e){var t=ct({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.15),n=ct({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.5),r=ct({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.85);return[e[0],e[1],t.x,t.y,n.x,n.y,r.x,r.y,e[4],e[5]]},l=[].concat(u(s.topLeft),u(s.topRight),u(s.bottomRight),u(s.bottomLeft));return Pt(i,o,l,e,t)},generateBarrelBezierPts:function(e,t,n,r){var i=t/2,o=e/2,a=n-o,s=n+o,u=r-i,l=r+i,c=Bt(e,t),f=c.heightOffset,h=c.widthOffset,d=c.ctrlPtOffsetPct*e,p={topLeft:[a,u+f,a+d,u,a+h,u],topRight:[s-h,u,s-d,u,s,u+f],bottomRight:[s,l-f,s-d,l,s-h,l],bottomLeft:[a+h,l,a+d,l,a,l-f]};return p.topLeft.isTop=!0,p.topRight.isTop=!0,p.bottomLeft.isBottom=!0,p.bottomRight.isBottom=!0,p},checkPoint:function(e,t,n,r,i,o,a){var s=Bt(r,i),u=s.heightOffset,l=s.widthOffset;if(St(e,t,this.points,o,a,r,i-2*u,[0,-1],n))return!0;if(St(e,t,this.points,o,a,r-2*l,i,[0,-1],n))return!0;for(var c=this.generateBarrelBezierPts(r,i,o,a),f=function(e,t,n){var r,i,o=n[4],a=n[2],s=n[0],u=n[5],l=n[1],c=Math.min(o,s),f=Math.max(o,s),h=Math.min(u,l),d=Math.max(u,l);if(c<=e&&e<=f&&h<=t&&t<=d){var p=[(r=o)-2*(i=a)+s,2*(i-r),r],g=function(e,t,n,r){var i=t*t-4*e*(n-=r);if(i<0)return[];var o=Math.sqrt(i),a=2*e;return[(-t+o)/a,(-t-o)/a]}(p[0],p[1],p[2],e).filter((function(e){return 0<=e&&e<=1}));if(g.length>0)return g[0]}return null},h=Object.keys(c),d=0;d<h.length;d++){var p=c[h[d]],g=f(e,t,p);if(null!=g){var v=p[5],y=p[3],m=p[1],b=lt(v,y,m,g);if(p.isTop&&b<=t)return!0;if(p.isBottom&&t<=b)return!0}}return!1}}},hs.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:At(4,0),draw:function(e,t,n,r,i){this.renderer.nodeShapeImpl(this.name,e,t,n,r,i)},intersectLine:function(e,t,n,r,i,o,a){var s=t-(r/2+a),u=Ot(i,o,e,t,e-(n/2+a),s,e+(n/2+a),s,!1);return u.length>0?u:_t(i,o,e,t,n,r,a)},checkPoint:function(e,t,n,r,i,o,a){var s=zt(r,i),u=2*s;if(St(e,t,this.points,o,a,r,i-u,[0,-1],n))return!0;if(St(e,t,this.points,o,a,r-u,i,[0,-1],n))return!0;var l=r/2+2*n,c=i/2+2*n;return!!Ct(e,t,[o-l,a-c,o-l,a,o+l,a,o+l,a-c])||(!!It(e,t,u,u,o+r/2-s,a+i/2-s,n)||!!It(e,t,u,u,o-r/2+s,a+i/2-s,n))}}},hs.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",At(3,0)),this.generateRoundPolygon("round-triangle",At(3,0)),this.generatePolygon("rectangle",At(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var n=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",n),this.generateRoundPolygon("round-diamond",n),this.generatePolygon("pentagon",At(5,0)),this.generateRoundPolygon("round-pentagon",At(5,0)),this.generatePolygon("hexagon",At(6,0)),this.generateRoundPolygon("round-hexagon",At(6,0)),this.generatePolygon("heptagon",At(7,0)),this.generateRoundPolygon("round-heptagon",At(7,0)),this.generatePolygon("octagon",At(8,0)),this.generateRoundPolygon("round-octagon",At(8,0));var r=new Array(20),i=Ft(5,0),o=Ft(5,Math.PI/5),a=.5*(3-Math.sqrt(5));a*=1.57;for(var s=0;s<o.length/2;s++)o[2*s]*=a,o[2*s+1]*=a;for(s=0;s<5;s++)r[4*s]=i[2*s],r[4*s+1]=i[2*s+1],r[4*s+2]=o[2*s],r[4*s+3]=o[2*s+1];r=Rt(r),this.generatePolygon("star",r),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u),e.makePolygon=function(e){var n,r="polygon-"+e.join("$");return(n=this[r])?n:t.generatePolygon(r,e)}};var ds={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(e){e=e||Ie();var t=this;void 0===t.averageRedrawTime&&(t.averageRedrawTime=0),void 0===t.lastRedrawTime&&(t.lastRedrawTime=0),void 0===t.lastDrawTime&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},beforeRender:function(e,t){if(!this.destroyed){null==t&&Ee("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:e,priority:t}),n.sort((function(e,t){return t.priority-e.priority}))}}},ps=function(e,t,n){for(var r=e.beforeRenderCallbacks,i=0;i<r.length;i++)r[i].fn(t,n)};ds.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;ne((function n(r){if(!e.destroyed){if(t.batching());else if(e.requestedFrame&&!e.skipFrame){ps(e,!0,r);var i=re();e.render(e.renderOptions);var o=e.lastDrawTime=re();void 0===e.averageRedrawTime&&(e.averageRedrawTime=o-i),void 0===e.redrawCount&&(e.redrawCount=0),e.redrawCount++,void 0===e.redrawTotalTime&&(e.redrawTotalTime=0);var a=o-i;e.redrawTotalTime+=a,e.lastRedrawTime=a,e.averageRedrawTime=e.averageRedrawTime/2+a/2,e.requestedFrame=!1}else ps(e,!1,r);e.skipFrame=!1,ne(n)}}))}};var gs=function(e){this.init(e)},vs=gs.prototype;vs.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],vs.init=function(e){var t=this;t.options=e,t.cy=e.cy;var n=t.container=e.cy.container();if(w){var r=w.document,i=r.head,o="__________cytoscape_stylesheet",a="__________cytoscape_container",s=null!=r.getElementById(o);if(n.className.indexOf(a)<0&&(n.className=(n.className||"")+" "+a),!s){var u=r.createElement("style");u.id=o,u.innerHTML="."+a+" { position: relative; }",i.insertBefore(u,i.children[0])}"static"===w.getComputedStyle(n).getPropertyValue("position")&&Ce("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=O(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},vs.notify=function(e,t){var n=this,r=n.cy;this.destroyed||("init"!==e?"destroy"!==e?(("add"===e||"remove"===e||"move"===e&&r.hasCompoundNodes()||"load"===e||"zorder"===e||"mount"===e)&&n.invalidateCachedZSortedEles(),"viewport"===e&&n.redrawHint("select",!0),"load"!==e&&"resize"!==e&&"mount"!==e||(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):n.destroy():n.load())},vs.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var n=e.bindings[t],r=n.target;(r.off||r.removeEventListener).apply(r,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch(i){}},vs.isHeadless=function(){return!1},[Xa,ls,cs,fs,hs,ds].forEach((function(e){X(vs,e)}));var ys=1e3/60,ms=function(e){return function(){var t=this,n=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var r=l.default((function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()}),e.deqRedrawThreshold),i=e.priority||xe;n.beforeRender((function(i,o){var a=re(),s=n.averageRedrawTime,u=n.lastRedrawTime,l=[],c=n.cy.extent(),f=n.getPixelRatio();for(i||n.flushRenderedStyleQueue();;){var h=re(),d=h-a,p=h-o;if(u<ys){var g=ys-(i?s:0);if(p>=e.deqFastCost*g)break}else if(i){if(d>=e.deqCost*u||d>=e.deqAvgCost*s)break}else if(p>=e.deqNoDrawCost*ys)break;var v=e.deq(t,f,c);if(!(v.length>0))break;for(var y=0;y<v.length;y++)l.push(v[y])}l.length>0&&(e.onDeqd(t,l),!i&&e.shouldRedraw(t,l,f,c)&&r())}),i(t))}}},bs=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_e;g(this,e),this.idsByKey=new Ae,this.keyForId=new Ae,this.cachesByLvl=new Ae,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=n}return y(e,[{key:"getIdsFor",value:function(e){null==e&&Ee("Can not get id list for null key");var t=this.idsByKey,n=this.idsByKey.get(e);return n||(n=new Fe,t.set(e,n)),n}},{key:"addIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).add(t)}},{key:"deleteIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).delete(t)}},{key:"getNumberOfIdsForKey",value:function(e){return null==e?0:this.getIdsFor(e).size}},{key:"updateKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t),r=this.getKey(e);this.deleteIdForKey(n,t),this.addIdForKey(r,t),this.keyForId.set(t,r)}},{key:"deleteKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteIdForKey(n,t),this.keyForId.delete(t)}},{key:"keyHasChangedFor",value:function(e){var t=e.id();return this.keyForId.get(t)!==this.getKey(e)}},{key:"isInvalid",value:function(e){return this.keyHasChangedFor(e)||this.doesEleInvalidateKey(e)}},{key:"getCachesAt",value:function(e){var t=this.cachesByLvl,n=this.lvls,r=t.get(e);return r||(r=new Ae,t.set(e,r),n.push(e)),r}},{key:"getCache",value:function(e,t){return this.getCachesAt(t).get(e)}},{key:"get",value:function(e,t){var n=this.getKey(e),r=this.getCache(n,t);return null!=r&&this.updateKeyMappingFor(e),r}},{key:"getForCachedKey",value:function(e,t){var n=this.keyForId.get(e.id());return this.getCache(n,t)}},{key:"hasCache",value:function(e,t){return this.getCachesAt(t).has(e)}},{key:"has",value:function(e,t){var n=this.getKey(e);return this.hasCache(n,t)}},{key:"setCache",value:function(e,t,n){n.key=e,this.getCachesAt(t).set(e,n)}},{key:"set",value:function(e,t,n){var r=this.getKey(e);this.setCache(r,t,n),this.updateKeyMappingFor(e)}},{key:"deleteCache",value:function(e,t){this.getCachesAt(t).delete(e)}},{key:"delete",value:function(e,t){var n=this.getKey(e);this.deleteCache(n,t)}},{key:"invalidateKey",value:function(e){var t=this;this.lvls.forEach((function(n){return t.deleteCache(e,n)}))}},{key:"invalidate",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteKeyMappingFor(e);var r=this.doesEleInvalidateKey(e);return r&&this.invalidateKey(n),r||0===this.getNumberOfIdsForKey(n)}}]),e}(),_s={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},ws=De({getKey:null,doesEleInvalidateKey:_e,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:be,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),xs=function(e,t){var n=this;n.renderer=e,n.onDequeues=[];var r=ws(t);X(n,r),n.lookup=new bs(r.getKey,r.doesEleInvalidateKey),n.setupDequeueing()},Es=xs.prototype;Es.reasons=_s,Es.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]},Es.getRetiredTextureQueue=function(e){var t=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return t[e]=t[e]||[]},Es.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new c.default((function(e,t){return t.reqs-e.reqs}))},Es.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Es.getElement=function(e,t,n,r,i){var o=this,a=this.renderer,s=a.cy.zoom(),u=this.lookup;if(!t||0===t.w||0===t.h||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed())return null;if(!o.allowEdgeTxrCaching&&e.isEdge()||!o.allowParentTxrCaching&&e.isParent())return null;if(null==r&&(r=Math.ceil(it(s*n))),r<-4)r=-4;else if(s>=7.99||r>3)return null;var l=Math.pow(2,r),c=t.h*l,f=t.w*l,h=a.eleTextBiggerThanMin(e,l);if(!this.isVisible(e,h))return null;var d,p=u.get(e,r);if(p&&p.invalidated&&(p.invalidated=!1,p.texture.invalidatedWidth-=p.width),p)return p;if(d=c<=25?25:c<=50?50:50*Math.ceil(c/50),c>1024||f>1024)return null;var g=o.getTextureQueue(d),v=g[g.length-2],y=function(){return o.recycleTexture(d,f)||o.addTexture(d,f)};v||(v=g[g.length-1]),v||(v=y()),v.width-v.usedWidth<f&&(v=y());for(var m,b=function(e){return e&&e.scaledLabelShown===h},_=i&&i===_s.dequeue,w=i&&i===_s.highQuality,x=i&&i===_s.downscale,E=r+1;E<=3;E++){var k=u.get(e,E);if(k){m=k;break}}var C=m&&m.level===r+1?m:null,S=function(){v.context.drawImage(C.texture.canvas,C.x,0,C.width,C.height,v.usedWidth,0,f,c)};if(v.context.setTransform(1,0,0,1,0,0),v.context.clearRect(v.usedWidth,0,f,d),b(C))S();else if(b(m)){if(!w)return o.queueElement(e,m.level-1),m;for(var N=m.level;N>r;N--)C=o.getElement(e,t,n,N,_s.downscale);S()}else{var T;if(!_&&!w&&!x)for(var I=r-1;I>=-4;I--){var D=u.get(e,I);if(D){T=D;break}}if(b(T))return o.queueElement(e,r),T;v.context.translate(v.usedWidth,0),v.context.scale(l,l),this.drawElement(v.context,e,t,h,!1),v.context.scale(1/l,1/l),v.context.translate(-v.usedWidth,0)}return p={x:v.usedWidth,texture:v,level:r,scale:l,width:f,height:c,scaledLabelShown:h},v.usedWidth+=Math.ceil(f+8),v.eleCaches.push(p),u.set(e,r,p),o.checkTextureFullness(v),p},Es.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])},Es.invalidateElement=function(e){var t=this,n=t.lookup,r=[];if(n.isInvalid(e)){for(var i=-4;i<=3;i++){var o=n.getForCachedKey(e,i);o&&r.push(o)}if(n.invalidate(e))for(var a=0;a<r.length;a++){var s=r[a],u=s.texture;u.invalidatedWidth+=s.width,s.invalidated=!0,t.checkTextureUtility(u)}t.removeFromQueue(e)}},Es.checkTextureUtility=function(e){e.invalidatedWidth>=.2*e.width&&this.retireTexture(e)},Es.checkTextureFullness=function(e){var t=this.getTextureQueue(e.height);e.usedWidth/e.width>.8&&e.fullnessChecks>=10?Me(t,e):e.fullnessChecks++},Es.retireTexture=function(e){var t=e.height,n=this.getTextureQueue(t),r=this.lookup;Me(n,e),e.retired=!0;for(var i=e.eleCaches,o=0;o<i.length;o++){var a=i[o];r.deleteCache(a.key,a.level)}Oe(i),this.getRetiredTextureQueue(t).push(e)},Es.addTexture=function(e,t){var n={};return this.getTextureQueue(e).push(n),n.eleCaches=[],n.height=e,n.width=Math.max(1024,t),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=this.renderer.makeOffscreenCanvas(n.width,n.height),n.context=n.canvas.getContext("2d"),n},Es.recycleTexture=function(e,t){for(var n=this.getTextureQueue(e),r=this.getRetiredTextureQueue(e),i=0;i<r.length;i++){var o=r[i];if(o.width>=t)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,Oe(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),Me(r,o),n.push(o),o}},Es.queueElement=function(e,t){var n=this.getElementQueue(),r=this.getElementKeyToQueue(),i=this.getKey(e),o=r[i];if(o)o.level=Math.max(o.level,t),o.eles.merge(e),o.reqs++,n.updateItem(o);else{var a={eles:e.spawn().merge(e),level:t,reqs:1,key:i};n.push(a),r[i]=a}},Es.dequeue=function(e){for(var t=this,n=t.getElementQueue(),r=t.getElementKeyToQueue(),i=[],o=t.lookup,a=0;a<1&&n.size()>0;a++){var s=n.pop(),u=s.key,l=s.eles[0],c=o.hasCache(l,s.level);if(r[u]=null,!c){i.push(s);var f=t.getBoundingBox(l);t.getElement(l,f,e,s.level,_s.dequeue)}}return i},Es.removeFromQueue=function(e){var t=this.getElementQueue(),n=this.getElementKeyToQueue(),r=this.getKey(e),i=n[r];null!=i&&(1===i.eles.length?(i.reqs=me,t.updateItem(i),t.pop(),n[r]=null):i.eles.unmerge(e))},Es.onDequeue=function(e){this.onDequeues.push(e)},Es.offDequeue=function(e){Me(this.onDequeues,e)},Es.setupDequeueing=ms({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t,n){return e.dequeue(t,n)},onDeqd:function(e,t){for(var n=0;n<e.onDequeues.length;n++){(0,e.onDequeues[n])(t)}},shouldRedraw:function(e,t,n,r){for(var i=0;i<t.length;i++)for(var o=t[i].eles,a=0;a<o.length;a++){var s=o[a].boundingBox();if(yt(s,r))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var ks=function(e){var t=this,n=t.renderer=e,r=n.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=re()-500,t.skipping=!1,t.eleTxrDeqs=r.collection(),t.scheduleElementRefinement=l.default((function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)}),50),n.beforeRender((function(e,n){n-t.lastInvalidationTime<=250?t.skipping=!0:t.skipping=!1}),n.beforeRenderPriorities.lyrTxrSkip);t.layersQueue=new c.default((function(e,t){return t.reqs-e.reqs})),t.setupDequeueing()},Cs=ks.prototype,Ss=0,Ns=Math.pow(2,53)-1;Cs.makeLayer=function(e,t){var n=Math.pow(2,t),r=Math.ceil(e.w*n),i=Math.ceil(e.h*n),o=this.renderer.makeOffscreenCanvas(r,i),a={id:Ss=++Ss%Ns,bb:e,level:t,width:r,height:i,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=a.context,u=-a.bb.x1,l=-a.bb.y1;return s.scale(n,n),s.translate(u,l),a},Cs.getLayers=function(e,t,n){var r=this,i=r.renderer.cy.zoom(),o=r.firstGet;if(r.firstGet=!1,null==n)if((n=Math.ceil(it(i*t)))<-4)n=-4;else if(i>=3.99||n>2)return null;r.validateLayersElesOrdering(n,e);var a,s,u=r.layersByLevel,l=Math.pow(2,n),c=u[n]=u[n]||[];if(r.levelIsComplete(n,e))return c;!function(){var t=function(t){if(r.validateLayersElesOrdering(t,e),r.levelIsComplete(t,e))return s=u[t],!0},i=function(e){if(!s)for(var r=n+e;-4<=r&&r<=2&&!t(r);r+=e);};i(1),i(-1);for(var o=c.length-1;o>=0;o--){var a=c[o];a.invalid&&Me(c,a)}}();var f=function(t){var i=(t=t||{}).after;if(function(){if(!a){a=ht();for(var t=0;t<e.length;t++)n=a,r=e[t].boundingBox(),n.x1=Math.min(n.x1,r.x1),n.x2=Math.max(n.x2,r.x2),n.w=n.x2-n.x1,n.y1=Math.min(n.y1,r.y1),n.y2=Math.max(n.y2,r.y2),n.h=n.y2-n.y1}var n,r}(),a.w*l*(a.h*l)>16e6)return null;var o=r.makeLayer(a,n);if(null!=i){var s=c.indexOf(i)+1;c.splice(s,0,o)}else(void 0===t.insert||t.insert)&&c.unshift(o);return o};if(r.skipping&&!o)return null;for(var h=null,d=e.length/1,p=!o,g=0;g<e.length;g++){var v=e[g],y=v._private.rscratch,m=y.imgLayerCaches=y.imgLayerCaches||{},b=m[n];if(b)h=b;else{if((!h||h.eles.length>=d||!bt(h.bb,v.boundingBox()))&&!(h=f({insert:!0,after:h})))return null;s||p?r.queueLayer(h,v):r.drawEleInLayer(h,v,n,t),h.eles.push(v),m[n]=h}}return s||(p?null:c)},Cs.getEleLevelForLayerLevel=function(e,t){return e},Cs.drawEleInLayer=function(e,t,n,r){var i=this.renderer,o=e.context,a=t.boundingBox();0!==a.w&&0!==a.h&&t.visible()&&(n=this.getEleLevelForLayerLevel(n,r),i.setImgSmoothing(o,!1),i.drawCachedElement(o,t,null,null,n,true),i.setImgSmoothing(o,!0))},Cs.levelIsComplete=function(e,t){var n=this.layersByLevel[e];if(!n||0===n.length)return!1;for(var r=0,i=0;i<n.length;i++){var o=n[i];if(o.reqs>0)return!1;if(o.invalid)return!1;r+=o.eles.length}return r===t.length},Cs.validateLayersElesOrdering=function(e,t){var n=this.layersByLevel[e];if(n)for(var r=0;r<n.length;r++){for(var i=n[r],o=-1,a=0;a<t.length;a++)if(i.eles[0]===t[a]){o=a;break}if(o<0)this.invalidateLayer(i);else{var s=o;for(a=0;a<i.eles.length;a++)if(i.eles[a]!==t[s+a]){this.invalidateLayer(i);break}}}},Cs.updateElementsInLayers=function(e,t){for(var n=A(e[0]),r=0;r<e.length;r++)for(var i=n?null:e[r],o=n?e[r]:e[r].ele,a=o._private.rscratch,s=a.imgLayerCaches=a.imgLayerCaches||{},u=-4;u<=2;u++){var l=s[u];l&&(i&&this.getEleLevelForLayerLevel(l.level)!==i.level||t(l,o,i))}},Cs.haveLayers=function(){for(var e=!1,t=-4;t<=2;t++){var n=this.layersByLevel[t];if(n&&n.length>0){e=!0;break}}return e},Cs.invalidateElements=function(e){var t=this;0!==e.length&&(t.lastInvalidationTime=re(),0!==e.length&&t.haveLayers()&&t.updateElementsInLayers(e,(function(e,n,r){t.invalidateLayer(e)})))},Cs.invalidateLayer=function(e){if(this.lastInvalidationTime=re(),!e.invalid){var t=e.level,n=e.eles,r=this.layersByLevel[t];Me(r,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var i=0;i<n.length;i++){var o=n[i]._private.rscratch.imgLayerCaches;o&&(o[t]=null)}}},Cs.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,(function(e,n,r){var i=e.replacement;if(i||((i=e.replacement=t.makeLayer(e.bb,e.level)).replaces=e,i.eles=e.eles),!i.reqs)for(var o=0;o<i.eles.length;o++)t.queueLayer(i,i.eles[o])}))},Cs.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()},Cs.queueLayer=function(e,t){var n=this.layersQueue,r=e.elesQueue,i=r.hasId=r.hasId||{};if(!e.replacement){if(t){if(i[t.id()])return;r.push(t),i[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}},Cs.dequeue=function(e){for(var t=this,n=t.layersQueue,r=[],i=0;i<1&&0!==n.size();){var o=n.peek();if(o.replacement)n.pop();else if(o.replaces&&o!==o.replaces.replacement)n.pop();else if(o.invalid)n.pop();else{var a=o.elesQueue.shift();a&&(t.drawEleInLayer(o,a,o.level,e),i++),0===r.length&&r.push(!0),0===o.elesQueue.length&&(n.pop(),o.reqs=0,o.replaces&&t.applyLayerReplacement(o),t.requestRedraw())}}return r},Cs.applyLayerReplacement=function(e){var t=this.layersByLevel[e.level],n=e.replaces,r=t.indexOf(n);if(!(r<0||n.invalid)){t[r]=e;for(var i=0;i<e.eles.length;i++){var o=e.eles[i]._private,a=o.imgLayerCaches=o.imgLayerCaches||{};a&&(a[e.level]=e)}this.requestRedraw()}},Cs.requestRedraw=l.default((function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()}),100),Cs.setupDequeueing=ms({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t){return e.dequeue(t)},onDeqd:xe,shouldRedraw:be,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var Ts,Is={};function Ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.lineTo(r.x,r.y)}}function Ms(e,t,n){for(var r,i=0;i<t.length;i++){var o=t[i];0===i&&(r=o),e.lineTo(o.x,o.y)}e.quadraticCurveTo(n.x,n.y,r.x,r.y)}function Os(e,t,n){e.beginPath&&e.beginPath();for(var r=t,i=0;i<r.length;i++){var o=r[i];e.lineTo(o.x,o.y)}var a=n,s=n[0];e.moveTo(s.x,s.y);for(i=1;i<a.length;i++){o=a[i];e.lineTo(o.x,o.y)}e.closePath&&e.closePath()}function Ps(e,t,n,r,i){e.beginPath&&e.beginPath(),e.arc(n,r,i,0,2*Math.PI,!1);var o=t,a=o[0];e.moveTo(a.x,a.y);for(var s=0;s<o.length;s++){var u=o[s];e.lineTo(u.x,u.y)}e.closePath&&e.closePath()}function Ls(e,t,n,r){e.arc(t,n,r,0,2*Math.PI,!1)}Is.arrowShapeImpl=function(e){return(Ts||(Ts={polygon:Ds,"triangle-backcurve":Ms,"triangle-tee":Os,"circle-triangle":Ps,"triangle-cross":Os,circle:Ls}))[e]};var As={drawElement:function(e,t,n,r,i,o){t.isNode()?this.drawNode(e,t,n,r,i,o):this.drawEdge(e,t,n,r,i,o)},drawElementOverlay:function(e,t){t.isNode()?this.drawNodeOverlay(e,t):this.drawEdgeOverlay(e,t)},drawElementUnderlay:function(e,t){t.isNode()?this.drawNodeUnderlay(e,t):this.drawEdgeUnderlay(e,t)},drawCachedElementPortion:function(e,t,n,r,i,o,a,s){var u=this,l=n.getBoundingBox(t);if(0!==l.w&&0!==l.h){var c=n.getElement(t,l,r,i,o);if(null!=c){var f=s(u,t);if(0===f)return;var h,d,p,g,v,y,m=a(u,t),b=l.x1,_=l.y1,w=l.w,x=l.h;if(0!==m){var E=n.getRotationPoint(t);p=E.x,g=E.y,e.translate(p,g),e.rotate(m),(v=u.getImgSmoothing(e))||u.setImgSmoothing(e,!0);var k=n.getRotationOffset(t);h=k.x,d=k.y}else h=b,d=_;1!==f&&(y=e.globalAlpha,e.globalAlpha=y*f),e.drawImage(c.texture.canvas,c.x,0,c.width,c.height,h,d,w,x),1!==f&&(e.globalAlpha=y),0!==m&&(e.rotate(-m),e.translate(-p,-g),v||u.setImgSmoothing(e,!1))}else n.drawElement(e,t)}}},Rs=function(){return 0},Fs=function(e,t){return e.getTextAngle(t,null)},zs=function(e,t){return e.getTextAngle(t,"source")},js=function(e,t){return e.getTextAngle(t,"target")},Bs=function(e,t){return t.effectiveOpacity()},Vs=function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()};As.drawCachedElement=function(e,t,n,r,i,o){var a=this,s=a.data,u=s.eleTxrCache,l=s.lblTxrCache,c=s.slbTxrCache,f=s.tlbTxrCache,h=t.boundingBox(),d=!0===o?u.reasons.highQuality:null;if(0!==h.w&&0!==h.h&&t.visible()&&(!r||yt(h,r))){var p=t.isEdge(),g=t.element()._private.rscratch.badLine;a.drawElementUnderlay(e,t),a.drawCachedElementPortion(e,t,u,n,i,d,Rs,Bs),p&&g||a.drawCachedElementPortion(e,t,l,n,i,d,Fs,Vs),p&&!g&&(a.drawCachedElementPortion(e,t,c,n,i,d,zs,Vs),a.drawCachedElementPortion(e,t,f,n,i,d,js,Vs)),a.drawElementOverlay(e,t)}},As.drawElements=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];this.drawElement(e,r)}},As.drawCachedElements=function(e,t,n,r){for(var i=0;i<t.length;i++){var o=t[i];this.drawCachedElement(e,o,n,r)}},As.drawCachedNodes=function(e,t,n,r){for(var i=0;i<t.length;i++){var o=t[i];o.isNode()&&this.drawCachedElement(e,o,n,r)}},As.drawLayeredElements=function(e,t,n,r){var i=this.data.lyrTxrCache.getLayers(t,n);if(i)for(var o=0;o<i.length;o++){var a=i[o],s=a.bb;0!==s.w&&0!==s.h&&e.drawImage(a.canvas,s.x1,s.y1,s.w,s.h)}else this.drawCachedElements(e,t,n,r)};var Us={drawEdge:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=this,s=t._private.rscratch;if((!o||t.visible())&&!s.badLine&&null!=s.allpts&&!isNaN(s.allpts[0])){var u;n&&(u=n,e.translate(-u.x1,-u.y1));var l=o?t.pstyle("opacity").value:1,c=o?t.pstyle("line-opacity").value:1,f=t.pstyle("curve-style").value,h=t.pstyle("line-style").value,d=t.pstyle("width").pfValue,p=t.pstyle("line-cap").value,g=l*c,v=l*c,y=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;"straight-triangle"===f?(a.eleStrokeStyle(e,t,n),a.drawEdgeTrianglePath(t,e,s.allpts)):(e.lineWidth=d,e.lineCap=p,a.eleStrokeStyle(e,t,n),a.drawEdgePath(t,e,s.allpts,h),e.lineCap="butt")},m=function(){i&&a.drawEdgeOverlay(e,t)},b=function(){i&&a.drawEdgeUnderlay(e,t)},_=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;a.drawArrowheads(e,t,n)},w=function(){a.drawElementText(e,t,null,r)};e.lineJoin="round";var x="yes"===t.pstyle("ghost").value;if(x){var E=t.pstyle("ghost-offset-x").pfValue,k=t.pstyle("ghost-offset-y").pfValue,C=t.pstyle("ghost-opacity").value,S=g*C;e.translate(E,k),y(S),_(S),e.translate(-E,-k)}b(),y(),_(),m(),w(),n&&e.translate(u.x1,u.y1)}}},Gs=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n){if(n.visible()){var r=n.pstyle("".concat(e,"-opacity")).value;if(0!==r){var i=this,o=i.usePaths(),a=n._private.rscratch,s=2*n.pstyle("".concat(e,"-padding")).pfValue,u=n.pstyle("".concat(e,"-color")).value;t.lineWidth=s,"self"!==a.edgeType||o?t.lineCap="round":t.lineCap="butt",i.colorStrokeStyle(t,u[0],u[1],u[2],r),i.drawEdgePath(n,t,a.allpts,"solid")}}}};Us.drawEdgeOverlay=Gs("overlay"),Us.drawEdgeUnderlay=Gs("underlay"),Us.drawEdgePath=function(e,t,n,r){var i,o=e._private.rscratch,a=t,s=!1,u=this.usePaths(),l=e.pstyle("line-dash-pattern").pfValue,c=e.pstyle("line-dash-offset").pfValue;if(u){var f=n.join("$");o.pathCacheKey&&o.pathCacheKey===f?(i=t=o.pathCache,s=!0):(i=t=new Path2D,o.pathCacheKey=f,o.pathCache=i)}if(a.setLineDash)switch(r){case"dotted":a.setLineDash([1,1]);break;case"dashed":a.setLineDash(l),a.lineDashOffset=c;break;case"solid":a.setLineDash([])}if(!s&&!o.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(n[0],n[1]),o.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var h=2;h+3<n.length;h+=4)t.quadraticCurveTo(n[h],n[h+1],n[h+2],n[h+3]);break;case"straight":case"segments":case"haystack":for(var d=2;d+1<n.length;d+=2)t.lineTo(n[d],n[d+1])}t=a,u?t.stroke(i):t.stroke(),t.setLineDash&&t.setLineDash([])},Us.drawEdgeTrianglePath=function(e,t,n){t.fillStyle=t.strokeStyle;for(var r=e.pstyle("width").pfValue,i=0;i+1<n.length;i+=2){var o=[n[i+2]-n[i],n[i+3]-n[i+1]],a=Math.sqrt(o[0]*o[0]+o[1]*o[1]),s=[o[1]/a,-o[0]/a],u=[s[0]*r/2,s[1]*r/2];t.beginPath(),t.moveTo(n[i]-u[0],n[i+1]-u[1]),t.lineTo(n[i]+u[0],n[i+1]+u[1]),t.lineTo(n[i+2],n[i+3]),t.closePath(),t.fill()}},Us.drawArrowheads=function(e,t,n){var r=t._private.rscratch,i="haystack"===r.edgeType;i||this.drawArrowhead(e,t,"source",r.arrowStartX,r.arrowStartY,r.srcArrowAngle,n),this.drawArrowhead(e,t,"mid-target",r.midX,r.midY,r.midtgtArrowAngle,n),this.drawArrowhead(e,t,"mid-source",r.midX,r.midY,r.midsrcArrowAngle,n),i||this.drawArrowhead(e,t,"target",r.arrowEndX,r.arrowEndY,r.tgtArrowAngle,n)},Us.drawArrowhead=function(e,t,n,r,i,o,a){if(!(isNaN(r)||null==r||isNaN(i)||null==i||isNaN(o)||null==o)){var s=this,u=t.pstyle(n+"-arrow-shape").value;if("none"!==u){var l="hollow"===t.pstyle(n+"-arrow-fill").value?"both":"filled",c=t.pstyle(n+"-arrow-fill").value,f=t.pstyle("width").pfValue,h=t.pstyle("opacity").value;void 0===a&&(a=h);var d=e.globalCompositeOperation;1===a&&"hollow"!==c||(e.globalCompositeOperation="destination-out",s.colorFillStyle(e,255,255,255,1),s.colorStrokeStyle(e,255,255,255,1),s.drawArrowShape(t,e,l,f,u,r,i,o),e.globalCompositeOperation=d);var p=t.pstyle(n+"-arrow-color").value;s.colorFillStyle(e,p[0],p[1],p[2],a),s.colorStrokeStyle(e,p[0],p[1],p[2],a),s.drawArrowShape(t,e,c,f,u,r,i,o)}}},Us.drawArrowShape=function(e,t,n,r,i,o,a,s){var u,l=this,c=this.usePaths()&&"triangle-cross"!==i,f=!1,h=t,d={x:o,y:a},p=e.pstyle("arrow-scale").value,g=this.getArrowWidth(r,p),v=l.arrowShapes[i];if(c){var y=l.arrowPathCache=l.arrowPathCache||[],m=he(i),b=y[m];null!=b?(u=t=b,f=!0):(u=t=new Path2D,y[m]=u)}f||(t.beginPath&&t.beginPath(),c?v.draw(t,1,0,{x:0,y:0},1):v.draw(t,g,s,d,r),t.closePath&&t.closePath()),t=h,c&&(t.translate(o,a),t.rotate(s),t.scale(g,g)),"filled"!==n&&"both"!==n||(c?t.fill(u):t.fill()),"hollow"!==n&&"both"!==n||(t.lineWidth=(v.matchEdgeWidth?r:1)/(c?g:1),t.lineJoin="miter",c?t.stroke(u):t.stroke()),c&&(t.scale(1/g,1/g),t.rotate(-s),t.translate(-o,-a))};var Hs={safeDrawImage:function(e,t,n,r,i,o,a,s,u,l){if(!(i<=0||o<=0||u<=0||l<=0))try{e.drawImage(t,n,r,i,o,a,s,u,l)}catch(c){Ce(c)}},drawInscribedImage:function(e,t,n,r,i){var o=this,a=n.position(),s=a.x,u=a.y,l=n.cy().style(),c=l.getIndexedStyle.bind(l),f=c(n,"background-fit","value",r),h=c(n,"background-repeat","value",r),d=n.width(),p=n.height(),g=2*n.padding(),v=d+("inner"===c(n,"background-width-relative-to","value",r)?0:g),y=p+("inner"===c(n,"background-height-relative-to","value",r)?0:g),m=n._private.rscratch,b="node"===c(n,"background-clip","value",r),_=c(n,"background-image-opacity","value",r)*i,w=c(n,"background-image-smoothing","value",r),x=t.width||t.cachedW,E=t.height||t.cachedH;null!=x&&null!=E||(document.body.appendChild(t),x=t.cachedW=t.width||t.offsetWidth,E=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var k=x,C=E;if("auto"!==c(n,"background-width","value",r)&&(k="%"===c(n,"background-width","units",r)?c(n,"background-width","pfValue",r)*v:c(n,"background-width","pfValue",r)),"auto"!==c(n,"background-height","value",r)&&(C="%"===c(n,"background-height","units",r)?c(n,"background-height","pfValue",r)*y:c(n,"background-height","pfValue",r)),0!==k&&0!==C){if("contain"===f)k*=S=Math.min(v/k,y/C),C*=S;else if("cover"===f){var S;k*=S=Math.max(v/k,y/C),C*=S}var N=s-v/2,T=c(n,"background-position-x","units",r),I=c(n,"background-position-x","pfValue",r);N+="%"===T?(v-k)*I:I;var D=c(n,"background-offset-x","units",r),M=c(n,"background-offset-x","pfValue",r);N+="%"===D?(v-k)*M:M;var O=u-y/2,P=c(n,"background-position-y","units",r),L=c(n,"background-position-y","pfValue",r);O+="%"===P?(y-C)*L:L;var A=c(n,"background-offset-y","units",r),R=c(n,"background-offset-y","pfValue",r);O+="%"===A?(y-C)*R:R,m.pathCache&&(N-=s,O-=u,s=0,u=0);var F=e.globalAlpha;e.globalAlpha=_;var z=o.getImgSmoothing(e),j=!1;if("no"===w&&z?(o.setImgSmoothing(e,!1),j=!0):"yes"!==w||z||(o.setImgSmoothing(e,!0),j=!0),"no-repeat"===h)b&&(e.save(),m.pathCache?e.clip(m.pathCache):(o.nodeShapes[o.getNodeShape(n)].draw(e,s,u,v,y),e.clip())),o.safeDrawImage(e,t,0,0,x,E,N,O,k,C),b&&e.restore();else{var B=e.createPattern(t,h);e.fillStyle=B,o.nodeShapes[o.getNodeShape(n)].draw(e,s,u,v,y),e.translate(N,O),e.fill(),e.translate(-N,-O)}e.globalAlpha=F,j&&o.setImgSmoothing(e,z)}}},qs={};function Ys(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+r-o,n),e.quadraticCurveTo(t+r,n,t+r,n+o),e.lineTo(t+r,n+i-o),e.quadraticCurveTo(t+r,n+i,t+r-o,n+i),e.lineTo(t+o,n+i),e.quadraticCurveTo(t,n+i,t,n+i-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath(),e.fill()}qs.eleTextBiggerThanMin=function(e,t){if(!t){var n=e.cy().zoom(),r=this.getPixelRatio(),i=Math.ceil(it(n*r));t=Math.pow(2,i)}return!(e.pstyle("font-size").pfValue*t<e.pstyle("min-zoomed-font-size").pfValue)},qs.drawElementText=function(e,t,n,r,i){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=this;if(null==r){if(o&&!a.eleTextBiggerThanMin(t))return}else if(!1===r)return;if(t.isNode()){var s=t.pstyle("label");if(!s||!s.value)return;var u=a.getLabelJustification(t);e.textAlign=u,e.textBaseline="bottom"}else{var l=t.element()._private.rscratch.badLine,c=t.pstyle("label"),f=t.pstyle("source-label"),h=t.pstyle("target-label");if(l||(!c||!c.value)&&(!f||!f.value)&&(!h||!h.value))return;e.textAlign="center",e.textBaseline="bottom"}var d,p=!n;n&&(d=n,e.translate(-d.x1,-d.y1)),null==i?(a.drawText(e,t,null,p,o),t.isEdge()&&(a.drawText(e,t,"source",p,o),a.drawText(e,t,"target",p,o))):a.drawText(e,t,i,p,o),n&&e.translate(d.x1,d.y1)},qs.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if((t=this.fontCaches[n]).context===e)return t;return t={context:e},this.fontCaches.push(t),t},qs.setupTextStyle=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.pstyle("font-style").strValue,i=t.pstyle("font-size").pfValue+"px",o=t.pstyle("font-family").strValue,a=t.pstyle("font-weight").strValue,s=n?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,u=t.pstyle("text-outline-opacity").value*s,l=t.pstyle("color").value,c=t.pstyle("text-outline-color").value;e.font=r+" "+a+" "+i+" "+o,e.lineJoin="round",this.colorFillStyle(e,l[0],l[1],l[2],s),this.colorStrokeStyle(e,c[0],c[1],c[2],u)},qs.getTextAngle=function(e,t){var n=e._private.rscratch,r=t?t+"-":"",i=e.pstyle(r+"text-rotation"),o=Pe(n,"labelAngle",t);return"autorotate"===i.strValue?e.isEdge()?o:0:"none"===i.strValue?0:i.pfValue},qs.drawText=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=t._private,a=o.rscratch,s=i?t.effectiveOpacity():1;if(!i||0!==s&&0!==t.pstyle("text-opacity").value){"main"===n&&(n=null);var u,l,c=Pe(a,"labelX",n),f=Pe(a,"labelY",n),h=this.getLabelText(t,n);if(null!=h&&""!==h&&!isNaN(c)&&!isNaN(f)){this.setupTextStyle(e,t,i);var d,p=n?n+"-":"",g=Pe(a,"labelWidth",n),v=Pe(a,"labelHeight",n),y=t.pstyle(p+"text-margin-x").pfValue,m=t.pstyle(p+"text-margin-y").pfValue,b=t.isEdge(),_=t.pstyle("text-halign").value,w=t.pstyle("text-valign").value;switch(b&&(_="center",w="center"),c+=y,f+=m,0!==(d=r?this.getTextAngle(t,n):0)&&(u=c,l=f,e.translate(u,l),e.rotate(d),c=0,f=0),w){case"top":break;case"center":f+=v/2;break;case"bottom":f+=v}var x=t.pstyle("text-background-opacity").value,E=t.pstyle("text-border-opacity").value,k=t.pstyle("text-border-width").pfValue,C=t.pstyle("text-background-padding").pfValue;if(x>0||k>0&&E>0){var S=c-C;switch(_){case"left":S-=g;break;case"center":S-=g/2}var N=f-v-C,T=g+2*C,I=v+2*C;if(x>0){var D=e.fillStyle,M=t.pstyle("text-background-color").value;e.fillStyle="rgba("+M[0]+","+M[1]+","+M[2]+","+x*s+")";var O=t.pstyle("text-background-shape").strValue;0===O.indexOf("round")?Ys(e,S,N,T,I,2):e.fillRect(S,N,T,I),e.fillStyle=D}if(k>0&&E>0){var P=e.strokeStyle,L=e.lineWidth,A=t.pstyle("text-border-color").value,R=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+A[0]+","+A[1]+","+A[2]+","+E*s+")",e.lineWidth=k,e.setLineDash)switch(R){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=k/4,e.setLineDash([]);break;case"solid":e.setLineDash([])}if(e.strokeRect(S,N,T,I),"double"===R){var F=k/2;e.strokeRect(S+F,N+F,T-2*F,I-2*F)}e.setLineDash&&e.setLineDash([]),e.lineWidth=L,e.strokeStyle=P}}var z=2*t.pstyle("text-outline-width").pfValue;if(z>0&&(e.lineWidth=z),"wrap"===t.pstyle("text-wrap").value){var j=Pe(a,"labelWrapCachedLines",n),B=Pe(a,"labelLineHeight",n),V=g/2,U=this.getLabelJustification(t);switch("auto"===U||("left"===_?"left"===U?c+=-g:"center"===U&&(c+=-V):"center"===_?"left"===U?c+=-V:"right"===U&&(c+=V):"right"===_&&("center"===U?c+=V:"right"===U&&(c+=g))),w){case"top":case"center":case"bottom":f-=(j.length-1)*B}for(var G=0;G<j.length;G++)z>0&&e.strokeText(j[G],c,f),e.fillText(j[G],c,f),f+=B}else z>0&&e.strokeText(h,c,f),e.fillText(h,c,f);0!==d&&(e.rotate(-d),e.translate(-u,-l))}}};var Ws={drawNode:function(e,t,n){var r,i,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],u=this,l=t._private,c=l.rscratch,f=t.position();if(O(f.x)&&O(f.y)&&(!s||t.visible())){var h,d,p=s?t.effectiveOpacity():1,g=u.usePaths(),v=!1,y=t.padding();r=t.width()+2*y,i=t.height()+2*y,n&&(d=n,e.translate(-d.x1,-d.y1));for(var m=t.pstyle("background-image"),b=m.value,_=new Array(b.length),w=new Array(b.length),x=0,E=0;E<b.length;E++){var k=b[E],C=_[E]=null!=k&&"none"!==k;if(C){var S=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",E);x++,w[E]=u.getCachedImage(k,S,(function(){l.backgroundTimestamp=Date.now(),t.emitAndNotify("background")}))}}var N=t.pstyle("background-blacken").value,T=t.pstyle("border-width").pfValue,I=t.pstyle("background-opacity").value*p,D=t.pstyle("border-color").value,M=t.pstyle("border-style").value,P=t.pstyle("border-opacity").value*p;e.lineJoin="miter";var L=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;u.eleFillStyle(e,t,n)},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;u.colorStrokeStyle(e,D[0],D[1],D[2],t)},R=t.pstyle("shape").strValue,F=t.pstyle("shape-polygon-points").pfValue;if(g){e.translate(f.x,f.y);var z=u.nodePathCache=u.nodePathCache||[],j=de("polygon"===R?R+","+F.join(","):R,""+i,""+r),B=z[j];null!=B?(h=B,v=!0,c.pathCache=h):(h=new Path2D,z[j]=c.pathCache=h)}var V=function(){if(!v){var n=f;g&&(n={x:0,y:0}),u.nodeShapes[u.getNodeShape(t)].draw(h||e,n.x,n.y,r,i)}g?e.fill(h):e.fill()},U=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=l.backgrounding,o=0,a=0;a<w.length;a++){var s=t.cy().style().getIndexedStyle(t,"background-image-containment","value",a);r&&"over"===s||!r&&"inside"===s?o++:_[a]&&w[a].complete&&!w[a].error&&(o++,u.drawInscribedImage(e,w[a],t,a,n))}l.backgrounding=!(o===x),i!==l.backgrounding&&t.updateStyle(!1)},G=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;u.hasPie(t)&&(u.drawPie(e,t,o),n&&(g||u.nodeShapes[u.getNodeShape(t)].draw(e,f.x,f.y,r,i)))},H=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=(N>0?N:-N)*t,r=N>0?0:255;0!==N&&(u.colorFillStyle(e,r,r,r,n),g?e.fill(h):e.fill())},q=function(){if(T>0){if(e.lineWidth=T,e.lineCap="butt",e.setLineDash)switch(M){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}if(g?e.stroke(h):e.stroke(),"double"===M){e.lineWidth=T/3;var t=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",g?e.stroke(h):e.stroke(),e.globalCompositeOperation=t}e.setLineDash&&e.setLineDash([])}},Y=function(){a&&u.drawNodeOverlay(e,t,f,r,i)},W=function(){a&&u.drawNodeUnderlay(e,t,f,r,i)},X=function(){u.drawElementText(e,t,null,o)},K="yes"===t.pstyle("ghost").value;if(K){var $=t.pstyle("ghost-offset-x").pfValue,Q=t.pstyle("ghost-offset-y").pfValue,Z=t.pstyle("ghost-opacity").value,J=Z*p;e.translate($,Q),L(Z*I),V(),U(J,!0),A(Z*P),q(),G(0!==N||0!==T),U(J,!1),H(J),e.translate(-$,-Q)}g&&e.translate(-f.x,-f.y),W(),g&&e.translate(f.x,f.y),L(),V(),U(p,!0),A(),q(),G(0!==N||0!==T),U(p,!1),H(),g&&e.translate(-f.x,-f.y),X(),Y(),n&&e.translate(d.x1,d.y1)}}},Xs=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n,r,i,o){if(n.visible()){var a=n.pstyle("".concat(e,"-padding")).pfValue,s=n.pstyle("".concat(e,"-opacity")).value,u=n.pstyle("".concat(e,"-color")).value,l=n.pstyle("".concat(e,"-shape")).value;if(s>0){if(r=r||n.position(),null==i||null==o){var c=n.padding();i=n.width()+2*c,o=n.height()+2*c}this.colorFillStyle(t,u[0],u[1],u[2],s),this.nodeShapes[l].draw(t,r.x,r.y,i+2*a,o+2*a),t.fill()}}}};Ws.drawNodeOverlay=Xs("overlay"),Ws.drawNodeUnderlay=Xs("underlay"),Ws.hasPie=function(e){return(e=e[0])._private.hasPie},Ws.drawPie=function(e,t,n,r){t=t[0],r=r||t.position();var i=t.cy().style(),o=t.pstyle("pie-size"),a=r.x,s=r.y,u=t.width(),l=t.height(),c=Math.min(u,l)/2,f=0;this.usePaths()&&(a=0,s=0),"%"===o.units?c*=o.pfValue:void 0!==o.pfValue&&(c=o.pfValue/2);for(var h=1;h<=i.pieBackgroundN;h++){var d=t.pstyle("pie-"+h+"-background-size").value,p=t.pstyle("pie-"+h+"-background-color").value,g=t.pstyle("pie-"+h+"-background-opacity").value*n,v=d/100;v+f>1&&(v=1-f);var y=1.5*Math.PI+2*Math.PI*f,m=y+2*Math.PI*v;0===d||f>=1||f+v>1||(e.beginPath(),e.moveTo(a,s),e.arc(a,s,c,y,m),e.closePath(),this.colorFillStyle(e,p[0],p[1],p[2],g),e.fill(),f+=v)}};var Ks={};Ks.getPixelRatio=function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/t},Ks.paintCache=function(e){for(var t,n=this.paintCaches=this.paintCaches||[],r=!0,i=0;i<n.length;i++)if((t=n[i]).context===e){r=!1;break}return r&&(t={context:e},n.push(t)),t},Ks.createGradientStyleFor=function(e,t,n,r,i){var o,a=this.usePaths(),s=n.pstyle(t+"-gradient-stop-colors").value,u=n.pstyle(t+"-gradient-stop-positions").pfValue;if("radial-gradient"===r)if(n.isEdge()){var l=n.sourceEndpoint(),c=n.targetEndpoint(),f=n.midpoint(),h=at(l,f),d=at(c,f);o=e.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(h,d))}else{var p=a?{x:0,y:0}:n.position(),g=n.paddedWidth(),v=n.paddedHeight();o=e.createRadialGradient(p.x,p.y,0,p.x,p.y,Math.max(g,v))}else if(n.isEdge()){var y=n.sourceEndpoint(),m=n.targetEndpoint();o=e.createLinearGradient(y.x,y.y,m.x,m.y)}else{var b=a?{x:0,y:0}:n.position(),_=n.paddedWidth()/2,w=n.paddedHeight()/2;switch(n.pstyle("background-gradient-direction").value){case"to-bottom":o=e.createLinearGradient(b.x,b.y-w,b.x,b.y+w);break;case"to-top":o=e.createLinearGradient(b.x,b.y+w,b.x,b.y-w);break;case"to-left":o=e.createLinearGradient(b.x+_,b.y,b.x-_,b.y);break;case"to-right":o=e.createLinearGradient(b.x-_,b.y,b.x+_,b.y);break;case"to-bottom-right":case"to-right-bottom":o=e.createLinearGradient(b.x-_,b.y-w,b.x+_,b.y+w);break;case"to-top-right":case"to-right-top":o=e.createLinearGradient(b.x-_,b.y+w,b.x+_,b.y-w);break;case"to-bottom-left":case"to-left-bottom":o=e.createLinearGradient(b.x+_,b.y-w,b.x-_,b.y+w);break;case"to-top-left":case"to-left-top":o=e.createLinearGradient(b.x+_,b.y+w,b.x-_,b.y-w)}}if(!o)return null;for(var x=u.length===s.length,E=s.length,k=0;k<E;k++)o.addColorStop(x?u[k]:k/(E-1),"rgba("+s[k][0]+","+s[k][1]+","+s[k][2]+","+i+")");return o},Ks.gradientFillStyle=function(e,t,n,r){var i=this.createGradientStyleFor(e,"background",t,n,r);if(!i)return null;e.fillStyle=i},Ks.colorFillStyle=function(e,t,n,r,i){e.fillStyle="rgba("+t+","+n+","+r+","+i+")"},Ks.eleFillStyle=function(e,t,n){var r=t.pstyle("background-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientFillStyle(e,t,r,n);else{var i=t.pstyle("background-color").value;this.colorFillStyle(e,i[0],i[1],i[2],n)}},Ks.gradientStrokeStyle=function(e,t,n,r){var i=this.createGradientStyleFor(e,"line",t,n,r);if(!i)return null;e.strokeStyle=i},Ks.colorStrokeStyle=function(e,t,n,r,i){e.strokeStyle="rgba("+t+","+n+","+r+","+i+")"},Ks.eleStrokeStyle=function(e,t,n){var r=t.pstyle("line-fill").value;if("linear-gradient"===r||"radial-gradient"===r)this.gradientStrokeStyle(e,t,r,n);else{var i=t.pstyle("line-color").value;this.colorStrokeStyle(e,i[0],i[1],i[2],n)}},Ks.matchCanvasSize=function(e){var t=this,n=t.data,r=t.findContainerClientCoords(),i=r[2],o=r[3],a=t.getPixelRatio(),s=t.motionBlurPxRatio;e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(a=s);var u,l=i*a,c=o*a;if(l!==t.canvasWidth||c!==t.canvasHeight){t.fontCaches=null;var f=n.canvasContainer;f.style.width=i+"px",f.style.height=o+"px";for(var h=0;h<t.CANVAS_LAYERS;h++)(u=n.canvases[h]).width=l,u.height=c,u.style.width=i+"px",u.style.height=o+"px";for(h=0;h<t.BUFFER_COUNT;h++)(u=n.bufferCanvases[h]).width=l,u.height=c,u.style.width=i+"px",u.style.height=o+"px";t.textureMult=1,a<=1&&(u=n.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,u.width=l*t.textureMult,u.height=c*t.textureMult),t.canvasWidth=l,t.canvasHeight=c}},Ks.renderTo=function(e,t,n,r){this.render({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:r})},Ks.render=function(e){var t=(e=e||Ie()).forcedContext,n=e.drawAllLayers,r=e.drawOnlyNodeLayer,i=e.forcedZoom,o=e.forcedPan,a=this,s=void 0===e.forcedPxRatio?this.getPixelRatio():e.forcedPxRatio,u=a.cy,l=a.data,c=l.canvasNeedsRedraw,f=a.textureOnViewport&&!t&&(a.pinching||a.hoverData.dragging||a.swipePanning||a.data.wheelZooming),h=void 0!==e.motionBlur?e.motionBlur:a.motionBlur,d=a.motionBlurPxRatio,p=u.hasCompoundNodes(),g=a.hoverData.draggingEles,v=!(!a.hoverData.selecting&&!a.touchData.selecting),y=h=h&&!t&&a.motionBlurEnabled&&!v;t||(a.prevPxRatio!==s&&(a.invalidateContainerClientCoordsCache(),a.matchCanvasSize(a.container),a.redrawHint("eles",!0),a.redrawHint("drag",!0)),a.prevPxRatio=s),!t&&a.motionBlurTimeout&&clearTimeout(a.motionBlurTimeout),h&&(null==a.mbFrames&&(a.mbFrames=0),a.mbFrames++,a.mbFrames<3&&(y=!1),a.mbFrames>a.minMbLowQualFrames&&(a.motionBlurPxRatio=a.mbPxRBlurry)),a.clearingMotionBlur&&(a.motionBlurPxRatio=1),a.textureDrawLastFrame&&!f&&(c[a.NODE]=!0,c[a.SELECT_BOX]=!0);var m=u.style(),b=u.zoom(),_=void 0!==i?i:b,w=u.pan(),x={x:w.x,y:w.y},E={zoom:b,pan:{x:w.x,y:w.y}},k=a.prevViewport;void 0===k||E.zoom!==k.zoom||E.pan.x!==k.pan.x||E.pan.y!==k.pan.y||g&&!p||(a.motionBlurPxRatio=1),o&&(x=o),_*=s,x.x*=s,x.y*=s;var C=a.getCachedZSortedEles();function S(e,t,n,r,i){var o=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",a.colorFillStyle(e,255,255,255,a.motionBlurTransparency),e.fillRect(t,n,r,i),e.globalCompositeOperation=o}function N(e,r){var s,u,c,f;a.clearingMotionBlur||e!==l.bufferContexts[a.MOTIONBLUR_BUFFER_NODE]&&e!==l.bufferContexts[a.MOTIONBLUR_BUFFER_DRAG]?(s=x,u=_,c=a.canvasWidth,f=a.canvasHeight):(s={x:w.x*d,y:w.y*d},u=b*d,c=a.canvasWidth*d,f=a.canvasHeight*d),e.setTransform(1,0,0,1,0,0),"motionBlur"===r?S(e,0,0,c,f):t||void 0!==r&&!r||e.clearRect(0,0,c,f),n||(e.translate(s.x,s.y),e.scale(u,u)),o&&e.translate(o.x,o.y),i&&e.scale(i,i)}if(f||(a.textureDrawLastFrame=!1),f){if(a.textureDrawLastFrame=!0,!a.textureCache){a.textureCache={},a.textureCache.bb=u.mutableElements().boundingBox(),a.textureCache.texture=a.data.bufferCanvases[a.TEXTURE_BUFFER];var T=a.data.bufferContexts[a.TEXTURE_BUFFER];T.setTransform(1,0,0,1,0,0),T.clearRect(0,0,a.canvasWidth*a.textureMult,a.canvasHeight*a.textureMult),a.render({forcedContext:T,drawOnlyNodeLayer:!0,forcedPxRatio:s*a.textureMult}),(E=a.textureCache.viewport={zoom:u.zoom(),pan:u.pan(),width:a.canvasWidth,height:a.canvasHeight}).mpan={x:(0-E.pan.x)/E.zoom,y:(0-E.pan.y)/E.zoom}}c[a.DRAG]=!1,c[a.NODE]=!1;var I=l.contexts[a.NODE],D=a.textureCache.texture;E=a.textureCache.viewport;I.setTransform(1,0,0,1,0,0),h?S(I,0,0,E.width,E.height):I.clearRect(0,0,E.width,E.height);var M=m.core("outside-texture-bg-color").value,O=m.core("outside-texture-bg-opacity").value;a.colorFillStyle(I,M[0],M[1],M[2],O),I.fillRect(0,0,E.width,E.height);b=u.zoom();N(I,!1),I.clearRect(E.mpan.x,E.mpan.y,E.width/E.zoom/s,E.height/E.zoom/s),I.drawImage(D,E.mpan.x,E.mpan.y,E.width/E.zoom/s,E.height/E.zoom/s)}else a.textureOnViewport&&!t&&(a.textureCache=null);var P=u.extent(),L=a.pinching||a.hoverData.dragging||a.swipePanning||a.data.wheelZooming||a.hoverData.draggingEles||a.cy.animated(),A=a.hideEdgesOnViewport&&L,R=[];if(R[a.NODE]=!c[a.NODE]&&h&&!a.clearedForMotionBlur[a.NODE]||a.clearingMotionBlur,R[a.NODE]&&(a.clearedForMotionBlur[a.NODE]=!0),R[a.DRAG]=!c[a.DRAG]&&h&&!a.clearedForMotionBlur[a.DRAG]||a.clearingMotionBlur,R[a.DRAG]&&(a.clearedForMotionBlur[a.DRAG]=!0),c[a.NODE]||n||r||R[a.NODE]){var F=h&&!R[a.NODE]&&1!==d;N(I=t||(F?a.data.bufferContexts[a.MOTIONBLUR_BUFFER_NODE]:l.contexts[a.NODE]),h&&!F?"motionBlur":void 0),A?a.drawCachedNodes(I,C.nondrag,s,P):a.drawLayeredElements(I,C.nondrag,s,P),a.debug&&a.drawDebugPoints(I,C.nondrag),n||h||(c[a.NODE]=!1)}if(!r&&(c[a.DRAG]||n||R[a.DRAG])){F=h&&!R[a.DRAG]&&1!==d;N(I=t||(F?a.data.bufferContexts[a.MOTIONBLUR_BUFFER_DRAG]:l.contexts[a.DRAG]),h&&!F?"motionBlur":void 0),A?a.drawCachedNodes(I,C.drag,s,P):a.drawCachedElements(I,C.drag,s,P),a.debug&&a.drawDebugPoints(I,C.drag),n||h||(c[a.DRAG]=!1)}if(a.showFps||!r&&c[a.SELECT_BOX]&&!n){if(N(I=t||l.contexts[a.SELECT_BOX]),1==a.selection[4]&&(a.hoverData.selecting||a.touchData.selecting)){b=a.cy.zoom();var z=m.core("selection-box-border-width").value/b;I.lineWidth=z,I.fillStyle="rgba("+m.core("selection-box-color").value[0]+","+m.core("selection-box-color").value[1]+","+m.core("selection-box-color").value[2]+","+m.core("selection-box-opacity").value+")",I.fillRect(a.selection[0],a.selection[1],a.selection[2]-a.selection[0],a.selection[3]-a.selection[1]),z>0&&(I.strokeStyle="rgba("+m.core("selection-box-border-color").value[0]+","+m.core("selection-box-border-color").value[1]+","+m.core("selection-box-border-color").value[2]+","+m.core("selection-box-opacity").value+")",I.strokeRect(a.selection[0],a.selection[1],a.selection[2]-a.selection[0],a.selection[3]-a.selection[1]))}if(l.bgActivePosistion&&!a.hoverData.selecting){b=a.cy.zoom();var j=l.bgActivePosistion;I.fillStyle="rgba("+m.core("active-bg-color").value[0]+","+m.core("active-bg-color").value[1]+","+m.core("active-bg-color").value[2]+","+m.core("active-bg-opacity").value+")",I.beginPath(),I.arc(j.x,j.y,m.core("active-bg-size").pfValue/b,0,2*Math.PI),I.fill()}var B=a.lastRedrawTime;if(a.showFps&&B){B=Math.round(B);var V=Math.round(1e3/B);I.setTransform(1,0,0,1,0,0),I.fillStyle="rgba(255, 0, 0, 0.75)",I.strokeStyle="rgba(255, 0, 0, 0.75)",I.lineWidth=1,I.fillText("1 frame = "+B+" ms = "+V+" fps",0,20);I.strokeRect(0,30,250,20),I.fillRect(0,30,250*Math.min(V/60,1),20)}n||(c[a.SELECT_BOX]=!1)}if(h&&1!==d){var U=l.contexts[a.NODE],G=a.data.bufferCanvases[a.MOTIONBLUR_BUFFER_NODE],H=l.contexts[a.DRAG],q=a.data.bufferCanvases[a.MOTIONBLUR_BUFFER_DRAG],Y=function(e,t,n){e.setTransform(1,0,0,1,0,0),n||!y?e.clearRect(0,0,a.canvasWidth,a.canvasHeight):S(e,0,0,a.canvasWidth,a.canvasHeight);var r=d;e.drawImage(t,0,0,a.canvasWidth*r,a.canvasHeight*r,0,0,a.canvasWidth,a.canvasHeight)};(c[a.NODE]||R[a.NODE])&&(Y(U,G,R[a.NODE]),c[a.NODE]=!1),(c[a.DRAG]||R[a.DRAG])&&(Y(H,q,R[a.DRAG]),c[a.DRAG]=!1)}a.prevViewport=E,a.clearingMotionBlur&&(a.clearingMotionBlur=!1,a.motionBlurCleared=!0,a.motionBlur=!0),h&&(a.motionBlurTimeout=setTimeout((function(){a.motionBlurTimeout=null,a.clearedForMotionBlur[a.NODE]=!1,a.clearedForMotionBlur[a.DRAG]=!1,a.motionBlur=!1,a.clearingMotionBlur=!f,a.mbFrames=0,c[a.NODE]=!0,c[a.DRAG]=!0,a.redraw()}),100)),t||u.emit("render")};for(var $s={drawPolygonPath:function(e,t,n,r,i,o){var a=r/2,s=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+a*o[0],n+s*o[1]);for(var u=1;u<o.length/2;u++)e.lineTo(t+a*o[2*u],n+s*o[2*u+1]);e.closePath()},drawRoundPolygonPath:function(e,t,n,r,i,o){var a=r/2,s=i/2,u=jt(r,i);e.beginPath&&e.beginPath();for(var l=0;l<o.length/4;l++){var c,f=void 0;f=0===l?o.length-2:4*l-2,c=4*l+2;var h=t+a*o[4*l],d=n+s*o[4*l+1],p=-o[f]*o[c]-o[f+1]*o[c+1],g=u/Math.tan(Math.acos(p)/2),v=h-g*o[f],y=d-g*o[f+1],m=h+g*o[c],b=d+g*o[c+1];0===l?e.moveTo(v,y):e.lineTo(v,y),e.arcTo(h,d,m,b,u)}e.closePath()},drawRoundRectanglePath:function(e,t,n,r,i){var o=r/2,a=i/2,s=zt(r,i);e.beginPath&&e.beginPath(),e.moveTo(t,n-a),e.arcTo(t+o,n-a,t+o,n,s),e.arcTo(t+o,n+a,t,n+a,s),e.arcTo(t-o,n+a,t-o,n,s),e.arcTo(t-o,n-a,t,n-a,s),e.lineTo(t,n-a),e.closePath()},drawBottomRoundRectanglePath:function(e,t,n,r,i){var o=r/2,a=i/2,s=zt(r,i);e.beginPath&&e.beginPath(),e.moveTo(t,n-a),e.lineTo(t+o,n-a),e.lineTo(t+o,n),e.arcTo(t+o,n+a,t,n+a,s),e.arcTo(t-o,n+a,t-o,n,s),e.lineTo(t-o,n-a),e.lineTo(t,n-a),e.closePath()},drawCutRectanglePath:function(e,t,n,r,i){var o=r/2,a=i/2;e.beginPath&&e.beginPath(),e.moveTo(t-o+8,n-a),e.lineTo(t+o-8,n-a),e.lineTo(t+o,n-a+8),e.lineTo(t+o,n+a-8),e.lineTo(t+o-8,n+a),e.lineTo(t-o+8,n+a),e.lineTo(t-o,n+a-8),e.lineTo(t-o,n-a+8),e.closePath()},drawBarrelPath:function(e,t,n,r,i){var o=r/2,a=i/2,s=t-o,u=t+o,l=n-a,c=n+a,f=Bt(r,i),h=f.widthOffset,d=f.heightOffset,p=f.ctrlPtOffsetPct*h;e.beginPath&&e.beginPath(),e.moveTo(s,l+d),e.lineTo(s,c-d),e.quadraticCurveTo(s+p,c,s+h,c),e.lineTo(u-h,c),e.quadraticCurveTo(u-p,c,u,c-d),e.lineTo(u,l+d),e.quadraticCurveTo(u-p,l,u-h,l),e.lineTo(s+h,l),e.quadraticCurveTo(s+p,l,s,l+d),e.closePath()}},Qs=Math.sin(0),Zs=Math.cos(0),Js={},eu={},tu=Math.PI/40,nu=0*Math.PI;nu<2*Math.PI;nu+=tu)Js[nu]=Math.sin(nu),eu[nu]=Math.cos(nu);$s.drawEllipsePath=function(e,t,n,r,i){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,n,r/2,i/2,0,0,2*Math.PI);else for(var o,a,s=r/2,u=i/2,l=0*Math.PI;l<2*Math.PI;l+=tu)o=t-s*Js[l]*Qs+s*eu[l]*Zs,a=n+u*eu[l]*Qs+u*Js[l]*Zs,0===l?e.moveTo(o,a):e.lineTo(o,a);e.closePath()};var ru={};function iu(e){var t=e.indexOf(",");return e.substr(t+1)}function ou(e,t,n){var r=function(){return t.toDataURL(n,e.quality)};switch(e.output){case"blob-promise":return new er((function(r,i){try{t.toBlob((function(e){null!=e?r(e):i(new Error("`canvas.toBlob()` sent a null value in its callback"))}),n,e.quality)}catch(o){i(o)}}));case"blob":return function(e,t){for(var n=atob(e),r=new ArrayBuffer(n.length),i=new Uint8Array(r),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return new Blob([r],{type:t})}(iu(r()),n);case"base64":return iu(r());default:return r()}}ru.createBuffer=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]},ru.bufferCanvasImage=function(e){var t=this.cy,n=t.mutableElements().boundingBox(),r=this.findContainerClientCoords(),i=e.full?Math.ceil(n.w):r[2],o=e.full?Math.ceil(n.h):r[3],a=O(e.maxWidth)||O(e.maxHeight),s=this.getPixelRatio(),u=1;if(void 0!==e.scale)i*=e.scale,o*=e.scale,u=e.scale;else if(a){var l=1/0,c=1/0;O(e.maxWidth)&&(l=u*e.maxWidth/i),O(e.maxHeight)&&(c=u*e.maxHeight/o),i*=u=Math.min(l,c),o*=u}a||(i*=s,o*=s,u*=s);var f=document.createElement("canvas");f.width=i,f.height=o,f.style.width=i+"px",f.style.height=o+"px";var h=f.getContext("2d");if(i>0&&o>0){h.clearRect(0,0,i,o),h.globalCompositeOperation="source-over";var d=this.getCachedZSortedEles();if(e.full)h.translate(-n.x1*u,-n.y1*u),h.scale(u,u),this.drawElements(h,d),h.scale(1/u,1/u),h.translate(n.x1*u,n.y1*u);else{var p=t.pan(),g={x:p.x*u,y:p.y*u};u*=t.zoom(),h.translate(g.x,g.y),h.scale(u,u),this.drawElements(h,d),h.scale(1/u,1/u),h.translate(-g.x,-g.y)}e.bg&&(h.globalCompositeOperation="destination-over",h.fillStyle=e.bg,h.rect(0,0,i,o),h.fill())}return f},ru.png=function(e){return ou(e,this.bufferCanvasImage(e),"image/png")},ru.jpg=function(e){return ou(e,this.bufferCanvasImage(e),"image/jpeg")};var au={nodeShapeImpl:function(e,t,n,r,i,o,a){switch(e){case"ellipse":return this.drawEllipsePath(t,n,r,i,o);case"polygon":return this.drawPolygonPath(t,n,r,i,o,a);case"round-polygon":return this.drawRoundPolygonPath(t,n,r,i,o,a);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,n,r,i,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,n,r,i,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,n,r,i,o);case"barrel":return this.drawBarrelPath(t,n,r,i,o)}}},su=lu,uu=lu.prototype;function lu(e){var t=this;t.data={canvases:new Array(uu.CANVAS_LAYERS),contexts:new Array(uu.CANVAS_LAYERS),canvasNeedsRedraw:new Array(uu.CANVAS_LAYERS),bufferCanvases:new Array(uu.BUFFER_COUNT),bufferContexts:new Array(uu.CANVAS_LAYERS)};var n="-webkit-tap-highlight-color",r="rgba(0,0,0,0)";t.data.canvasContainer=document.createElement("div");var i=t.data.canvasContainer.style;t.data.canvasContainer.style[n]=r,i.position="relative",i.zIndex="0",i.overflow="hidden";var o=e.cy.container();o.appendChild(t.data.canvasContainer),o.style[n]=r;var a={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};x&&x.userAgent.match(/msie|trident|edge/i)&&(a["-ms-touch-action"]="none",a["touch-action"]="none");for(var s=0;s<uu.CANVAS_LAYERS;s++){var u=t.data.canvases[s]=document.createElement("canvas");t.data.contexts[s]=u.getContext("2d"),Object.keys(a).forEach((function(e){u.style[e]=a[e]})),u.style.position="absolute",u.setAttribute("data-id","layer"+s),u.style.zIndex=String(uu.CANVAS_LAYERS-s),t.data.canvasContainer.appendChild(u),t.data.canvasNeedsRedraw[s]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[uu.NODE].setAttribute("data-id","layer"+uu.NODE+"-node"),t.data.canvases[uu.SELECT_BOX].setAttribute("data-id","layer"+uu.SELECT_BOX+"-selectbox"),t.data.canvases[uu.DRAG].setAttribute("data-id","layer"+uu.DRAG+"-drag");for(s=0;s<uu.BUFFER_COUNT;s++)t.data.bufferCanvases[s]=document.createElement("canvas"),t.data.bufferContexts[s]=t.data.bufferCanvases[s].getContext("2d"),t.data.bufferCanvases[s].style.position="absolute",t.data.bufferCanvases[s].setAttribute("data-id","buffer"+s),t.data.bufferCanvases[s].style.zIndex=String(-s-1),t.data.bufferCanvases[s].style.visibility="hidden";t.pathsEnabled=!0;var l=ht(),c=function(e){return{x:-e.w/2,y:-e.h/2}},f=function(e){return e.boundingBox(),e[0]._private.bodyBounds},h=function(e){return e.boundingBox(),e[0]._private.labelBounds.main||l},d=function(e){return e.boundingBox(),e[0]._private.labelBounds.source||l},p=function(e){return e.boundingBox(),e[0]._private.labelBounds.target||l},g=function(e,t){return t},v=function(e,t,n){var r=e?e+"-":"";return{x:t.x+n.pstyle(r+"text-margin-x").pfValue,y:t.y+n.pstyle(r+"text-margin-y").pfValue}},y=function(e,t,n){var r=e[0]._private.rscratch;return{x:r[t],y:r[n]}},m=t.data.eleTxrCache=new xs(t,{getKey:function(e){return e[0]._private.nodeKey},doesEleInvalidateKey:function(e){var t=e[0]._private;return!(t.oldBackgroundTimestamp===t.backgroundTimestamp)},drawElement:function(e,n,r,i,o){return t.drawElement(e,n,r,!1,!1,o)},getBoundingBox:f,getRotationPoint:function(e){return{x:((t=f(e)).x1+t.x2)/2,y:(t.y1+t.y2)/2};var t},getRotationOffset:function(e){return c(f(e))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),b=t.data.lblTxrCache=new xs(t,{getKey:function(e){return e[0]._private.labelStyleKey},drawElement:function(e,n,r,i,o){return t.drawElementText(e,n,r,i,"main",o)},getBoundingBox:h,getRotationPoint:function(e){return v("",y(e,"labelX","labelY"),e)},getRotationOffset:function(e){var t=h(e),n=c(h(e));if(e.isNode()){switch(e.pstyle("text-halign").value){case"left":n.x=-t.w;break;case"right":n.x=0}switch(e.pstyle("text-valign").value){case"top":n.y=-t.h;break;case"bottom":n.y=0}}return n},isVisible:g}),_=t.data.slbTxrCache=new xs(t,{getKey:function(e){return e[0]._private.sourceLabelStyleKey},drawElement:function(e,n,r,i,o){return t.drawElementText(e,n,r,i,"source",o)},getBoundingBox:d,getRotationPoint:function(e){return v("source",y(e,"sourceLabelX","sourceLabelY"),e)},getRotationOffset:function(e){return c(d(e))},isVisible:g}),w=t.data.tlbTxrCache=new xs(t,{getKey:function(e){return e[0]._private.targetLabelStyleKey},drawElement:function(e,n,r,i,o){return t.drawElementText(e,n,r,i,"target",o)},getBoundingBox:p,getRotationPoint:function(e){return v("target",y(e,"targetLabelX","targetLabelY"),e)},getRotationOffset:function(e){return c(p(e))},isVisible:g}),E=t.data.lyrTxrCache=new ks(t);t.onUpdateEleCalcs((function(e,t){m.invalidateElements(t),b.invalidateElements(t),_.invalidateElements(t),w.invalidateElements(t),E.invalidateElements(t);for(var n=0;n<t.length;n++){var r=t[n]._private;r.oldBackgroundTimestamp=r.backgroundTimestamp}}));var k=function(e){for(var t=0;t<e.length;t++)E.enqueueElementRefinement(e[t].ele)};m.onDequeue(k),b.onDequeue(k),_.onDequeue(k),w.onDequeue(k)}uu.CANVAS_LAYERS=3,uu.SELECT_BOX=0,uu.DRAG=1,uu.NODE=2,uu.BUFFER_COUNT=3,uu.TEXTURE_BUFFER=0,uu.MOTIONBLUR_BUFFER_NODE=1,uu.MOTIONBLUR_BUFFER_DRAG=2,uu.redrawHint=function(e,t){var n=this;switch(e){case"eles":n.data.canvasNeedsRedraw[uu.NODE]=t;break;case"drag":n.data.canvasNeedsRedraw[uu.DRAG]=t;break;case"select":n.data.canvasNeedsRedraw[uu.SELECT_BOX]=t}};var cu="undefined"!==typeof Path2D;uu.path2dEnabled=function(e){if(void 0===e)return this.pathsEnabled;this.pathsEnabled=!!e},uu.usePaths=function(){return cu&&this.pathsEnabled},uu.setImgSmoothing=function(e,t){null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)},uu.getImgSmoothing=function(e){return null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled},uu.makeOffscreenCanvas=function(e,t){var n;return"undefined"!==("undefined"===typeof OffscreenCanvas?"undefined":p(OffscreenCanvas))?n=new OffscreenCanvas(e,t):((n=document.createElement("canvas")).width=e,n.height=t),n},[Is,As,Us,Hs,qs,Ws,Ks,$s,ru,au].forEach((function(e){X(uu,e)}));var fu=[{type:"layout",extensions:Ha},{type:"renderer",extensions:[{name:"null",impl:qa},{name:"base",impl:gs},{name:"canvas",impl:su}]}],hu={},du={};function pu(e,t,n){var r=n,i=function(n){Ce("Can not register `"+t+"` for `"+e+"` since `"+n+"` already exists in the prototype and can not be overridden")};if("core"===e){if(ia.prototype[t])return i(t);ia.prototype[t]=n}else if("collection"===e){if(wo.prototype[t])return i(t);wo.prototype[t]=n}else if("layout"===e){for(var o=function(e){this.options=e,n.call(this,e),M(this._private)||(this._private={}),this._private.cy=e.cy,this._private.listeners=[],this.createEmitter()},a=o.prototype=Object.create(n.prototype),s=[],u=0;u<s.length;u++){var l=s[u];a[l]=a[l]||function(){return this}}a.start&&!a.run?a.run=function(){return this.start(),this}:!a.start&&a.run&&(a.start=function(){return this.run(),this});var c=n.prototype.stop;a.stop=function(){var e=this.options;if(e&&e.animate){var t=this.animations;if(t)for(var n=0;n<t.length;n++)t[n].stop()}return c?c.call(this):this.emit("layoutstop"),this},a.destroy||(a.destroy=function(){return this}),a.cy=function(){return this._private.cy};var f=function(e){return e._private.cy},h={addEventFields:function(e,t){t.layout=e,t.cy=f(e),t.target=e},bubble:function(){return!0},parent:function(e){return f(e)}};X(a,{createEmitter:function(){return this._private.emitter=new ji(h,this),this},emitter:function(){return this._private.emitter},on:function(e,t){return this.emitter().on(e,t),this},one:function(e,t){return this.emitter().one(e,t),this},once:function(e,t){return this.emitter().one(e,t),this},removeListener:function(e,t){return this.emitter().removeListener(e,t),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(e,t){return this.emitter().emit(e,t),this}}),ar.eventAliasesOn(a),r=o}else if("renderer"===e&&"null"!==t&&"base"!==t){var d=gu("renderer","base"),p=d.prototype,g=n,v=n.prototype,y=function(){d.apply(this,arguments),g.apply(this,arguments)},m=y.prototype;for(var b in p){var _=p[b];if(null!=v[b])return i(b);m[b]=_}for(var w in v)m[w]=v[w];p.clientFunctions.forEach((function(e){m[e]=m[e]||function(){Ee("Renderer does not implement `renderer."+e+"()` on its prototype")}})),r=y}else if("__proto__"===e||"constructor"===e||"prototype"===e)return Ee(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return Q({map:hu,keys:[e,t],value:r})}function gu(e,t){return Z({map:hu,keys:[e,t]})}function vu(e,t,n,r,i){return Q({map:du,keys:[e,t,n,r],value:i})}function yu(e,t,n,r){return Z({map:du,keys:[e,t,n,r]})}var mu=function(){return 2===arguments.length?gu.apply(null,arguments):3===arguments.length?pu.apply(null,arguments):4===arguments.length?yu.apply(null,arguments):5===arguments.length?vu.apply(null,arguments):void Ee("Invalid extension access syntax")};ia.prototype.extension=mu,fu.forEach((function(e){e.extensions.forEach((function(t){pu(e.type,t.name,t.impl)}))}));var bu=function e(){if(!(this instanceof e))return new e;this.length=0},_u=bu.prototype;_u.instanceString=function(){return"stylesheet"},_u.selector=function(e){return this[this.length++]={selector:e,properties:[]},this},_u.css=function(e,t){var n=this.length-1;if(T(e))this[n].properties.push({name:e,value:t});else if(M(e))for(var r=e,i=Object.keys(r),o=0;o<i.length;o++){var a=i[o],s=r[a];if(null!=s){var u=Jo.properties[a]||Jo.properties[G(a)];if(null!=u){var l=u.name,c=s;this[n].properties.push({name:l,value:c})}}}return this},_u.style=_u.css,_u.generateStyle=function(e){var t=new Jo(e);return this.appendToStyle(t)},_u.appendToStyle=function(e){for(var t=0;t<this.length;t++){var n=this[t],r=n.selector,i=n.properties;e.selector(r);for(var o=0;o<i.length;o++){var a=i[o];e.css(a.name,a.value)}}return e};var wu=function(e){return void 0===e&&(e={}),M(e)?new ia(e):T(e)?mu.apply(mu,arguments):void 0};wu.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(wu),e.apply(null,t),this},wu.warnings=function(e){return ke(e)},wu.version="3.22.1",wu.stylesheet=wu.Stylesheet=bu,e.exports=wu},8657:function(e,t,n){"use strict";var r=n(1502),i=n(4171),o=n(2261),a=n(1927),s=n(9986),u=e.exports=function(e,t){var n,i,u,l,c;return arguments.length<2||"string"!==typeof e?(l=t,t=e,e=null):l=arguments[2],r(e)?(n=s.call(e,"c"),i=s.call(e,"e"),u=s.call(e,"w")):(n=u=!0,i=!1),c={value:t,configurable:n,enumerable:i,writable:u},l?o(a(l),c):c};u.gs=function(e,t,n){var u,l,c,f;return"string"!==typeof e?(c=n,n=t,t=e,e=null):c=arguments[3],r(t)?i(t)?r(n)?i(n)||(c=n,n=void 0):n=void 0:(c=t,t=n=void 0):t=void 0,r(e)?(u=s.call(e,"c"),l=s.call(e,"e")):(u=!0,l=!1),f={get:t,set:n,configurable:u,enumerable:l},c?o(a(c),f):f}},3682:function(e,t,n){"use strict";var r=n(388),i=n(9052),o=n(6496),a=Array.prototype.indexOf,s=Object.prototype.hasOwnProperty,u=Math.abs,l=Math.floor;e.exports=function(e){var t,n,c,f;if(!r(e))return a.apply(this,arguments);for(n=i(o(this).length),c=arguments[1],t=c=isNaN(c)?0:c>=0?l(c):i(this.length)-l(u(c));t<n;++t)if(s.call(this,t)&&(f=this[t],r(f)))return t;return-1}},4290:function(e,t,n){"use strict";e.exports=n(6505)()?Array.from:n(3248)},6505:function(e){"use strict";e.exports=function(){var e,t,n=Array.from;return"function"===typeof n&&(t=n(e=["raz","dwa"]),Boolean(t&&t!==e&&"dwa"===t[1]))}},3248:function(e,t,n){"use strict";var r=n(1375).iterator,i=n(572),o=n(2874),a=n(9052),s=n(8297),u=n(6496),l=n(8805),c=n(6513),f=Array.isArray,h=Function.prototype.call,d={configurable:!0,enumerable:!0,writable:!0,value:null},p=Object.defineProperty;e.exports=function(e){var t,n,g,v,y,m,b,_,w,x,E=arguments[1],k=arguments[2];if(e=Object(u(e)),l(E)&&s(E),this&&this!==Array&&o(this))t=this;else{if(!E){if(i(e))return 1!==(y=e.length)?Array.apply(null,e):((v=new Array(1))[0]=e[0],v);if(f(e)){for(v=new Array(y=e.length),n=0;n<y;++n)v[n]=e[n];return v}}v=[]}if(!f(e))if(void 0!==(w=e[r])){for(b=s(w).call(e),t&&(v=new t),_=b.next(),n=0;!_.done;)x=E?h.call(E,k,_.value,n):_.value,t?(d.value=x,p(v,n,d)):v[n]=x,_=b.next(),++n;y=n}else if(c(e)){for(y=e.length,t&&(v=new t),n=0,g=0;n<y;++n)x=e[n],n+1<y&&(m=x.charCodeAt(0))>=55296&&m<=56319&&(x+=e[++n]),x=E?h.call(E,k,x,g):x,t?(d.value=x,p(v,g,d)):v[g]=x,++g;y=g}if(void 0===y)for(y=a(e.length),t&&(v=new t(y)),n=0;n<y;++n)x=E?h.call(E,k,e[n],n):e[n],t?(d.value=x,p(v,n,d)):v[n]=x;return t&&(d.value=null,v.length=y),v}},5168:function(e,t,n){"use strict";var r=n(4290),i=Array.isArray;e.exports=function(e){return i(e)?e:r(e)}},3235:function(e,t,n){"use strict";var r=n(2261),i=n(9944),o=n(8805),a=Error.captureStackTrace;e.exports=function(t){var n=new Error(t),s=arguments[1],u=arguments[2];return o(u)||i(s)&&(u=s,s=null),o(u)&&r(n,u),o(s)&&(n.code=s),a&&a(n,e.exports),n}},9113:function(e,t,n){"use strict";var r,i,o,a,s=n(9052),u=function(e,t){return t};try{Object.defineProperty(u,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch(l){}1===u.length?(r={configurable:!0,writable:!1,enumerable:!1},i=Object.defineProperty,e.exports=function(e,t){return t=s(t),e.length===t?e:(r.value=t,i(e,"length",r))}):(a=n(3100),o=function(){var e=[];return function(t){var n,r=0;if(e[t])return e[t];for(n=[];t--;)n.push("a"+(++r).toString(36));return new Function("fn","return function ("+n.join(", ")+") { return fn.apply(this, arguments); };")}}(),e.exports=function(e,t){var n;if(t=s(t),e.length===t)return e;n=o(t)(e);try{a(n,e)}catch(l){}return n})},572:function(e){"use strict";var t=Object.prototype.toString,n=t.call(function(){return arguments}());e.exports=function(e){return t.call(e)===n}},2874:function(e){"use strict";var t=Object.prototype.toString,n=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);e.exports=function(e){return"function"===typeof e&&n(t.call(e))}},625:function(e){"use strict";e.exports=function(){}},5565:function(e,t,n){"use strict";e.exports=n(1095)()?Math.sign:n(1921)},1095:function(e){"use strict";e.exports=function(){var e=Math.sign;return"function"===typeof e&&(1===e(10)&&-1===e(-20))}},1921:function(e){"use strict";e.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}},388:function(e,t,n){"use strict";e.exports=n(1249)()?Number.isNaN:n(5341)},1249:function(e){"use strict";e.exports=function(){var e=Number.isNaN;return"function"===typeof e&&(!e({})&&e(NaN)&&!e(34))}},5341:function(e){"use strict";e.exports=function(e){return e!==e}},6005:function(e,t,n){"use strict";var r=n(5565),i=Math.abs,o=Math.floor;e.exports=function(e){return isNaN(e)?0:0!==(e=Number(e))&&isFinite(e)?r(e)*o(i(e)):e}},9052:function(e,t,n){"use strict";var r=n(6005),i=Math.max;e.exports=function(e){return i(0,r(e))}},9645:function(e,t,n){"use strict";var r=n(8297),i=n(6496),o=Function.prototype.bind,a=Function.prototype.call,s=Object.keys,u=Object.prototype.propertyIsEnumerable;e.exports=function(e,t){return function(n,l){var c,f=arguments[2],h=arguments[3];return n=Object(i(n)),r(l),c=s(n),h&&c.sort("function"===typeof h?o.call(h,n):void 0),"function"!==typeof e&&(e=c[e]),a.call(e,c,(function(e,r){return u.call(n,e)?a.call(l,f,n[e],e,n,r):t}))}}},2261:function(e,t,n){"use strict";e.exports=n(3681)()?Object.assign:n(6894)},3681:function(e){"use strict";e.exports=function(){var e,t=Object.assign;return"function"===typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},6894:function(e,t,n){"use strict";var r=n(8534),i=n(6496),o=Math.max;e.exports=function(e,t){var n,a,s,u=o(arguments.length,2);for(e=Object(i(e)),s=function(r){try{e[r]=t[r]}catch(i){n||(n=i)}},a=1;a<u;++a)r(t=arguments[a]).forEach(s);if(void 0!==n)throw n;return e}},6350:function(e,t,n){"use strict";e.exports=n(9645)("forEach")},9772:function(e){"use strict";e.exports=function(e){return"function"===typeof e}},9944:function(e,t,n){"use strict";var r=n(8805),i={function:!0,object:!0};e.exports=function(e){return r(e)&&i[typeof e]||!1}},8805:function(e,t,n){"use strict";var r=n(625)();e.exports=function(e){return e!==r&&null!==e}},8534:function(e,t,n){"use strict";e.exports=n(486)()?Object.keys:n(7133)},486:function(e){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},7133:function(e,t,n){"use strict";var r=n(8805),i=Object.keys;e.exports=function(e){return i(r(e)?Object(e):e)}},4317:function(e,t,n){"use strict";var r=n(8297),i=n(6350),o=Function.prototype.call;e.exports=function(e,t){var n={},a=arguments[2];return r(t),i(e,(function(e,r,i,s){n[r]=o.call(t,a,e,r,i,s)})),n}},3100:function(e,t,n){"use strict";var r=n(6496),i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols;e.exports=function(e,t){var n,u=Object(r(t));if(e=Object(r(e)),a(u).forEach((function(r){try{i(e,r,o(t,r))}catch(a){n=a}})),"function"===typeof s&&s(u).forEach((function(r){try{i(e,r,o(t,r))}catch(a){n=a}})),void 0!==n)throw n;return e}},1927:function(e,t,n){"use strict";var r=n(8805),i=Array.prototype.forEach,o=Object.create,a=function(e,t){var n;for(n in e)t[n]=e[n]};e.exports=function(e){var t=o(null);return i.call(arguments,(function(e){r(e)&&a(Object(e),t)})),t}},2091:function(e){"use strict";var t=Array.prototype.forEach,n=Object.create;e.exports=function(e){var r=n(null);return t.call(arguments,(function(e){r[e]=!0})),r}},8297:function(e){"use strict";e.exports=function(e){if("function"!==typeof e)throw new TypeError(e+" is not a function");return e}},6496:function(e,t,n){"use strict";var r=n(8805);e.exports=function(e){if(!r(e))throw new TypeError("Cannot use null or undefined");return e}},5534:function(e,t,n){"use strict";var r=n(6496),i=n(6381);e.exports=function(e){return i(r(e))}},6381:function(e,t,n){"use strict";var r=n(9772);e.exports=function(e){try{return e&&r(e.toString)?e.toString():String(e)}catch(t){throw new TypeError("Passed argument cannot be stringifed")}}},6920:function(e,t,n){"use strict";var r=n(9772);e.exports=function(e){try{return e&&r(e.toString)?e.toString():String(e)}catch(t){return"<Non-coercible to string value>"}}},9986:function(e,t,n){"use strict";e.exports=n(5568)()?String.prototype.contains:n(5258)},5568:function(e){"use strict";var t="razdwatrzy";e.exports=function(){return"function"===typeof t.contains&&(!0===t.contains("dwa")&&!1===t.contains("foo"))}},5258:function(e){"use strict";var t=String.prototype.indexOf;e.exports=function(e){return t.call(this,e,arguments[1])>-1}},6513:function(e){"use strict";var t=Object.prototype.toString,n=t.call("");e.exports=function(e){return"string"===typeof e||e&&"object"===typeof e&&(e instanceof String||t.call(e)===n)||!1}},6897:function(e,t,n){"use strict";var r=n(6920),i=/[\n\r\u2028\u2029]/g;e.exports=function(e){var t=r(e);return t.length>100&&(t=t.slice(0,99)+"\u2026"),t=t.replace(i,(function(e){return JSON.stringify(e).slice(1,-1)}))}},1375:function(e,t,n){"use strict";e.exports=n(9377)()?n(1809).Symbol:n(1425)},9377:function(e,t,n){"use strict";var r=n(1809),i={object:!0,symbol:!0};e.exports=function(){var e,t=r.Symbol;if("function"!==typeof t)return!1;e=t("test symbol");try{String(e)}catch(n){return!1}return!!i[typeof t.iterator]&&(!!i[typeof t.toPrimitive]&&!!i[typeof t.toStringTag])}},1033:function(e){"use strict";e.exports=function(e){return!!e&&("symbol"===typeof e||!!e.constructor&&("Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag]))}},11:function(e,t,n){"use strict";var r=n(8657),i=Object.create,o=Object.defineProperty,a=Object.prototype,s=i(null);e.exports=function(e){for(var t,n,i=0;s[e+(i||"")];)++i;return s[e+=i||""]=!0,o(a,t="@@"+e,r.gs(null,(function(e){n||(n=!0,o(this,t,r(e)),n=!1)}))),t}},1099:function(e,t,n){"use strict";var r=n(8657),i=n(1809).Symbol;e.exports=function(e){return Object.defineProperties(e,{hasInstance:r("",i&&i.hasInstance||e("hasInstance")),isConcatSpreadable:r("",i&&i.isConcatSpreadable||e("isConcatSpreadable")),iterator:r("",i&&i.iterator||e("iterator")),match:r("",i&&i.match||e("match")),replace:r("",i&&i.replace||e("replace")),search:r("",i&&i.search||e("search")),species:r("",i&&i.species||e("species")),split:r("",i&&i.split||e("split")),toPrimitive:r("",i&&i.toPrimitive||e("toPrimitive")),toStringTag:r("",i&&i.toStringTag||e("toStringTag")),unscopables:r("",i&&i.unscopables||e("unscopables"))})}},2680:function(e,t,n){"use strict";var r=n(8657),i=n(1875),o=Object.create(null);e.exports=function(e){return Object.defineProperties(e,{for:r((function(t){return o[t]?o[t]:o[t]=e(String(t))})),keyFor:r((function(e){var t;for(t in i(e),o)if(o[t]===e)return t}))})}},1425:function(e,t,n){"use strict";var r,i,o,a=n(8657),s=n(1875),u=n(1809).Symbol,l=n(11),c=n(1099),f=n(2680),h=Object.create,d=Object.defineProperties,p=Object.defineProperty;if("function"===typeof u)try{String(u()),o=!0}catch(g){}else u=null;i=function(e){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return r(e)},e.exports=r=function e(t){var n;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return o?u(t):(n=h(i.prototype),t=void 0===t?"":String(t),d(n,{__description__:a("",t),__name__:a("",l(t))}))},c(r),f(r),d(i.prototype,{constructor:a(r),toString:a("",(function(){return this.__name__}))}),d(r.prototype,{toString:a((function(){return"Symbol ("+s(this).__description__+")"})),valueOf:a((function(){return s(this)}))}),p(r.prototype,r.toPrimitive,a("",(function(){var e=s(this);return"symbol"===typeof e?e:e.toString()}))),p(r.prototype,r.toStringTag,a("c","Symbol")),p(i.prototype,r.toStringTag,a("c",r.prototype[r.toStringTag])),p(i.prototype,r.toPrimitive,a("c",r.prototype[r.toPrimitive]))},1875:function(e,t,n){"use strict";var r=n(1033);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not a symbol");return e}},5414:function(e,t,n){"use strict";var r,i,o,a,s,u,l,c=n(8657),f=n(8297),h=Function.prototype.apply,d=Function.prototype.call,p=Object.create,g=Object.defineProperty,v=Object.defineProperties,y=Object.prototype.hasOwnProperty,m={configurable:!0,enumerable:!1,writable:!0};i=function(e,t){var n,i;return f(t),i=this,r.call(this,e,n=function(){o.call(i,e,n),h.call(t,this,arguments)}),n.__eeOnceListener__=t,this},a=function(e){var t,n,r,i,o;if(y.call(this,"__ee__")&&(i=this.__ee__[e]))if("object"===typeof i){for(n=arguments.length,o=new Array(n-1),t=1;t<n;++t)o[t-1]=arguments[t];for(i=i.slice(),t=0;r=i[t];++t)h.call(r,this,o)}else switch(arguments.length){case 1:d.call(i,this);break;case 2:d.call(i,this,arguments[1]);break;case 3:d.call(i,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,o=new Array(n-1),t=1;t<n;++t)o[t-1]=arguments[t];h.call(i,this,o)}},s={on:r=function(e,t){var n;return f(t),y.call(this,"__ee__")?n=this.__ee__:(n=m.value=p(null),g(this,"__ee__",m),m.value=null),n[e]?"object"===typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},once:i,off:o=function(e,t){var n,r,i,o;if(f(t),!y.call(this,"__ee__"))return this;if(!(n=this.__ee__)[e])return this;if("object"===typeof(r=n[e]))for(o=0;i=r[o];++o)i!==t&&i.__eeOnceListener__!==t||(2===r.length?n[e]=r[o?0:1]:r.splice(o,1));else r!==t&&r.__eeOnceListener__!==t||delete n[e];return this},emit:a},u={on:c(r),once:c(i),off:c(o),emit:c(a)},l=v({},u),e.exports=t=function(e){return null==e?p(l):v(Object(e),u)},t.methods=s},2561:function(e){var t=function(){if("object"===typeof self&&self)return self;if("object"===typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}}()},1809:function(e,t,n){"use strict";e.exports=n(3443)()?globalThis:n(2561)},3443:function(e){"use strict";e.exports=function(){return"object"===typeof globalThis&&(!!globalThis&&globalThis.Array===Array)}},4737:function(e){"use strict";e.exports=function(e){return new o(e||d,null)};function t(e,t,n,r,i,o){this._color=e,this.key=t,this.value=n,this.left=r,this.right=i,this._count=o}function n(e){return new t(e._color,e.key,e.value,e.left,e.right,e._count)}function r(e,n){return new t(e,n.key,n.value,n.left,n.right,n._count)}function i(e){e._count=1+(e.left?e.left._count:0)+(e.right?e.right._count:0)}function o(e,t){this._compare=e,this.root=t}var a=o.prototype;function s(e,t){var n;if(t.left&&(n=s(e,t.left)))return n;return(n=e(t.key,t.value))||(t.right?s(e,t.right):void 0)}function u(e,t,n,r){if(t(e,r.key)<=0){var i;if(r.left)if(i=u(e,t,n,r.left))return i;if(i=n(r.key,r.value))return i}if(r.right)return u(e,t,n,r.right)}function l(e,t,n,r,i){var o,a=n(e,i.key),s=n(t,i.key);if(a<=0){if(i.left&&(o=l(e,t,n,r,i.left)))return o;if(s>0&&(o=r(i.key,i.value)))return o}if(s>0&&i.right)return l(e,t,n,r,i.right)}function c(e,t){this.tree=e,this._stack=t}Object.defineProperty(a,"keys",{get:function(){var e=[];return this.forEach((function(t,n){e.push(t)})),e}}),Object.defineProperty(a,"values",{get:function(){var e=[];return this.forEach((function(t,n){e.push(n)})),e}}),Object.defineProperty(a,"length",{get:function(){return this.root?this.root._count:0}}),a.insert=function(e,n){for(var a=this._compare,s=this.root,u=[],l=[];s;){var c=a(e,s.key);u.push(s),l.push(c),s=c<=0?s.left:s.right}u.push(new t(0,e,n,null,null,1));for(var f=u.length-2;f>=0;--f){s=u[f];l[f]<=0?u[f]=new t(s._color,s.key,s.value,u[f+1],s.right,s._count+1):u[f]=new t(s._color,s.key,s.value,s.left,u[f+1],s._count+1)}for(f=u.length-1;f>1;--f){var h=u[f-1];s=u[f];if(1===h._color||1===s._color)break;var d=u[f-2];if(d.left===h)if(h.left===s){if(!(p=d.right)||0!==p._color){if(d._color=0,d.left=h.right,h._color=1,h.right=d,u[f-2]=h,u[f-1]=s,i(d),i(h),f>=3)(g=u[f-3]).left===d?g.left=h:g.right=h;break}h._color=1,d.right=r(1,p),d._color=0,f-=1}else{if(!(p=d.right)||0!==p._color){if(h.right=s.left,d._color=0,d.left=s.right,s._color=1,s.left=h,s.right=d,u[f-2]=s,u[f-1]=h,i(d),i(h),i(s),f>=3)(g=u[f-3]).left===d?g.left=s:g.right=s;break}h._color=1,d.right=r(1,p),d._color=0,f-=1}else if(h.right===s){if(!(p=d.left)||0!==p._color){if(d._color=0,d.right=h.left,h._color=1,h.left=d,u[f-2]=h,u[f-1]=s,i(d),i(h),f>=3)(g=u[f-3]).right===d?g.right=h:g.left=h;break}h._color=1,d.left=r(1,p),d._color=0,f-=1}else{var p;if(!(p=d.left)||0!==p._color){var g;if(h.left=s.right,d._color=0,d.right=s.left,s._color=1,s.right=h,s.left=d,u[f-2]=s,u[f-1]=h,i(d),i(h),i(s),f>=3)(g=u[f-3]).right===d?g.right=s:g.left=s;break}h._color=1,d.left=r(1,p),d._color=0,f-=1}}return u[0]._color=1,new o(a,u[0])},a.forEach=function(e,t,n){if(this.root)switch(arguments.length){case 1:return s(e,this.root);case 2:return u(t,this._compare,e,this.root);case 3:if(this._compare(t,n)>=0)return;return l(t,n,this._compare,e,this.root)}},Object.defineProperty(a,"begin",{get:function(){for(var e=[],t=this.root;t;)e.push(t),t=t.left;return new c(this,e)}}),Object.defineProperty(a,"end",{get:function(){for(var e=[],t=this.root;t;)e.push(t),t=t.right;return new c(this,e)}}),a.at=function(e){if(e<0)return new c(this,[]);for(var t=this.root,n=[];;){if(n.push(t),t.left){if(e<t.left._count){t=t.left;continue}e-=t.left._count}if(!e)return new c(this,n);if(e-=1,!t.right)break;if(e>=t.right._count)break;t=t.right}return new c(this,[])},a.ge=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var o=t(e,n.key);r.push(n),o<=0&&(i=r.length),n=o<=0?n.left:n.right}return r.length=i,new c(this,r)},a.gt=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var o=t(e,n.key);r.push(n),o<0&&(i=r.length),n=o<0?n.left:n.right}return r.length=i,new c(this,r)},a.lt=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var o=t(e,n.key);r.push(n),o>0&&(i=r.length),n=o<=0?n.left:n.right}return r.length=i,new c(this,r)},a.le=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var o=t(e,n.key);r.push(n),o>=0&&(i=r.length),n=o<0?n.left:n.right}return r.length=i,new c(this,r)},a.find=function(e){for(var t=this._compare,n=this.root,r=[];n;){var i=t(e,n.key);if(r.push(n),0===i)return new c(this,r);n=i<=0?n.left:n.right}return new c(this,[])},a.remove=function(e){var t=this.find(e);return t?t.remove():this},a.get=function(e){for(var t=this._compare,n=this.root;n;){var r=t(e,n.key);if(0===r)return n.value;n=r<=0?n.left:n.right}};var f=c.prototype;function h(e,t){e.key=t.key,e.value=t.value,e.left=t.left,e.right=t.right,e._color=t._color,e._count=t._count}function d(e,t){return e<t?-1:e>t?1:0}Object.defineProperty(f,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(f,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),f.clone=function(){return new c(this.tree,this._stack.slice())},f.remove=function(){var e=this._stack;if(0===e.length)return this.tree;var a=new Array(e.length),s=e[e.length-1];a[a.length-1]=new t(s._color,s.key,s.value,s.left,s.right,s._count);for(var u=e.length-2;u>=0;--u){(s=e[u]).left===e[u+1]?a[u]=new t(s._color,s.key,s.value,a[u+1],s.right,s._count):a[u]=new t(s._color,s.key,s.value,s.left,a[u+1],s._count)}if((s=a[a.length-1]).left&&s.right){var l=a.length;for(s=s.left;s.right;)a.push(s),s=s.right;var c=a[l-1];a.push(new t(s._color,c.key,c.value,s.left,s.right,s._count)),a[l-1].key=s.key,a[l-1].value=s.value;for(u=a.length-2;u>=l;--u)s=a[u],a[u]=new t(s._color,s.key,s.value,s.left,a[u+1],s._count);a[l-1].left=a[l]}if(0===(s=a[a.length-1])._color){var f=a[a.length-2];f.left===s?f.left=null:f.right===s&&(f.right=null),a.pop();for(u=0;u<a.length;++u)a[u]._count--;return new o(this.tree._compare,a[0])}if(s.left||s.right){s.left?h(s,s.left):s.right&&h(s,s.right),s._color=1;for(u=0;u<a.length-1;++u)a[u]._count--;return new o(this.tree._compare,a[0])}if(1===a.length)return new o(this.tree._compare,null);for(u=0;u<a.length;++u)a[u]._count--;var d=a[a.length-2];return function(e){for(var t,o,a,s,u=e.length-1;u>=0;--u){if(t=e[u],0===u)return void(t._color=1);if((o=e[u-1]).left===t){if((a=o.right).right&&0===a.right._color)return s=(a=o.right=n(a)).right=n(a.right),o.right=a.left,a.left=o,a.right=s,a._color=o._color,t._color=1,o._color=1,s._color=1,i(o),i(a),u>1&&((l=e[u-2]).left===o?l.left=a:l.right=a),void(e[u-1]=a);if(a.left&&0===a.left._color)return s=(a=o.right=n(a)).left=n(a.left),o.right=s.left,a.left=s.right,s.left=o,s.right=a,s._color=o._color,o._color=1,a._color=1,t._color=1,i(o),i(a),i(s),u>1&&((l=e[u-2]).left===o?l.left=s:l.right=s),void(e[u-1]=s);if(1===a._color){if(0===o._color)return o._color=1,void(o.right=r(0,a));o.right=r(0,a);continue}a=n(a),o.right=a.left,a.left=o,a._color=o._color,o._color=0,i(o),i(a),u>1&&((l=e[u-2]).left===o?l.left=a:l.right=a),e[u-1]=a,e[u]=o,u+1<e.length?e[u+1]=t:e.push(t),u+=2}else{if((a=o.left).left&&0===a.left._color)return s=(a=o.left=n(a)).left=n(a.left),o.left=a.right,a.right=o,a.left=s,a._color=o._color,t._color=1,o._color=1,s._color=1,i(o),i(a),u>1&&((l=e[u-2]).right===o?l.right=a:l.left=a),void(e[u-1]=a);if(a.right&&0===a.right._color)return s=(a=o.left=n(a)).right=n(a.right),o.left=s.right,a.right=s.left,s.right=o,s.left=a,s._color=o._color,o._color=1,a._color=1,t._color=1,i(o),i(a),i(s),u>1&&((l=e[u-2]).right===o?l.right=s:l.left=s),void(e[u-1]=s);if(1===a._color){if(0===o._color)return o._color=1,void(o.left=r(0,a));o.left=r(0,a);continue}var l;a=n(a),o.left=a.right,a.right=o,a._color=o._color,o._color=0,i(o),i(a),u>1&&((l=e[u-2]).right===o?l.right=a:l.left=a),e[u-1]=a,e[u]=o,u+1<e.length?e[u+1]=t:e.push(t),u+=2}}}(a),d.left===s?d.left=null:d.right=null,new o(this.tree._compare,a[0])},Object.defineProperty(f,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(f,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(f,"index",{get:function(){var e=0,t=this._stack;if(0===t.length){var n=this.tree.root;return n?n._count:0}t[t.length-1].left&&(e=t[t.length-1].left._count);for(var r=t.length-2;r>=0;--r)t[r+1]===t[r].right&&(++e,t[r].left&&(e+=t[r].left._count));return e},enumerable:!0}),f.next=function(){var e=this._stack;if(0!==e.length){var t=e[e.length-1];if(t.right)for(t=t.right;t;)e.push(t),t=t.left;else for(e.pop();e.length>0&&e[e.length-1].right===t;)t=e[e.length-1],e.pop()}},Object.defineProperty(f,"hasNext",{get:function(){var e=this._stack;if(0===e.length)return!1;if(e[e.length-1].right)return!0;for(var t=e.length-1;t>0;--t)if(e[t-1].left===e[t])return!0;return!1}}),f.update=function(e){var n=this._stack;if(0===n.length)throw new Error("Can't update empty node!");var r=new Array(n.length),i=n[n.length-1];r[r.length-1]=new t(i._color,i.key,e,i.left,i.right,i._count);for(var a=n.length-2;a>=0;--a)(i=n[a]).left===n[a+1]?r[a]=new t(i._color,i.key,i.value,r[a+1],i.right,i._count):r[a]=new t(i._color,i.key,i.value,i.left,r[a+1],i._count);return new o(this.tree._compare,r[0])},f.prev=function(){var e=this._stack;if(0!==e.length){var t=e[e.length-1];if(t.left)for(t=t.left;t;)e.push(t),t=t.right;else for(e.pop();e.length>0&&e[e.length-1].left===t;)t=e[e.length-1],e.pop()}},Object.defineProperty(f,"hasPrev",{get:function(){var e=this._stack;if(0===e.length)return!1;if(e[e.length-1].left)return!0;for(var t=e.length-1;t>0;--t)if(e[t-1].right===e[t])return!0;return!1}})},3589:function(e,t,n){e.exports=n(2841)},2841:function(e,t){var n,r,i;(function(){var o,a,s,u,l,c,f,h,d,p,g,v,y,m,b;s=Math.floor,p=Math.min,a=function(e,t){return e<t?-1:e>t?1:0},d=function(e,t,n,r,i){var o;if(null==n&&(n=0),null==i&&(i=a),n<0)throw new Error("lo must be non-negative");for(null==r&&(r=e.length);n<r;)i(t,e[o=s((n+r)/2)])<0?r=o:n=o+1;return[].splice.apply(e,[n,n-n].concat(t)),t},c=function(e,t,n){return null==n&&(n=a),e.push(t),m(e,0,e.length-1,n)},l=function(e,t){var n,r;return null==t&&(t=a),n=e.pop(),e.length?(r=e[0],e[0]=n,b(e,0,t)):r=n,r},h=function(e,t,n){var r;return null==n&&(n=a),r=e[0],e[0]=t,b(e,0,n),r},f=function(e,t,n){var r;return null==n&&(n=a),e.length&&n(e[0],t)<0&&(t=(r=[e[0],t])[0],e[0]=r[1],b(e,0,n)),t},u=function(e,t){var n,r,i,o,u,l;for(null==t&&(t=a),o=function(){l=[];for(var t=0,n=s(e.length/2);0<=n?t<n:t>n;0<=n?t++:t--)l.push(t);return l}.apply(this).reverse(),u=[],r=0,i=o.length;r<i;r++)n=o[r],u.push(b(e,n,t));return u},y=function(e,t,n){var r;if(null==n&&(n=a),-1!==(r=e.indexOf(t)))return m(e,0,r,n),b(e,r,n)},g=function(e,t,n){var r,i,o,s,l;if(null==n&&(n=a),!(i=e.slice(0,t)).length)return i;for(u(i,n),o=0,s=(l=e.slice(t)).length;o<s;o++)r=l[o],f(i,r,n);return i.sort(n).reverse()},v=function(e,t,n){var r,i,o,s,c,f,h,g,v;if(null==n&&(n=a),10*t<=e.length){if(!(o=e.slice(0,t).sort(n)).length)return o;for(i=o[o.length-1],s=0,f=(h=e.slice(t)).length;s<f;s++)n(r=h[s],i)<0&&(d(o,r,0,null,n),o.pop(),i=o[o.length-1]);return o}for(u(e,n),v=[],c=0,g=p(t,e.length);0<=g?c<g:c>g;0<=g?++c:--c)v.push(l(e,n));return v},m=function(e,t,n,r){var i,o,s;for(null==r&&(r=a),i=e[n];n>t&&r(i,o=e[s=n-1>>1])<0;)e[n]=o,n=s;return e[n]=i},b=function(e,t,n){var r,i,o,s,u;for(null==n&&(n=a),i=e.length,u=t,o=e[t],r=2*t+1;r<i;)(s=r+1)<i&&!(n(e[r],e[s])<0)&&(r=s),e[t]=e[r],r=2*(t=r)+1;return e[t]=o,m(e,u,t,n)},o=function(){function e(e){this.cmp=null!=e?e:a,this.nodes=[]}return e.push=c,e.pop=l,e.replace=h,e.pushpop=f,e.heapify=u,e.updateItem=y,e.nlargest=g,e.nsmallest=v,e.prototype.push=function(e){return c(this.nodes,e,this.cmp)},e.prototype.pop=function(){return l(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return h(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return f(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return u(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return y(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),r=[],void 0===(i="function"===typeof(n=function(){return o})?n.apply(t,r):n)||(e.exports=i)}).call(this)},3941:function(e){function t(e){return!!e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof e.then}e.exports=t,e.exports.default=t},9170:function(e){var t;t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=28)}([function(e,t,n){"use strict";function r(){}r.QUALITY=1,r.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,r.DEFAULT_INCREMENTAL=!1,r.DEFAULT_ANIMATION_ON_LAYOUT=!0,r.DEFAULT_ANIMATION_DURING_LAYOUT=!1,r.DEFAULT_ANIMATION_PERIOD=50,r.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,r.DEFAULT_GRAPH_MARGIN=15,r.NODE_DIMENSIONS_INCLUDE_LABELS=!1,r.SIMPLE_NODE_SIZE=40,r.SIMPLE_NODE_HALF_SIZE=r.SIMPLE_NODE_SIZE/2,r.EMPTY_COMPOUND_NODE_SIZE=40,r.MIN_EDGE_LENGTH=1,r.WORLD_BOUNDARY=1e6,r.INITIAL_WORLD_BOUNDARY=r.WORLD_BOUNDARY/1e3,r.WORLD_CENTER_X=1200,r.WORLD_CENTER_Y=900,e.exports=r},function(e,t,n){"use strict";var r=n(2),i=n(8),o=n(9);function a(e,t,n){r.call(this,n),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=n,this.bendpoints=[],this.source=e,this.target=t}for(var s in a.prototype=Object.create(r.prototype),r)a[s]=r[s];a.prototype.getSource=function(){return this.source},a.prototype.getTarget=function(){return this.target},a.prototype.isInterGraph=function(){return this.isInterGraph},a.prototype.getLength=function(){return this.length},a.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},a.prototype.getBendpoints=function(){return this.bendpoints},a.prototype.getLca=function(){return this.lca},a.prototype.getSourceInLca=function(){return this.sourceInLca},a.prototype.getTargetInLca=function(){return this.targetInLca},a.prototype.getOtherEnd=function(e){if(this.source===e)return this.target;if(this.target===e)return this.source;throw"Node is not incident with this edge"},a.prototype.getOtherEndInGraph=function(e,t){for(var n=this.getOtherEnd(e),r=t.getGraphManager().getRoot();;){if(n.getOwner()==t)return n;if(n.getOwner()==r)break;n=n.getOwner().getParent()}return null},a.prototype.updateLength=function(){var e=new Array(4);this.isOverlapingSourceAndTarget=i.getIntersection(this.target.getRect(),this.source.getRect(),e),this.isOverlapingSourceAndTarget||(this.lengthX=e[0]-e[2],this.lengthY=e[1]-e[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},a.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},e.exports=a},function(e,t,n){"use strict";e.exports=function(e){this.vGraphObject=e}},function(e,t,n){"use strict";var r=n(2),i=n(10),o=n(13),a=n(0),s=n(16),u=n(5);function l(e,t,n,a){null==n&&null==a&&(a=t),r.call(this,a),null!=e.graphManager&&(e=e.graphManager),this.estimatedSize=i.MIN_VALUE,this.inclusionTreeDepth=i.MAX_VALUE,this.vGraphObject=a,this.edges=[],this.graphManager=e,this.rect=null!=n&&null!=t?new o(t.x,t.y,n.width,n.height):new o}for(var c in l.prototype=Object.create(r.prototype),r)l[c]=r[c];l.prototype.getEdges=function(){return this.edges},l.prototype.getChild=function(){return this.child},l.prototype.getOwner=function(){return this.owner},l.prototype.getWidth=function(){return this.rect.width},l.prototype.setWidth=function(e){this.rect.width=e},l.prototype.getHeight=function(){return this.rect.height},l.prototype.setHeight=function(e){this.rect.height=e},l.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},l.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},l.prototype.getCenter=function(){return new u(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},l.prototype.getLocation=function(){return new u(this.rect.x,this.rect.y)},l.prototype.getRect=function(){return this.rect},l.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},l.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},l.prototype.setRect=function(e,t){this.rect.x=e.x,this.rect.y=e.y,this.rect.width=t.width,this.rect.height=t.height},l.prototype.setCenter=function(e,t){this.rect.x=e-this.rect.width/2,this.rect.y=t-this.rect.height/2},l.prototype.setLocation=function(e,t){this.rect.x=e,this.rect.y=t},l.prototype.moveBy=function(e,t){this.rect.x+=e,this.rect.y+=t},l.prototype.getEdgeListToNode=function(e){var t=[],n=this;return n.edges.forEach((function(r){if(r.target==e){if(r.source!=n)throw"Incorrect edge source!";t.push(r)}})),t},l.prototype.getEdgesBetween=function(e){var t=[],n=this;return n.edges.forEach((function(r){if(r.source!=n&&r.target!=n)throw"Incorrect edge source and/or target";r.target!=e&&r.source!=e||t.push(r)})),t},l.prototype.getNeighborsList=function(){var e=new Set,t=this;return t.edges.forEach((function(n){if(n.source==t)e.add(n.target);else{if(n.target!=t)throw"Incorrect incidency!";e.add(n.source)}})),e},l.prototype.withChildren=function(){var e=new Set;if(e.add(this),null!=this.child)for(var t=this.child.getNodes(),n=0;n<t.length;n++)t[n].withChildren().forEach((function(t){e.add(t)}));return e},l.prototype.getNoOfChildren=function(){var e=0;if(null==this.child)e=1;else for(var t=this.child.getNodes(),n=0;n<t.length;n++)e+=t[n].getNoOfChildren();return 0==e&&(e=1),e},l.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},l.prototype.calcEstimatedSize=function(){return null==this.child?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},l.prototype.scatter=function(){var e,t,n=-a.INITIAL_WORLD_BOUNDARY,r=a.INITIAL_WORLD_BOUNDARY;e=a.WORLD_CENTER_X+s.nextDouble()*(r-n)+n;var i=-a.INITIAL_WORLD_BOUNDARY,o=a.INITIAL_WORLD_BOUNDARY;t=a.WORLD_CENTER_Y+s.nextDouble()*(o-i)+i,this.rect.x=e,this.rect.y=t},l.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var e=this.getChild();if(e.updateBounds(!0),this.rect.x=e.getLeft(),this.rect.y=e.getTop(),this.setWidth(e.getRight()-e.getLeft()),this.setHeight(e.getBottom()-e.getTop()),a.NODE_DIMENSIONS_INCLUDE_LABELS){var t=e.getRight()-e.getLeft(),n=e.getBottom()-e.getTop();this.labelWidth&&("left"==this.labelPosHorizontal?(this.rect.x-=this.labelWidth,this.setWidth(t+this.labelWidth)):"center"==this.labelPosHorizontal&&this.labelWidth>t?(this.rect.x-=(this.labelWidth-t)/2,this.setWidth(this.labelWidth)):"right"==this.labelPosHorizontal&&this.setWidth(t+this.labelWidth)),this.labelHeight&&("top"==this.labelPosVertical?(this.rect.y-=this.labelHeight,this.setHeight(n+this.labelHeight)):"center"==this.labelPosVertical&&this.labelHeight>n?(this.rect.y-=(this.labelHeight-n)/2,this.setHeight(this.labelHeight)):"bottom"==this.labelPosVertical&&this.setHeight(n+this.labelHeight))}}},l.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==i.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},l.prototype.transform=function(e){var t=this.rect.x;t>a.WORLD_BOUNDARY?t=a.WORLD_BOUNDARY:t<-a.WORLD_BOUNDARY&&(t=-a.WORLD_BOUNDARY);var n=this.rect.y;n>a.WORLD_BOUNDARY?n=a.WORLD_BOUNDARY:n<-a.WORLD_BOUNDARY&&(n=-a.WORLD_BOUNDARY);var r=new u(t,n),i=e.inverseTransformPoint(r);this.setLocation(i.x,i.y)},l.prototype.getLeft=function(){return this.rect.x},l.prototype.getRight=function(){return this.rect.x+this.rect.width},l.prototype.getTop=function(){return this.rect.y},l.prototype.getBottom=function(){return this.rect.y+this.rect.height},l.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()},e.exports=l},function(e,t,n){"use strict";var r=n(0);function i(){}for(var o in r)i[o]=r[o];i.MAX_ITERATIONS=2500,i.DEFAULT_EDGE_LENGTH=50,i.DEFAULT_SPRING_STRENGTH=.45,i.DEFAULT_REPULSION_STRENGTH=4500,i.DEFAULT_GRAVITY_STRENGTH=.4,i.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,i.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,i.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,i.COOLING_ADAPTATION_FACTOR=.33,i.ADAPTATION_LOWER_NODE_LIMIT=1e3,i.ADAPTATION_UPPER_NODE_LIMIT=5e3,i.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,i.MAX_NODE_DISPLACEMENT=3*i.MAX_NODE_DISPLACEMENT_INCREMENTAL,i.MIN_REPULSION_DIST=i.DEFAULT_EDGE_LENGTH/10,i.CONVERGENCE_CHECK_PERIOD=100,i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,i.MIN_EDGE_LENGTH=1,i.GRID_CALCULATION_CHECK_PERIOD=10,e.exports=i},function(e,t,n){"use strict";function r(e,t){null==e&&null==t?(this.x=0,this.y=0):(this.x=e,this.y=t)}r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.setX=function(e){this.x=e},r.prototype.setY=function(e){this.y=e},r.prototype.getDifference=function(e){return new DimensionD(this.x-e.x,this.y-e.y)},r.prototype.getCopy=function(){return new r(this.x,this.y)},r.prototype.translate=function(e){return this.x+=e.width,this.y+=e.height,this},e.exports=r},function(e,t,n){"use strict";var r=n(2),i=n(10),o=n(0),a=n(7),s=n(3),u=n(1),l=n(13),c=n(12),f=n(11);function h(e,t,n){r.call(this,n),this.estimatedSize=i.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=e,null!=t&&t instanceof a?this.graphManager=t:null!=t&&t instanceof Layout&&(this.graphManager=t.graphManager)}for(var d in h.prototype=Object.create(r.prototype),r)h[d]=r[d];h.prototype.getNodes=function(){return this.nodes},h.prototype.getEdges=function(){return this.edges},h.prototype.getGraphManager=function(){return this.graphManager},h.prototype.getParent=function(){return this.parent},h.prototype.getLeft=function(){return this.left},h.prototype.getRight=function(){return this.right},h.prototype.getTop=function(){return this.top},h.prototype.getBottom=function(){return this.bottom},h.prototype.isConnected=function(){return this.isConnected},h.prototype.add=function(e,t,n){if(null==t&&null==n){var r=e;if(null==this.graphManager)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(r)>-1)throw"Node already in graph!";return r.owner=this,this.getNodes().push(r),r}var i=e;if(!(this.getNodes().indexOf(t)>-1&&this.getNodes().indexOf(n)>-1))throw"Source or target not in graph!";if(t.owner!=n.owner||t.owner!=this)throw"Both owners must be this graph!";return t.owner!=n.owner?null:(i.source=t,i.target=n,i.isInterGraph=!1,this.getEdges().push(i),t.edges.push(i),n!=t&&n.edges.push(i),i)},h.prototype.remove=function(e){var t=e;if(e instanceof s){if(null==t)throw"Node is null!";if(null==t.owner||t.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var n=t.edges.slice(),r=n.length,i=0;i<r;i++)(o=n[i]).isInterGraph?this.graphManager.remove(o):o.source.owner.remove(o);if(-1==(a=this.nodes.indexOf(t)))throw"Node not in owner node list!";this.nodes.splice(a,1)}else if(e instanceof u){var o;if(null==(o=e))throw"Edge is null!";if(null==o.source||null==o.target)throw"Source and/or target is null!";if(null==o.source.owner||null==o.target.owner||o.source.owner!=this||o.target.owner!=this)throw"Source and/or target owner is invalid!";var a,l=o.source.edges.indexOf(o),c=o.target.edges.indexOf(o);if(!(l>-1&&c>-1))throw"Source and/or target doesn't know this edge!";if(o.source.edges.splice(l,1),o.target!=o.source&&o.target.edges.splice(c,1),-1==(a=o.source.owner.getEdges().indexOf(o)))throw"Not in owner's edge list!";o.source.owner.getEdges().splice(a,1)}},h.prototype.updateLeftTop=function(){for(var e,t,n,r=i.MAX_VALUE,o=i.MAX_VALUE,a=this.getNodes(),s=a.length,u=0;u<s;u++){var l=a[u];r>(e=l.getTop())&&(r=e),o>(t=l.getLeft())&&(o=t)}return r==i.MAX_VALUE?null:(n=void 0!=a[0].getParent().paddingLeft?a[0].getParent().paddingLeft:this.margin,this.left=o-n,this.top=r-n,new c(this.left,this.top))},h.prototype.updateBounds=function(e){for(var t,n,r,o,a,s=i.MAX_VALUE,u=-i.MAX_VALUE,c=i.MAX_VALUE,f=-i.MAX_VALUE,h=this.nodes,d=h.length,p=0;p<d;p++){var g=h[p];e&&null!=g.child&&g.updateBounds(),s>(t=g.getLeft())&&(s=t),u<(n=g.getRight())&&(u=n),c>(r=g.getTop())&&(c=r),f<(o=g.getBottom())&&(f=o)}var v=new l(s,c,u-s,f-c);s==i.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),a=void 0!=h[0].getParent().paddingLeft?h[0].getParent().paddingLeft:this.margin,this.left=v.x-a,this.right=v.x+v.width+a,this.top=v.y-a,this.bottom=v.y+v.height+a},h.calculateBounds=function(e){for(var t,n,r,o,a=i.MAX_VALUE,s=-i.MAX_VALUE,u=i.MAX_VALUE,c=-i.MAX_VALUE,f=e.length,h=0;h<f;h++){var d=e[h];a>(t=d.getLeft())&&(a=t),s<(n=d.getRight())&&(s=n),u>(r=d.getTop())&&(u=r),c<(o=d.getBottom())&&(c=o)}return new l(a,u,s-a,c-u)},h.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},h.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},h.prototype.calcEstimatedSize=function(){for(var e=0,t=this.nodes,n=t.length,r=0;r<n;r++)e+=t[r].calcEstimatedSize();return this.estimatedSize=0==e?o.EMPTY_COMPOUND_NODE_SIZE:e/Math.sqrt(this.nodes.length),this.estimatedSize},h.prototype.updateConnected=function(){var e=this;if(0!=this.nodes.length){var t,n,r=new f,i=new Set,o=this.nodes[0];for(o.withChildren().forEach((function(e){r.push(e),i.add(e)}));0!==r.length;)for(var a=(t=(o=r.shift()).getEdges()).length,s=0;s<a;s++)null==(n=t[s].getOtherEndInGraph(o,this))||i.has(n)||n.withChildren().forEach((function(e){r.push(e),i.add(e)}));if(this.isConnected=!1,i.size>=this.nodes.length){var u=0;i.forEach((function(t){t.owner==e&&u++})),u==this.nodes.length&&(this.isConnected=!0)}}else this.isConnected=!0},e.exports=h},function(e,t,n){"use strict";var r,i=n(1);function o(e){r=n(6),this.layout=e,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var e=this.layout.newGraph(),t=this.layout.newNode(null),n=this.add(e,t);return this.setRootGraph(n),this.rootGraph},o.prototype.add=function(e,t,n,r,i){if(null==n&&null==r&&null==i){if(null==e)throw"Graph is null!";if(null==t)throw"Parent node is null!";if(this.graphs.indexOf(e)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(e),null!=e.parent)throw"Already has a parent!";if(null!=t.child)throw"Already has a child!";return e.parent=t,t.child=e,e}i=n,n=e;var o=(r=t).getOwner(),a=i.getOwner();if(null==o||o.getGraphManager()!=this)throw"Source not in this graph mgr!";if(null==a||a.getGraphManager()!=this)throw"Target not in this graph mgr!";if(o==a)return n.isInterGraph=!1,o.add(n,r,i);if(n.isInterGraph=!0,n.source=r,n.target=i,this.edges.indexOf(n)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(n),null==n.source||null==n.target)throw"Edge source and/or target is null!";if(-1!=n.source.edges.indexOf(n)||-1!=n.target.edges.indexOf(n))throw"Edge already in source and/or target incidency list!";return n.source.edges.push(n),n.target.edges.push(n),n},o.prototype.remove=function(e){if(e instanceof r){var t=e;if(t.getGraphManager()!=this)throw"Graph not in this graph mgr";if(t!=this.rootGraph&&(null==t.parent||t.parent.graphManager!=this))throw"Invalid parent node!";for(var n,o=[],a=(o=o.concat(t.getEdges())).length,s=0;s<a;s++)n=o[s],t.remove(n);var u,l=[];for(a=(l=l.concat(t.getNodes())).length,s=0;s<a;s++)u=l[s],t.remove(u);t==this.rootGraph&&this.setRootGraph(null);var c=this.graphs.indexOf(t);this.graphs.splice(c,1),t.parent=null}else if(e instanceof i){if(null==(n=e))throw"Edge is null!";if(!n.isInterGraph)throw"Not an inter-graph edge!";if(null==n.source||null==n.target)throw"Source and/or target is null!";if(-1==n.source.edges.indexOf(n)||-1==n.target.edges.indexOf(n))throw"Source and/or target doesn't know this edge!";if(c=n.source.edges.indexOf(n),n.source.edges.splice(c,1),c=n.target.edges.indexOf(n),n.target.edges.splice(c,1),null==n.source.owner||null==n.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==n.source.owner.getGraphManager().edges.indexOf(n))throw"Not in owner graph manager's edge list!";c=n.source.owner.getGraphManager().edges.indexOf(n),n.source.owner.getGraphManager().edges.splice(c,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(null==this.allNodes){for(var e=[],t=this.getGraphs(),n=t.length,r=0;r<n;r++)e=e.concat(t[r].getNodes());this.allNodes=e}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(null==this.allEdges){for(var e=[],t=this.getGraphs(),n=(t.length,0);n<t.length;n++)e=e.concat(t[n].getEdges());e=e.concat(this.edges),this.allEdges=e}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(e){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=e},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(e){if(e.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=e,null==e.parent&&(e.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(e,t){if(null==e||null==t)throw"assert failed";if(e==t)return!0;for(var n,r=e.getOwner();null!=(n=r.getParent());){if(n==t)return!0;if(null==(r=n.getOwner()))break}for(r=t.getOwner();null!=(n=r.getParent());){if(n==e)return!0;if(null==(r=n.getOwner()))break}return!1},o.prototype.calcLowestCommonAncestors=function(){for(var e,t,n,r,i,o=this.getAllEdges(),a=o.length,s=0;s<a;s++)if(t=(e=o[s]).source,n=e.target,e.lca=null,e.sourceInLca=t,e.targetInLca=n,t!=n){for(r=t.getOwner();null==e.lca;){for(e.targetInLca=n,i=n.getOwner();null==e.lca;){if(i==r){e.lca=i;break}if(i==this.rootGraph)break;if(null!=e.lca)throw"assert failed";e.targetInLca=i.getParent(),i=e.targetInLca.getOwner()}if(r==this.rootGraph)break;null==e.lca&&(e.sourceInLca=r.getParent(),r=e.sourceInLca.getOwner())}if(null==e.lca)throw"assert failed"}else e.lca=t.getOwner()},o.prototype.calcLowestCommonAncestor=function(e,t){if(e==t)return e.getOwner();for(var n=e.getOwner();null!=n;){for(var r=t.getOwner();null!=r;){if(r==n)return r;r=r.getParent().getOwner()}n=n.getParent().getOwner()}return n},o.prototype.calcInclusionTreeDepths=function(e,t){var n;null==e&&null==t&&(e=this.rootGraph,t=1);for(var r=e.getNodes(),i=r.length,o=0;o<i;o++)(n=r[o]).inclusionTreeDepth=t,null!=n.child&&this.calcInclusionTreeDepths(n.child,t+1)},o.prototype.includesInvalidEdge=function(){for(var e,t=[],n=this.edges.length,r=0;r<n;r++)e=this.edges[r],this.isOneAncestorOfOther(e.source,e.target)&&t.push(e);for(r=0;r<t.length;r++)this.remove(t[r]);return!1},e.exports=o},function(e,t,n){"use strict";var r=n(12);function i(){}i.calcSeparationAmount=function(e,t,n,r){if(!e.intersects(t))throw"assert failed";var i=new Array(2);this.decideDirectionsForOverlappingNodes(e,t,i),n[0]=Math.min(e.getRight(),t.getRight())-Math.max(e.x,t.x),n[1]=Math.min(e.getBottom(),t.getBottom())-Math.max(e.y,t.y),e.getX()<=t.getX()&&e.getRight()>=t.getRight()?n[0]+=Math.min(t.getX()-e.getX(),e.getRight()-t.getRight()):t.getX()<=e.getX()&&t.getRight()>=e.getRight()&&(n[0]+=Math.min(e.getX()-t.getX(),t.getRight()-e.getRight())),e.getY()<=t.getY()&&e.getBottom()>=t.getBottom()?n[1]+=Math.min(t.getY()-e.getY(),e.getBottom()-t.getBottom()):t.getY()<=e.getY()&&t.getBottom()>=e.getBottom()&&(n[1]+=Math.min(e.getY()-t.getY(),t.getBottom()-e.getBottom()));var o=Math.abs((t.getCenterY()-e.getCenterY())/(t.getCenterX()-e.getCenterX()));t.getCenterY()===e.getCenterY()&&t.getCenterX()===e.getCenterX()&&(o=1);var a=o*n[0],s=n[1]/o;n[0]<s?s=n[0]:a=n[1],n[0]=-1*i[0]*(s/2+r),n[1]=-1*i[1]*(a/2+r)},i.decideDirectionsForOverlappingNodes=function(e,t,n){e.getCenterX()<t.getCenterX()?n[0]=-1:n[0]=1,e.getCenterY()<t.getCenterY()?n[1]=-1:n[1]=1},i.getIntersection2=function(e,t,n){var r=e.getCenterX(),i=e.getCenterY(),o=t.getCenterX(),a=t.getCenterY();if(e.intersects(t))return n[0]=r,n[1]=i,n[2]=o,n[3]=a,!0;var s=e.getX(),u=e.getY(),l=e.getRight(),c=e.getX(),f=e.getBottom(),h=e.getRight(),d=e.getWidthHalf(),p=e.getHeightHalf(),g=t.getX(),v=t.getY(),y=t.getRight(),m=t.getX(),b=t.getBottom(),_=t.getRight(),w=t.getWidthHalf(),x=t.getHeightHalf(),E=!1,k=!1;if(r===o){if(i>a)return n[0]=r,n[1]=u,n[2]=o,n[3]=b,!1;if(i<a)return n[0]=r,n[1]=f,n[2]=o,n[3]=v,!1}else if(i===a){if(r>o)return n[0]=s,n[1]=i,n[2]=y,n[3]=a,!1;if(r<o)return n[0]=l,n[1]=i,n[2]=g,n[3]=a,!1}else{var C=e.height/e.width,S=t.height/t.width,N=(a-i)/(o-r),T=void 0,I=void 0,D=void 0,M=void 0,O=void 0,P=void 0;if(-C===N?r>o?(n[0]=c,n[1]=f,E=!0):(n[0]=l,n[1]=u,E=!0):C===N&&(r>o?(n[0]=s,n[1]=u,E=!0):(n[0]=h,n[1]=f,E=!0)),-S===N?o>r?(n[2]=m,n[3]=b,k=!0):(n[2]=y,n[3]=v,k=!0):S===N&&(o>r?(n[2]=g,n[3]=v,k=!0):(n[2]=_,n[3]=b,k=!0)),E&&k)return!1;if(r>o?i>a?(T=this.getCardinalDirection(C,N,4),I=this.getCardinalDirection(S,N,2)):(T=this.getCardinalDirection(-C,N,3),I=this.getCardinalDirection(-S,N,1)):i>a?(T=this.getCardinalDirection(-C,N,1),I=this.getCardinalDirection(-S,N,3)):(T=this.getCardinalDirection(C,N,2),I=this.getCardinalDirection(S,N,4)),!E)switch(T){case 1:M=u,D=r+-p/N,n[0]=D,n[1]=M;break;case 2:D=h,M=i+d*N,n[0]=D,n[1]=M;break;case 3:M=f,D=r+p/N,n[0]=D,n[1]=M;break;case 4:D=c,M=i+-d*N,n[0]=D,n[1]=M}if(!k)switch(I){case 1:P=v,O=o+-x/N,n[2]=O,n[3]=P;break;case 2:O=_,P=a+w*N,n[2]=O,n[3]=P;break;case 3:P=b,O=o+x/N,n[2]=O,n[3]=P;break;case 4:O=m,P=a+-w*N,n[2]=O,n[3]=P}}return!1},i.getCardinalDirection=function(e,t,n){return e>t?n:1+n%4},i.getIntersection=function(e,t,n,i){if(null==i)return this.getIntersection2(e,t,n);var o,a,s,u,l,c,f,h=e.x,d=e.y,p=t.x,g=t.y,v=n.x,y=n.y,m=i.x,b=i.y;return 0===(f=(o=g-d)*(u=v-m)-(a=b-y)*(s=h-p))?null:new r((s*(c=m*y-v*b)-u*(l=p*d-h*g))/f,(a*l-o*c)/f)},i.angleOfVector=function(e,t,n,r){var i=void 0;return e!==n?(i=Math.atan((r-t)/(n-e)),n<e?i+=Math.PI:r<t&&(i+=this.TWO_PI)):i=r<t?this.ONE_AND_HALF_PI:this.HALF_PI,i},i.doIntersect=function(e,t,n,r){var i=e.x,o=e.y,a=t.x,s=t.y,u=n.x,l=n.y,c=r.x,f=r.y,h=(a-i)*(f-l)-(c-u)*(s-o);if(0===h)return!1;var d=((f-l)*(c-i)+(u-c)*(f-o))/h,p=((o-s)*(c-i)+(a-i)*(f-o))/h;return 0<d&&d<1&&0<p&&p<1},i.findCircleLineIntersections=function(e,t,n,r,i,o,a){var s=(n-e)*(n-e)+(r-t)*(r-t),u=2*((e-i)*(n-e)+(t-o)*(r-t)),l=(e-i)*(e-i)+(t-o)*(t-o)-a*a;if(u*u-4*s*l>=0){var c=(-u+Math.sqrt(u*u-4*s*l))/(2*s),f=(-u-Math.sqrt(u*u-4*s*l))/(2*s);return c>=0&&c<=1?[c]:f>=0&&f<=1?[f]:null}return null},i.HALF_PI=.5*Math.PI,i.ONE_AND_HALF_PI=1.5*Math.PI,i.TWO_PI=2*Math.PI,i.THREE_PI=3*Math.PI,e.exports=i},function(e,t,n){"use strict";function r(){}r.sign=function(e){return e>0?1:e<0?-1:0},r.floor=function(e){return e<0?Math.ceil(e):Math.floor(e)},r.ceil=function(e){return e<0?Math.floor(e):Math.ceil(e)},e.exports=r},function(e,t,n){"use strict";function r(){}r.MAX_VALUE=2147483647,r.MIN_VALUE=-2147483648,e.exports=r},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){return{value:e,next:null,prev:null}},o=function(e,t,n,r){return null!==e?e.next=t:r.head=t,null!==n?n.prev=t:r.tail=t,t.prev=e,t.next=n,r.length++,t},a=function(e,t){var n=e.prev,r=e.next;return null!==n?n.next=r:t.head=r,null!==r?r.prev=n:t.tail=n,e.prev=e.next=null,t.length--,e},s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.length=0,this.head=null,this.tail=null,null!=t&&t.forEach((function(e){return n.push(e)}))}return r(e,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(e,t){return o(t.prev,i(e),t,this)}},{key:"insertAfter",value:function(e,t){return o(t,i(e),t.next,this)}},{key:"insertNodeBefore",value:function(e,t){return o(t.prev,e,t,this)}},{key:"insertNodeAfter",value:function(e,t){return o(t,e,t.next,this)}},{key:"push",value:function(e){return o(this.tail,i(e),null,this)}},{key:"unshift",value:function(e){return o(null,i(e),this.head,this)}},{key:"remove",value:function(e){return a(e,this)}},{key:"pop",value:function(){return a(this.tail,this).value}},{key:"popNode",value:function(){return a(this.tail,this)}},{key:"shift",value:function(){return a(this.head,this).value}},{key:"shiftNode",value:function(){return a(this.head,this)}},{key:"get_object_at",value:function(e){if(e<=this.length()){for(var t=1,n=this.head;t<e;)n=n.next,t++;return n.value}}},{key:"set_object_at",value:function(e,t){if(e<=this.length()){for(var n=1,r=this.head;n<e;)r=r.next,n++;r.value=t}}}]),e}();e.exports=s},function(e,t,n){"use strict";function r(e,t,n){this.x=null,this.y=null,null==e&&null==t&&null==n?(this.x=0,this.y=0):"number"==typeof e&&"number"==typeof t&&null==n?(this.x=e,this.y=t):"Point"==e.constructor.name&&null==t&&null==n&&(n=e,this.x=n.x,this.y=n.y)}r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.getLocation=function(){return new r(this.x,this.y)},r.prototype.setLocation=function(e,t,n){"Point"==e.constructor.name&&null==t&&null==n?(n=e,this.setLocation(n.x,n.y)):"number"==typeof e&&"number"==typeof t&&null==n&&(parseInt(e)==e&&parseInt(t)==t?this.move(e,t):(this.x=Math.floor(e+.5),this.y=Math.floor(t+.5)))},r.prototype.move=function(e,t){this.x=e,this.y=t},r.prototype.translate=function(e,t){this.x+=e,this.y+=t},r.prototype.equals=function(e){if("Point"==e.constructor.name){var t=e;return this.x==t.x&&this.y==t.y}return this==e},r.prototype.toString=function(){return(new r).constructor.name+"[x="+this.x+",y="+this.y+"]"},e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){this.x=0,this.y=0,this.width=0,this.height=0,null!=e&&null!=t&&null!=n&&null!=r&&(this.x=e,this.y=t,this.width=n,this.height=r)}r.prototype.getX=function(){return this.x},r.prototype.setX=function(e){this.x=e},r.prototype.getY=function(){return this.y},r.prototype.setY=function(e){this.y=e},r.prototype.getWidth=function(){return this.width},r.prototype.setWidth=function(e){this.width=e},r.prototype.getHeight=function(){return this.height},r.prototype.setHeight=function(e){this.height=e},r.prototype.getRight=function(){return this.x+this.width},r.prototype.getBottom=function(){return this.y+this.height},r.prototype.intersects=function(e){return!(this.getRight()<e.x)&&!(this.getBottom()<e.y)&&!(e.getRight()<this.x)&&!(e.getBottom()<this.y)},r.prototype.getCenterX=function(){return this.x+this.width/2},r.prototype.getMinX=function(){return this.getX()},r.prototype.getMaxX=function(){return this.getX()+this.width},r.prototype.getCenterY=function(){return this.y+this.height/2},r.prototype.getMinY=function(){return this.getY()},r.prototype.getMaxY=function(){return this.getY()+this.height},r.prototype.getWidthHalf=function(){return this.width/2},r.prototype.getHeightHalf=function(){return this.height/2},e.exports=r},function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(){}i.lastID=0,i.createID=function(e){return i.isPrimitive(e)?e:(null!=e.uniqueID||(e.uniqueID=i.getString(),i.lastID++),e.uniqueID)},i.getString=function(e){return null==e&&(e=i.lastID),"Object#"+e},i.isPrimitive=function(e){var t="undefined"===typeof e?"undefined":r(e);return null==e||"object"!=t&&"function"!=t},e.exports=i},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(0),o=n(7),a=n(3),s=n(1),u=n(6),l=n(5),c=n(17),f=n(29);function h(e){f.call(this),this.layoutQuality=i.QUALITY,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=i.DEFAULT_INCREMENTAL,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,null!=e&&(this.isRemoteUse=e)}h.RANDOM_SEED=1,h.prototype=Object.create(f.prototype),h.prototype.getGraphManager=function(){return this.graphManager},h.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},h.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},h.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},h.prototype.newGraphManager=function(){var e=new o(this);return this.graphManager=e,e},h.prototype.newGraph=function(e){return new u(null,this.graphManager,e)},h.prototype.newNode=function(e){return new a(this.graphManager,e)},h.prototype.newEdge=function(e){return new s(null,null,e)},h.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()},h.prototype.runLayout=function(){var e;return this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters(),e=!this.checkLayoutSuccess()&&this.layout(),"during"!==i.ANIMATE&&(e&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,e)},h.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},h.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var e=this.graphManager.getAllEdges(),t=0;t<e.length;t++)e[t];var n=this.graphManager.getRoot().getNodes();for(t=0;t<n.length;t++)n[t];this.update(this.graphManager.getRoot())}},h.prototype.update=function(e){if(null==e)this.update2();else if(e instanceof a){var t=e;if(null!=t.getChild())for(var n=t.getChild().getNodes(),r=0;r<n.length;r++)update(n[r]);null!=t.vGraphObject&&t.vGraphObject.update(t)}else if(e instanceof s){var i=e;null!=i.vGraphObject&&i.vGraphObject.update(i)}else if(e instanceof u){var o=e;null!=o.vGraphObject&&o.vGraphObject.update(o)}},h.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=i.QUALITY,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=i.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},h.prototype.transform=function(e){if(void 0==e)this.transform(new l(0,0));else{var t=new c,n=this.graphManager.getRoot().updateLeftTop();if(null!=n){t.setWorldOrgX(e.x),t.setWorldOrgY(e.y),t.setDeviceOrgX(n.x),t.setDeviceOrgY(n.y);for(var r=this.getAllNodes(),i=0;i<r.length;i++)r[i].transform(t)}}},h.prototype.positionNodesRandomly=function(e){if(void 0==e)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var t,n,r=e.getNodes(),i=0;i<r.length;i++)null==(n=(t=r[i]).getChild())||0==n.getNodes().length?t.scatter():(this.positionNodesRandomly(n),t.updateBounds())},h.prototype.getFlatForest=function(){for(var e=[],t=!0,n=this.graphManager.getRoot().getNodes(),i=!0,o=0;o<n.length;o++)null!=n[o].getChild()&&(i=!1);if(!i)return e;var a=new Set,s=[],u=new Map,l=[];for(l=l.concat(n);l.length>0&&t;){for(s.push(l[0]);s.length>0&&t;){var c=s[0];s.splice(0,1),a.add(c);var f=c.getEdges();for(o=0;o<f.length;o++){var h=f[o].getOtherEnd(c);if(u.get(c)!=h){if(a.has(h)){t=!1;break}s.push(h),u.set(h,c)}}}if(t){var d=[].concat(r(a));for(e.push(d),o=0;o<d.length;o++){var p=d[o],g=l.indexOf(p);g>-1&&l.splice(g,1)}a=new Set,u=new Map}else e=[]}return e},h.prototype.createDummyNodesForBendpoints=function(e){for(var t=[],n=e.source,r=this.graphManager.calcLowestCommonAncestor(e.source,e.target),i=0;i<e.bendpoints.length;i++){var o=this.newNode(null);o.setRect(new Point(0,0),new Dimension(1,1)),r.add(o);var a=this.newEdge(null);this.graphManager.add(a,n,o),t.add(o),n=o}return a=this.newEdge(null),this.graphManager.add(a,n,e.target),this.edgeToDummyNodes.set(e,t),e.isInterGraph()?this.graphManager.remove(e):r.remove(e),t},h.prototype.createBendpointsFromDummyNodes=function(){var e=[];e=e.concat(this.graphManager.getAllEdges()),e=[].concat(r(this.edgeToDummyNodes.keys())).concat(e);for(var t=0;t<e.length;t++){var n=e[t];if(n.bendpoints.length>0){for(var i=this.edgeToDummyNodes.get(n),o=0;o<i.length;o++){var a=i[o],s=new l(a.getCenterX(),a.getCenterY()),u=n.bendpoints.get(o);u.x=s.x,u.y=s.y,a.getOwner().remove(a)}this.graphManager.add(n,n.source,n.target)}}},h.transform=function(e,t,n,r){if(void 0!=n&&void 0!=r){var i=t;return e<=50?i-=(t-t/n)/50*(50-e):i+=(t*r-t)/50*(e-50),i}var o,a;return e<=50?(o=9*t/500,a=t/10):(o=9*t/50,a=-8*t),o*e+a},h.findCenterOfTree=function(e){var t=[];t=t.concat(e);var n=[],r=new Map,i=!1,o=null;1!=t.length&&2!=t.length||(i=!0,o=t[0]);for(var a=0;a<t.length;a++){var s=(c=t[a]).getNeighborsList().size;r.set(c,c.getNeighborsList().size),1==s&&n.push(c)}var u=[];for(u=u.concat(n);!i;){var l=[];for(l=l.concat(u),u=[],a=0;a<t.length;a++){var c=t[a],f=t.indexOf(c);f>=0&&t.splice(f,1),c.getNeighborsList().forEach((function(e){if(n.indexOf(e)<0){var t=r.get(e)-1;1==t&&u.push(e),r.set(e,t)}}))}n=n.concat(u),1!=t.length&&2!=t.length||(i=!0,o=t[0])}return o},h.prototype.setGraphManager=function(e){this.graphManager=e},e.exports=h},function(e,t,n){"use strict";function r(){}r.seed=1,r.x=0,r.nextDouble=function(){return r.x=1e4*Math.sin(r.seed++),r.x-Math.floor(r.x)},e.exports=r},function(e,t,n){"use strict";var r=n(5);function i(e,t){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}i.prototype.getWorldOrgX=function(){return this.lworldOrgX},i.prototype.setWorldOrgX=function(e){this.lworldOrgX=e},i.prototype.getWorldOrgY=function(){return this.lworldOrgY},i.prototype.setWorldOrgY=function(e){this.lworldOrgY=e},i.prototype.getWorldExtX=function(){return this.lworldExtX},i.prototype.setWorldExtX=function(e){this.lworldExtX=e},i.prototype.getWorldExtY=function(){return this.lworldExtY},i.prototype.setWorldExtY=function(e){this.lworldExtY=e},i.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},i.prototype.setDeviceOrgX=function(e){this.ldeviceOrgX=e},i.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},i.prototype.setDeviceOrgY=function(e){this.ldeviceOrgY=e},i.prototype.getDeviceExtX=function(){return this.ldeviceExtX},i.prototype.setDeviceExtX=function(e){this.ldeviceExtX=e},i.prototype.getDeviceExtY=function(){return this.ldeviceExtY},i.prototype.setDeviceExtY=function(e){this.ldeviceExtY=e},i.prototype.transformX=function(e){var t=0,n=this.lworldExtX;return 0!=n&&(t=this.ldeviceOrgX+(e-this.lworldOrgX)*this.ldeviceExtX/n),t},i.prototype.transformY=function(e){var t=0,n=this.lworldExtY;return 0!=n&&(t=this.ldeviceOrgY+(e-this.lworldOrgY)*this.ldeviceExtY/n),t},i.prototype.inverseTransformX=function(e){var t=0,n=this.ldeviceExtX;return 0!=n&&(t=this.lworldOrgX+(e-this.ldeviceOrgX)*this.lworldExtX/n),t},i.prototype.inverseTransformY=function(e){var t=0,n=this.ldeviceExtY;return 0!=n&&(t=this.lworldOrgY+(e-this.ldeviceOrgY)*this.lworldExtY/n),t},i.prototype.inverseTransformPoint=function(e){return new r(this.inverseTransformX(e.x),this.inverseTransformY(e.y))},e.exports=i},function(e,t,n){"use strict";var r=n(15),i=n(4),o=n(0),a=n(8),s=n(9);function u(){r.call(this),this.useSmartIdealEdgeLengthCalculation=i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=i.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=i.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=i.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*i.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=i.MAX_ITERATIONS}for(var l in u.prototype=Object.create(r.prototype),r)u[l]=r[l];u.prototype.initParameters=function(){r.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},u.prototype.calcIdealEdgeLengths=function(){for(var e,t,n,r,a,s,u,l=this.getGraphManager().getAllEdges(),c=0;c<l.length;c++)t=(e=l[c]).idealLength,e.isInterGraph&&(r=e.getSource(),a=e.getTarget(),s=e.getSourceInLca().getEstimatedSize(),u=e.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(e.idealLength+=s+u-2*o.SIMPLE_NODE_SIZE),n=e.getLca().getInclusionTreeDepth(),e.idealLength+=t*i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(r.getInclusionTreeDepth()+a.getInclusionTreeDepth()-2*n))},u.prototype.initSpringEmbedder=function(){var e=this.getAllNodes().length;this.incremental?(e>i.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*i.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(e-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-i.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT_INCREMENTAL):(e>i.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(i.COOLING_ADAPTATION_FACTOR,1-(e-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*(1-i.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations),this.displacementThresholdPerNode=3*i.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},u.prototype.calcSpringForces=function(){for(var e,t=this.getAllEdges(),n=0;n<t.length;n++)e=t[n],this.calcSpringForce(e,e.idealLength)},u.prototype.calcRepulsionForces=function(){var e,t,n,r,o,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=this.getAllNodes();if(this.useFRGridVariant)for(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&a&&this.updateGrid(),o=new Set,e=0;e<u.length;e++)n=u[e],this.calculateRepulsionForceOfANode(n,o,a,s),o.add(n);else for(e=0;e<u.length;e++)for(n=u[e],t=e+1;t<u.length;t++)r=u[t],n.getOwner()==r.getOwner()&&this.calcRepulsionForce(n,r)},u.prototype.calcGravitationalForces=function(){for(var e,t=this.getAllNodesToApplyGravitation(),n=0;n<t.length;n++)e=t[n],this.calcGravitationalForce(e)},u.prototype.moveNodes=function(){for(var e=this.getAllNodes(),t=0;t<e.length;t++)e[t].move()},u.prototype.calcSpringForce=function(e,t){var n,r,i,o,a=e.getSource(),s=e.getTarget();if(this.uniformLeafNodeSizes&&null==a.getChild()&&null==s.getChild())e.updateLengthSimple();else if(e.updateLength(),e.isOverlapingSourceAndTarget)return;0!=(n=e.getLength())&&(i=(r=e.edgeElasticity*(n-t))*(e.lengthX/n),o=r*(e.lengthY/n),a.springForceX+=i,a.springForceY+=o,s.springForceX-=i,s.springForceY-=o)},u.prototype.calcRepulsionForce=function(e,t){var n,r,o,u,l,c,f,h=e.getRect(),d=t.getRect(),p=new Array(2),g=new Array(4);if(h.intersects(d)){a.calcSeparationAmount(h,d,p,i.DEFAULT_EDGE_LENGTH/2),c=2*p[0],f=2*p[1];var v=e.noOfChildren*t.noOfChildren/(e.noOfChildren+t.noOfChildren);e.repulsionForceX-=v*c,e.repulsionForceY-=v*f,t.repulsionForceX+=v*c,t.repulsionForceY+=v*f}else this.uniformLeafNodeSizes&&null==e.getChild()&&null==t.getChild()?(n=d.getCenterX()-h.getCenterX(),r=d.getCenterY()-h.getCenterY()):(a.getIntersection(h,d,g),n=g[2]-g[0],r=g[3]-g[1]),Math.abs(n)<i.MIN_REPULSION_DIST&&(n=s.sign(n)*i.MIN_REPULSION_DIST),Math.abs(r)<i.MIN_REPULSION_DIST&&(r=s.sign(r)*i.MIN_REPULSION_DIST),o=n*n+r*r,u=Math.sqrt(o),c=(l=(e.nodeRepulsion/2+t.nodeRepulsion/2)*e.noOfChildren*t.noOfChildren/o)*n/u,f=l*r/u,e.repulsionForceX-=c,e.repulsionForceY-=f,t.repulsionForceX+=c,t.repulsionForceY+=f},u.prototype.calcGravitationalForce=function(e){var t,n,r,i,o,a,s,u;n=((t=e.getOwner()).getRight()+t.getLeft())/2,r=(t.getTop()+t.getBottom())/2,i=e.getCenterX()-n,o=e.getCenterY()-r,a=Math.abs(i)+e.getWidth()/2,s=Math.abs(o)+e.getHeight()/2,e.getOwner()==this.graphManager.getRoot()?(a>(u=t.getEstimatedSize()*this.gravityRangeFactor)||s>u)&&(e.gravitationForceX=-this.gravityConstant*i,e.gravitationForceY=-this.gravityConstant*o):(a>(u=t.getEstimatedSize()*this.compoundGravityRangeFactor)||s>u)&&(e.gravitationForceX=-this.gravityConstant*i*this.compoundGravityConstant,e.gravitationForceY=-this.gravityConstant*o*this.compoundGravityConstant)},u.prototype.isConverged=function(){var e,t=!1;return this.totalIterations>this.maxIterations/3&&(t=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),e=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,e||t},u.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},u.prototype.calcNoOfChildrenForAllNodes=function(){for(var e,t=this.graphManager.getAllNodes(),n=0;n<t.length;n++)(e=t[n]).noOfChildren=e.getNoOfChildren()},u.prototype.calcGrid=function(e){var t,n;t=parseInt(Math.ceil((e.getRight()-e.getLeft())/this.repulsionRange)),n=parseInt(Math.ceil((e.getBottom()-e.getTop())/this.repulsionRange));for(var r=new Array(t),i=0;i<t;i++)r[i]=new Array(n);for(i=0;i<t;i++)for(var o=0;o<n;o++)r[i][o]=new Array;return r},u.prototype.addNodeToGrid=function(e,t,n){var r,i,o,a;r=parseInt(Math.floor((e.getRect().x-t)/this.repulsionRange)),i=parseInt(Math.floor((e.getRect().width+e.getRect().x-t)/this.repulsionRange)),o=parseInt(Math.floor((e.getRect().y-n)/this.repulsionRange)),a=parseInt(Math.floor((e.getRect().height+e.getRect().y-n)/this.repulsionRange));for(var s=r;s<=i;s++)for(var u=o;u<=a;u++)this.grid[s][u].push(e),e.setGridCoordinates(r,i,o,a)},u.prototype.updateGrid=function(){var e,t,n=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),e=0;e<n.length;e++)t=n[e],this.addNodeToGrid(t,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},u.prototype.calculateRepulsionForceOfANode=function(e,t,n,r){if(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&n||r){var o,a=new Set;e.surrounding=new Array;for(var s=this.grid,u=e.startX-1;u<e.finishX+2;u++)for(var l=e.startY-1;l<e.finishY+2;l++)if(!(u<0||l<0||u>=s.length||l>=s[0].length))for(var c=0;c<s[u][l].length;c++)if(o=s[u][l][c],e.getOwner()==o.getOwner()&&e!=o&&!t.has(o)&&!a.has(o)){var f=Math.abs(e.getCenterX()-o.getCenterX())-(e.getWidth()/2+o.getWidth()/2),h=Math.abs(e.getCenterY()-o.getCenterY())-(e.getHeight()/2+o.getHeight()/2);f<=this.repulsionRange&&h<=this.repulsionRange&&a.add(o)}e.surrounding=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(a))}for(u=0;u<e.surrounding.length;u++)this.calcRepulsionForce(e,e.surrounding[u])},u.prototype.calcRepulsionRange=function(){return 0},e.exports=u},function(e,t,n){"use strict";var r=n(1),i=n(4);function o(e,t,n){r.call(this,e,t,n),this.idealLength=i.DEFAULT_EDGE_LENGTH,this.edgeElasticity=i.DEFAULT_SPRING_STRENGTH}for(var a in o.prototype=Object.create(r.prototype),r)o[a]=r[a];e.exports=o},function(e,t,n){"use strict";var r=n(3),i=n(4);function o(e,t,n,o){r.call(this,e,t,n,o),this.nodeRepulsion=i.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}for(var a in o.prototype=Object.create(r.prototype),r)o[a]=r[a];o.prototype.setGridCoordinates=function(e,t,n,r){this.startX=e,this.finishX=t,this.startY=n,this.finishY=r},e.exports=o},function(e,t,n){"use strict";function r(e,t){this.width=0,this.height=0,null!==e&&null!==t&&(this.height=t,this.width=e)}r.prototype.getWidth=function(){return this.width},r.prototype.setWidth=function(e){this.width=e},r.prototype.getHeight=function(){return this.height},r.prototype.setHeight=function(e){this.height=e},e.exports=r},function(e,t,n){"use strict";var r=n(14);function i(){this.map={},this.keys=[]}i.prototype.put=function(e,t){var n=r.createID(e);this.contains(n)||(this.map[n]=t,this.keys.push(e))},i.prototype.contains=function(e){return r.createID(e),null!=this.map[e]},i.prototype.get=function(e){var t=r.createID(e);return this.map[t]},i.prototype.keySet=function(){return this.keys},e.exports=i},function(e,t,n){"use strict";var r=n(14);function i(){this.set={}}i.prototype.add=function(e){var t=r.createID(e);this.contains(t)||(this.set[t]=e)},i.prototype.remove=function(e){delete this.set[r.createID(e)]},i.prototype.clear=function(){this.set={}},i.prototype.contains=function(e){return this.set[r.createID(e)]==e},i.prototype.isEmpty=function(){return 0===this.size()},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAllTo=function(e){for(var t=Object.keys(this.set),n=t.length,r=0;r<n;r++)e.push(this.set[t[r]])},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAll=function(e){for(var t=e.length,n=0;n<t;n++){var r=e[n];this.add(r)}},e.exports=i},function(e,t,n){"use strict";function r(){}r.multMat=function(e,t){for(var n=[],r=0;r<e.length;r++){n[r]=[];for(var i=0;i<t[0].length;i++){n[r][i]=0;for(var o=0;o<e[0].length;o++)n[r][i]+=e[r][o]*t[o][i]}}return n},r.transpose=function(e){for(var t=[],n=0;n<e[0].length;n++){t[n]=[];for(var r=0;r<e.length;r++)t[n][r]=e[r][n]}return t},r.multCons=function(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=e[r]*t;return n},r.minusOp=function(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=e[r]-t[r];return n},r.dotProduct=function(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*t[r];return n},r.mag=function(e){return Math.sqrt(this.dotProduct(e,e))},r.normalize=function(e){for(var t=[],n=this.mag(e),r=0;r<e.length;r++)t[r]=e[r]/n;return t},r.multGamma=function(e){for(var t=[],n=0,r=0;r<e.length;r++)n+=e[r];n*=-1/e.length;for(var i=0;i<e.length;i++)t[i]=n+e[i];return t},r.multL=function(e,t,n){for(var r=[],i=[],o=[],a=0;a<t[0].length;a++){for(var s=0,u=0;u<t.length;u++)s+=-.5*t[u][a]*e[u];i[a]=s}for(var l=0;l<n.length;l++){for(var c=0,f=0;f<n.length;f++)c+=n[l][f]*i[f];o[l]=c}for(var h=0;h<t.length;h++){for(var d=0,p=0;p<t[0].length;p++)d+=t[h][p]*o[p];r[h]=d}return r},e.exports=r},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(11),o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null===n&&void 0===n||(this.compareFunction=this._defaultCompareFunction);var r=void 0;r=t instanceof i?t.size():t.length,this._quicksort(t,0,r-1)}return r(e,[{key:"_quicksort",value:function(e,t,n){if(t<n){var r=this._partition(e,t,n);this._quicksort(e,t,r),this._quicksort(e,r+1,n)}}},{key:"_partition",value:function(e,t,n){for(var r=this._get(e,t),i=t,o=n;;){for(;this.compareFunction(r,this._get(e,o));)o--;for(;this.compareFunction(this._get(e,i),r);)i++;if(!(i<o))return o;this._swap(e,i,o),i++,o--}}},{key:"_get",value:function(e,t){return e instanceof i?e.get_object_at(t):e[t]}},{key:"_set",value:function(e,t,n){e instanceof i?e.set_object_at(t,n):e[t]=n}},{key:"_swap",value:function(e,t,n){var r=this._get(e,t);this._set(e,t,this._get(e,n)),this._set(e,n,r)}},{key:"_defaultCompareFunction",value:function(e,t){return t>e}}]),e}();e.exports=o},function(e,t,n){"use strict";function r(){}r.svd=function(e){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=e.length,this.n=e[0].length;var t=Math.min(this.m,this.n);this.s=function(e){for(var t=[];e-- >0;)t.push(0);return t}(Math.min(this.m+1,this.n)),this.U=function e(t){if(0==t.length)return 0;for(var n=[],r=0;r<t[0];r++)n.push(e(t.slice(1)));return n}([this.m,t]),this.V=function(e){return function e(t){if(0==t.length)return 0;for(var n=[],r=0;r<t[0];r++)n.push(e(t.slice(1)));return n}(e)}([this.n,this.n]);for(var n,i,o=function(e){for(var t=[];e-- >0;)t.push(0);return t}(this.n),a=function(e){for(var t=[];e-- >0;)t.push(0);return t}(this.m),s=Math.min(this.m-1,this.n),u=Math.max(0,Math.min(this.n-2,this.m)),l=0;l<Math.max(s,u);l++){if(l<s){this.s[l]=0;for(var c=l;c<this.m;c++)this.s[l]=r.hypot(this.s[l],e[c][l]);if(0!==this.s[l]){e[l][l]<0&&(this.s[l]=-this.s[l]);for(var f=l;f<this.m;f++)e[f][l]/=this.s[l];e[l][l]+=1}this.s[l]=-this.s[l]}for(var h=l+1;h<this.n;h++){if(n=l<s,i=0!==this.s[l],n&&i){for(var d=0,p=l;p<this.m;p++)d+=e[p][l]*e[p][h];d=-d/e[l][l];for(var g=l;g<this.m;g++)e[g][h]+=d*e[g][l]}o[h]=e[l][h]}if(function(e,t){return t}(0,l<s))for(var v=l;v<this.m;v++)this.U[v][l]=e[v][l];if(l<u){o[l]=0;for(var y=l+1;y<this.n;y++)o[l]=r.hypot(o[l],o[y]);if(0!==o[l]){o[l+1]<0&&(o[l]=-o[l]);for(var m=l+1;m<this.n;m++)o[m]/=o[l];o[l+1]+=1}if(o[l]=-o[l],function(e,t){return e&&t}(l+1<this.m,0!==o[l])){for(var b=l+1;b<this.m;b++)a[b]=0;for(var _=l+1;_<this.n;_++)for(var w=l+1;w<this.m;w++)a[w]+=o[_]*e[w][_];for(var x=l+1;x<this.n;x++)for(var E=-o[x]/o[l+1],k=l+1;k<this.m;k++)e[k][x]+=E*a[k]}for(var C=l+1;C<this.n;C++)this.V[C][l]=o[C]}}var S=Math.min(this.n,this.m+1);s<this.n&&(this.s[s]=e[s][s]),this.m<S&&(this.s[S-1]=0),u+1<S&&(o[u]=e[u][S-1]),o[S-1]=0;for(var N=s;N<t;N++){for(var T=0;T<this.m;T++)this.U[T][N]=0;this.U[N][N]=1}for(var I=s-1;I>=0;I--)if(0!==this.s[I]){for(var D=I+1;D<t;D++){for(var M=0,O=I;O<this.m;O++)M+=this.U[O][I]*this.U[O][D];M=-M/this.U[I][I];for(var P=I;P<this.m;P++)this.U[P][D]+=M*this.U[P][I]}for(var L=I;L<this.m;L++)this.U[L][I]=-this.U[L][I];this.U[I][I]=1+this.U[I][I];for(var A=0;A<I-1;A++)this.U[A][I]=0}else{for(var R=0;R<this.m;R++)this.U[R][I]=0;this.U[I][I]=1}for(var F=this.n-1;F>=0;F--){if(function(e,t){return e&&t}(F<u,0!==o[F]))for(var z=F+1;z<t;z++){for(var j=0,B=F+1;B<this.n;B++)j+=this.V[B][F]*this.V[B][z];j=-j/this.V[F+1][F];for(var V=F+1;V<this.n;V++)this.V[V][z]+=j*this.V[V][F]}for(var U=0;U<this.n;U++)this.V[U][F]=0;this.V[F][F]=1}for(var G=S-1,H=Math.pow(2,-52),q=Math.pow(2,-966);S>0;){var Y=void 0,W=void 0;for(Y=S-2;Y>=-1&&-1!==Y;Y--)if(Math.abs(o[Y])<=q+H*(Math.abs(this.s[Y])+Math.abs(this.s[Y+1]))){o[Y]=0;break}if(Y===S-2)W=4;else{var X=void 0;for(X=S-1;X>=Y&&X!==Y;X--){var K=(X!==S?Math.abs(o[X]):0)+(X!==Y+1?Math.abs(o[X-1]):0);if(Math.abs(this.s[X])<=q+H*K){this.s[X]=0;break}}X===Y?W=3:X===S-1?W=1:(W=2,Y=X)}switch(Y++,W){case 1:var $=o[S-2];o[S-2]=0;for(var Q=S-2;Q>=Y;Q--){var Z=r.hypot(this.s[Q],$),J=this.s[Q]/Z,ee=$/Z;this.s[Q]=Z,Q!==Y&&($=-ee*o[Q-1],o[Q-1]=J*o[Q-1]);for(var te=0;te<this.n;te++)Z=J*this.V[te][Q]+ee*this.V[te][S-1],this.V[te][S-1]=-ee*this.V[te][Q]+J*this.V[te][S-1],this.V[te][Q]=Z}break;case 2:var ne=o[Y-1];o[Y-1]=0;for(var re=Y;re<S;re++){var ie=r.hypot(this.s[re],ne),oe=this.s[re]/ie,ae=ne/ie;this.s[re]=ie,ne=-ae*o[re],o[re]=oe*o[re];for(var se=0;se<this.m;se++)ie=oe*this.U[se][re]+ae*this.U[se][Y-1],this.U[se][Y-1]=-ae*this.U[se][re]+oe*this.U[se][Y-1],this.U[se][re]=ie}break;case 3:var ue=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[S-1]),Math.abs(this.s[S-2])),Math.abs(o[S-2])),Math.abs(this.s[Y])),Math.abs(o[Y])),le=this.s[S-1]/ue,ce=this.s[S-2]/ue,fe=o[S-2]/ue,he=this.s[Y]/ue,de=o[Y]/ue,pe=((ce+le)*(ce-le)+fe*fe)/2,ge=le*fe*(le*fe),ve=0;(function(e,t){return e||t})(0!==pe,0!==ge)&&(ve=Math.sqrt(pe*pe+ge),pe<0&&(ve=-ve),ve=ge/(pe+ve));for(var ye=(he+le)*(he-le)+ve,me=he*de,be=Y;be<S-1;be++){var _e=r.hypot(ye,me),we=ye/_e,xe=me/_e;be!==Y&&(o[be-1]=_e),ye=we*this.s[be]+xe*o[be],o[be]=we*o[be]-xe*this.s[be],me=xe*this.s[be+1],this.s[be+1]=we*this.s[be+1];for(var Ee=0;Ee<this.n;Ee++)_e=we*this.V[Ee][be]+xe*this.V[Ee][be+1],this.V[Ee][be+1]=-xe*this.V[Ee][be]+we*this.V[Ee][be+1],this.V[Ee][be]=_e;if(we=ye/(_e=r.hypot(ye,me)),xe=me/_e,this.s[be]=_e,ye=we*o[be]+xe*this.s[be+1],this.s[be+1]=-xe*o[be]+we*this.s[be+1],me=xe*o[be+1],o[be+1]=we*o[be+1],be<this.m-1)for(var ke=0;ke<this.m;ke++)_e=we*this.U[ke][be]+xe*this.U[ke][be+1],this.U[ke][be+1]=-xe*this.U[ke][be]+we*this.U[ke][be+1],this.U[ke][be]=_e}o[S-2]=ye;break;case 4:if(this.s[Y]<=0){this.s[Y]=this.s[Y]<0?-this.s[Y]:0;for(var Ce=0;Ce<=G;Ce++)this.V[Ce][Y]=-this.V[Ce][Y]}for(;Y<G&&!(this.s[Y]>=this.s[Y+1]);){var Se=this.s[Y];if(this.s[Y]=this.s[Y+1],this.s[Y+1]=Se,Y<this.n-1)for(var Ne=0;Ne<this.n;Ne++)Se=this.V[Ne][Y+1],this.V[Ne][Y+1]=this.V[Ne][Y],this.V[Ne][Y]=Se;if(Y<this.m-1)for(var Te=0;Te<this.m;Te++)Se=this.U[Te][Y+1],this.U[Te][Y+1]=this.U[Te][Y],this.U[Te][Y]=Se;Y++}S--}}return{U:this.U,V:this.V,S:this.s}},r.hypot=function(e,t){var n=void 0;return Math.abs(e)>Math.abs(t)?(n=t/e,n=Math.abs(e)*Math.sqrt(1+n*n)):0!=t?(n=e/t,n=Math.abs(t)*Math.sqrt(1+n*n)):n=0,n},e.exports=r},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;i(this,e),this.sequence1=t,this.sequence2=n,this.match_score=r,this.mismatch_penalty=o,this.gap_penalty=a,this.iMax=t.length+1,this.jMax=n.length+1,this.grid=new Array(this.iMax);for(var s=0;s<this.iMax;s++){this.grid[s]=new Array(this.jMax);for(var u=0;u<this.jMax;u++)this.grid[s][u]=0}this.tracebackGrid=new Array(this.iMax);for(var l=0;l<this.iMax;l++){this.tracebackGrid[l]=new Array(this.jMax);for(var c=0;c<this.jMax;c++)this.tracebackGrid[l][c]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return r(e,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var e=1;e<this.jMax;e++)this.grid[0][e]=this.grid[0][e-1]+this.gap_penalty,this.tracebackGrid[0][e]=[!1,!1,!0];for(var t=1;t<this.iMax;t++)this.grid[t][0]=this.grid[t-1][0]+this.gap_penalty,this.tracebackGrid[t][0]=[!1,!0,!1];for(var n=1;n<this.iMax;n++)for(var r=1;r<this.jMax;r++){var i=[this.sequence1[n-1]===this.sequence2[r-1]?this.grid[n-1][r-1]+this.match_score:this.grid[n-1][r-1]+this.mismatch_penalty,this.grid[n-1][r]+this.gap_penalty,this.grid[n][r-1]+this.gap_penalty],o=this.arrayAllMaxIndexes(i);this.grid[n][r]=i[o[0]],this.tracebackGrid[n][r]=[o.includes(0),o.includes(1),o.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var e=[];for(e.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});e[0];){var t=e[0],n=this.tracebackGrid[t.pos[0]][t.pos[1]];n[0]&&e.push({pos:[t.pos[0]-1,t.pos[1]-1],seq1:this.sequence1[t.pos[0]-1]+t.seq1,seq2:this.sequence2[t.pos[1]-1]+t.seq2}),n[1]&&e.push({pos:[t.pos[0]-1,t.pos[1]],seq1:this.sequence1[t.pos[0]-1]+t.seq1,seq2:"-"+t.seq2}),n[2]&&e.push({pos:[t.pos[0],t.pos[1]-1],seq1:"-"+t.seq1,seq2:this.sequence2[t.pos[1]-1]+t.seq2}),0===t.pos[0]&&0===t.pos[1]&&this.alignments.push({sequence1:t.seq1,sequence2:t.seq2}),e.shift()}return this.alignments}},{key:"getAllIndexes",value:function(e,t){for(var n=[],r=-1;-1!==(r=e.indexOf(t,r+1));)n.push(r);return n}},{key:"arrayAllMaxIndexes",value:function(e){return this.getAllIndexes(e,Math.max.apply(null,e))}}]),e}();e.exports=o},function(e,t,n){"use strict";var r=function(){};r.FDLayout=n(18),r.FDLayoutConstants=n(4),r.FDLayoutEdge=n(19),r.FDLayoutNode=n(20),r.DimensionD=n(21),r.HashMap=n(22),r.HashSet=n(23),r.IGeometry=n(8),r.IMath=n(9),r.Integer=n(10),r.Point=n(12),r.PointD=n(5),r.RandomSeed=n(16),r.RectangleD=n(13),r.Transform=n(17),r.UniqueIDGeneretor=n(14),r.Quicksort=n(25),r.LinkedList=n(11),r.LGraphObject=n(2),r.LGraph=n(6),r.LEdge=n(1),r.LGraphManager=n(7),r.LNode=n(3),r.Layout=n(15),r.LayoutConstants=n(0),r.NeedlemanWunsch=n(27),r.Matrix=n(24),r.SVD=n(26),e.exports=r},function(e,t,n){"use strict";function r(){this.listeners=[]}var i=r.prototype;i.addListener=function(e,t){this.listeners.push({event:e,callback:t})},i.removeListener=function(e,t){for(var n=this.listeners.length;n>=0;n--){var r=this.listeners[n];r.event===e&&r.callback===t&&this.listeners.splice(n,1)}},i.emit=function(e,t){for(var n=0;n<this.listeners.length;n++){var r=this.listeners[n];e===r.event&&r.callback(t)}},e.exports=r}])},e.exports=t()},9636:function(e,t,n){var r="__lodash_hash_undefined__",i="[object Function]",o="[object GeneratorFunction]",a=/^\[object .+?Constructor\]$/,s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,l=s||u||Function("return this")();var c=Array.prototype,f=Function.prototype,h=Object.prototype,d=l["__core-js_shared__"],p=function(){var e=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),g=f.toString,v=h.hasOwnProperty,y=h.toString,m=RegExp("^"+g.call(v).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),b=c.splice,_=T(l,"Map"),w=T(Object,"create");function x(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function E(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function k(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function C(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!==n&&r!==r)return i;return-1}function S(e){if(!D(e)||(t=e,p&&p in t))return!1;var t,n=function(e){var t=D(e)?y.call(e):"";return t==i||t==o}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?m:a;return n.test(function(e){if(null!=e){try{return g.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function N(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function T(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return S(n)?n:void 0}function I(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(I.Cache||k),n}function D(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}x.prototype.clear=function(){this.__data__=w?w(null):{}},x.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},x.prototype.get=function(e){var t=this.__data__;if(w){var n=t[e];return n===r?void 0:n}return v.call(t,e)?t[e]:void 0},x.prototype.has=function(e){var t=this.__data__;return w?void 0!==t[e]:v.call(t,e)},x.prototype.set=function(e,t){return this.__data__[e]=w&&void 0===t?r:t,this},E.prototype.clear=function(){this.__data__=[]},E.prototype.delete=function(e){var t=this.__data__,n=C(t,e);return!(n<0)&&(n==t.length-1?t.pop():b.call(t,n,1),!0)},E.prototype.get=function(e){var t=this.__data__,n=C(t,e);return n<0?void 0:t[n][1]},E.prototype.has=function(e){return C(this.__data__,e)>-1},E.prototype.set=function(e,t){var n=this.__data__,r=C(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},k.prototype.clear=function(){this.__data__={hash:new x,map:new(_||E),string:new x}},k.prototype.delete=function(e){return N(this,e).delete(e)},k.prototype.get=function(e){return N(this,e).get(e)},k.prototype.has=function(e){return N(this,e).has(e)},k.prototype.set=function(e,t){return N(this,e).set(e,t),this},I.Cache=k,e.exports=I},153:function(e,t,n){var r="Expected a function",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,f=l||c||Function("return this")(),h=Object.prototype.toString,d=Math.max,p=Math.min,g=function(){return f.Date.now()};function v(e,t,n){var i,o,a,s,u,l,c=0,f=!1,h=!1,v=!0;if("function"!=typeof e)throw new TypeError(r);function b(t){var n=i,r=o;return i=o=void 0,c=t,s=e.apply(r,n)}function _(e){return c=e,u=setTimeout(x,t),f?b(e):s}function w(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-c>=a}function x(){var e=g();if(w(e))return E(e);u=setTimeout(x,function(e){var n=t-(e-l);return h?p(n,a-(e-c)):n}(e))}function E(e){return u=void 0,v&&i?b(e):(i=o=void 0,s)}function k(){var e=g(),n=w(e);if(i=arguments,o=this,l=e,n){if(void 0===u)return _(l);if(h)return u=setTimeout(x,t),b(l)}return void 0===u&&(u=setTimeout(x,t)),s}return t=m(t)||0,y(n)&&(f=!!n.leading,a=(h="maxWait"in n)?d(m(n.maxWait)||0,t):a,v="trailing"in n?!!n.trailing:v),k.cancel=function(){void 0!==u&&clearTimeout(u),c=0,i=l=o=u=void 0},k.flush=function(){return void 0===u?s:E(g())},k}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==h.call(e)}(e))return NaN;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=a.test(e);return n||s.test(e)?u(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError(r);return y(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),v(e,t,{leading:i,maxWait:t,trailing:o})}},9435:function(e,t,n){var r=n(2646)(n(5593),"DataView");e.exports=r},4415:function(e,t,n){var r=n(8315),i=n(8032),o=n(3631),a=n(2626),s=n(6572);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},9281:function(e,t,n){var r=n(5847),i=n(8067),o=n(3884),a=n(4304),s=n(5312);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},1443:function(e,t,n){var r=n(2646)(n(5593),"Map");e.exports=r},9953:function(e,t,n){var r=n(7342),i=n(4059),o=n(7015),a=n(9327),s=n(5222);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},1281:function(e,t,n){var r=n(2646)(n(5593),"Promise");e.exports=r},3552:function(e,t,n){var r=n(2646)(n(5593),"Set");e.exports=r},4233:function(e,t,n){var r=n(9953),i=n(3521),o=n(710);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},5791:function(e,t,n){var r=n(9281),i=n(5510),o=n(9617),a=n(264),s=n(3385),u=n(4927);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,e.exports=l},3653:function(e,t,n){var r=n(5593).Symbol;e.exports=r},3654:function(e,t,n){var r=n(5593).Uint8Array;e.exports=r},4456:function(e,t,n){var r=n(2646)(n(5593),"WeakMap");e.exports=r},258:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},9948:function(e,t,n){var r=n(3106),i=n(2691),o=n(8069),a=n(1853),s=n(9388),u=n(9409),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),f=!n&&!c&&a(e),h=!n&&!c&&!f&&u(e),d=n||c||f||h,p=d?r(e.length,String):[],g=p.length;for(var v in e)!t&&!l.call(e,v)||d&&("length"==v||f&&("offset"==v||"parent"==v)||h&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||p.push(v);return p}},1058:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},2493:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},3918:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},5490:function(e,t,n){var r=n(3659),i=n(9825),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},5409:function(e,t,n){var r=n(9825);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},3659:function(e,t,n){var r=n(7274);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},3851:function(e,t,n){var r=n(6849),i=n(8923);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},1854:function(e,t,n){var r=n(2493),i=n(8069);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},565:function(e,t,n){var r=n(3653),i=n(66),o=n(3374),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},222:function(e,t,n){var r=n(565),i=n(2669);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},3095:function(e,t,n){var r=n(5768),i=n(2669);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},5768:function(e,t,n){var r=n(5791),i=n(2630),o=n(8400),a=n(3339),s=n(7364),u=n(8069),l=n(1853),c=n(9409),f="[object Arguments]",h="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,v,y){var m=u(e),b=u(t),_=m?h:s(e),w=b?h:s(t),x=(_=_==f?d:_)==d,E=(w=w==f?d:w)==d,k=_==w;if(k&&l(e)){if(!l(t))return!1;m=!0,x=!1}if(k&&!x)return y||(y=new r),m||c(e)?i(e,t,n,g,v,y):o(e,t,_,n,g,v,y);if(!(1&n)){var C=x&&p.call(e,"__wrapped__"),S=E&&p.call(t,"__wrapped__");if(C||S){var N=C?e.value():e,T=S?t.value():t;return y||(y=new r),v(N,T,n,g,y)}}return!!k&&(y||(y=new r),a(e,t,n,g,v,y))}},6274:function(e,t,n){var r=n(584),i=n(9763),o=n(2174),a=n(1569),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,f=l.hasOwnProperty,h=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:s).test(a(e))}},7776:function(e,t,n){var r=n(565),i=n(6231),o=n(2669),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},4670:function(e,t,n){var r=n(387),i=n(3634),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},4149:function(e,t,n){var r=n(5490),i=n(6849),o=n(9388),a=n(2174),s=n(8923);e.exports=function(e,t,n,u){if(!a(e))return e;for(var l=-1,c=(t=i(t,e)).length,f=c-1,h=e;null!=h&&++l<c;){var d=s(t[l]),p=n;if("__proto__"===d||"constructor"===d||"prototype"===d)return e;if(l!=f){var g=h[d];void 0===(p=u?u(g,d,h):void 0)&&(p=a(g)?g:o(t[l+1])?[]:{})}r(h,d,p),h=h[d]}return e}},3106:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},9565:function(e,t,n){var r=n(3653),i=n(1058),o=n(8069),a=n(3469),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},2613:function(e,t,n){var r=n(272),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},3974:function(e){e.exports=function(e){return function(t){return e(t)}}},1124:function(e){e.exports=function(e,t){return e.has(t)}},6849:function(e,t,n){var r=n(8069),i=n(3249),o=n(8660),a=n(4930);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},4583:function(e){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},1826:function(e,t,n){var r=n(5593)["__core-js_shared__"];e.exports=r},7274:function(e,t,n){var r=n(2646),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},2630:function(e,t,n){var r=n(4233),i=n(3918),o=n(1124);e.exports=function(e,t,n,a,s,u){var l=1&n,c=e.length,f=t.length;if(c!=f&&!(l&&f>c))return!1;var h=u.get(e),d=u.get(t);if(h&&d)return h==t&&d==e;var p=-1,g=!0,v=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<c;){var y=e[p],m=t[p];if(a)var b=l?a(m,y,p,t,e,u):a(y,m,p,e,t,u);if(void 0!==b){if(b)continue;g=!1;break}if(v){if(!i(t,(function(e,t){if(!o(v,t)&&(y===e||s(y,e,n,a,u)))return v.push(t)}))){g=!1;break}}else if(y!==m&&!s(y,m,n,a,u)){g=!1;break}}return u.delete(e),u.delete(t),g}},8400:function(e,t,n){var r=n(3653),i=n(3654),o=n(9825),a=n(2630),s=n(4895),u=n(6678),l=r?r.prototype:void 0,c=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,f,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=s;case"[object Set]":var p=1&r;if(d||(d=u),e.size!=t.size&&!p)return!1;var g=h.get(e);if(g)return g==t;r|=2,h.set(e,t);var v=a(d(e),d(t),r,l,f,h);return h.delete(e),v;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},3339:function(e,t,n){var r=n(9131),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var u=1&n,l=r(e),c=l.length;if(c!=r(t).length&&!u)return!1;for(var f=c;f--;){var h=l[f];if(!(u?h in t:i.call(t,h)))return!1}var d=s.get(e),p=s.get(t);if(d&&p)return d==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var v=u;++f<c;){var y=e[h=l[f]],m=t[h];if(o)var b=u?o(m,y,h,t,e,s):o(y,m,h,e,t,s);if(!(void 0===b?y===m||a(y,m,n,o,s):b)){g=!1;break}v||(v="constructor"==h)}if(g&&!v){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(g=!1)}return s.delete(e),s.delete(t),g}},6196:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},9131:function(e,t,n){var r=n(1854),i=n(9526),o=n(6403);e.exports=function(e){return r(e,o,i)}},4369:function(e,t,n){var r=n(6992);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2646:function(e,t,n){var r=n(6274),i=n(451);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},66:function(e,t,n){var r=n(3653),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},9526:function(e,t,n){var r=n(258),i=n(8986),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},7364:function(e,t,n){var r=n(9435),i=n(1443),o=n(1281),a=n(3552),s=n(4456),u=n(565),l=n(1569),c="[object Map]",f="[object Promise]",h="[object Set]",d="[object WeakMap]",p="[object DataView]",g=l(r),v=l(i),y=l(o),m=l(a),b=l(s),_=u;(r&&_(new r(new ArrayBuffer(1)))!=p||i&&_(new i)!=c||o&&_(o.resolve())!=f||a&&_(new a)!=h||s&&_(new s)!=d)&&(_=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case g:return p;case v:return c;case y:return f;case m:return h;case b:return d}return t}),e.exports=_},451:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},8315:function(e,t,n){var r=n(3240);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},8032:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},3631:function(e,t,n){var r=n(3240),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},2626:function(e,t,n){var r=n(3240),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},6572:function(e,t,n){var r=n(3240);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},9388:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},3249:function(e,t,n){var r=n(8069),i=n(3469),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},6992:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},9763:function(e,t,n){var r=n(1826),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},387:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},5847:function(e){e.exports=function(){this.__data__=[],this.size=0}},8067:function(e,t,n){var r=n(5409),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},3884:function(e,t,n){var r=n(5409);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4304:function(e,t,n){var r=n(5409);e.exports=function(e){return r(this.__data__,e)>-1}},5312:function(e,t,n){var r=n(5409);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},7342:function(e,t,n){var r=n(4415),i=n(9281),o=n(1443);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},4059:function(e,t,n){var r=n(4369);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7015:function(e,t,n){var r=n(4369);e.exports=function(e){return r(this,e).get(e)}},9327:function(e,t,n){var r=n(4369);e.exports=function(e){return r(this,e).has(e)}},5222:function(e,t,n){var r=n(4369);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},4895:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},5399:function(e,t,n){var r=n(6658);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},3240:function(e,t,n){var r=n(2646)(Object,"create");e.exports=r},3634:function(e,t,n){var r=n(5900)(Object.keys,Object);e.exports=r},6294:function(e,t,n){e=n.nmd(e);var r=n(6196),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},3374:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5900:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},5593:function(e,t,n){var r=n(6196),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},3521:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},710:function(e){e.exports=function(e){return this.__data__.has(e)}},6678:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},5510:function(e,t,n){var r=n(9281);e.exports=function(){this.__data__=new r,this.size=0}},9617:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},264:function(e){e.exports=function(e){return this.__data__.get(e)}},3385:function(e){e.exports=function(e){return this.__data__.has(e)}},4927:function(e,t,n){var r=n(9281),i=n(1443),o=n(9953);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},8660:function(e,t,n){var r=n(5399),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},8923:function(e,t,n){var r=n(3469);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},1569:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},272:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},5355:function(e,t,n){var r=n(2174),i=n(6852),o=n(786),a=Math.max,s=Math.min;e.exports=function(e,t,n){var u,l,c,f,h,d,p=0,g=!1,v=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=u,r=l;return u=l=void 0,p=t,f=e.apply(r,n)}function b(e){return p=e,h=setTimeout(w,t),g?m(e):f}function _(e){var n=e-d;return void 0===d||n>=t||n<0||v&&e-p>=c}function w(){var e=i();if(_(e))return x(e);h=setTimeout(w,function(e){var n=t-(e-d);return v?s(n,c-(e-p)):n}(e))}function x(e){return h=void 0,y&&u?m(e):(u=l=void 0,f)}function E(){var e=i(),n=_(e);if(u=arguments,l=this,d=e,n){if(void 0===h)return b(d);if(v)return clearTimeout(h),h=setTimeout(w,t),m(d)}return void 0===h&&(h=setTimeout(w,t)),f}return t=o(t)||0,r(n)&&(g=!!n.leading,c=(v="maxWait"in n)?a(o(n.maxWait)||0,t):c,y="trailing"in n?!!n.trailing:y),E.cancel=function(){void 0!==h&&clearTimeout(h),p=0,u=d=l=h=void 0},E.flush=function(){return void 0===h?f:x(i())},E}},9825:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},4561:function(e,t,n){var r=n(3851);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},2691:function(e,t,n){var r=n(222),i=n(2669),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},8069:function(e){var t=Array.isArray;e.exports=t},3332:function(e,t,n){var r=n(584),i=n(6231);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},1853:function(e,t,n){e=n.nmd(e);var r=n(5593),i=n(3315),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},7275:function(e,t,n){var r=n(3095);e.exports=function(e,t){return r(e,t)}},584:function(e,t,n){var r=n(565),i=n(2174);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},6231:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},2174:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},2669:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},3469:function(e,t,n){var r=n(565),i=n(2669);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9409:function(e,t,n){var r=n(7776),i=n(3974),o=n(6294),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},6403:function(e,t,n){var r=n(9948),i=n(4670),o=n(3332);e.exports=function(e){return o(e)?r(e):i(e)}},6658:function(e,t,n){var r=n(9953);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},6852:function(e,t,n){var r=n(5593);e.exports=function(){return r.Date.now()}},7277:function(e,t,n){var r=n(4149);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},8986:function(e){e.exports=function(){return[]}},3315:function(e){e.exports=function(){return!1}},786:function(e,t,n){var r=n(2613),i=n(2174),o=n(3469),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},8760:function(e,t,n){var r=n(1058),i=n(4583),o=n(8069),a=n(3469),s=n(8660),u=n(8923),l=n(4930);e.exports=function(e){return o(e)?r(e,u):a(e)?[e]:i(s(l(e)))}},4930:function(e,t,n){var r=n(9565);e.exports=function(e){return null==e?"":r(e)}},2942:function(e,t,n){"use strict";var r=n(9052),i=Object.create,o=Object.prototype.hasOwnProperty;e.exports=function(e){var t,n=0,a=1,s=i(null),u=i(null),l=0;return e=r(e),{hit:function(r){var i=u[r],c=++l;if(s[c]=r,u[r]=c,!i){if(++n<=e)return;return r=s[a],t(r),r}if(delete s[i],a===i)for(;!o.call(s,++a););},delete:t=function(e){var t=u[e];if(t&&(delete s[t],delete u[e],--n,a===t)){if(!n)return l=0,void(a=1);for(;!o.call(s,++a););}},clear:function(){n=0,a=1,s=i(null),u=i(null),l=0}}}},3930:function(e,t,n){"use strict";var r=n(4290),i=n(4317),o=n(3100),a=n(9113),s=n(8054),u=Array.prototype.slice,l=Function.prototype.apply,c=Object.create;n(7181).async=function(e,t){var n,f,h,d=c(null),p=c(null),g=t.memoized,v=t.original;t.memoized=a((function(e){var t=arguments,r=t[t.length-1];return"function"===typeof r&&(n=r,t=u.call(t,0,-1)),g.apply(f=this,h=t)}),g);try{o(t.memoized,g)}catch(y){}t.on("get",(function(e){var r,i,o;if(n){if(d[e])return"function"===typeof d[e]?d[e]=[d[e],n]:d[e].push(n),void(n=null);r=n,i=f,o=h,n=f=h=null,s((function(){var a;hasOwnProperty.call(p,e)?(a=p[e],t.emit("getasync",e,o,i),l.call(r,a.context,a.args)):(n=r,f=i,h=o,g.apply(i,o))}))}})),t.original=function(){var e,i,o,a;return n?(e=r(arguments),i=function e(n){var i,o,u=e.id;if(null!=u){if(delete e.id,i=d[u],delete d[u],i)return o=r(arguments),t.has(u)&&(n?t.delete(u):(p[u]={context:this,args:o},t.emit("setasync",u,"function"===typeof i?1:i.length))),"function"===typeof i?a=l.call(i,this,o):i.forEach((function(e){a=l.call(e,this,o)}),this),a}else s(l.bind(e,this,arguments))},o=n,n=f=h=null,e.push(i),a=l.call(v,this,e),i.cb=o,n=i,a):l.call(v,this,arguments)},t.on("set",(function(e){n?(d[e]?"function"===typeof d[e]?d[e]=[d[e],n.cb]:d[e].push(n.cb):d[e]=n.cb,delete n.cb,n.id=e,n=null):t.delete(e)})),t.on("delete",(function(e){var n;hasOwnProperty.call(d,e)||p[e]&&(n=p[e],delete p[e],t.emit("deleteasync",e,u.call(n.args,1)))})),t.on("clear",(function(){var e=p;p=c(null),t.emit("clearasync",i(e,(function(e){return u.call(e.args,1)})))}))}},4037:function(e,t,n){"use strict";var r=n(8297),i=n(6350),o=n(7181),a=Function.prototype.apply;o.dispose=function(e,t,n){var s;if(r(e),n.async&&o.async||n.promise&&o.promise)return t.on("deleteasync",s=function(t,n){a.call(e,null,n)}),void t.on("clearasync",(function(e){i(e,(function(e,t){s(t,e)}))}));t.on("delete",s=function(t,n){e(n)}),t.on("clear",(function(e){i(e,(function(e,t){s(t,e)}))}))}},2564:function(e,t,n){"use strict";var r=n(4290),i=n(6350),o=n(8054),a=n(3941),s=n(2201),u=n(7181),l=Function.prototype,c=Math.max,f=Math.min,h=Object.create;u.maxAge=function(e,t,n){var d,p,g,v;(e=s(e))&&(d=h(null),p=n.async&&u.async||n.promise&&u.promise?"async":"",t.on("set"+p,(function(n){d[n]=setTimeout((function(){t.delete(n)}),e),"function"===typeof d[n].unref&&d[n].unref(),v&&(v[n]&&"nextTick"!==v[n]&&clearTimeout(v[n]),v[n]=setTimeout((function(){delete v[n]}),g),"function"===typeof v[n].unref&&v[n].unref())})),t.on("delete"+p,(function(e){clearTimeout(d[e]),delete d[e],v&&("nextTick"!==v[e]&&clearTimeout(v[e]),delete v[e])})),n.preFetch&&(g=!0===n.preFetch||isNaN(n.preFetch)?.333:c(f(Number(n.preFetch),1),0))&&(v={},g=(1-g)*e,t.on("get"+p,(function(e,i,s){v[e]||(v[e]="nextTick",o((function(){var o;"nextTick"===v[e]&&(delete v[e],t.delete(e),n.async&&(i=r(i)).push(l),o=t.memoized.apply(s,i),n.promise&&a(o)&&("function"===typeof o.done?o.done(l,l):o.then(l,l)))})))}))),t.on("clear"+p,(function(){i(d,(function(e){clearTimeout(e)})),d={},v&&(i(v,(function(e){"nextTick"!==e&&clearTimeout(e)})),v={})})))}},847:function(e,t,n){"use strict";var r=n(9052),i=n(2942),o=n(7181);o.max=function(e,t,n){var a,s,u;(e=r(e))&&(s=i(e),a=n.async&&o.async||n.promise&&o.promise?"async":"",t.on("set"+a,u=function(e){void 0!==(e=s.hit(e))&&t.delete(e)}),t.on("get"+a,u),t.on("delete"+a,s.delete),t.on("clear"+a,s.clear))}},2425:function(e,t,n){"use strict";var r=n(4317),i=n(2091),o=n(5534),a=n(6897),s=n(3941),u=n(8054),l=Object.create,c=i("then","then:finally","done","done:finally");n(7181).promise=function(e,t){var n=l(null),i=l(null),f=l(null);if(!0===e)e=null;else if(e=o(e),!c[e])throw new TypeError("'"+a(e)+"' is not valid promise mode");t.on("set",(function(r,o,a){var l=!1;if(!s(a))return i[r]=a,void t.emit("setasync",r,1);n[r]=1,f[r]=a;var c=function(e){var o=n[r];if(l)throw new Error("Memoizee error: Detected unordered then|done & finally resolution, which in turn makes proper detection of success/failure impossible (when in 'done:finally' mode)\nConsider to rely on 'then' or 'done' mode instead.");o&&(delete n[r],i[r]=e,t.emit("setasync",r,o))},h=function(){l=!0,n[r]&&(delete n[r],delete f[r],t.delete(r))},d=e;if(d||(d="then"),"then"===d){var p=function(){u(h)};"function"===typeof(a=a.then((function(e){u(c.bind(this,e))}),p)).finally&&a.finally(p)}else if("done"===d){if("function"!==typeof a.done)throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done' mode");a.done(c,h)}else if("done:finally"===d){if("function"!==typeof a.done)throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done:finally' mode");if("function"!==typeof a.finally)throw new Error("Memoizee error: Retrieved promise does not implement 'finally' in 'done:finally' mode");a.done(c),a.finally(h)}})),t.on("get",(function(e,r,i){var o;if(n[e])++n[e];else{o=f[e];var a=function(){t.emit("getasync",e,r,i)};s(o)?"function"===typeof o.done?o.done(a):o.then((function(){u(a)})):a()}})),t.on("delete",(function(e){if(delete f[e],n[e])delete n[e];else if(hasOwnProperty.call(i,e)){var r=i[e];delete i[e],t.emit("deleteasync",e,[r])}})),t.on("clear",(function(){var e=i;i=l(null),n=l(null),f=l(null),t.emit("clearasync",r(e,(function(e){return[e]})))}))}},3188:function(e,t,n){"use strict";var r=n(8657),i=n(7181),o=Object.create,a=Object.defineProperties;i.refCounter=function(e,t,n){var s,u;s=o(null),u=n.async&&i.async||n.promise&&i.promise?"async":"",t.on("set"+u,(function(e,t){s[e]=t||1})),t.on("get"+u,(function(e){++s[e]})),t.on("delete"+u,(function(e){delete s[e]})),t.on("clear"+u,(function(){s={}})),a(t.memoized,{deleteRef:r((function(){var e=t.get(arguments);return null===e?null:s[e]?!--s[e]&&(t.delete(e),!0):null})),getRefCount:r((function(){var e=t.get(arguments);return null===e?0:s[e]?s[e]:0}))})}},1468:function(e,t,n){"use strict";var r=n(1927),i=n(2161),o=n(9490);e.exports=function(e){var t,a=r(arguments[1]);return a.normalizer||0!==(t=a.length=i(a.length,e.length,a.async))&&(a.primitive?!1===t?a.normalizer=n(4859):t>1&&(a.normalizer=n(4007)(t)):a.normalizer=!1===t?n(318)():1===t?n(6864)():n(8195)(t)),a.async&&n(3930),a.promise&&n(2425),a.dispose&&n(4037),a.maxAge&&n(2564),a.max&&n(847),a.refCounter&&n(3188),o(e,a)}},8312:function(e,t,n){"use strict";var r=n(3235),i=n(9113),o=n(8657),a=n(5414).methods,s=n(9468),u=n(3439),l=Function.prototype.apply,c=Function.prototype.call,f=Object.create,h=Object.defineProperties,d=a.on,p=a.emit;e.exports=function(e,t,n){var a,g,v,y,m,b,_,w,x,E,k,C,S,N,T,I=f(null);return g=!1!==t?t:isNaN(e.length)?1:e.length,n.normalizer&&(E=u(n.normalizer),v=E.get,y=E.set,m=E.delete,b=E.clear),null!=n.resolvers&&(T=s(n.resolvers)),N=v?i((function(t){var n,i,o=arguments;if(T&&(o=T(o)),null!==(n=v(o))&&hasOwnProperty.call(I,n))return k&&a.emit("get",n,o,this),I[n];if(i=1===o.length?c.call(e,this,o[0]):l.call(e,this,o),null===n){if(null!==(n=v(o)))throw r("Circular invocation","CIRCULAR_INVOCATION");n=y(o)}else if(hasOwnProperty.call(I,n))throw r("Circular invocation","CIRCULAR_INVOCATION");return I[n]=i,C&&a.emit("set",n,null,i),i}),g):0===t?function(){var t;if(hasOwnProperty.call(I,"data"))return k&&a.emit("get","data",arguments,this),I.data;if(t=arguments.length?l.call(e,this,arguments):c.call(e,this),hasOwnProperty.call(I,"data"))throw r("Circular invocation","CIRCULAR_INVOCATION");return I.data=t,C&&a.emit("set","data",null,t),t}:function(t){var n,i,o=arguments;if(T&&(o=T(arguments)),i=String(o[0]),hasOwnProperty.call(I,i))return k&&a.emit("get",i,o,this),I[i];if(n=1===o.length?c.call(e,this,o[0]):l.call(e,this,o),hasOwnProperty.call(I,i))throw r("Circular invocation","CIRCULAR_INVOCATION");return I[i]=n,C&&a.emit("set",i,null,n),n},a={original:e,memoized:N,profileName:n.profileName,get:function(e){return T&&(e=T(e)),v?v(e):String(e[0])},has:function(e){return hasOwnProperty.call(I,e)},delete:function(e){var t;hasOwnProperty.call(I,e)&&(m&&m(e),t=I[e],delete I[e],S&&a.emit("delete",e,t))},clear:function(){var e=I;b&&b(),I=f(null),a.emit("clear",e)},on:function(e,t){return"get"===e?k=!0:"set"===e?C=!0:"delete"===e&&(S=!0),d.call(this,e,t)},emit:p,updateEnv:function(){e=a.original}},_=v?i((function(e){var t,n=arguments;T&&(n=T(n)),null!==(t=v(n))&&a.delete(t)}),g):0===t?function(){return a.delete("data")}:function(e){return T&&(e=T(arguments)[0]),a.delete(e)},w=i((function(){var e,n=arguments;return 0===t?I.data:(T&&(n=T(n)),e=v?v(n):String(n[0]),I[e])})),x=i((function(){var e,n=arguments;return 0===t?a.has("data"):(T&&(n=T(n)),null!==(e=v?v(n):String(n[0]))&&a.has(e))})),h(N,{__memoized__:o(!0),delete:o(_),clear:o(a.clear),_get:o(w),_has:o(x)}),a}},7181:function(){},2161:function(e,t,n){"use strict";var r=n(9052);e.exports=function(e,t,n){var i;return isNaN(e)?(i=t)>=0?n&&i?i-1:i:1:!1!==e&&r(e)}},3439:function(e,t,n){"use strict";var r=n(8297);e.exports=function(e){var t;return"function"===typeof e?{set:e,get:e}:(t={get:r(e.get)},void 0!==e.set?(t.set=r(e.set),e.delete&&(t.delete=r(e.delete)),e.clear&&(t.clear=r(e.clear)),t):(t.set=t.get,t))}},9468:function(e,t,n){"use strict";var r,i=n(5168),o=n(8805),a=n(8297),s=Array.prototype.slice;r=function(e){return this.map((function(t,n){return t?t(e[n]):e[n]})).concat(s.call(e,this.length))},e.exports=function(e){return(e=i(e)).forEach((function(e){o(e)&&a(e)})),r.bind(e)}},6864:function(e,t,n){"use strict";var r=n(3682);e.exports=function(){var e=0,t=[],n=[];return{get:function(e){var i=r.call(t,e[0]);return-1===i?null:n[i]},set:function(r){return t.push(r[0]),n.push(++e),e},delete:function(e){var i=r.call(n,e);-1!==i&&(t.splice(i,1),n.splice(i,1))},clear:function(){t=[],n=[]}}}},8195:function(e,t,n){"use strict";var r=n(3682),i=Object.create;e.exports=function(e){var t=0,n=[[],[]],o=i(null);return{get:function(t){for(var i,o=0,a=n;o<e-1;){if(-1===(i=r.call(a[0],t[o])))return null;a=a[1][i],++o}return-1===(i=r.call(a[0],t[o]))?null:a[1][i]||null},set:function(i){for(var a,s=0,u=n;s<e-1;)-1===(a=r.call(u[0],i[s]))&&(a=u[0].push(i[s])-1,u[1].push([[],[]])),u=u[1][a],++s;return-1===(a=r.call(u[0],i[s]))&&(a=u[0].push(i[s])-1),u[1][a]=++t,o[t]=i,t},delete:function(t){for(var i,a=0,s=n,u=[],l=o[t];a<e-1;){if(-1===(i=r.call(s[0],l[a])))return;u.push(s,i),s=s[1][i],++a}if(-1!==(i=r.call(s[0],l[a]))){for(t=s[1][i],s[0].splice(i,1),s[1].splice(i,1);!s[0].length&&u.length;)i=u.pop(),(s=u.pop())[0].splice(i,1),s[1].splice(i,1);delete o[t]}},clear:function(){n=[[],[]],o=i(null)}}}},4007:function(e){"use strict";e.exports=function(e){return e?function(t){for(var n=String(t[0]),r=0,i=e;--i;)n+="\x01"+t[++r];return n}:function(){return""}}},318:function(e,t,n){"use strict";var r=n(3682),i=Object.create;e.exports=function(){var e=0,t=[],n=i(null);return{get:function(e){var n,i=0,o=t,a=e.length;if(0===a)return o[a]||null;if(o=o[a]){for(;i<a-1;){if(-1===(n=r.call(o[0],e[i])))return null;o=o[1][n],++i}return-1===(n=r.call(o[0],e[i]))?null:o[1][n]||null}return null},set:function(i){var o,a=0,s=t,u=i.length;if(0===u)s[u]=++e;else{for(s[u]||(s[u]=[[],[]]),s=s[u];a<u-1;)-1===(o=r.call(s[0],i[a]))&&(o=s[0].push(i[a])-1,s[1].push([[],[]])),s=s[1][o],++a;-1===(o=r.call(s[0],i[a]))&&(o=s[0].push(i[a])-1),s[1][o]=++e}return n[e]=i,e},delete:function(e){var i,o=0,a=t,s=n[e],u=s.length,l=[];if(0===u)delete a[u];else if(a=a[u]){for(;o<u-1;){if(-1===(i=r.call(a[0],s[o])))return;l.push(a,i),a=a[1][i],++o}if(-1===(i=r.call(a[0],s[o])))return;for(e=a[1][i],a[0].splice(i,1),a[1].splice(i,1);!a[0].length&&l.length;)i=l.pop(),(a=l.pop())[0].splice(i,1),a[1].splice(i,1)}delete n[e]},clear:function(){t=[],n=i(null)}}}},4859:function(e){"use strict";e.exports=function(e){var t,n,r=e.length;if(!r)return"\x02";for(t=String(e[n=0]);--r;)t+="\x01"+e[++n];return t}},9490:function(e,t,n){"use strict";var r=n(8297),i=n(6350),o=n(7181),a=n(8312),s=n(2161);e.exports=function e(t){var n,u,l;if(r(t),(n=Object(arguments[1])).async&&n.promise)throw new Error("Options 'async' and 'promise' cannot be used together");return hasOwnProperty.call(t,"__memoized__")&&!n.force?t:(u=s(n.length,t.length,n.async&&o.async),l=a(t,u,n),i(o,(function(e,t){n[t]&&e(n[t],l,n)})),e.__profiler__&&e.__profiler__(l),l.updateEnv(),l.memoized)}},8054:function(e){"use strict";var t=function(e){if("function"!==typeof e)throw new TypeError(e+" is not a function");return e},n=function(e){var n,r,i=document.createTextNode(""),o=0;return new e((function(){var e;if(n)r&&(n=r.concat(n));else{if(!r)return;n=r}if(r=n,n=null,"function"===typeof r)return e=r,r=null,void e();for(i.data=o=++o%2;r;)e=r.shift(),r.length||(r=null),e()})).observe(i,{characterData:!0}),function(e){t(e),n?"function"===typeof n?n=[n,e]:n.push(e):(n=e,i.data=o=++o%2)}};e.exports=function(){if("object"===typeof process&&process&&"function"===typeof process.nextTick)return process.nextTick;if("function"===typeof queueMicrotask)return function(e){queueMicrotask(t(e))};if("object"===typeof document&&document){if("function"===typeof MutationObserver)return n(MutationObserver);if("function"===typeof WebKitMutationObserver)return n(WebKitMutationObserver)}return"function"===typeof setImmediate?function(e){setImmediate(t(e))}:"function"===typeof setTimeout||"object"===typeof setTimeout?function(e){setTimeout(t(e),0)}:null}()},4882:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.popupWindowBorder=t.popupSupported=t.isSafari=t.gerWindowBorder=void 0;var i=r(n(3369)),o="object"===typeof window?i.default.getParser(window.navigator.userAgent):null;function a(){switch(null===o||void 0===o?void 0:o.getOSName(!0)){case"windows":var e;switch(o.getBrowserName(!0)){case"firefox":e=[68,8,8];break;case"microsoft edge":e=[62,8,8];break;default:e=[60,8,8]}return window.devicePixelRatio>1&&(e[0]-=2,e[1]-=1,e[2]-=1),e;case"macos":switch(o.getBrowserName(!0)){case"safari":return[22,0,0];case"firefox":return[59,0,0];default:return[51,0,0]}}return[60,8,8]}t.gerWindowBorder=a,t.isSafari="safari"===(null===o||void 0===o?void 0:o.getBrowserName(!0)),t.popupSupported="desktop"===(null===o||void 0===o?void 0:o.getPlatformType()),t.popupWindowBorder=a()},6540:function(e,t,n){"use strict";var r=n(9189).default,i=n(8482).default,o=n(6686).default;t.fA=t.xj=void 0;var a=n(4882);function s(e){var t=a.gerWindowBorder(),n=o(t,3),r=n[0],i=n[1],s=n[2];e.outerWidth===e.screen.availWidth&&(i=0,s=0);var u=(e.outerWidth-2*i)/e.innerWidth,l=(e.outerHeight-r-s)/e.innerHeight,c=Math.min(l,u);return c=c>1.8?Math.round(c):c>.73?Math.round(20*c)/20:2/Math.round(2/c)}function u(e){var t=e?s(e):1,n=e.outerWidth-e.innerWidth*t>>1,r=Math.round(e.outerHeight-e.innerHeight*t);return n>32?n=8:r-=n,[n,r,t]}var l=function(){function e(){r(this,e)}return i(e,[{key:"init",value:function(e,t,n,r,i,o,a,s){this.scaleX=a/n,this.scaleY=s/r,this.offsetX=i-e*this.scaleX,this.offsetY=o-t*this.scaleY}},{key:"map",value:function(e){return{x:e.x*this.scaleX+this.offsetX,y:e.y*this.scaleY+this.offsetY}}},{key:"revertMap",value:function(e){return{x:(e.x-this.offsetX)/this.scaleX,y:(e.y-this.offsetY)/this.scaleY}}}]),e}();t.xj=function e(t,n){if(!t)return null;var r,i=t.getBoundingClientRect(),a=new l;if(a.init(0,0,t.offsetWidth,t.offsetHeight,i.x,i.y,i.width,i.height),n){var s=a.map({x:n.left,y:n.top}),c=s.x,f=s.y,h=a.map({x:n.left+n.width,y:n.top+n.height});r={left:c,top:f,width:h.x-c,height:h.y-f}}else r={left:i.left,top:i.top,width:i.width,height:i.height};var d=t.ownerDocument.defaultView;if(!d)return i;if(d.frameElement)return e(d.frameElement,r);var p=u(d),g=o(p,3),v=g[0],y=g[1],m=g[2];return 1!==m&&(r.left*=m,r.top*=m,r.width*=m,r.height*=m),r.left+=d.screenX+v,r.top+=d.screenY+y,r},t.fA=function e(t,n,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!t)return null;if(n){if(r={left:n.screenX,top:n.screenY,width:n.outerWidth,height:n.outerHeight},i){var s=o(a.popupWindowBorder,3),c=s[0],f=s[1],h=s[2];r.left+=f,r.top+=c,r.width-=2*f,r.height-=c+h}}else if(!r)return null;var d=t.ownerDocument,p=d.defaultView;if(!p)return r;if(p.frameElement)r=e(p.frameElement,null,r);else{var g=u(p),v=o(g,3),y=v[0],m=v[1],b=v[2];r.left-=p.screenX+y,r.top-=p.screenY+m,1!==b&&(r.left/=b,r.top/=b,r.width/=b,r.height/=b)}var _=t.getBoundingClientRect(),w=new l;w.init(0,0,t.offsetWidth,t.offsetHeight,_.x,_.y,_.width,_.height);var x=w.revertMap({x:r.left,y:r.top}),E=x.x,k=x.y,C=w.revertMap({x:r.left+r.width,y:r.top+r.height}),S=C.x,N=C.y;return{left:E,top:k,width:S-E,height:N-k}}},7975:function(e,t,n){"use strict";var r=n(1756),i=n(449);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,m);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,m);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,m);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),N=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var R,F=Object.assign;function z(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var j=!1;function B(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function V(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case C:return"Profiler";case k:return"StrictMode";case I:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){Q(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function me(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ee=null,ke=null;function Ce(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Se(e){Ee?ke?ke.push(e):ke=[e]:Ee=e}function Ne(){if(Ee){var e=Ee,t=ke;if(ke=Ee=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function Ie(){}var De=!1;function Me(e,t,n){if(De)return e(t,n);De=!0;try{return Te(e,t,n)}finally{De=!1,(null!==Ee||null!==ke)&&(Ie(),Ne())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Pe=!1;if(c)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ce){Pe=!1}function Ae(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Re=!1,Fe=null,ze=!1,je=null,Be={onError:function(e){Re=!0,Fe=e}};function Ve(e,t,n,r,i,o,a,s,u){Re=!1,Fe=null,Ae.apply(Be,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ue(e)!==e)throw Error(o(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Xe=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,$e=i.unstable_requestPaint,Qe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ft(s):0!==(o&=a)&&(r=ft(o))}else 0!==(a=n&~i)?r=ft(a):0!==o&&(r=ft(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function mt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,Et,kt,Ct,St=!1,Nt=[],Tt=null,It=null,Dt=null,Mt=new Map,Ot=new Map,Pt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function At(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Rt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=mi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void Ct(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function jt(e,t,n){zt(e)&&n.delete(t)}function Bt(){St=!1,null!==Tt&&zt(Tt)&&(Tt=null),null!==It&&zt(It)&&(It=null),null!==Dt&&zt(Dt)&&(Dt=null),Mt.forEach(jt),Ot.forEach(jt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return Vt(t,e)}if(0<Nt.length){Vt(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Vt(Tt,e),null!==It&&Vt(It,e),null!==Dt&&Vt(Dt,e),Mt.forEach(t),Ot.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Pt.shift()}var Gt=_.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var i=bt,o=Gt.transition;Gt.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=i,Gt.transition=o}}function Yt(e,t,n,r){var i=bt,o=Gt.transition;Gt.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=i,Gt.transition=o}}function Wt(e,t,n,r){if(Ht){var i=Kt(e,t,n,r);if(null===i)Hr(e,t,r,Xt,n),At(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Rt(Tt,e,t,n,r,i),!0;case"dragenter":return It=Rt(It,e,t,n,r,i),!0;case"mouseover":return Dt=Rt(Dt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Mt.set(o,Rt(Mt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ot.set(o,Rt(Ot.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(At(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=Kt(e,t,n,r))&&Hr(e,t,r,Xt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Xt=null;function Kt(e,t,n,r){if(Xt=null,null!==(e=mi(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(ln),fn=F({},ln,{view:0,detail:0}),hn=on(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(dn),gn=on(F({},dn,{dataTransfer:0})),vn=on(F({},fn,{relatedTarget:0})),yn=on(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(mn),_n=on(F({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Cn(){return kn}var Sn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=on(Sn),Tn=on(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Dn=on(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=on(Mn),Pn=[9,13,27,32],Ln=c&&"CompositionEvent"in window,An=null;c&&"documentMode"in document&&(An=document.documentMode);var Rn=c&&"TextEvent"in window&&!An,Fn=c&&(!Ln||An&&8<An&&11>=An),zn=String.fromCharCode(32),jn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function qn(e,t,n,r){Se(r),0<(t=Yr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Wn=null;function Xn(e){zr(e,0)}function Kn(e){if(W(_i(e)))return e}function $n(e,t){if("change"===e)return t}var Qn=!1;if(c){var Zn;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Zn=Jn}else Zn=!1;Qn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),Wn=Yn=null)}function nr(e){if("value"===e.propertyName&&Kn(Wn)){var t=[];qn(t,Wn,e,we(e)),Me(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Wn)}function or(e,t){if("click"===e)return Kn(t)}function ar(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,vr=null,yr=null,mr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==X(r)||("selectionStart"in(r=vr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&ur(mr,r)||(mr=r,0<(r=Yr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},kr={};function Cr(e){if(Er[e])return Er[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Er[e]=n[t];return e}c&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Sr=Cr("animationend"),Nr=Cr("animationiteration"),Tr=Cr("animationstart"),Ir=Cr("transitionend"),Dr=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Dr.set(e,t),u(t,[e])}for(var Pr=0;Pr<Mr.length;Pr++){var Lr=Mr[Pr];Or(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Or(Sr,"onAnimationEnd"),Or(Nr,"onAnimationIteration"),Or(Tr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ir,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ar));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,l){if(Ve.apply(this,arguments),Re){if(!Re)throw Error(o(198));var c=Fe;Re=!1,Fe=null,ze||(ze=!0,je=c)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,s,l),o=u}}}if(ze)throw e=je,ze=!1,je=null,e}function jr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Gr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Gr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function Gr(e,t,n,r){switch($t(t)){case 1:var i=qt;break;case 4:i=Yt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=mi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Me((function(){var r=o,i=we(n),a=[];e:{var s=Dr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Nn;break;case"focusin":l="focus",u=vn;break;case"focusout":l="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=In;break;case Sr:case Nr:case Tr:u=yn;break;case Ir:u=Dn;break;case"scroll":u=hn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Tn}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var g=(d=p).stateNode;if(5===d.tag&&null!==g&&(d=g,null!==h&&(null!=(g=Oe(p,h))&&c.push(qr(p,g,d)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(l=n.relatedTarget||n.fromElement)||!mi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?mi(l):null)&&(l!==(f=Ue(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Tn,g="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:_i(u),d=null==l?s:_i(l),(s=new c(g,p+"leave",u,n,i)).target=f,s.relatedTarget=d,g=null,mi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,g=c),f=g,u&&l)e:{for(h=l,p=0,d=c=u;d;d=Wr(d))p++;for(d=0,g=h;g;g=Wr(g))d++;for(;0<p-d;)c=Wr(c),p--;for(;0<d-p;)h=Wr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Wr(c),h=Wr(h)}c=null}else c=null;null!==u&&Xr(a,s,u,c,!1),null!==l&&null!==f&&Xr(a,f,l,c,!0)}if("select"===(u=(s=r?_i(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=$n;else if(Hn(s))if(Qn)v=ar;else{v=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=or);switch(v&&(v=v(e,r))?qn(a,v,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?_i(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(vr=y,yr=r,mr=null);break;case"focusout":mr=yr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(a,n,i)}var m;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(m=en()):(Zt="value"in(Qt=i)?Qt.value:Qt.textContent,Un=!0)),0<(y=Yr(r,b)).length&&(b=new _n(b,e,null,n,i),a.push({event:b,listeners:y}),m?b.data=m:null!==(m=Vn(n))&&(b.data=m))),(m=Rn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(jn=!0,zn);case"textInput":return(e=t.data)===zn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Ln&&Bn(e,t)?(e=en(),Jt=Zt=Qt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}zr(a,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Oe(e,n))&&r.unshift(qr(e,o,i)),null!=(o=Oe(e,t))&&r.push(qr(e,o,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Oe(n,o))&&a.unshift(qr(n,u,s)):i||null!=(u=Oe(n,o))&&a.push(qr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Kr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace($r,"")}function Zr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,gi="__reactEvents$"+fi,vi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function mi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[di]||null}var xi=[],Ei=-1;function ki(e){return{current:e}}function Ci(e){0>Ei||(e.current=xi[Ei],xi[Ei]=null,Ei--)}function Si(e,t){Ei++,xi[Ei]=e.current,e.current=t}var Ni={},Ti=ki(Ni),Ii=ki(!1),Di=Ni;function Mi(e,t){var n=e.type.contextTypes;if(!n)return Ni;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ci(Ii),Ci(Ti)}function Li(e,t,n){if(Ti.current!==Ni)throw Error(o(168));Si(Ti,t),Si(Ii,n)}function Ai(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,G(e)||"Unknown",i));return F({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ni,Di=Ti.current,Si(Ti,e),Si(Ii,Ii.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ai(e,t,Di),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ii),Ci(Ti),Si(Ti,e)):Ci(Ii),Si(Ii,n)}var zi=null,ji=!1,Bi=!1;function Vi(e){null===zi?zi=[e]:zi.push(e)}function Ui(){if(!Bi&&null!==zi){Bi=!0;var e=0,t=bt;try{var n=zi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zi=null,ji=!1}catch(i){throw null!==zi&&(zi=zi.slice(e+1)),We(Je,Ui),i}finally{bt=t,Bi=!1}}return null}var Gi=[],Hi=0,qi=null,Yi=0,Wi=[],Xi=0,Ki=null,$i=1,Qi="";function Zi(e,t){Gi[Hi++]=Yi,Gi[Hi++]=qi,qi=e,Yi=t}function Ji(e,t,n){Wi[Xi++]=$i,Wi[Xi++]=Qi,Wi[Xi++]=Ki,Ki=e;var r=$i;e=Qi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$i=1<<32-at(t)+i|n<<i|r,Qi=o+e}else $i=1<<o|n<<i|r,Qi=e}function eo(e){null!==e.return&&(Zi(e,1),Ji(e,1,0))}function to(e){for(;e===qi;)qi=Gi[--Hi],Gi[Hi]=null,Yi=Gi[--Hi],Gi[Hi]=null;for(;e===Ki;)Ki=Wi[--Xi],Wi[Xi]=null,Qi=Wi[--Xi],Wi[Xi]=null,$i=Wi[--Xi],Wi[Xi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Ml(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:$i,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ml(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function lo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=li(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=li(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?li(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=li(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var vo=_.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var mo=ki(null),bo=null,_o=null,wo=null;function xo(){wo=_o=bo=null}function Eo(e){var t=mo.current;Ci(mo),e._currentValue=t}function ko(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Co(e,t){bo=e,wo=_o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function So(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===_o){if(null===bo)throw Error(o(308));_o=e,bo.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var No=null;function To(e){null===No?No=[e]:No.push(e)}function Io(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,To(t)):(n.next=i.next,i.next=n),t.interleaved=n,Do(e,r)}function Do(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Po(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ao(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Do(e,n)}return null===(i=r.interleaved)?(t.next=t,To(r)):(t.next=i.next,i.next=t),r.interleaved=t,Do(e,n)}function Ro(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zo(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===a?o=l:a.next=l,a=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==o){var f=i.baseState;for(a=0,c=l=u=null,s=o;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(h=t,d=n,g.tag){case 1:if("function"===typeof(p=g.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Mo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=f):c=c.next=d,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ru|=a,e.lanes=a,e.memoizedState=f}}function jo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Bo=(new r.Component).refs;function Vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Uo={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),o=Lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ao(e,o,i))&&(nl(t,e,i,r),Ro(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),o=Lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ao(e,o,i))&&(nl(t,e,i,r),Ro(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ao(e,i,r))&&(nl(t,e,r,n),Ro(t,e,r))}};function Go(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Ho(e,t,n){var r=!1,i=Ni,o=t.contextType;return"object"===typeof o&&null!==o?o=So(o):(i=Oi(t)?Di:Ti.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Mi(e,i):Ni),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Uo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function qo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Uo.enqueueReplaceState(t,t.state,null)}function Yo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Bo,Oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=So(o):(o=Oi(t)?Di:Ti.current,i.context=Mi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Uo.enqueueReplaceState(i,i.state,null),zo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Bo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Xo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ko(e){return(0,e._init)(e._payload)}function $o(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===O&&Ko(o)===t.type)?((r=i(t,n.props)).ref=Wo(e,t,n),r.return=e,r):((r=Ll(n.type,n.key,n.props,null,e.mode,r)).ref=Wo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Al(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ll(t.type,t.key,t.props,null,e.mode,n)).ref=Wo(e,null,t),n.return=e,n;case x:return(t=zl(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||A(t))return(t=Al(t,e.mode,n,null)).return=e,t;Xo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||A(n))return null!==i?null:f(e,t,n,r,null);Xo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||A(r))return f(t,e=e.get(n)||null,r,i,null);Xo(t,r)}return null}function g(i,o,s,u){for(var l=null,c=null,f=o,g=o=0,v=null;null!==f&&g<s.length;g++){f.index>g?(v=f,f=null):v=f.sibling;var y=d(i,f,s[g],u);if(null===y){null===f&&(f=v);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,g),null===c?l=y:c.sibling=y,c=y,f=v}if(g===s.length)return n(i,f),io&&Zi(i,g),l;if(null===f){for(;g<s.length;g++)null!==(f=h(i,s[g],u))&&(o=a(f,o,g),null===c?l=f:c.sibling=f,c=f);return io&&Zi(i,g),l}for(f=r(i,f);g<s.length;g++)null!==(v=p(f,i,g,s[g],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),o=a(v,o,g),null===c?l=v:c.sibling=v,c=v);return e&&f.forEach((function(e){return t(i,e)})),io&&Zi(i,g),l}function v(i,s,u,l){var c=A(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var f=c=null,g=s,v=s=0,y=null,m=u.next();null!==g&&!m.done;v++,m=u.next()){g.index>v?(y=g,g=null):y=g.sibling;var b=d(i,g,m.value,l);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(i,g),s=a(b,s,v),null===f?c=b:f.sibling=b,f=b,g=y}if(m.done)return n(i,g),io&&Zi(i,v),c;if(null===g){for(;!m.done;v++,m=u.next())null!==(m=h(i,m.value,l))&&(s=a(m,s,v),null===f?c=m:f.sibling=m,f=m);return io&&Zi(i,v),c}for(g=r(i,g);!m.done;v++,m=u.next())null!==(m=p(g,i,v,m.value,l))&&(e&&null!==m.alternate&&g.delete(null===m.key?v:m.key),s=a(m,s,v),null===f?c=m:f.sibling=m,f=m);return e&&g.forEach((function(e){return t(i,e)})),io&&Zi(i,v),c}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var l=a.key,c=o;null!==c;){if(c.key===l){if((l=a.type)===E){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===O&&Ko(l)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=Wo(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===E?((o=Al(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Ll(a.type,a.key,a.props,null,r.mode,u)).ref=Wo(r,o,a),u.return=r,r=u)}return s(r);case x:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=zl(a,r.mode,u)).return=r,r=o}return s(r);case O:return e(r,o,(c=a._init)(a._payload),u)}if(te(a))return g(r,o,a,u);if(A(a))return v(r,o,a,u);Xo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fl(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Qo=$o(!0),Zo=$o(!1),Jo={},ea=ki(Jo),ta=ki(Jo),na=ki(Jo);function ra(e){if(e===Jo)throw Error(o(174));return e}function ia(e,t){switch(Si(na,t),Si(ta,e),Si(ea,Jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(ea),Si(ea,t)}function oa(){Ci(ea),Ci(ta),Ci(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(Si(ta,e),Si(ea,n))}function sa(e){ta.current===e&&(Ci(ea),Ci(ta))}var ua=ki(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function fa(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var ha=_.ReactCurrentDispatcher,da=_.ReactCurrentBatchConfig,pa=0,ga=null,va=null,ya=null,ma=!1,ba=!1,_a=0,wa=0;function xa(){throw Error(o(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ka(e,t,n,r,i,a){if(pa=a,ga=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ba){a=0;do{if(ba=!1,_a=0,25<=a)throw Error(o(301));a+=1,ya=va=null,t.updateQueue=null,ha.current=ls,e=n(r,i)}while(ba)}if(ha.current=as,t=null!==va&&null!==va.next,pa=0,ya=va=ga=null,ma=!1,t)throw Error(o(300));return e}function Ca(){var e=0!==_a;return _a=0,e}function Sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ya?ga.memoizedState=ya=e:ya=ya.next=e,ya}function Na(){if(null===va){var e=ga.alternate;e=null!==e?e.memoizedState:null}else e=va.next;var t=null===ya?ga.memoizedState:ya.next;if(null!==t)ya=t,va=e;else{if(null===e)throw Error(o(310));e={memoizedState:(va=e).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===ya?ga.memoizedState=ya=e:ya=ya.next=e}return ya}function Ta(e,t){return"function"===typeof t?t(e):t}function Ia(e){var t=Na(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=va,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,l=null,c=a;do{var f=c.lane;if((pa&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=h,s=r):l=l.next=h,ga.lanes|=f,Ru|=f}c=c.next}while(null!==c&&c!==a);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ga.lanes|=a,Ru|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Da(e){var t=Na(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(_s=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ma(){}function Oa(e,t){var n=ga,r=Na(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,_s=!0),r=r.queue,Ha(Aa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ya&&1&ya.memoizedState.tag){if(n.flags|=2048,ja(9,La.bind(null,n,r,i,t),void 0,null),null===Iu)throw Error(o(349));0!==(30&pa)||Pa(n,t,i)}return i}function Pa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function La(e,t,n,r){t.value=n,t.getSnapshot=r,Ra(t)&&Fa(e)}function Aa(e,t,n){return n((function(){Ra(t)&&Fa(e)}))}function Ra(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fa(e){var t=Do(e,1);null!==t&&nl(t,e,1,-1)}function za(e){var t=Sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ga,e),[t.memoizedState,e]}function ja(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ba(){return Na().memoizedState}function Va(e,t,n,r){var i=Sa();ga.flags|=e,i.memoizedState=ja(1|t,n,void 0,void 0===r?null:r)}function Ua(e,t,n,r){var i=Na();r=void 0===r?null:r;var o=void 0;if(null!==va){var a=va.memoizedState;if(o=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=ja(t,n,o,r))}ga.flags|=e,i.memoizedState=ja(1|t,n,o,r)}function Ga(e,t){return Va(8390656,8,e,t)}function Ha(e,t){return Ua(2048,8,e,t)}function qa(e,t){return Ua(4,2,e,t)}function Ya(e,t){return Ua(4,4,e,t)}function Wa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4,4,Wa.bind(null,t,e),n)}function Ka(){}function $a(e,t){var n=Na();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qa(e,t){var n=Na();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Za(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),ga.lanes|=n,Ru|=n,e.baseState=!0),t)}function Ja(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{bt=n,da.transition=r}}function es(){return Na().memoizedState}function ts(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Io(e,t,n,r))){nl(n,e,r,el()),os(n,t,r)}}function ns(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,To(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Io(e,t,i,r))&&(nl(n,e,r,i=el()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ga||null!==t&&t===ga}function is(e,t){ba=ma=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}var as={readContext:So,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},ss={readContext:So,useCallback:function(e,t){return Sa().memoizedState=[e,void 0===t?null:t],e},useContext:So,useEffect:Ga,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=Sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ga,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Sa().memoizedState=e},useState:za,useDebugValue:Ka,useDeferredValue:function(e){return Sa().memoizedState=e},useTransition:function(){var e=za(!1),t=e[0];return e=Ja.bind(null,e[1]),Sa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ga,i=Sa();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Iu)throw Error(o(349));0!==(30&pa)||Pa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ga(Aa.bind(null,r,a,e),[e]),r.flags|=2048,ja(9,La.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Sa(),t=Iu.identifierPrefix;if(io){var n=Qi;t=":"+t+"R"+(n=($i&~(1<<32-at($i)-1)).toString(32)+n),0<(n=_a++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:So,useCallback:$a,useContext:So,useEffect:Ha,useImperativeHandle:Xa,useInsertionEffect:qa,useLayoutEffect:Ya,useMemo:Qa,useReducer:Ia,useRef:Ba,useState:function(){return Ia(Ta)},useDebugValue:Ka,useDeferredValue:function(e){return Za(Na(),va.memoizedState,e)},useTransition:function(){return[Ia(Ta)[0],Na().memoizedState]},useMutableSource:Ma,useSyncExternalStore:Oa,useId:es,unstable_isNewReconciler:!1},ls={readContext:So,useCallback:$a,useContext:So,useEffect:Ha,useImperativeHandle:Xa,useInsertionEffect:qa,useLayoutEffect:Ya,useMemo:Qa,useReducer:Da,useRef:Ba,useState:function(){return Da(Ta)},useDebugValue:Ka,useDeferredValue:function(e){var t=Na();return null===va?t.memoizedState=e:Za(t,va.memoizedState,e)},useTransition:function(){return[Da(Ta)[0],Na().memoizedState]},useMutableSource:Ma,useSyncExternalStore:Oa,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,qu=r),hs(0,t)},n}function gs(e,t,n){(n=Lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Yu?Yu=new Set([this]):Yu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cl.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Lo(-1,1)).tag=2,Ao(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=_.ReactCurrentOwner,_s=!1;function ws(e,t,n,r){t.child=null===e?Zo(t,null,n,r):Qo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return Co(t,i),r=ka(e,t,n,r,o,i),n=Ca(),null===e||_s?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Es(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Ol(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ll(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ks(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Pl(o,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(_s=!0)}}return Ns(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Pu,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Pu,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Si(Pu,Ou),Ou|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Si(Pu,Ou),Ou|=r;return ws(e,t,i,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ns(e,t,n,r,i){var o=Oi(n)?Di:Ti.current;return o=Mi(t,o),Co(t,i),n=ka(e,t,n,r,o,i),r=Ca(),null===e||_s?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ts(e,t,n,r,i){if(Oi(n)){var o=!0;Ri(t)}else o=!1;if(Co(t,i),null===t.stateNode)Gs(e,t),Ho(t,n,r),Yo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=So(l):l=Mi(t,l=Oi(n)?Di:Ti.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&qo(t,a,r,l),Mo=!1;var h=t.memoizedState;a.state=h,zo(t,r,a,i),u=t.memoizedState,s!==r||h!==u||Ii.current||Mo?("function"===typeof c&&(Vo(t,n,c,r),u=t.memoizedState),(s=Mo||Go(t,n,s,r,h,u,l))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Po(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:yo(t.type,s),a.props=l,f=t.pendingProps,h=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=So(u):u=Mi(t,u=Oi(n)?Di:Ti.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||h!==u)&&qo(t,a,r,u),Mo=!1,h=t.memoizedState,a.state=h,zo(t,r,a,i);var p=t.memoizedState;s!==f||h!==p||Ii.current||Mo?("function"===typeof d&&(Vo(t,n,d,r),p=t.memoizedState),(l=Mo||Go(t,n,l,r,h,p,u)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Is(e,t,n,r,o,i)}function Is(e,t,n,r,i,o){Ss(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),Hs(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Qo(t,e.child,null,o),t.child=Qo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ds(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),ia(e,t.containerInfo)}function Ms(e,t,n,r,i){return po(),go(i),t.flags|=256,ws(e,t,n,r),t.child}var Os,Ps,Ls,As={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,a=ua.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Si(ua,1&a),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Rl(u,i,0,null),e=Al(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=As,e):zs(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,js(e,t,s,r=fs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Rl({mode:"visible",children:r.children},i,0,null),(a=Al(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Qo(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=As,a);if(0===(1&t.mode))return js(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,js(e,t,s,r=fs(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),_s||u){if(null!==(r=Iu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Do(e,i),nl(r,e,i,-1))}return gl(),js(e,t,s,r=fs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Nl.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=li(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Wi[Xi++]=$i,Wi[Xi++]=Qi,Wi[Xi++]=Ki,$i=e.id,Qi=e.overflow,Ki=t),(t=zs(t,r.children)).flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Pl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Pl(r,s):(s=Al(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Rs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=As,i}return e=(s=e.child).sibling,i=Pl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zs(e,t){return(t=Rl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){return null!==r&&go(r),Qo(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ko(e.return,t,n)}function Vs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Us(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===la(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,o);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ru|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Pl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ys(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ws(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(t),null;case 1:case 17:return Oi(t.type)&&Pi(),Ys(t),null;case 3:return r=t.stateNode,oa(),Ci(Ii),Ci(Ti),fa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(al(oo),oo=null))),Ys(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ys(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Ar.length;i++)jr(Ar[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":$(r,a),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},jr("invalid",r);break;case"textarea":ie(r,a),jr("invalid",r)}for(var u in me(n,a),i=null,a)if(a.hasOwnProperty(u)){var l=a[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&jr("scroll",r)}switch(n){case"input":Y(r),J(r,a,!0);break;case"textarea":Y(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Os(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ar.length;i++)jr(Ar[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":$(e,r),i=K(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(a in me(n,i),l=i)if(l.hasOwnProperty(a)){var c=l[a];"style"===a?ve(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&jr("scroll",e):null!=c&&b(e,a,c,u))}switch(n){case"input":Y(e),J(e,r,!1);break;case"textarea":Y(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ys(t),null;case 6:if(e&&null!=t.stateNode)Ls(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ys(t),null;case 13:if(Ci(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ys(t),a=!1}else null!==oo&&(al(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===Lu&&(Lu=3):gl())),null!==t.updateQueue&&(t.flags|=4),Ys(t),null);case 4:return oa(),null===e&&Ur(t.stateNode.containerInfo),Ys(t),null;case 10:return Eo(t.type._context),Ys(t),null;case 19:if(Ci(ua),null===(a=t.memoizedState))return Ys(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)qs(a,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=la(e))){for(t.flags|=128,qs(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Uu&&(t.flags|=128,r=!0,qs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Ys(t),null}else 2*Qe()-a.renderingStartTime>Uu&&1073741824!==n&&(t.flags|=128,r=!0,qs(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=ua.current,Si(ua,r?1&n|2:1&n),t):(Ys(t),null);case 22:case 23:return fl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Ys(t),6&t.subtreeFlags&&(t.flags|=8192)):Ys(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Xs(e,t){switch(to(t),t.tag){case 1:return Oi(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ci(Ii),Ci(Ti),fa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ci(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(ua),null;case 4:return oa(),null;case 10:return Eo(t.type._context),null;case 22:case 23:return fl(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=K(e,i),r=K(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in me(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&jr("scroll",e),a||u===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ks=!1,$s=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Zs=null;function Js(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kl(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){kl(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&eu(t,n,o)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[gi],delete t[vi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var cu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:$s||Js(n,t);case 6:var r=cu,i=fu;cu=null,hu(e,t,n),fu=i,null!==(cu=r)&&(fu?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(fu?(e=cu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Ut(e)):ui(cu,n.stateNode));break;case 4:r=cu,i=fu,cu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),cu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&eu(n,t,a),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!$s&&(Js(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){kl(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,hu(e,t,n),$s=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Tl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,fu=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===cu)throw Error(o(160));du(a,s,i),cu=null,fu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){kl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vu(t,e),t=t.sibling}function vu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(v){kl(e,e.return,v)}try{nu(5,e,e.return)}catch(v){kl(e,e.return,v)}}break;case 1:gu(t,e),yu(e),512&r&&null!==n&&Js(n,n.return);break;case 5:if(gu(t,e),yu(e),512&r&&null!==n&&Js(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(v){kl(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===a.type&&null!=a.name&&Q(i,a),be(u,s);var c=be(u,a);for(s=0;s<l.length;s+=2){var f=l[s],h=l[s+1];"style"===f?ve(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,c)}switch(u){case"input":Z(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(v){kl(e,e.return,v)}}break;case 6:if(gu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){kl(e,e.return,v)}}break;case 3:if(gu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(v){kl(e,e.return,v)}break;case 4:default:gu(t,e),yu(e);break;case 13:gu(t,e),yu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vu=Qe())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($s=(c=$s)||f,gu(t,e),$s=c):gu(t,e),yu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Js(d,d.return);var g=d.stateNode;if("function"===typeof g.componentWillUnmount){r=d,n=d.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){kl(r,n,v)}}break;case 5:Js(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Zs=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ge("display",s))}catch(v){kl(e,e.return,v)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){kl(e,e.return,v)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(au(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,su(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;uu(e,su(e),a);break;default:throw Error(o(161))}}catch(s){kl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function mu(e,t,n){Zs=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ks;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||$s;s=Ks;var l=$s;if(Ks=a,($s=u)&&!l)for(Zs=i;null!==Zs;)u=(a=Zs).child,22===a.tag&&null!==a.memoizedState?xu(i):null!==u?(u.return=a,Zs=u):xu(i);for(;null!==o;)Zs=o,bu(o,t,n),o=o.sibling;Zs=i,Ks=s,$s=l}_u(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Zs=o):_u(e)}}function _u(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&jo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}jo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(o(163))}$s||512&t.flags&&iu(t)}catch(d){kl(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function wu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){kl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){kl(t,i,u)}}var o=t.return;try{iu(t)}catch(u){kl(t,o,u)}break;case 5:var a=t.return;try{iu(t)}catch(u){kl(t,a,u)}}}catch(u){kl(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Eu,ku=Math.ceil,Cu=_.ReactCurrentDispatcher,Su=_.ReactCurrentOwner,Nu=_.ReactCurrentBatchConfig,Tu=0,Iu=null,Du=null,Mu=0,Ou=0,Pu=ki(0),Lu=0,Au=null,Ru=0,Fu=0,zu=0,ju=null,Bu=null,Vu=0,Uu=1/0,Gu=null,Hu=!1,qu=null,Yu=null,Wu=!1,Xu=null,Ku=0,$u=0,Qu=null,Zu=-1,Ju=0;function el(){return 0!==(6&Tu)?Qe():-1!==Zu?Zu:Zu=Qe()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Tu)&&0!==Mu?Mu&-Mu:null!==vo.transition?(0===Ju&&(Ju=gt()),Ju):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nl(e,t,n,r){if(50<$u)throw $u=0,Qu=null,Error(o(185));yt(e,n,r),0!==(2&Tu)&&e===Iu||(e===Iu&&(0===(2&Tu)&&(Fu|=n),4===Lu&&sl(e,Mu)),rl(e,r),1===n&&0===Tu&&0===(1&t.mode)&&(Uu=Qe()+500,ji&&Ui()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=dt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Iu?Mu:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){ji=!0,Vi(e)}(ul.bind(null,e)):Vi(ul.bind(null,e)),ai((function(){0===(6&Tu)&&Ui()})),n=null;else{switch(_t(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Il(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Zu=-1,Ju=0,0!==(6&Tu))throw Error(o(327));var n=e.callbackNode;if(xl()&&e.callbackNode!==n)return null;var r=ht(e,e===Iu?Mu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vl(e,r);else{t=r;var i=Tu;Tu|=2;var a=pl();for(Iu===e&&Mu===t||(Gu=null,Uu=Qe()+500,hl(e,t));;)try{ml();break}catch(u){dl(e,u)}xo(),Cu.current=a,Tu=i,null!==Du?t=0:(Iu=null,Mu=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Au,hl(e,0),sl(e,r),rl(e,Qe()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vl(e,r))&&(0!==(a=pt(e))&&(r=a,t=ol(e,a))),1===t))throw n=Au,hl(e,0),sl(e,r),rl(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wl(e,Bu,Gu);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=Vu+500-Qe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wl.bind(null,e,Bu,Gu),t);break}wl(e,Bu,Gu);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ku(r/1960))-r)){e.timeoutHandle=ri(wl.bind(null,e,Bu,Gu),r);break}wl(e,Bu,Gu);break;default:throw Error(o(329))}}}return rl(e,Qe()),e.callbackNode===n?il.bind(null,e):null}function ol(e,t){var n=ju;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=vl(e,t))&&(t=Bu,Bu=n,null!==t&&al(t)),e}function al(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function sl(e,t){for(t&=~zu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function ul(e){if(0!==(6&Tu))throw Error(o(327));xl();var t=ht(e,0);if(0===(1&t))return rl(e,Qe()),null;var n=vl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Au,hl(e,0),sl(e,t),rl(e,Qe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,Bu,Gu),rl(e,Qe()),null}function ll(e,t){var n=Tu;Tu|=1;try{return e(t)}finally{0===(Tu=n)&&(Uu=Qe()+500,ji&&Ui())}}function cl(e){null!==Xu&&0===Xu.tag&&0===(6&Tu)&&xl();var t=Tu;Tu|=1;var n=Nu.transition,r=bt;try{if(Nu.transition=null,bt=1,e)return e()}finally{bt=r,Nu.transition=n,0===(6&(Tu=t))&&Ui()}}function fl(){Ou=Pu.current,Ci(Pu)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:oa(),Ci(Ii),Ci(Ti),fa();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ci(ua);break;case 10:Eo(r.type._context);break;case 22:case 23:fl()}n=n.return}if(Iu=e,Du=e=Pl(e.current,null),Mu=Ou=t,Lu=0,Au=null,zu=Fu=Ru=0,Bu=ju=null,null!==No){for(t=0;t<No.length;t++)if(null!==(r=(n=No[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}No=null}return e}function dl(e,t){for(;;){var n=Du;try{if(xo(),ha.current=as,ma){for(var r=ga.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ma=!1}if(pa=0,ya=va=ga=null,ba=!1,_a=0,Su.current=null,null===n||null===n.return){Lu=1,Au=t,Du=null;break}e:{var a=e,s=n.return,u=n,l=t;if(t=Mu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,ms(p,s,u,0,t),1&p.mode&&vs(a,c,t),l=c;var g=(t=p).updateQueue;if(null===g){var v=new Set;v.add(l),t.updateQueue=v}else g.add(l);break e}if(0===(1&t)){vs(a,c,t),gl();break e}l=Error(o(426))}else if(io&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ms(y,s,u,0,t),go(cs(l,u));break e}}a=l=cs(l,u),4!==Lu&&(Lu=2),null===ju?ju=[a]:ju.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,ps(0,l,t));break e;case 1:u=l;var m=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof m.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Yu||!Yu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Fo(a,gs(a,u,t));break e}}a=a.return}while(null!==a)}_l(n)}catch(_){t=_,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function pl(){var e=Cu.current;return Cu.current=as,null===e?as:e}function gl(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Iu||0===(268435455&Ru)&&0===(268435455&Fu)||sl(Iu,Mu)}function vl(e,t){var n=Tu;Tu|=2;var r=pl();for(Iu===e&&Mu===t||(Gu=null,hl(e,t));;)try{yl();break}catch(i){dl(e,i)}if(xo(),Tu=n,Cu.current=r,null!==Du)throw Error(o(261));return Iu=null,Mu=0,Lu}function yl(){for(;null!==Du;)bl(Du)}function ml(){for(;null!==Du&&!Ke();)bl(Du)}function bl(e){var t=Eu(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?_l(e):Du=t,Su.current=null}function _l(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ws(n,t,Ou)))return void(Du=n)}else{if(null!==(n=Xs(n,t)))return n.flags&=32767,void(Du=n);if(null===e)return Lu=6,void(Du=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Lu&&(Lu=5)}function wl(e,t,n){var r=bt,i=Nu.transition;try{Nu.transition=null,bt=1,function(e,t,n,r){do{xl()}while(null!==Xu);if(0!==(6&Tu))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Iu&&(Du=Iu=null,Mu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wu||(Wu=!0,Il(tt,(function(){return xl(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Nu.transition,Nu.transition=null;var s=bt;bt=1;var u=Tu;Tu|=4,Su.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==a||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(u=s),d===a&&++f===r&&(l=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var v=g.memoizedProps,y=g.memoizedState,m=t.stateNode,b=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:yo(t.type,v),y);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(w){kl(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}g=tu,tu=!1}(e,n),vu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,mu(n,e,i),$e(),Tu=u,bt=s,Nu.transition=a}else e.current=n;if(Wu&&(Wu=!1,Xu=e,Ku=i),0===(a=e.pendingLanes)&&(Yu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=qu,qu=null,e;0!==(1&Ku)&&0!==e.tag&&xl(),0!==(1&(a=e.pendingLanes))?e===Qu?$u++:($u=0,Qu=e):$u=0,Ui()}(e,t,n,r)}finally{Nu.transition=i,bt=r}return null}function xl(){if(null!==Xu){var e=_t(Ku),t=Nu.transition,n=bt;try{if(Nu.transition=null,bt=16>e?16:e,null===Xu)var r=!1;else{if(e=Xu,Xu=null,Ku=0,0!==(6&Tu))throw Error(o(331));var i=Tu;for(Tu|=4,Zs=e.current;null!==Zs;){var a=Zs,s=a.child;if(0!==(16&Zs.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Zs=c;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:nu(8,f,a)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(ou(f),f===c){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var g=a.alternate;if(null!==g){var v=g.child;if(null!==v){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(null!==v)}}Zs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(a=Zs).flags))switch(a.tag){case 0:case 11:case 15:nu(9,a,a.return)}var m=a.sibling;if(null!==m){m.return=a.return,Zs=m;break e}Zs=a.return}}var b=e.current;for(Zs=b;null!==Zs;){var _=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,Zs=_;else e:for(s=b;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(x){kl(u,u.return,x)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Tu=i,Ui(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Nu.transition=t}}return!1}function El(e,t,n){e=Ao(e,t=ps(0,t=cs(n,t),1),1),t=el(),null!==e&&(yt(e,1,t),rl(e,t))}function kl(e,t,n){if(3===e.tag)El(e,e,n);else for(;null!==t;){if(3===t.tag){El(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yu||!Yu.has(r))){t=Ao(t,e=gs(t,e=cs(n,e),1),1),e=el(),null!==t&&(yt(t,1,e),rl(t,e));break}}t=t.return}}function Cl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Iu===e&&(Mu&n)===n&&(4===Lu||3===Lu&&(130023424&Mu)===Mu&&500>Qe()-Vu?hl(e,0):zu|=n),rl(e,t)}function Sl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Do(e,t))&&(yt(e,t,n),rl(e,n))}function Nl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sl(e,n)}function Tl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Sl(e,n)}function Il(e,t){return We(e,t)}function Dl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ml(e,t,n,r){return new Dl(e,t,n,r)}function Ol(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pl(e,t){var n=e.alternate;return null===n?((n=Ml(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ol(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Al(n.children,i,a,t);case k:s=8,i|=8;break;case C:return(e=Ml(12,n,t,2|i)).elementType=C,e.lanes=a,e;case I:return(e=Ml(13,n,t,i)).elementType=I,e.lanes=a,e;case D:return(e=Ml(19,n,t,i)).elementType=D,e.lanes=a,e;case P:return Rl(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case N:s=9;break e;case T:s=11;break e;case M:s=14;break e;case O:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ml(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Al(e,t,n,r){return(e=Ml(7,e,r,t)).lanes=n,e}function Rl(e,t,n,r){return(e=Ml(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return(e=Ml(6,e,null,t)).lanes=n,e}function zl(e,t,n){return(t=Ml(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,r,i,o,a,s,u){return e=new jl(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ml(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oo(o),e}function Vl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ul(e){if(!e)return Ni;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Ai(e,n,t)}return t}function Gl(e,t,n,r,i,o,a,s,u){return(e=Bl(n,r,!0,e,0,o,0,s,u)).context=Ul(null),n=e.current,(o=Lo(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Ao(n,o,i),e.current.lanes=i,yt(e,i,r),rl(e,r),e}function Hl(e,t,n,r){var i=t.current,o=el(),a=tl(i);return n=Ul(n),null===t.context?t.context=n:t.pendingContext=n,(t=Lo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ao(i,t,a))&&(nl(e,i,a,o),Ro(e,i,a)),a}function ql(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wl(e,t){Yl(e,t),(e=e.alternate)&&Yl(e,t)}Eu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)_s=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:Ds(t),po();break;case 5:aa(t);break;case 1:Oi(t.type)&&Ri(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(mo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Si(ua,1&ua.current),null!==(e=Hs(e,t,n))?e.sibling:null);Si(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Us(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Hs(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,io&&0!==(1048576&t.flags)&&Ji(t,Yi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gs(e,t),e=t.pendingProps;var i=Mi(t,Ti.current);Co(t,n),i=ka(null,t,r,e,i,n);var a=Ca();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(a=!0,Ri(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oo(t),i.updater=Uo,t.stateNode=i,i._reactInternals=t,Yo(t,r,e,n),t=Is(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ol(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===M)return 14}return 2}(r),e=yo(r,e),i){case 0:t=Ns(null,t,r,e,n);break e;case 1:t=Ts(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Es(null,t,r,yo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 3:e:{if(Ds(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Po(e,t),zo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ms(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=Ms(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=li(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Zo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&lo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Ss(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&lo(t),null;case 13:return Fs(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Qo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Si(mo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ii.current){t=Hs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Lo(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ko(a.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),ko(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Co(t,n),r=r(i=So(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=yo(r=t.type,t.pendingProps),Es(e,t,r,i=yo(r.type,i),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yo(r,i),Gs(e,t),t.tag=1,Oi(r)?(e=!0,Ri(t)):e=!1,Co(t,n),Ho(t,r,i),Yo(t,r,i,n),Is(null,t,r,!0,e,n);case 19:return Us(e,t,n);case 22:return Cs(e,t,n)}throw Error(o(156,t.tag))};var Xl="function"===typeof reportError?reportError:function(e){console.error(e)};function Kl(e){this._internalRoot=e}function $l(e){this._internalRoot=e}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(){}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=ql(a);s.call(e)}}Hl(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=ql(a);o.call(e)}}var a=Gl(t,r,e,0,null,!1,0,"",Jl);return e._reactRootContainer=a,e[pi]=a.current,Ur(8===e.nodeType?e.parentNode:e),cl(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=ql(u);s.call(e)}}var u=Bl(e,0,!1,null,0,!1,0,"",Jl);return e._reactRootContainer=u,e[pi]=u.current,Ur(8===e.nodeType?e.parentNode:e),cl((function(){Hl(t,u,n,r)})),u}(n,t,e,i,r);return ql(a)}$l.prototype.render=Kl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hl(e,t,null,null)},$l.prototype.unmount=Kl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){Hl(null,e,null,null)})),t[pi]=null}},$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(mt(t,1|n),rl(t,Qe()),0===(6&Tu)&&(Uu=Qe()+500,Ui()))}break;case 13:cl((function(){var t=Do(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Wl(e,1)}},xt=function(e){if(13===e.tag){var t=Do(e,134217728);if(null!==t)nl(t,e,134217728,el());Wl(e,134217728)}},Et=function(e){if(13===e.tag){var t=tl(e),n=Do(e,t);if(null!==n)nl(n,e,t,el());Wl(e,t)}},kt=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));W(r),Z(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=ll,Ie=cl;var tc={usingClientEntryPoint:!1,Events:[bi,_i,wi,Se,Ne,ll]},nc={findFiberByHostInstance:mi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),ot=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ql(t))throw Error(o(200));return Vl(e,t,null,n)},t.createRoot=function(e,t){if(!Ql(e))throw Error(o(299));var n=!1,r="",i=Xl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Kl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Zl(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ql(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Xl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Gl(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $l(t)},t.render=function(e,t,n){if(!Zl(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zl(e))throw Error(o(40));return!!e._reactRootContainer&&(cl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},3591:function(e,t,n){"use strict";var r=n(9503);t.s=r.createRoot,r.hydrateRoot},9503:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7975)},8868:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,m=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case f:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case l:case h:case v:case g:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.isFragment=function(e){return w(e)===o},t.isMemo=function(e){return w(e)===g}},9985:function(e,t,n){"use strict";e.exports=n(8868)},5947:function(e,t,n){"use strict";var r=n(1756),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},3244:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var _=b.prototype=new m;_.constructor=b,g(_,y.prototype),_.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,E={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:E.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+T(u,0):o,w(a)?(i="",null!=e&&(i=e.replace(N,"$&/")+"/"),I(a,t,i,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(N,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",w(e))for(var l=0;l<e.length;l++){var c=o+T(s=e[l],l);u+=I(s,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=I(s=s.value,t,i,c=o+T(s,l++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function D(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},P={transition:null},L={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:P,ReactCurrentOwner:E};t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)x.call(t,l)&&!k.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},1756:function(e,t,n){"use strict";e.exports=n(3244)},5887:function(e,t,n){"use strict";e.exports=n(5947)},7878:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>o(u,n))l<i&&0>o(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>o(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,h=null,d=3,p=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,m="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(v=!1,_(e),!g)if(null!==r(l))g=!0,P(x);else{var t=r(c);null!==t&&L(w,t.startTime-e)}}function x(e,n){g=!1,v&&(v=!1,m(S),S=-1),p=!0;var o=d;try{for(_(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!I());){var a=h.callback;if("function"===typeof a){h.callback=null,d=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(l)&&i(l),_(n)}else i(l);h=r(l)}if(null!==h)var u=!0;else{var f=r(c);null!==f&&L(w,f.startTime-n),u=!1}return u}finally{h=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,k=!1,C=null,S=-1,N=5,T=-1;function I(){return!(t.unstable_now()-T<N)}function D(){if(null!==C){var e=t.unstable_now();T=e;var n=!0;try{n=C(!0,e)}finally{n?E():(k=!1,C=null)}}else k=!1}if("function"===typeof b)E=function(){b(D)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,O=M.port2;M.port1.onmessage=D,E=function(){O.postMessage(null)}}else E=function(){y(D,0)};function P(e){C=e,k||(k=!0,E())}function L(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===r(l)&&e===r(c)&&(v?(m(S),S=-1):v=!0,L(w,o-a))):(e.sortIndex=s,n(l,e),g||p||(g=!0,P(x))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},449:function(e,t,n){"use strict";e.exports=n(7878)},7840:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var l=o[u];if(!s(l))return!1;var c=e[l],f=t[l];if(!1===(i=n?n.call(r,c,f,l):void 0)||void 0===i&&c!==f)return!1}return!0}},1746:function(e,t,n){var r=n(9189).default,i=n(8482).default,o=n(9859).default,a=n(6779).default,s=n(6332).default,u=n(4434).default;e.exports=function(){var e=Math.floor,t=Math.abs,l=Math.pow;return function(){function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){return i(t[a][1][e]||e)}),l,l.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}return e}()({1:[function(e,t,n){"use strict";function r(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function i(e,t,n){return 3*(t+n)/4-n}function o(e){var t,n,o=r(e),a=o[0],s=o[1],u=new f(i(e,a,s)),l=0,h=0<s?a-4:a;for(n=0;n<h;n+=4)t=c[e.charCodeAt(n)]<<18|c[e.charCodeAt(n+1)]<<12|c[e.charCodeAt(n+2)]<<6|c[e.charCodeAt(n+3)],u[l++]=255&t>>16,u[l++]=255&t>>8,u[l++]=255&t;return 2===s&&(t=c[e.charCodeAt(n)]<<2|c[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===s&&(t=c[e.charCodeAt(n)]<<10|c[e.charCodeAt(n+1)]<<4|c[e.charCodeAt(n+2)]>>2,u[l++]=255&t>>8,u[l++]=255&t),u}function a(e){return l[63&e>>18]+l[63&e>>12]+l[63&e>>6]+l[63&e]}function s(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(16711680&e[o]<<16)+(65280&e[o+1]<<8)+(255&e[o+2]),i.push(a(r));return i.join("")}function u(e){for(var t,n=e.length,r=n%3,i=[],o=16383,a=0,u=n-r;a<u;a+=o)i.push(s(e,a,a+o>u?u:a+o));return 1===r?(t=e[n-1],i.push(l[t>>2]+l[63&t<<4]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(l[t>>10]+l[63&t>>4]+l[63&t<<2]+"=")),i.join("")}n.byteLength=function(e){var t=r(e),n=t[0],i=t[1];return 3*(n+i)/4-i},n.toByteArray=o,n.fromByteArray=u;for(var l=[],c=[],f="undefined"==typeof Uint8Array?Array:Uint8Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=h.length;d<p;++d)l[d]=h[d],c[h.charCodeAt(d)]=d;c[45]=62,c[95]=63},{}],2:[function(){},{}],3:[function(e,t,n){(function(){(function(){"use strict";var t=String.fromCharCode,r=Math.min;function i(e){if(2147483647<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=o.prototype,t}function o(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return a(e,t,n)}function a(e,t,n){if("string"==typeof e)return f(e,t);if(ArrayBuffer.isView(e))return h(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return d(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return o.from(r,t,n);var i=p(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(0>e)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e,t,n){return s(e),0>=e||void 0===t?i(e):"string"==typeof n?i(e).fill(t,n):i(e).fill(t)}function c(e){return s(e),i(0>e?0:0|g(e))}function f(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!o.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|v(e,t),r=i(n),a=r.write(e,t);return a!==n&&(r=r.slice(0,a)),r}function h(e){for(var t=0>e.length?0:0|g(e.length),n=i(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function d(e,t,n){if(0>t||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n)).__proto__=o.prototype,r}function p(e){if(o.isBuffer(e)){var t=0|g(e.length),n=i(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0===e.length?"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0:"number"!=typeof e.length||W(e.length)?i(0):h(e)}function g(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|e}function v(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=2<arguments.length&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(i)return r?-1:V(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,n){var r=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),0>=n)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return D(this,t,n);case"latin1":case"binary":return M(this,t,n);case"base64":return N(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:-2147483648>n&&(n=-2147483648),W(n=+n)&&(n=i?0:e.length-1),0>n&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(0>n){if(!i)return-1;n=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:_(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,r,i){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var a,s=1,u=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=(r+"").toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(2>e.length||2>t.length)return-1;s=2,u/=2,l/=2,n/=2}if(i){var c=-1;for(a=n;a<u;a++)if(o(e,a)!==o(t,-1===c?0:a-c))-1!==c&&(a-=a-c),c=-1;else if(-1===c&&(c=a),a-c+1===l)return c*s}else for(n+l>u&&(n=u-l),a=n;0<=a;a--){for(var f=!0,h=0;h<l;h++)if(o(e,a+h)!==o(t,h)){f=!1;break}if(f)return a}return-1}function w(e,t,n,r){n=+n||0;var i=e.length-n;r?(r=+r)>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var a,s=0;s<r;++s){if(W(a=parseInt(t.substr(2*s,2),16)))return s;e[n+s]=a}return s}function x(e,t,n,r){return q(V(t,e.length-n),e,n,r)}function E(e,t,n,r){return q(U(t),e,n,r)}function k(e,t,n,r){return E(e,t,n,r)}function C(e,t,n,r){return q(H(t),e,n,r)}function S(e,t,n,r){return q(G(t,e.length-n),e,n,r)}function N(e,t,n){return 0===t&&n===e.length?X.fromByteArray(e):X.fromByteArray(e.slice(t,n))}function T(e,t,n){n=r(e.length,n);for(var i=[],o=t;o<n;){var a,s,u,l,c=e[o],f=null,h=239<c?4:223<c?3:191<c?2:1;o+h<=n&&(1===h?128>c&&(f=c):2===h?128==(192&(a=e[o+1]))&&127<(l=(31&c)<<6|63&a)&&(f=l):3===h?(a=e[o+1],s=e[o+2],128==(192&a)&&128==(192&s)&&2047<(l=(15&c)<<12|(63&a)<<6|63&s)&&(55296>l||57343<l)&&(f=l)):4===h&&(a=e[o+1],s=e[o+2],u=e[o+3],128==(192&a)&&128==(192&s)&&128==(192&u)&&65535<(l=(15&c)<<18|(63&a)<<12|(63&s)<<6|63&u)&&1114112>l&&(f=l))),null===f?(f=65533,h=1):65535<f&&(f-=65536,i.push(55296|1023&f>>>10),f=56320|1023&f),i.push(f),o+=h}return I(i)}function I(e){var n=e.length;if(n<=4096)return t.apply(String,e);for(var r="",i=0;i<n;)r+=t.apply(String,e.slice(i,i+=4096));return r}function D(e,n,i){var o="";i=r(e.length,i);for(var a=n;a<i;++a)o+=t(127&e[a]);return o}function M(e,n,i){var o="";i=r(e.length,i);for(var a=n;a<i;++a)o+=t(e[a]);return o}function O(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=B(e[o]);return i}function P(e,n,r){for(var i=e.slice(n,r),o="",a=0;a<i.length;a+=2)o+=t(i[a]+256*i[a+1]);return o}function L(e,t,n){if(0!=e%1||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,n,r,i,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}function F(e,t,n,r,i){return t=+t,n>>>=0,i||R(e,t,n,4,34028234663852886e22,-34028234663852886e22),K.write(e,t,n,r,23,4),n+4}function z(e,t,n,r,i){return t=+t,n>>>=0,i||R(e,t,n,8,17976931348623157e292,-17976931348623157e292),K.write(e,t,n,r,52,8),n+8}function j(e){if(2>(e=(e=e.split("=")[0]).trim().replace($,"")).length)return"";for(;0!=e.length%4;)e+="=";return e}function B(e){return 16>e?"0"+e.toString(16):e.toString(16)}function V(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&57344>n){if(!i){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&o.push(239,191,189);continue}i=n;continue}if(56320>n){-1<(t-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,128>n){if(0>(t-=1))break;o.push(n)}else if(2048>n){if(0>(t-=2))break;o.push(192|n>>6,128|63&n)}else if(65536>n){if(0>(t-=3))break;o.push(224|n>>12,128|63&n>>6,128|63&n)}else{if(!(1114112>n))throw new Error("Invalid code point");if(0>(t-=4))break;o.push(240|n>>18,128|63&n>>12,128|63&n>>6,128|63&n)}}return o}function U(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function G(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!(0>(t-=2));++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}function H(e){return X.toByteArray(j(e))}function q(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function W(e){return e!==e}var X=e("base64-js"),K=e("ieee754");n.Buffer=o,n.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},n.INSPECT_MAX_BYTES=50,n.kMaxLength=2147483647,o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){return o.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){return o.isBuffer(this)?this.byteOffset:void 0}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(e,t,n){return a(e,t,n)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(e,t,n){return u(e,t,n)},o.allocUnsafe=function(e){return c(e)},o.allocUnsafeSlow=function(e){return c(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(Y(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,i=t.length,a=0,s=r(n,i);a<s;++a)if(e[a]!==t[a]){n=e[a],i=t[a];break}return n<i?-1:i<n?1:0},o.isEncoding=function(e){switch((e+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(Y(a,Uint8Array)&&(a=o.from(a)),!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=v,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(0!=e%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(0!=e%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(0!=e%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},o.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?T(this,0,e):y.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},o.prototype.compare=function(e,t,n,i,a){if(Y(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===a&&(a=this.length),0>t||n>e.length||0>i||a>this.length)throw new RangeError("out of range index");if(i>=a&&t>=n)return 0;if(i>=a)return-1;if(t>=n)return 1;if(this===e)return 0;for(var s=(a>>>=0)-(i>>>=0),u=(n>>>=0)-(t>>>=0),l=r(s,u),c=this.slice(i,a),f=e.slice(t,n),h=0;h<l;++h)if(c[h]!==f[h]){s=c[h],u=f[h];break}return s<u?-1:u<s?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),0<e.length&&(0>n||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":return E(this,e,t,n);case"latin1":case"binary":return k(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){var n=this.length;0>(e=~~e)?0>(e+=n)&&(e=0):e>n&&(e=n),0>(t=void 0===t?n:~~t)?0>(t+=n)&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=o.prototype,r},o.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);for(var r=this[e+--t],i=1;0<t&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=l(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||L(e,t,this.length);for(var r=t,i=1,o=this[e+--r];0<r&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=l(2,8*t)),o},o.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return e>>>=0,t||L(e,4,this.length),K.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||L(e,4,this.length),K.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||L(e,8,this.length),K.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||L(e,8,this.length),K.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||A(this,e,t,n,l(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=255&e/i;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||A(this,e,t,n,l(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;0<=--i&&(o*=256);)this[t+i]=255&e/o;return t+n},o.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=l(2,8*n-1);A(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)0>e&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=255&(e/a>>0)-s;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=l(2,8*n-1);A(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;0<=--o&&(a*=256);)0>e&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=255&(e/a>>0)-s;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,1,127,-128),0>e&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||A(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return z(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return z(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("Index out of range");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var a=i-1;0<=a;--a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&128>i||"latin1"===r)&&(e=i)}}else"number"==typeof e&&(e&=255);if(0>t||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=o.isBuffer(e)?e:o.from(e,r),u=s.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=s[a%u]}return this};var $=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:9}],4:[function(e,t,n){(function(r){(function(){function i(){var e;try{e=n.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof r&&"env"in r&&(e=r.env.DEBUG),e}n.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"===e||(r++,"%c"===e&&(i=r))})),e.splice(i,0,n)}},n.save=function(e){try{e?n.storage.setItem("debug",e):n.storage.removeItem("debug")}catch(e){}},n.load=i,n.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},n.storage=function(){try{return localStorage}catch(e){}}(),n.destroy=function(){var e=!1;return function(){e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}}(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],n.log=console.debug||console.log||function(){},t.exports=e("./common")(n),t.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this)}).call(this,e("_process"))},{"./common":5,_process:12}],5:[function(e,n){n.exports=function(n){function r(e){function t(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];if(t.enabled){var a=t,s=+new Date,u=s-(n||s);a.diff=u,a.prev=n,a.curr=s,n=s,i[0]=r.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var l=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(function(e,t){if("%%"===e)return"%";l++;var n=r.formatters[t];if("function"==typeof n){var o=i[l];e=n.call(a,o),i.splice(l,1),l--}return e})),r.formatArgs.call(a,i),(a.log||r.log).apply(a,i)}}var n,o=null;return t.namespace=e,t.useColors=r.useColors(),t.color=r.selectColor(e),t.extend=i,t.destroy=r.destroy,Object.defineProperty(t,"enabled",{enumerable:!0,configurable:!1,get:function(){return null===o?r.enabled(e):o},set:function(e){o=e}}),"function"==typeof r.init&&r.init(t),t}function i(e,t){var n=r(this.namespace+("undefined"==typeof t?":":t)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){var e=[].concat(u(r.names.map(o)),u(r.skips.map(o).map((function(e){return"-"+e})))).join(",");return r.enable(""),e},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")))},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=e("ms"),r.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(n).forEach((function(e){r[e]=n[e]})),r.names=[],r.skips=[],r.formatters={},r.selectColor=function(e){for(var n=0,i=0;i<e.length;i++)n=(n<<5)-n+e.charCodeAt(i),n|=0;return r.colors[t(n)%r.colors.length]},r.enable(r.load()),r}},{ms:11}],6:[function(e,t){"use strict";function n(e,t){for(var n in t)Object.defineProperty(e,n,{value:t[n],enumerable:!0,configurable:!0});return e}t.exports=function(e,t,r){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");r||(r={}),"object"==typeof t&&(r=t,t=""),t&&(r.code=t);try{return n(e,r)}catch(t){r.message=e.message,r.stack=e.stack;var i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(e)),n(new i,r)}}},{}],7:[function(e,t){"use strict";function n(e){console&&console.warn&&console.warn(e)}function r(){r.init.call(this)}function i(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function o(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function a(e,t,r,a){var s,u,l;if(i(r),void 0===(u=e._events)?(u=e._events=Object.create(null),e._eventsCount=0):(void 0!==u.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),u=e._events),l=u[t]),void 0===l)l=u[t]=r,++e._eventsCount;else if("function"==typeof l?l=u[t]=a?[r,l]:[l,r]:a?l.unshift(r):l.push(r),0<(s=o(e))&&l.length>s&&!l.warned){l.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=l.length,n(c)}return e}function s(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=s.bind(r);return i.listener=n,r.wrapFn=i,i}function l(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?d(i):f(i,i.length)}function c(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function f(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}function h(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function d(e){for(var t=Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function p(e,t,n){"function"==typeof e.on&&g(e,"error",t,n)}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}var v,y="object"==typeof Reflect?Reflect:null,m=y&&"function"==typeof y.apply?y.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};v=y&&"function"==typeof y.ownKeys?y.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var b=Number.isNaN||function(e){return e!==e};t.exports=r,t.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&p(e,i,{once:!0})}))},r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var _=10;Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return _},set:function(e){if("number"!=typeof e||0>e||b(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");_=e}}),r.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(e){if("number"!=typeof e||0>e||b(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return o(this)},r.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(0<t.length&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)m(s,this,t);else{var u=s.length,l=f(s,u);for(n=0;n<u;++n)m(l[n],this,t)}return!0},r.prototype.addListener=function(e,t){return a(this,e,t,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(e,t){return a(this,e,t,!0)},r.prototype.once=function(e,t){return i(t),this.on(e,u(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){return i(t),this.prependListener(e,u(this,e,t)),this},r.prototype.removeListener=function(e,t){var n,r,o,a,s;if(i(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,a=n.length-1;0<=a;a--)if(n[a]===t||n[a].listener===t){s=n[a].listener,o=a;break}if(0>o)return this;0===o?n.shift():h(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;0<=r;r--)this.removeListener(e,t[r]);return this},r.prototype.listeners=function(e){return l(this,e,!0)},r.prototype.rawListeners=function(e){return l(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):c.call(e,t)},r.prototype.listenerCount=c,r.prototype.eventNames=function(){return 0<this._eventsCount?v(this._events):[]}},{}],8:[function(e,t){t.exports=function(){if("undefined"==typeof globalThis)return null;var e={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null}},{}],9:[function(n,r,i){i.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,f=-7,h=n?i-1:0,d=n?-1:1,p=e[t+h];for(h+=d,o=p&(1<<-f)-1,p>>=-f,f+=s;0<f;o=256*o+e[t+h],h+=d,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=r;0<f;a=256*a+e[t+h],h+=d,f-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=l(2,r),o-=c}return(p?-1:1)*a*l(2,o-r)},i.write=function(n,r,i,o,a,s){var u,c,f,h=Math.LN2,d=Math.log,p=8*s-a-1,g=(1<<p)-1,v=g>>1,y=23===a?l(2,-24)-l(2,-77):0,m=o?0:s-1,b=o?1:-1,_=0>r||0===r&&0>1/r?1:0;for(r=t(r),isNaN(r)||r===1/0?(c=isNaN(r)?1:0,u=g):(u=e(d(r)/h),1>r*(f=l(2,-u))&&(u--,f*=2),2<=(r+=1<=u+v?y/f:y*l(2,1-v))*f&&(u++,f/=2),u+v>=g?(c=0,u=g):1<=u+v?(c=(r*f-1)*l(2,a),u+=v):(c=r*l(2,v-1)*l(2,a),u=0));8<=a;n[i+m]=255&c,m+=b,c/=256,a-=8);for(u=u<<a|c,p+=a;0<p;n[i+m]=255&u,m+=b,u/=256,p-=8);n[i+m-b]|=128*_}},{}],10:[function(e,t){t.exports="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},{}],11:[function(e,n){var r=Math.round;function i(e){if(!(100<(e+="").length)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();return"years"===r||"year"===r||"yrs"===r||"yr"===r||"y"===r?315576e5*n:"weeks"===r||"week"===r||"w"===r?6048e5*n:"days"===r||"day"===r||"d"===r?864e5*n:"hours"===r||"hour"===r||"hrs"===r||"hr"===r||"h"===r?36e5*n:"minutes"===r||"minute"===r||"mins"===r||"min"===r||"m"===r?6e4*n:"seconds"===r||"second"===r||"secs"===r||"sec"===r||"s"===r?1e3*n:"milliseconds"===r||"millisecond"===r||"msecs"===r||"msec"===r||"ms"===r?n:void 0}}}function o(e){var n=t(e);return 864e5<=n?r(e/864e5)+"d":36e5<=n?r(e/36e5)+"h":6e4<=n?r(e/6e4)+"m":1e3<=n?r(e/1e3)+"s":e+"ms"}function a(e){var n=t(e);return 864e5<=n?s(e,n,864e5,"day"):36e5<=n?s(e,n,36e5,"hour"):6e4<=n?s(e,n,6e4,"minute"):1e3<=n?s(e,n,1e3,"second"):e+" ms"}function s(e,t,n,i){return r(e/n)+" "+i+(t>=1.5*n?"s":"")}n.exports=function(e,t){t=t||{};var n=typeof e;if("string"==n&&0<e.length)return i(e);if("number"===n&&isFinite(e))return t.long?a(e):o(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],12:[function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(n){try{return c.call(null,e,0)}catch(n){return c.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(n){try{return f.call(null,e)}catch(n){return f.call(this,e)}}}function a(){g&&d&&(g=!1,d.length?p=d.concat(p):v=-1,p.length&&s())}function s(){if(!g){var e=i(a);g=!0;for(var t=p.length;t;){for(d=p,p=[];++v<t;)d&&d[v].run();v=-1,t=p.length}d=null,g=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var c,f,h=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var d,p=[],g=!1,v=-1;h.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new u(e,t)),1!==p.length||g||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.prependListener=l,h.prependOnceListener=l,h.listeners=function(){return[]},h.binding=function(){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],13:[function(e,t){(function(e){(function(){var n;t.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"==typeof window?e:window):function(e){return(n||(n=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))}}).call(this)}).call(this,"undefined"==typeof n.g?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:n.g)},{}],14:[function(e,t){(function(n,r){(function(){"use strict";var i=e("safe-buffer").Buffer,o=r.crypto||r.msCrypto;t.exports=o&&o.getRandomValues?function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var r=i.allocUnsafe(e);if(0<e)if(65536<e)for(var a=0;a<e;a+=65536)o.getRandomValues(r.slice(a,a+65536));else o.getRandomValues(r);return"function"==typeof t?n.nextTick((function(){t(null,r)})):r}:function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this)}).call(this,e("_process"),"undefined"==typeof n.g?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:n.g)},{_process:12,"safe-buffer":30}],15:[function(e,t){"use strict";function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function r(e,t,r){function i(e,n,r){return"string"==typeof t?t:t(e,n,r)}r||(r=Error);var o=function(e){function t(t,n,r){return e.call(this,i(t,n,r))||this}return n(t,e),t}(r);o.prototype.name=r.name,o.prototype.code=e,u[e]=o}function i(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return e+""})),2<n?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(e+"")}function o(e,t,n){return e.substr(!n||0>n?0:+n,t.length)===t}function a(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}function s(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}var u={};r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,u;if("string"==typeof t&&o(t,"not ")?(r="must not be",t=t.replace(/^not /,"")):r="must be",a(e," argument"))u="The ".concat(e," ").concat(r," ").concat(i(t,"type"));else{var l=s(e,".")?"property":"argument";u='The "'.concat(e,'" ').concat(l," ").concat(r," ").concat(i(t,"type"))}return u+=". Received type ".concat(typeof n)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=u},{}],16:[function(e,t){(function(n){(function(){"use strict";function r(e){return this instanceof r?(s.call(this,e),u.call(this,e),this.allowHalfOpen=!0,void(e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",i))))):new r(e)}function i(){this._writableState.ended||n.nextTick(o,this)}function o(e){e.end()}var a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=r;var s=e("./_stream_readable"),u=e("./_stream_writable");e("inherits")(r,s);for(var l,c=a(u.prototype),f=0;f<c.length;f++)l=c[f],r.prototype[l]||(r.prototype[l]=u.prototype[l]);Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":18,"./_stream_writable":20,_process:12,inherits:10}],17:[function(e,t){"use strict";function n(e){return this instanceof n?void r.call(this,e):new n(e)}t.exports=n;var r=e("./_stream_transform");e("inherits")(n,r),n.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":19,inherits:10}],18:[function(e,t){(function(n,r){(function(){"use strict";function i(e){return P.from(e)}function o(e){return P.isBuffer(e)||e instanceof L}function a(e,t,n){return"function"==typeof e.prependListener?e.prependListener(t,n):void(e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n))}function s(t,n,r){I=I||e("./_stream_duplex"),t=t||{},"boolean"!=typeof r&&(r=n instanceof I),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=V(this,t,"readableHighWaterMark",r),this.buffer=new j,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(!R&&(R=e("string_decoder/").StringDecoder),this.decoder=new R(t.encoding),this.encoding=t.encoding)}function u(t){if(I=I||e("./_stream_duplex"),!(this instanceof u))return new u(t);var n=this instanceof I;this._readableState=new s(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),O.call(this)}function l(e,t,n,r,o){D("readableAddChunk",t);var a,s=e._readableState;if(null===t)s.reading=!1,p(e,s);else if(o||(a=f(s,t)),a)W(e,a);else if(s.objectMode||t&&0<t.length)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===P.prototype||(t=i(t)),r)s.endEmitted?W(e,new Y):c(e,s,t,!0);else if(s.ended)W(e,new H);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?c(e,s,t,!1):y(e,s)):c(e,s,t,!1)}else r||(s.reading=!1,y(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function c(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&g(e)),y(e,t)}function f(e,t){var n;return o(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new G("chunk",["string","Buffer","Uint8Array"],t)),n}function h(e){return 1073741824<=e?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function d(e,t){return 0>=e||0===t.length&&t.ended?0:t.objectMode?1:e===e?(e>t.highWaterMark&&(t.highWaterMark=h(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0)):t.flowing&&t.length?t.buffer.head.data.length:t.length}function p(e,t){if(D("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?g(e):(t.needReadable=!1,!t.emittedReadable&&(t.emittedReadable=!0,v(e)))}}function g(e){var t=e._readableState;D("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(D("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(v,e))}function v(e){var t=e._readableState;D("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,k(e)}function y(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(m,e,t))}function m(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(D("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function b(e){return function(){var t=e._readableState;D("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&M(e,"data")&&(t.flowing=!0,k(e))}}function _(e){var t=e._readableState;t.readableListening=0<e.listenerCount("readable"),t.resumeScheduled&&!t.paused?t.flowing=!0:0<e.listenerCount("data")&&e.resume()}function w(e){D("readable nexttick read 0"),e.read(0)}function x(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(E,e,t))}function E(e,t){D("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),k(e),t.flowing&&!t.reading&&e.read(0)}function k(e){var t=e._readableState;for(D("flow",t.flowing);t.flowing&&null!==e.read(););}function C(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function S(e){var t=e._readableState;D("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(N,t,e))}function N(e,t){if(D("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function T(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}var I;t.exports=u,u.ReadableState=s,e("events").EventEmitter;var D,M=function(e,t){return e.listeners(t).length},O=e("./internal/streams/stream"),P=e("buffer").Buffer,L=r.Uint8Array||function(){},A=e("util");D=A&&A.debuglog?A.debuglog("stream"):function(){};var R,F,z,j=e("./internal/streams/buffer_list"),B=e("./internal/streams/destroy"),V=e("./internal/streams/state").getHighWaterMark,U=e("../errors").codes,G=U.ERR_INVALID_ARG_TYPE,H=U.ERR_STREAM_PUSH_AFTER_EOF,q=U.ERR_METHOD_NOT_IMPLEMENTED,Y=U.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(u,O);var W=B.errorOrDestroy,X=["error","close","destroy","pause","resume"];Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),u.prototype.destroy=B.destroy,u.prototype._undestroy=B.undestroy,u.prototype._destroy=function(e,t){t(e)},u.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=P.from(e,t),t=""),n=!0),l(this,e,t,!1,n)},u.prototype.unshift=function(e){return l(this,e,null,!0,!1)},u.prototype.isPaused=function(){return!1===this._readableState.flowing},u.prototype.setEncoding=function(t){R||(R=e("string_decoder/").StringDecoder);var n=new R(t);this._readableState.decoder=n,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=n.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this},u.prototype.read=function(e){D("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0===t.highWaterMark?0<t.length:t.length>=t.highWaterMark)||t.ended))return D("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?S(this):g(this),null;if(0===(e=d(e,t))&&t.ended)return 0===t.length&&S(this),null;var r,i=t.needReadable;return D("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&D("length less than watermark",i=!0),t.ended||t.reading?D("reading or ended",i=!1):i&&(D("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,!t.reading&&(e=d(n,t))),null===(r=0<e?C(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(!t.ended&&(t.needReadable=!0),n!==e&&t.ended&&S(this)),null!==r&&this.emit("data",r),r},u.prototype._read=function(){W(this,new q("_read()"))},u.prototype.pipe=function(e,t){function r(e,t){D("onunpipe"),e===h&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,o())}function i(){D("onend"),e.end()}function o(){D("cleanup"),e.removeListener("close",l),e.removeListener("finish",c),e.removeListener("drain",g),e.removeListener("error",u),e.removeListener("unpipe",r),h.removeListener("end",i),h.removeListener("end",f),h.removeListener("data",s),v=!0,d.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&g()}function s(t){D("ondata");var n=e.write(t);D("dest.write",n),!1===n&&((1===d.pipesCount&&d.pipes===e||1<d.pipesCount&&-1!==T(d.pipes,e))&&!v&&(D("false write response, pause",d.awaitDrain),d.awaitDrain++),h.pause())}function u(t){D("onerror",t),f(),e.removeListener("error",u),0===M(e,"error")&&W(e,t)}function l(){e.removeListener("finish",c),f()}function c(){D("onfinish"),e.removeListener("close",l),f()}function f(){D("unpipe"),h.unpipe(e)}var h=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=e;break;case 1:d.pipes=[d.pipes,e];break;default:d.pipes.push(e)}d.pipesCount+=1,D("pipe count=%d opts=%j",d.pipesCount,t);var p=t&&!1===t.end||e===n.stdout||e===n.stderr?f:i;d.endEmitted?n.nextTick(p):h.once("end",p),e.on("unpipe",r);var g=b(h);e.on("drain",g);var v=!1;return h.on("data",s),a(e,"error",u),e.once("close",l),e.once("finish",c),e.emit("pipe",h),d.flowing||(D("pipe resume"),h.resume()),e},u.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=T(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},u.prototype.on=function(e,t){var r=O.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=0<this.listenerCount("readable"),!1!==i.flowing&&this.resume()):"readable"==e&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,D("on readable",i.length,i.reading),i.length?g(this):!i.reading&&n.nextTick(w,this)),r},u.prototype.addListener=u.prototype.on,u.prototype.removeListener=function(e,t){var r=O.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(_,this),r},u.prototype.removeAllListeners=function(e){var t=O.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&n.nextTick(_,this),t},u.prototype.resume=function(){var e=this._readableState;return e.flowing||(D("resume"),e.flowing=!e.readableListening,x(this,e)),e.paused=!1,this},u.prototype.pause=function(){return D("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(D("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},u.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(D("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){D("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<X.length;o++)e.on(X[o],this.emit.bind(this,X[o]));return this._read=function(t){D("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(u.prototype[Symbol.asyncIterator]=function(){return void 0===F&&(F=e("./internal/streams/async_iterator")),F(this)}),Object.defineProperty(u.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(u.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(u.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),u._fromList=C,Object.defineProperty(u.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(u.from=function(t,n){return void 0===z&&(z=e("./internal/streams/from")),z(u,t,n)})}).call(this)}).call(this,e("_process"),"undefined"==typeof n.g?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:n.g)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/async_iterator":21,"./internal/streams/buffer_list":22,"./internal/streams/destroy":23,"./internal/streams/from":25,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,events:7,inherits:10,"string_decoder/":31,util:2}],19:[function(e,t){"use strict";function n(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new u);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function r(e){return this instanceof r?(f.call(this,e),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),void this.on("prefinish",i)):new r(e)}function i(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?o(this,null,null):this._flush((function(t,n){o(e,t,n)}))}function o(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new c;if(e._transformState.transforming)throw new l;return e.push(null)}t.exports=r;var a=e("../errors").codes,s=a.ERR_METHOD_NOT_IMPLEMENTED,u=a.ERR_MULTIPLE_CALLBACK,l=a.ERR_TRANSFORM_ALREADY_TRANSFORMING,c=a.ERR_TRANSFORM_WITH_LENGTH_0,f=e("./_stream_duplex");e("inherits")(r,f),r.prototype.push=function(e,t){return this._transformState.needTransform=!1,f.prototype.push.call(this,e,t)},r.prototype._transform=function(e,t,n){n(new s("_transform()"))},r.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},r.prototype._read=function(){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},r.prototype._destroy=function(e,t){f.prototype._destroy.call(this,e,(function(e){t(e)}))}},{"../errors":15,"./_stream_duplex":16,inherits:10}],20:[function(e,t){(function(n,r){(function(){"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){S(t,e)}}function o(e){return M.from(e)}function a(e){return M.isBuffer(e)||e instanceof O}function s(){}function u(t,n,r){N=N||e("./_stream_duplex"),t=t||{},"boolean"!=typeof r&&(r=n instanceof N),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=L(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===t.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){y(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function l(t){var n=this instanceof(N=N||e("./_stream_duplex"));return n||T.call(l,this)?(this._writableState=new u(t,this,n),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),void D.call(this)):new l(t)}function c(e,t){var r=new U;H(e,r),n.nextTick(t,r)}function f(e,t,r,i){var o;return null===r?o=new V:"string"!=typeof r&&!t.objectMode&&(o=new R("chunk",["string","Buffer"],r)),!o||(H(e,o),n.nextTick(i,o),!1)}function h(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=M.from(t,n)),t}function d(e,t,n,r,i,o){if(!n){var a=h(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else p(e,t,!1,s,r,i,o);return u}function p(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new B("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function g(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(k,e,t),e._writableState.errorEmitted=!0,H(e,i)):(o(i),e._writableState.errorEmitted=!0,H(e,i),k(e,t))}function v(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function y(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if("function"!=typeof o)throw new z;if(v(r),t)g(e,r,i,t,o);else{var a=w(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||_(e,r),i?n.nextTick(m,e,r,a,o):m(e,r,a,o)}}function m(e,t,n,r){n||b(e,t),t.pendingcb--,r(),k(e,t)}function b(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function _(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)o[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;o.allBuffers=u,p(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,c=n.encoding,f=n.callback;if(p(e,t,!1,t.objectMode?1:l.length,l,c,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final((function(n){t.pendingcb--,n&&H(e,n),t.prefinished=!0,e.emit("prefinish"),k(e,t)}))}function E(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(x,e,t)))}function k(e,t){var n=w(t);if(n&&(E(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}function C(e,t,r){t.ending=!0,k(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function S(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}var N;t.exports=l,l.WritableState=u;var T,I={deprecate:e("util-deprecate")},D=e("./internal/streams/stream"),M=e("buffer").Buffer,O=r.Uint8Array||function(){},P=e("./internal/streams/destroy"),L=e("./internal/streams/state").getHighWaterMark,A=e("../errors").codes,R=A.ERR_INVALID_ARG_TYPE,F=A.ERR_METHOD_NOT_IMPLEMENTED,z=A.ERR_MULTIPLE_CALLBACK,j=A.ERR_STREAM_CANNOT_PIPE,B=A.ERR_STREAM_DESTROYED,V=A.ERR_STREAM_NULL_VALUES,U=A.ERR_STREAM_WRITE_AFTER_END,G=A.ERR_UNKNOWN_ENCODING,H=P.errorOrDestroy;e("inherits")(l,D),u.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(u.prototype,"buffer",{get:I.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(T=Function.prototype[Symbol.hasInstance],Object.defineProperty(l,Symbol.hasInstance,{value:function(e){return!!T.call(this,e)||!(this!==l)&&e&&e._writableState instanceof u}})):T=function(e){return e instanceof this},l.prototype.pipe=function(){H(this,new j)},l.prototype.write=function(e,t,n){var r=this._writableState,i=!1,u=!r.objectMode&&a(e);return u&&!M.isBuffer(e)&&(e=o(e)),"function"==typeof t&&(n=t,t=null),u?t="buffer":!t&&(t=r.defaultEncoding),"function"!=typeof n&&(n=s),r.ending?c(this,n):(u||f(this,r,e,n))&&(r.pendingcb++,i=d(this,r,u,e,t,n)),i},l.prototype.cork=function(){this._writableState.corked++},l.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&_(this,e))},l.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())))throw new G(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),l.prototype._write=function(e,t,n){n(new F("_write()"))},l.prototype._writev=null,l.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||C(this,r,n),this},Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),l.prototype.destroy=P.destroy,l.prototype._undestroy=P.undestroy,l.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"),"undefined"==typeof n.g?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:n.g)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/destroy":23,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,inherits:10,"util-deprecate":32}],21:[function(e,t){(function(n){(function(){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return{value:e,done:t}}function o(e){var t=e[c];if(null!==t){var n=e[v].read();null!==n&&(e[p]=null,e[c]=null,e[f]=null,t(i(n,!1)))}}function a(e){n.nextTick(o,e)}function s(e,t){return function(n,r){e.then((function(){return t[d]?void n(i(void 0,!0)):void t[g](n,r)}),r)}}var u,l=e("./end-of-stream"),c=Symbol("lastResolve"),f=Symbol("lastReject"),h=Symbol("error"),d=Symbol("ended"),p=Symbol("lastPromise"),g=Symbol("handlePromise"),v=Symbol("stream"),y=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((u={get stream(){return this[v]},next:function(){var e=this,t=this[h];if(null!==t)return Promise.reject(t);if(this[d])return Promise.resolve(i(void 0,!0));if(this[v].destroyed)return new Promise((function(t,r){n.nextTick((function(){e[h]?r(e[h]):t(i(void 0,!0))}))}));var r,o=this[p];if(o)r=new Promise(s(o,this));else{var a=this[v].read();if(null!==a)return Promise.resolve(i(a,!1));r=new Promise(this[g])}return this[p]=r,r}},r(u,Symbol.asyncIterator,(function(){return this})),r(u,"return",(function(){var e=this;return new Promise((function(t,n){e[v].destroy(null,(function(e){return e?void n(e):void t(i(void 0,!0))}))}))})),u),y);t.exports=function(e){var t,n=Object.create(m,(r(t={},v,{value:e,writable:!0}),r(t,c,{value:null,writable:!0}),r(t,f,{value:null,writable:!0}),r(t,h,{value:null,writable:!0}),r(t,d,{value:e._readableState.endEmitted,writable:!0}),r(t,g,{value:function(e,t){var r=n[v].read();r?(n[p]=null,n[c]=null,n[f]=null,e(i(r,!1))):(n[c]=e,n[f]=t)},writable:!0}),t));return n[p]=null,l(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[f];return null!==t&&(n[p]=null,n[c]=null,n[f]=null,t(e)),void(n[h]=e)}var r=n[c];null!==r&&(n[p]=null,n[c]=null,n[f]=null,r(i(void 0,!0))),n[d]=!0})),e.on("readable",a.bind(null,n)),n}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":24,_process:12}],22:[function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t,r=1;r<arguments.length;r++)t=null==arguments[r]?{}:arguments[r],r%2?n(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n,r=0;r<t.length;r++)(n=t[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function u(e,t,n){l.prototype.copy.call(e,t,n)}var l=e("buffer").Buffer,c=e("util").inspect,f=c&&c.custom||"inspect";t.exports=function(){function e(){o(this,e),this.head=null,this.tail=null,this.length=0}return s(e,[{key:"push",value:function(e){var t={data:e,next:null};0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return l.alloc(0);for(var t=l.allocUnsafe(e>>>0),n=this.head,r=0;n;)u(n.data,t,r),r+=n.data.length,n=n.next;return t}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(r+=o===i.length?i:i.slice(0,e),0===(e-=o)){o===i.length?(++n,this.head=t.next?t.next:this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=l.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++r,this.head=n.next?n.next:this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:f,value:function(e,t){return c(this,r({},t,{depth:0,customInspect:!1}))}}]),e}()},{buffer:3,util:2}],23:[function(e,t){(function(e){(function(){"use strict";function n(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,o){var a=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(o?o(t):t&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!o&&t?a._writableState?a._writableState.errorEmitted?e.nextTick(r,a):(a._writableState.errorEmitted=!0,e.nextTick(n,a,t)):e.nextTick(n,a,t):o?(e.nextTick(r,a),o(t)):e.nextTick(r,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))},{_process:12}],24:[function(e,t){"use strict";function n(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}function r(){}function i(e){return e.setHeader&&"function"==typeof e.abort}function o(e,t,s){if("function"==typeof t)return o(e,null,t);t||(t={}),s=n(s||r);var u=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,c=function(){e.writable||h()},f=e._writableState&&e._writableState.finished,h=function(){l=!1,f=!0,u||s.call(e)},d=e._readableState&&e._readableState.endEmitted,p=function(){u=!1,d=!0,l||s.call(e)},g=function(t){s.call(e,t)},v=function(){var t;return u&&!d?(e._readableState&&e._readableState.ended||(t=new a),s.call(e,t)):l&&!f?(e._writableState&&e._writableState.ended||(t=new a),s.call(e,t)):void 0},y=function(){e.req.on("finish",h)};return i(e)?(e.on("complete",h),e.on("abort",v),e.req?y():e.on("request",y)):l&&!e._writableState&&(e.on("end",c),e.on("close",c)),e.on("end",p),e.on("finish",h),!1!==t.error&&e.on("error",g),e.on("close",v),function(){e.removeListener("complete",h),e.removeListener("abort",v),e.removeListener("request",y),e.req&&e.req.removeListener("finish",h),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",h),e.removeListener("end",p),e.removeListener("error",g),e.removeListener("close",v)}}var a=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;t.exports=o},{"../../../errors":15}],25:[function(e,t){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],26:[function(e,t){"use strict";function n(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}function r(e){if(e)throw e}function i(e){return e.setHeader&&"function"==typeof e.abort}function o(t,r,o,a){a=n(a);var s=!1;t.on("close",(function(){s=!0})),void 0===l&&(l=e("./end-of-stream")),l(t,{readable:r,writable:o},(function(e){return e?a(e):(s=!0,void a())}));var u=!1;return function(e){if(!s)return u?void 0:(u=!0,i(t)?t.abort():"function"==typeof t.destroy?t.destroy():void a(e||new h("pipe")))}}function a(e){e()}function s(e,t){return e.pipe(t)}function u(e){return e.length&&"function"==typeof e[e.length-1]?e.pop():r}var l,c=e("../../../errors").codes,f=c.ERR_MISSING_ARGS,h=c.ERR_STREAM_DESTROYED;t.exports=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=u(t);if(Array.isArray(t[0])&&(t=t[0]),2>t.length)throw new f("streams");var i,l=t.map((function(e,n){var s=n<t.length-1;return o(e,s,0<n,(function(e){i||(i=e),e&&l.forEach(a),s||(l.forEach(a),r(i))}))}));return t.reduce(s)}},{"../../../errors":15,"./end-of-stream":24}],27:[function(t,n){"use strict";function r(e,t,n){return null==e.highWaterMark?t?e[n]:null:e.highWaterMark}var i=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(t,n,o,a){var s=r(n,a,o);if(null!=s){if(!isFinite(s)||e(s)!==s||0>s)throw new i(a?o:"highWaterMark",s);return e(s)}return t.objectMode?16:16384}}},{"../../../errors":15}],28:[function(e,t){t.exports=e("events").EventEmitter},{events:7}],29:[function(e,t,n){(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),n.finished=e("./lib/internal/streams/end-of-stream.js"),n.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":16,"./lib/_stream_passthrough.js":17,"./lib/_stream_readable.js":18,"./lib/_stream_transform.js":19,"./lib/_stream_writable.js":20,"./lib/internal/streams/end-of-stream.js":24,"./lib/internal/streams/pipeline.js":26}],30:[function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return a(e,t,n)}var o=e("buffer"),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=o:(r(o,n),n.Buffer=i),i.prototype=Object.create(a.prototype),r(a,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0===t?r.fill(0):"string"==typeof n?r.fill(t,n):r.fill(t),r},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},{buffer:3}],31:[function(e,t,n){"use strict";function r(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function i(e){var t=r(e);if("string"!=typeof t&&(v.isEncoding===y||!y(e)))throw new Error("Unknown encoding: "+e);return t||e}function o(e){var t;switch(this.encoding=i(e),this.encoding){case"utf16le":this.text=c,this.end=f,t=4;break;case"utf8":this.fillLast=l,t=4;break;case"base64":this.text=h,this.end=d,t=3;break;default:return this.write=p,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=v.allocUnsafe(t)}function a(e){return 127>=e?0:6==e>>5?2:14==e>>4?3:30==e>>3?4:2==e>>6?-1:-2}function s(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);return 0<=i?(0<i&&(e.lastNeed=i-1),i):--r<n||-2===i?0:0<=(i=a(t[r]))?(0<i&&(e.lastNeed=i-2),i):--r<n||-2===i?0:0<=(i=a(t[r]))?(0<i&&(2===i?i=0:e.lastNeed=i-3),i):0}function u(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"\ufffd";if(1<e.lastNeed&&1<t.length){if(128!=(192&t[1]))return e.lastNeed=1,"\ufffd";if(2<e.lastNeed&&2<t.length&&128!=(192&t[2]))return e.lastNeed=2,"\ufffd"}}function l(e){var t=this.lastTotal-this.lastNeed,n=u(this,e,t);return void 0===n?this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length)):n}function c(e,t){if(0==(e.length-t)%2){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(55296<=r&&56319>=r)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function f(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function h(e,t){var n=(e.length-t)%3;return 0==n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1==n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function g(e){return e&&e.length?this.write(e):""}var v=e("safe-buffer").Buffer,y=v.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};n.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var n=s(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){return this.lastNeed<=e.length?(e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),void(this.lastNeed-=e.length))}},{"safe-buffer":30}],32:[function(e,t){(function(e){(function(){function n(t){try{if(!e.localStorage)return!1}catch(e){return!1}var n=e.localStorage[t];return null!=n&&"true"===(n+"").toLowerCase()}t.exports=function(e,t){function r(){if(!i){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}if(n("noDeprecation"))return e;var i=!1;return r}}).call(this)}).call(this,"undefined"==typeof n.g?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:n.g)},{}],"/":[function(e,t){function n(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}function u(e){console.warn(e)}var l=e("debug")("simple-peer"),c=e("get-browser-rtc"),f=e("randombytes"),h=e("readable-stream"),d=e("queue-microtask"),p=e("err-code"),g=e("buffer").Buffer,v=65536,y=function(e){"use strict";a(y,e);var h=s(y);function y(e){var t;if(r(this,y),e=Object.assign({allowHalfOpen:!1},e),(t=h.call(this,e))._id=f(4).toString("hex").slice(0,7),t._debug("new peer %o",e),t.channelName=e.initiator?e.channelName||f(20).toString("hex"):null,t.initiator=e.initiator||!1,t.channelConfig=e.channelConfig||y.channelConfig,t.channelNegotiated=t.channelConfig.negotiated,t.config=Object.assign({},y.config,e.config),t.offerOptions=e.offerOptions||{},t.answerOptions=e.answerOptions||{},t.sdpTransform=e.sdpTransform||function(e){return e},t.streams=e.streams||(e.stream?[e.stream]:[]),t.trickle=void 0===e.trickle||e.trickle,t.allowHalfTrickle=void 0!==e.allowHalfTrickle&&e.allowHalfTrickle,t.iceCompleteTimeout=e.iceCompleteTimeout||5e3,t.destroyed=!1,t.destroying=!1,t._connected=!1,t.remoteAddress=void 0,t.remoteFamily=void 0,t.remotePort=void 0,t.localAddress=void 0,t.localFamily=void 0,t.localPort=void 0,t._wrtc=e.wrtc&&"object"==typeof e.wrtc?e.wrtc:c(),!t._wrtc)throw"undefined"==typeof window?p(new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"),"ERR_WEBRTC_SUPPORT"):p(new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");t._pcReady=!1,t._channelReady=!1,t._iceComplete=!1,t._iceCompleteTimer=null,t._channel=null,t._pendingCandidates=[],t._isNegotiating=!1,t._firstNegotiation=!0,t._batchedNegotiation=!1,t._queuedNegotiation=!1,t._sendersAwaitingStable=[],t._senderMap=new Map,t._closingInterval=null,t._remoteTracks=[],t._remoteStreams=[],t._chunk=null,t._cb=null,t._interval=null;try{t._pc=new t._wrtc.RTCPeerConnection(t.config)}catch(e){return o(t,void t.destroy(p(e,"ERR_PC_CONSTRUCTOR")))}return t._isReactNativeWebrtc="number"==typeof t._pc._peerConnectionId,t._pc.oniceconnectionstatechange=function(){t._onIceStateChange()},t._pc.onicegatheringstatechange=function(){t._onIceStateChange()},t._pc.onconnectionstatechange=function(){t._onConnectionStateChange()},t._pc.onsignalingstatechange=function(){t._onSignalingStateChange()},t._pc.onicecandidate=function(e){t._onIceCandidate(e)},"object"==typeof t._pc.peerIdentity&&t._pc.peerIdentity.catch((function(e){t.destroy(p(e,"ERR_PC_PEER_IDENTITY"))})),t.initiator||t.channelNegotiated?t._setupData({channel:t._pc.createDataChannel(t.channelName,t.channelConfig)}):t._pc.ondatachannel=function(e){t._setupData(e)},t.streams&&t.streams.forEach((function(e){t.addStream(e)})),t._pc.ontrack=function(e){t._onTrack(e)},t._debug("initial negotiation"),t._needsNegotiation(),t._onFinishBound=function(){t._onFinish()},t.once("finish",t._onFinishBound),o(t)}return i(y,[{key:"bufferSize",get:function(){return this._channel&&this._channel.bufferedAmount||0}},{key:"connected",get:function(){return this._connected&&"open"===this._channel.readyState}},{key:"address",value:function(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}},{key:"signal",value:function(e){var n=this;if(!this.destroying){if(this.destroyed)throw p(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e={}}this._debug("signal()"),e.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),e.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(e.transceiverRequest.kind,e.transceiverRequest.init)),e.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(e.candidate):this._pendingCandidates.push(e.candidate)),e.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(e)).then((function(){n.destroyed||(n._pendingCandidates.forEach((function(e){n._addIceCandidate(e)})),n._pendingCandidates=[],"offer"===n._pc.remoteDescription.type&&n._createAnswer())})).catch((function(e){n.destroy(p(e,"ERR_SET_REMOTE_DESCRIPTION"))})),e.sdp||e.candidate||e.renegotiate||e.transceiverRequest||this.destroy(p(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}},{key:"_addIceCandidate",value:function(e){var t=this,n=new this._wrtc.RTCIceCandidate(e);this._pc.addIceCandidate(n).catch((function(e){!n.address||n.address.endsWith(".local")?u("Ignoring unsupported ICE candidate."):t.destroy(p(e,"ERR_ADD_ICE_CANDIDATE"))}))}},{key:"send",value:function(e){if(!this.destroying){if(this.destroyed)throw p(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(e)}}},{key:"addTransceiver",value:function(e,t){if(!this.destroying){if(this.destroyed)throw p(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(e,t),this._needsNegotiation()}catch(e){this.destroy(p(e,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:e,init:t}})}}},{key:"addStream",value:function(e){var t=this;if(!this.destroying){if(this.destroyed)throw p(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),e.getTracks().forEach((function(n){t.addTrack(n,e)}))}}},{key:"addTrack",value:function(e,t){if(!this.destroying){if(this.destroyed)throw p(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");var n=this._senderMap.get(e)||new Map,r=n.get(t);if(r)throw r.removed?p(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):p(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED");r=this._pc.addTrack(e,t),n.set(t,r),this._senderMap.set(e,n),this._needsNegotiation()}}},{key:"replaceTrack",value:function(e,t,n){if(!this.destroying){if(this.destroyed)throw p(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");var r=this._senderMap.get(e),i=r?r.get(n):null;if(!i)throw p(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");t&&this._senderMap.set(t,r),null==i.replaceTrack?this.destroy(p(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):i.replaceTrack(t)}}},{key:"removeTrack",value:function(e,t){if(!this.destroying){if(this.destroyed)throw p(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");var n=this._senderMap.get(e),r=n?n.get(t):null;if(!r)throw p(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{r.removed=!0,this._pc.removeTrack(r)}catch(e){"NS_ERROR_UNEXPECTED"===e.name?this._sendersAwaitingStable.push(r):this.destroy(p(e,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}}},{key:"removeStream",value:function(e){var t=this;if(!this.destroying){if(this.destroyed)throw p(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),e.getTracks().forEach((function(n){t.removeTrack(n,e)}))}}},{key:"_needsNegotiation",value:function(){var e=this;this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,d((function(){e._batchedNegotiation=!1,e.initiator||!e._firstNegotiation?(e._debug("starting batched negotiation"),e.negotiate()):e._debug("non-initiator initial negotiation request discarded"),e._firstNegotiation=!1})))}},{key:"negotiate",value:function(){var e=this;if(!this.destroying){if(this.destroyed)throw p(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout((function(){e._createOffer()}),0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}},{key:"destroy",value:function(e){this._destroy(e,(function(){}))}},{key:"_destroy",value:function(e,t){var n=this;this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",e&&(e.message||e)),d((function(){if(n.destroyed=!0,n.destroying=!1,n._debug("destroy (error: %s)",e&&(e.message||e)),n.readable=n.writable=!1,n._readableState.ended||n.push(null),n._writableState.finished||n.end(),n._connected=!1,n._pcReady=!1,n._channelReady=!1,n._remoteTracks=null,n._remoteStreams=null,n._senderMap=null,clearInterval(n._closingInterval),n._closingInterval=null,clearInterval(n._interval),n._interval=null,n._chunk=null,n._cb=null,n._onFinishBound&&n.removeListener("finish",n._onFinishBound),n._onFinishBound=null,n._channel){try{n._channel.close()}catch(e){}n._channel.onmessage=null,n._channel.onopen=null,n._channel.onclose=null,n._channel.onerror=null}if(n._pc){try{n._pc.close()}catch(e){}n._pc.oniceconnectionstatechange=null,n._pc.onicegatheringstatechange=null,n._pc.onsignalingstatechange=null,n._pc.onicecandidate=null,n._pc.ontrack=null,n._pc.ondatachannel=null}n._pc=null,n._channel=null,e&&n.emit("error",e),n.emit("close"),t()})))}},{key:"_setupData",value:function(e){var t=this;if(!e.channel)return this.destroy(p(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=e.channel,this._channel.binaryType="arraybuffer","number"==typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=v),this.channelName=this._channel.label,this._channel.onmessage=function(e){t._onChannelMessage(e)},this._channel.onbufferedamountlow=function(){t._onChannelBufferedAmountLow()},this._channel.onopen=function(){t._onChannelOpen()},this._channel.onclose=function(){t._onChannelClose()},this._channel.onerror=function(e){var n=e.error instanceof Error?e.error:new Error("Datachannel error: ".concat(e.message," ").concat(e.filename,":").concat(e.lineno,":").concat(e.colno));t.destroy(p(n,"ERR_DATA_CHANNEL"))};var n=!1;this._closingInterval=setInterval((function(){t._channel&&"closing"===t._channel.readyState?(n&&t._onChannelClose(),n=!0):n=!1}),5e3)}},{key:"_read",value:function(){}},{key:"_write",value:function(e,t,n){if(this.destroyed)return n(p(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(e)}catch(e){return this.destroy(p(e,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>v?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=n):n(null)}else this._debug("write before connect"),this._chunk=e,this._cb=n}},{key:"_onFinish",value:function(){var e=this;if(!this.destroyed){var t=function(){setTimeout((function(){return e.destroy()}),1e3)};this._connected?t():this.once("connect",t)}}},{key:"_startIceCompleteTimeout",value:function(){var e=this;this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout((function(){e._iceComplete||(e._iceComplete=!0,e._debug("iceComplete timeout completed"),e.emit("iceTimeout"),e.emit("_iceComplete"))}),this.iceCompleteTimeout))}},{key:"_createOffer",value:function(){var e=this;this.destroyed||this._pc.createOffer(this.offerOptions).then((function(t){if(!e.destroyed){e.trickle||e.allowHalfTrickle||(t.sdp=n(t.sdp)),t.sdp=e.sdpTransform(t.sdp);var r=function(){if(!e.destroyed){var n=e._pc.localDescription||t;e._debug("signal"),e.emit("signal",{type:n.type,sdp:n.sdp})}};e._pc.setLocalDescription(t).then((function(){e._debug("createOffer success"),e.destroyed||(e.trickle||e._iceComplete?r():e.once("_iceComplete",r))})).catch((function(t){e.destroy(p(t,"ERR_SET_LOCAL_DESCRIPTION"))}))}})).catch((function(t){e.destroy(p(t,"ERR_CREATE_OFFER"))}))}},{key:"_requestMissingTransceivers",value:function(){var e=this;this._pc.getTransceivers&&this._pc.getTransceivers().forEach((function(t){t.mid||!t.sender.track||t.requested||(t.requested=!0,e.addTransceiver(t.sender.track.kind))}))}},{key:"_createAnswer",value:function(){var e=this;this.destroyed||this._pc.createAnswer(this.answerOptions).then((function(t){if(!e.destroyed){e.trickle||e.allowHalfTrickle||(t.sdp=n(t.sdp)),t.sdp=e.sdpTransform(t.sdp);var r=function(){if(!e.destroyed){var n=e._pc.localDescription||t;e._debug("signal"),e.emit("signal",{type:n.type,sdp:n.sdp}),e.initiator||e._requestMissingTransceivers()}};e._pc.setLocalDescription(t).then((function(){e.destroyed||(e.trickle||e._iceComplete?r():e.once("_iceComplete",r))})).catch((function(t){e.destroy(p(t,"ERR_SET_LOCAL_DESCRIPTION"))}))}})).catch((function(t){e.destroy(p(t,"ERR_CREATE_ANSWER"))}))}},{key:"_onConnectionStateChange",value:function(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy(p(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}},{key:"_onIceStateChange",value:function(){if(!this.destroyed){var e=this._pc.iceConnectionState,t=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",e,t),this.emit("iceStateChange",e,t),("connected"===e||"completed"===e)&&(this._pcReady=!0,this._maybeReady()),"failed"===e&&this.destroy(p(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),"closed"===e&&this.destroy(p(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}}},{key:"getStats",value:function(e){var t=this,n=function(e){return"[object Array]"===Object.prototype.toString.call(e.values)&&e.values.forEach((function(t){Object.assign(e,t)})),e};0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then((function(t){var r=[];t.forEach((function(e){r.push(n(e))})),e(null,r)}),(function(t){return e(t)})):0<this._pc.getStats.length?this._pc.getStats((function(r){if(!t.destroyed){var i=[];r.result().forEach((function(e){var t={};e.names().forEach((function(n){t[n]=e.stat(n)})),t.id=e.id,t.type=e.type,t.timestamp=e.timestamp,i.push(n(t))})),e(null,i)}}),(function(t){return e(t)})):e(null,[])}},{key:"_maybeReady",value:function(){var e=this;if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),!this._connected&&!this._connecting&&this._pcReady&&this._channelReady){this._connecting=!0;var t=function t(){e.destroyed||e.getStats((function(n,r){if(!e.destroyed){n&&(r=[]);var i={},o={},a={},s=!1;r.forEach((function(e){("remotecandidate"===e.type||"remote-candidate"===e.type)&&(i[e.id]=e),("localcandidate"===e.type||"local-candidate"===e.type)&&(o[e.id]=e),("candidatepair"===e.type||"candidate-pair"===e.type)&&(a[e.id]=e)}));var u=function(t){s=!0;var n=o[t.localCandidateId];n&&(n.ip||n.address)?(e.localAddress=n.ip||n.address,e.localPort=+n.port):n&&n.ipAddress?(e.localAddress=n.ipAddress,e.localPort=+n.portNumber):"string"==typeof t.googLocalAddress&&(n=t.googLocalAddress.split(":"),e.localAddress=n[0],e.localPort=+n[1]),e.localAddress&&(e.localFamily=e.localAddress.includes(":")?"IPv6":"IPv4");var r=i[t.remoteCandidateId];r&&(r.ip||r.address)?(e.remoteAddress=r.ip||r.address,e.remotePort=+r.port):r&&r.ipAddress?(e.remoteAddress=r.ipAddress,e.remotePort=+r.portNumber):"string"==typeof t.googRemoteAddress&&(r=t.googRemoteAddress.split(":"),e.remoteAddress=r[0],e.remotePort=+r[1]),e.remoteAddress&&(e.remoteFamily=e.remoteAddress.includes(":")?"IPv6":"IPv4"),e._debug("connect local: %s:%s remote: %s:%s",e.localAddress,e.localPort,e.remoteAddress,e.remotePort)};if(r.forEach((function(e){"transport"===e.type&&e.selectedCandidatePairId&&u(a[e.selectedCandidatePairId]),("googCandidatePair"===e.type&&"true"===e.googActiveConnection||("candidatepair"===e.type||"candidate-pair"===e.type)&&e.selected)&&u(e)})),s||Object.keys(a).length&&!Object.keys(o).length){if(e._connecting=!1,e._connected=!0,e._chunk){try{e.send(e._chunk)}catch(t){return e.destroy(p(t,"ERR_DATA_CHANNEL"))}e._chunk=null,e._debug('sent chunk from "write before connect"');var l=e._cb;e._cb=null,l(null)}"number"!=typeof e._channel.bufferedAmountLowThreshold&&(e._interval=setInterval((function(){return e._onInterval()}),150),e._interval.unref&&e._interval.unref()),e._debug("connect"),e.emit("connect")}else setTimeout(t,100)}}))};t()}}},{key:"_onInterval",value:function(){this._cb&&this._channel&&!(this._channel.bufferedAmount>v)&&this._onChannelBufferedAmountLow()}},{key:"_onSignalingStateChange",value:function(){var e=this;this.destroyed||("stable"===this._pc.signalingState&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach((function(t){e._pc.removeTrack(t),e._queuedNegotiation=!0})),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}},{key:"_onIceCandidate",value:function(e){this.destroyed||(e.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):!e.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),e.candidate&&this._startIceCompleteTimeout())}},{key:"_onChannelMessage",value:function(e){if(!this.destroyed){var t=e.data;t instanceof ArrayBuffer&&(t=g.from(t)),this.push(t)}}},{key:"_onChannelBufferedAmountLow",value:function(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);var e=this._cb;this._cb=null,e(null)}}},{key:"_onChannelOpen",value:function(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}},{key:"_onChannelClose",value:function(){this.destroyed||(this._debug("on channel close"),this.destroy())}},{key:"_onTrack",value:function(e){var t=this;this.destroyed||e.streams.forEach((function(n){t._debug("on track"),t.emit("track",e.track,n),t._remoteTracks.push({track:e.track,stream:n}),t._remoteStreams.some((function(e){return e.id===n.id}))||(t._remoteStreams.push(n),d((function(){t._debug("on stream"),t.emit("stream",n)})))}))}},{key:"_debug",value:function(){var e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],l.apply(null,e)}}]),y}(h.Duplex);y.WEBRTC_SUPPORT=!!c(),y.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},y.channelConfig={},t.exports=y},{buffer:3,debug:4,"err-code":6,"get-browser-rtc":8,"queue-microtask":13,randombytes:14,"readable-stream":29}]},{},[])("/")}()},7187:function(e){"use strict";e.exports=2147483647},2201:function(e,t,n){"use strict";var r=n(9052),i=n(7187);e.exports=function(e){if((e=r(e))>i)throw new TypeError(e+" exceeds maximum possible timeout");return e}},3229:function(e,t,n){"use strict";var r=n(4001);e.exports=function(e){if("function"!==typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!==typeof e.length)return!1;if("function"!==typeof e.call)return!1;if("function"!==typeof e.apply)return!1}catch(t){return!1}return!r(e)}},9309:function(e,t,n){"use strict";var r=n(1502),i={object:!0,function:!0,undefined:!0};e.exports=function(e){return!!r(e)&&hasOwnProperty.call(i,typeof e)}},4171:function(e,t,n){"use strict";var r=n(3229),i=/^\s*class[\s{/}]/,o=Function.prototype.toString;e.exports=function(e){return!!r(e)&&!i.test(o.call(e))}},4001:function(e,t,n){"use strict";var r=n(9309);e.exports=function(e){if(!r(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch(t){return!1}}},1502:function(e){"use strict";e.exports=function(e){return undefined!==e&&null!==e}},4804:function(e,t,n){"use strict";var r=n(1756);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s((function(){i.value=n,i.getSnapshot=t,l(i)&&c({inst:i})}),[e,n,t]),a((function(){return l(i)&&c({inst:i}),e((function(){l(i)&&c({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},4051:function(e,t,n){"use strict";var r=n(1756),i=n(3672);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=l((function(){function e(e){if(!u){if(u=!0,a=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,s=n)}var a,s,u=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,i]);var d=a(e,f[0],f[1]);return u((function(){h.hasValue=!0,h.value=d}),[d]),c(d),d}},3672:function(e,t,n){"use strict";e.exports=n(4804)},8398:function(e,t,n){"use strict";e.exports=n(4051)},3737:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},1312:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3989:function(e,t,n){var r=n(3737);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7722:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},9189:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},8482:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},9522:function(e,t,n){var r=n(4945);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6332:function(e,t,n){var r=n(3458),i=n(8064),o=n(9859);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},3275:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3458:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6779:function(e,t,n){var r=n(8748);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},8064:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},6037:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},1786:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},4343:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},623:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},279:function(e,t,n){var r=n(3275);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},9859:function(e,t,n){var r=n(9946).default,i=n(7722);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},5290:function(e,t,n){var r=n(9946).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(I){c=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),a=new S(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}t.wrap=f;var d={};function p(){}function g(){}function v(){}var y={};c(y,s,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(N([])));b&&b!==n&&o.call(b,s)&&(y=b);var _=v.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,a,s,u){var l=h(e[i],e,a);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==r(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,u)}))}u(l.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=h(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function N(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:T}}function T(){return{value:void 0,done:!0}}return g.prototype=v,c(_,"constructor",v),c(v,"constructor",g),g.displayName=c(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},w(x.prototype),c(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new x(f(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(_),c(_,l,"Generator"),c(_,s,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=N,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},8748:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6686:function(e,t,n){var r=n(1312),i=n(1786),o=n(4945),a=n(4343);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},4434:function(e,t,n){var r=n(3989),i=n(6037),o=n(4945),a=n(623);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},9946:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4945:function(e,t,n){var r=n(3737);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".96892017.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="ignorance:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+o){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/ignorance/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<a.length;l++)o=a[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkignorance=self.webpackChunkignorance||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(1756),t=n.t(e,2),r=n(3591);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(e)).reduce((function(e,t){return e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"}),"")};function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}var h=Symbol(),d=function(e){return!!e[h]},p=function(e){var t,n;null==(n=(t=e[h]).c)||n.call(t)},g=function e(t,n){var r=t[h].o,i=n[h].o;return r===i||t===i||d(r)&&e(r,n)},v=function(e){var t={o:e,c:null},n=new Promise((function(n){t.c=function(){t.c=null,n()},e.then(t.c,t.c)}));return n[h]=t,n},y=function(e){return"init"in e},m="r",b="w",_="c",w="s",x=function(e){var t,n,r=new WeakMap,o=new WeakMap,s=new Map;if(t=new Set,n=new Set,e){var u,l=f(e);try{for(l.s();!(u=l.n()).done;){var x=c(u.value,2),E=x[0],k={v:x[1],r:0,d:new Map};Object.freeze(k),y(E)||console.warn("Found initial value for derived atom which can cause unexpected behavior",E),r.set(E,k)}}catch(K){l.e(K)}finally{l.f()}}var C,S=new WeakMap,N=new WeakMap,T=function(e){var t=N.get(e);return t||(t=new Map,N.set(e,t)),t},I=function e(t,n){if(t){var i=T(t),o=i.get(n);return o||(o=e(t.p,n))&&i.set(n,o),o}return r.get(n)},D=function(e,t,n){if(Object.freeze(n),e){T(e).set(t,n)}else{var i=r.get(t);r.set(t,n),s.has(t)||s.set(t,i)}},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,n=arguments.length>2?arguments[2]:void 0;if(!n)return t;var r=new Map,i=!1;return n.forEach((function(n){var o,a=(null==(o=I(e,n))?void 0:o.r)||0;r.set(n,a),t.get(n)!==a&&(i=!0)})),t.size!==r.size||i?r:t},O=function(e,t,n,r,i){var o=I(e,t);if(o){if(i&&(!("p"in o)||!g(o.p,i)))return o;"p"in o&&p(o.p)}var a={v:n,r:(null==o?void 0:o.r)||0,d:M(e,null==o?void 0:o.d,r)},s=!1;return o&&"v"in o&&Object.is(o.v,n)?!("i"in o)&&(a.d===o.d||a.d.size===o.d.size&&Array.from(a.d.keys()).every((function(e){return o.d.has(e)})))||(s=!0,Promise.resolve().then((function(){q(e)}))):(s=!0,++a.r,a.d.has(t)&&(a.d=new Map(a.d).set(t,a.r))),o&&!s?o:(D(e,t,a),a)},P=function(e,t,n,r,i){var o=I(e,t);if(o){if(i&&(!("p"in o)||!g(o.p,i)))return o;"p"in o&&p(o.p)}var a={e:n,r:(null==o?void 0:o.r)||0,d:M(e,null==o?void 0:o.d,r)};return D(e,t,a),a},L=function(e,t,n,r){var i=I(e,t);if(i&&"p"in i){if(g(i.p,n))return i;p(i.p)}!function(e,t,n){var r=S.get(t);r||(r=new Map,S.set(t,r)),n.then((function(){r.get(e)===n&&(r.delete(e),r.size||S.delete(t))})),r.set(e,n)}(e,t,n);var o={p:n,r:(null==i?void 0:i.r)||0,d:M(e,null==i?void 0:i.d,r)};return D(e,t,o),o},A=function(e,t,n,r){if(n instanceof Promise){var i=v(n.then((function(n){O(e,t,n,r,i)})).catch((function(n){if(n instanceof Promise)return d(n)?n.then((function(){R(e,t,!0)})):n;P(e,t,n,r,i)})));return L(e,t,i,r)}return O(e,t,n,r)},R=function e(t,n,r){if(!r){var i=I(t,n);if(i){if(i.r!==i.i&&"p"in i&&!function(e){return!e[h].c}(i.p))return i;if(i.d.forEach((function(r,i){if(i!==n)if(o.has(i)){var a=I(t,i);a&&a.r===a.i&&e(t,i)}else e(t,i)})),Array.from(i.d).every((function(e){var n=c(e,2),r=n[0],i=n[1],o=I(t,r);return o&&"v"in o&&o.r===i})))return i}}var a=new Set;try{var s=n.read((function(r){a.add(r);var i=r===n?I(t,r):e(t,r);if(i){if("e"in i)throw i.e;if("p"in i)throw i.p;return i.v}if(y(r))return r.init;throw new Error("no atom init")}));return A(t,n,s,a)}catch(l){if(l instanceof Promise){var u=v(l);return L(t,n,u,a)}return P(t,n,l,a)}},F=function(e,t){return R(t,e)},z=function(e,t){return!t.l.size&&(!t.t.size||1===t.t.size&&t.t.has(e))},j=function e(t,n){var r=o.get(n);null==r||r.t.forEach((function(r){r!==n&&(!function(e,t){var n=I(e,t);if(n){var r=a(a({},n),{},{i:n.r});D(e,t,r)}else console.warn("[Bug] could not invalidate non existing atom",t)}(t,r),e(t,r))}))},B=function e(t,n,r){var i=!0,o=n.write((function e(n,r){var i=R(t,n);if("e"in i)throw i.e;if("p"in i){if(null==r?void 0:r.unstable_promise)return i.p.then((function(){return e(n,r)}));throw console.info("Reading pending atom state in write operation. We throw a promise for now.",n),i.p}if("v"in i)return i.v;throw console.warn("[Bug] no value found while reading atom in write operation. This is probably a bug.",n),new Error("no value found")}),(function(r,o){var a;if(r===n){if(!y(r))throw new Error("atom not writable");var s=function(e){var t=new Set,n=S.get(e);return n&&(S.delete(e),n.forEach((function(e,n){p(e),t.add(n)}))),t}(r);s.forEach((function(e){e!==t&&A(e,r,o)})),I(t,r)!==A(t,r,o)&&j(t,r)}else a=e(t,r,o);return i||q(t),a}),r);return i=!1,o},V=function(e,t,n){var r=B(n,e,t);return q(n),r},U=function e(t,r,i){var a={t:new Set(i&&[i]),l:new Set};if(o.set(r,a),n.add(r),R(void 0,r).d.forEach((function(n,i){var a=o.get(i);a?a.t.add(r):i!==r&&e(t,i,r)})),function(e){return!!e.write}(r)&&r.onMount){var s=r.onMount((function(e){return V(r,e,t)}));t=void 0,s&&(a.u=s)}return a},G=function e(t,r){var i,a=null==(i=o.get(r))?void 0:i.u;a&&a(),o.delete(r),n.delete(r);var s=I(t,r);s?s.d.forEach((function(n,i){if(i!==r){var a=o.get(i);a&&(a.t.delete(r),z(i,a)&&e(t,i))}})):console.warn("[Bug] could not find atom state to unmount",r)},H=function(e,t,n,r){var i=new Set(n.d.keys());null==r||r.forEach((function(n,r){if(i.has(r))i.delete(r);else{var a=o.get(r);a&&(a.t.delete(t),z(r,a)&&G(e,r))}})),i.forEach((function(n){var r=o.get(n);r?r.t.add(t):o.has(t)&&U(e,n,t)}))},q=function(e){if(e){T(e).forEach((function(t,n){if(t!==r.get(n)){var i=o.get(n);null==i||i.l.forEach((function(t){return t(e)}))}}))}else{for(;s.size;){var n=Array.from(s);s.clear(),n.forEach((function(e){var t=c(e,2),n=t[0],r=t[1],i=I(void 0,n);if(i&&i.d!==(null==r?void 0:r.d)&&H(void 0,n,i,null==r?void 0:r.d),!(r&&"i"in r&&i)||"i"in i){var a=o.get(n);null==a||a.l.forEach((function(e){return e()}))}}))}t.forEach((function(e){return e()}))}},Y=function(e,t){t&&function(e){T(e).forEach((function(t,n){var i=r.get(n);(!i||t.r>i.r||"v"in t&&t.r===i.r&&t.d!==i.d)&&(r.set(n,t),t.d!==(null==i?void 0:i.d)&&H(e,n,t,null==i?void 0:i.d))}))}(t),q(void 0)},W=function(e,t,n){var r=function(e,t){var n=o.get(t);return n||(n=U(e,t)),n}(n,e),i=r.l;return i.add(t),function(){i.delete(t),function(e,t){var n=o.get(t);n&&z(t,n)&&G(e,t)}(n,e)}},X=function(e,t){var n,r=f(e);try{for(r.s();!(n=r.n()).done;){var i=c(n.value,2),o=i[0],a=i[1];y(o)&&(A(t,o,a),j(t,o))}}catch(K){r.e(K)}finally{r.f()}q(t)};return i(C={},m,F),i(C,b,V),i(C,_,Y),i(C,w,W),i(C,"h",X),i(C,"n",(function(e){return t.add(e),function(){t.delete(e)}})),i(C,"l",(function(){return n.values()})),i(C,"a",(function(e){return r.get(e)})),i(C,"m",(function(e){return o.get(e)})),C},E=function(e,t){return{s:t?t(e).SECRET_INTERNAL_store:x(e)}},k=new Map,C=function(t){return k.has(t)||k.set(t,(0,e.createContext)(E())),k.get(t)},S=function(t){var n=t.children,r=t.initialValues,i=t.scope,o=t.unstable_createStore,a=t.unstable_enableVersionedWrite,s=c((0,e.useState)({}),2),u=s[0],l=s[1];(0,e.useEffect)((function(){var e=f.current;e.w&&(e.s.c(null,u),delete u.p,e.v=u)}),[u]);var f=(0,e.useRef)();if(!f.current){var h=E(r,o);if(a){var d=0;h.w=function(e){l((function(t){var n=d?t:{p:t};return e(n),n}))},h.v=u,h.r=function(e){++d,e(),--d}}f.current=h}var p=C(i);return(0,e.createElement)(p.Provider,{value:f.current},n)},N=0;function T(e,t){var n="atom".concat(++N),r={toString:function(){return n}};return"function"===typeof e?r.read=e:(r.init=e,r.read=function(e){return e(r)},r.write=function(e,t,n){return t(r,"function"===typeof n?n(e(r)):n)}),t&&(r.write=t),r}function I(t,n){var r=C(n),i=(0,e.useContext)(r),o=i.s,a=i.v,s=function(e){var n=o.r(t,e);if("e"in n)throw n.e;if("p"in n)throw n.p;if("v"in n)return n.v;throw new Error("no atom value")},u=c((0,e.useReducer)((function(e,n){var r=s(n);return Object.is(e[1],r)&&e[2]===t?e:[n,r,t]}),a,(function(e){return[e,s(e),t]})),2),l=c(u[0],3),f=l[0],h=l[1],d=l[2],p=u[1],g=h;return d!==t&&(p(f),g=s(f)),(0,e.useEffect)((function(){var e=i.v;e&&o.c(t,e);var n=o.s(t,p,e);return p(e),n}),[o,t,i]),(0,e.useEffect)((function(){o.c(t,f)})),(0,e.useDebugValue)(g),g}var D=function(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(i!==t){var o=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,o)}))}},i=function(){return t},o={setState:r,getState:i,subscribe:function(e){return n.add(e),function(){return n.delete(e)}},destroy:function(){return n.clear()}};return t=e(r,i,o),o},M=n(8398).useSyncExternalStoreWithSelector;var O=function(t){var n="function"===typeof t?function(e){return e?D(e):D}(t):t,r=function(t,r){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.getState,r=arguments.length>2?arguments[2]:void 0,i=M(t.subscribe,t.getState,t.getServerState||t.getState,n,r);return(0,e.useDebugValue)(i),i}(n,t,r)};return Object.assign(r,n),r},P=function(e){return e?O(e):O},L=P((function(e){return{usernames:[],setUsernames:function(t){return e({usernames:t})}}})),A=["Aristotelian","Arthurian","Bohemian","Brethren","Mosaic","Oceanic","Proctor","Terran","Tudor","abroad","absorbing","abstract","academic","accelerated","accented","accountant","acquainted","acute","addicting","addictive","adjustable","admired","adult","adverse","advised","aerosol","afraid","aggravated","aggressive","agreeable","alienate","aligned","all-round","alleged","almond","alright","altruistic","ambient","ambivalent","amiable","amino","amorphous","amused","anatomical","ancestral","angelic","angrier","answerable","antiquarian","antiretroviral","appellate","applicable","apportioned","approachable","appropriated","archer","aroused","arrested","assertive","assigned","athletic","atrocious","attained","authoritarian","autobiographical","avaricious","avocado","awake","awsome","backstage","backwoods","balding","bandaged","banded","banned","barreled","battle","beaten","begotten","beguiled","bellied","belted","beneficent","besieged","betting","big-money","biggest","biochemical","bipolar","blackened","blame","blessed","blindfolded","bloat","blocked","blooded","blue-collar","blushing","boastful","bolder","bolstered","bonnie","bored","boundary","bounded","bounding","branched","brawling","brazen","breeding","bridged","brimming","brimstone","broadest","broiled","broker","bronze","bruising","buffy","bullied","bungling","burial","buttery","candied","canonical","cantankerous","cardinal","carefree","caretaker","casual","cathartic","causal","chapel","characterized","charcoal","cheeky","cherished","chipotle","chirping","chivalrous","circumstantial","civic","civil","civilised","clanking","clapping","claptrap","classless","cleansed","cleric","cloistered","codified","colloquial","colour","combat","combined","comely","commissioned","commonplace","commuter","commuting","comparable","complementary","compromising","conceding","concentrated","conceptual","conditioned","confederate","confident","confidential","confining","confuse","congressional","consequential","conservative","constituent","contaminated","contemporaneous","contraceptive","convertible","convex","cooked","coronary","corporatist","correlated","corroborated","cosmic","cover","crash","crypto","culminate","cushioned","dandy","dashing","dazzled","decreased","decrepit","dedicated","defaced","defective","defenseless","deluded","deodorant","departed","depress","designing","despairing","destitute","detective","determined","devastating","deviant","devilish","devoted","diagonal","dictated","didactic","differentiated","diffused","dirtier","disabling","disconnected","discovered","disdainful","diseased","disfigured","disheartened","disheveled","disillusioned","disparate","dissident","doable","doctrinal","doing","dotted","double-blind","downbeat","dozen","draining","draught","dread","dried","dropped","dulled","duplicate","eaten","echoing","economical","elaborated","elastic","elective","electoral","elven","embryo","emerald","emergency","emissary","emotional","employed","enamel","encased","encrusted","endangered","engraved","engrossing","enlarged","enlisted","enlivened","ensconced","entangled","enthralling","entire","envious","eradicated","eroded","esoteric","essential","evaporated","ever-present","evergreen","everlasting","exacting","exasperated","excess","exciting","executable","existent","exonerated","exorbitant","exponential","export","extraordinary","exultant","exulting","facsimile","fading","fainter","faith-based","fallacious","faltering","famous","fancier","fast-growing","fated","favourable","fearless","feathered","fellow","fermented","ferocious","fiddling","filling","firmer","fitted","flammable","flawed","fledgling","fleshy","flexible","flickering","floral","flowering","flowing","foggy","folic","foolhardy","foolish","footy","forehand","forked","formative","formulaic","foul-mouthed","fractional","fragrant","fraudulent","freakish","freckled","freelance","freight","fresh","fretted","frugal","fulfilling","fuming","funded","funny","garbled","gathered","geologic","geometric","gibberish","gilded","ginger","glare","glaring","gleaming","glorified","glorious","goalless","gold-plated","goody","grammatical","grande","grateful","gratuitous","graven","greener","grinding","grizzly","groaning","grudging","guaranteed","gusty","half-breed","hand-held","handheld","hands-off","hard-pressed","harlot","healing","healthier","healthiest","heart","heart-shaped","heathen","hedonistic","heralded","herbal","high-density","high-performance","high-res","high-yield","hissy","hitless","holiness","homesick","honorable","hooded","hopeless","horrendous","horrible","hot-button","huddled","human","humbling","humid","humiliating","hypnotized","idealistic","idiosyncratic","ignited","illustrated","illustrative","imitated","immense","immersive","immigrant","immoral","impassive","impressionable","improbable","impulsive","in-between","in-flight","inattentive","inbound","inbounds","incalculable","incomprehensible","indefatigable","indigo","indiscriminate","indomitable","inert","inflate","inform","inheriting","injured","injurious","inking","inoffensive","insane","insensible","insidious","insincere","insistent","insolent","insufferable","intemperate","interdependent","interesting","interfering","intern","interpreted","intersecting","intolerable","intolerant","intuitive","irresolute","irritate","jealous","jerking","joining","joint","journalistic","joyful","keyed","knowing","lacklustre","laden","lagging","lamented","laughable","layered","leather","leathern","leery","left-footed","legible","leisure","lessening","liberating","life-size","lifted","lightest","limitless","listening","literary","liver","livid","lobster","locked","long-held","long-lasting","long-running","long-suffering","loudest","loveliest","low-budget","low-carb","lowering","lucid","luckless","lusty","luxurious","magazine","maniac","manmade","maroon","mastered","mated","material","materialistic","meaningful","measuring","mediaeval","medical","meditated","medley","melodic","memorable","memorial","metabolic","metallic","metallurgical","metering","midair","midterm","midway","mighty","migrating","mind-blowing","mind-boggling","minor","mirrored","misguided","misshapen","mitigated","mixed","modernized","molecular","monarch","monastic","morbid","motley","motorized","mounted","multi-million","multidisciplinary","muscled","muscular","muted","mysterious","mythic","nail-biting","natural","nauseous","negative","networked","neurological","neutered","newest","night","nitrous","no-fly","noncommercial","nonsense","north","nuanced","occurring","offensive","oldest","oncoming","one-eyed","one-year","onstage","onward","opaque","open-ended","operating","opportunist","opposing","opt-in","ordinate","outdone","outlaw","outsized","overboard","overheated","oversize","overworked","oyster","paced","panting","paralyzed","paramount","parental","parted","partisan","passive","pastel","patriot","peacekeeping","pedestrian","peevish","penal","penned","pensive","perceptual","perky","permissible","pernicious","perpetuate","perplexed","pervasive","petrochemical","philosophical","picturesque","pillaged","piped","piquant","pitching","plausible","pliable","plumb","politician","polygamous","poorest","portmanteau","posed","positive","possible","postpartum","prank","pre-emptive","precocious","predicted","premium","preparatory","prerequisite","prescient","preserved","presidential","pressed","pressurized","presumed","prewar","priced","pricier","primal","primer","primetime","printed","private","problem","procedural","process","prodigious","professional","programmed","progressive","prolific","promising","promulgated","pronged","proportionate","protracted","pulled","pulsed","purgatory","quick","rapid-fire","raunchy","razed","reactive","readable","realizing","recognised","recovering","recurrent","recycled","redeemable","reflecting","regal","registering","reliable","reminiscent","remorseless","removable","renewable","repeating","repellent","reserve","resigned","respectful","rested","restrict","resultant","retaliatory","retiring","revelatory","reverend","reversing","revolving","ridiculous","right-hand","ringed","risque","robust","roomful","rotating","roused","rubber","run-down","running","runtime","rustling","safest","salient","sanctioned","saute","saved","scandalized","scarlet","scattering","sceptical","scheming","scoundrel","scratched","scratchy","scrolled","seated","second-best","segregated","self-taught","semiautomatic","senior","sensed","sentient","sexier","shadowy","shaken","shaker","shameless","shaped","shiny","shipped","shivering","shoestring","short","short-lived","signed","simplest","simplistic","sizable","skeleton","skinny","skirting","skyrocketed","slamming","slanting","slapstick","sleek","sleepless","sleepy","slender","slimmer","smacking","smokeless","smothered","smouldering","snuff","socialized","solid-state","sometime","sought","spanking","sparing","spattered","specialized","specific","speedy","spherical","spiky","spineless","sprung","squint","stainless","standing","starlight","startled","stately","statewide","stereoscopic","sticky","stimulant","stinky","stoked","stolen","storied","strained","strapping","strengthened","stubborn","stylized","suave","subjective","subjugated","subordinate","succeeding","suffering","summary","sunset","sunshine","supernatural","supervisory","supply-side","surrogate","suspended","suspenseful","swarthy","sweating","sweeping","swinging","swooning","sympathize","synchronized","synonymous","synthetic","tailed","tallest","tangible","tanked","tarry","technical","tectonic","telepathic","tenderest","territorial","testimonial","theistic","thicker","threatening","tight-lipped","timed","timely","timid","torrent","totalled","tougher","traditional","transformed","trapped","traveled","traverse","treated","trial","trunk","trusting","trying","twisted","two-lane","tyrannical","unaided","unassisted","unassuming","unattractive","uncapped","uncomfortable","uncontrolled","uncooked","uncooperative","underground","undersea","undisturbed","unearthly","uneasy","unequal","unfazed","unfinished","unforeseen","unforgivable","unidentified","unimaginative","uninspired","unintended","uninvited","universal","unmasked","unorthodox","unparalleled","unpleasant","unprincipled","unread","unreasonable","unregulated","unreliable","unremitting","unsafe","unsanitary","unsealed","unsuccessful","unsupervised","untimely","unwary","unwrapped","uppity","upstart","useless","utter","valiant","valid","valued","vanilla","vaulting","vaunted","veering","vegetative","vented","verbal","verifying","veritable","versed","vinyl","virgin","visceral","visual","voluptuous","walk-on","wanton","warlike","washed","waterproof","waved","weakest","well-bred","well-chosen","well-informed","wetting","wheeled","whirlwind","widen","widening","willful","willing","winnable","winningest","wireless","wistful","woeful","wooded","woodland","wordless","workable","worldly","worldwide","worst-case","worsted","worthless"],R=["abnormally","absentmindedly","accidentally","acidly","actually","adventurously","afterwards","almost","always","angrily","annually","anxiously","arrogantly","awkwardly","badly","bashfully","beautifully","bitterly","bleakly","blindly","blissfully","boastfully","boldly","bravely","briefly","brightly","briskly","broadly","busily","calmly","carefully","carelessly","cautiously","certainly","cheerfully","clearly","cleverly","closely","coaxingly","colorfully","commonly","continually","coolly","correctly","courageously","crossly","cruelly","curiously","daily","daintily","dearly","deceivingly","deeply","defiantly","deliberately","delightfully","diligently","dimly","doubtfully","dreamily","easily","elegantly","energetically","enormously","enthusiastically","equally","especially","even","evenly","eventually","exactly","excitedly","extremely","fairly","faithfully","famously","far","fast","fatally","ferociously","fervently","fiercely","fondly","foolishly","fortunately","frankly","frantically","freely","frenetically","frightfully","fully","furiously","generally","generously","gently","gladly","gleefully","gracefully","gratefully","greatly","greedily","happily","hastily","healthily","heavily","helpfully","helplessly","highly","honestly","hopelessly","hourly","hungrily","immediately","innocently","inquisitively","instantly","intensely","intently","interestingly","inwardly","irritably","jaggedly","jealously","joshingly","jovially","joyfully","joyously","jubilantly","judgementally","justly","keenly","kiddingly","kindheartedly","kindly","kissingly","knavishly","knottily","knowingly","knowledgeably","kookily","lazily","less","lightly","likely","limply","lively","loftily","longingly","loosely","loudly","lovingly","loyally","madly","majestically","meaningfully","mechanically","merrily","miserably","mockingly","monthly","more","mortally","mostly","mysteriously","naturally","nearly","neatly","needily","nervously","never","nicely","noisily","not","obediently","obnoxiously","oddly","offensively","officially","often","only","openly","optimistically","overconfidently","owlishly","painfully","partially","patiently","perfectly","physically","playfully","politely","poorly","positively","potentially","powerfully","promptly","properly","punctually","quaintly","quarrelsomely","queasily","queerly","questionably","questioningly","quicker","quickly","quietly","quirkily","quizzically","rapidly","rarely","readily","really","reassuringly","recklessly","regularly","reluctantly","repeatedly","reproachfully","restfully","righteously","rightfully","rigidly","roughly","rudely","sadly","safely","scarcely","scarily","searchingly","sedately","seemingly","seldom","selfishly","separately","seriously","shakily","sharply","sheepishly","shrilly","shyly","silently","sleepily","slowly","smoothly","softly","solemnly","solidly","sometimes","soon","speedily","stealthily","sternly","strictly","successfully","suddenly","surprisingly","suspiciously","sweetly","swiftly","sympathetically","tenderly","tensely","terribly","thankfully","thoroughly","thoughtfully","tightly","tomorrow","too","tremendously","triumphantly","truly","truthfully","ultimately","unabashedly","unaccountably","unbearably","unethically","unexpectedly","unfortunately","unimpressively","unnaturally","unnecessarily","upbeat","upliftingly","upright","upside-down","upward","upwardly","urgently","usefully","uselessly","usually","utterly","vacantly","vaguely","vainly","valiantly","vastly","verbally","very","viciously","victoriously","violently","vivaciously","voluntarily","warmly","weakly","wearily","well","wetly","wholly","wildly","willfully","wisely","woefully","wonderfully","worriedly","wrongly","yawningly","yearly","yearningly","yesterday","yieldingly","youthfully"],F=["Armour","Barrymore","Cabot","Catholicism","Chihuahua","Christianity","Easter","Frenchman","Lowry","Mayer","Orientalism","Pharaoh","Pueblo","Pullman","Rodeo","Saturday","Sister","Snead","Syrah","Tuesday","Woodward","abbey","absence","absorption","abstinence","absurdity","abundance","acceptance","accessibility","accommodation","accomplice","accountability","accounting","accreditation","accuracy","acquiescence","acreage","actress","actuality","adage","adaptation","adherence","adjustment","adoption","adultery","advancement","advert","advertisement","advertising","advice","aesthetics","affinity","aggression","agriculture","aircraft","airtime","allegation","allegiance","allegory","allergy","allies","alligator","allocation","allotment","altercation","ambulance","ammonia","anatomy","anemia","ankle","announcement","annoyance","annuity","anomaly","anthropology","anxiety","apartheid","apologise","apostle","apparatus","appeasement","appellation","appendix","applause","appointment","appraisal","archery","archipelago","architecture","ardor","arrears","arrow","artisan","artistry","ascent","assembly","assignment","association","asthma","atheism","attacker","attraction","attractiveness","auspices","authority","avarice","aversion","aviation","babbling","backlash","baker","ballet","balls","banjo","baron","barrier","barrister","bases","basin","basis","battery","battling","bedtime","beginner","begun","bending","bicycle","billing","bingo","biography","biology","birthplace","blackberry","blather","blossom","boardroom","boasting","bodyguard","boldness","bomber","bondage","bonding","bones","bonus","bookmark","boomer","booty","bounds","bowling","brainstorming","breadth","breaker","brewer","brightness","broccoli","broth","brotherhood","browsing","brunch","brunt","building","bullion","bureaucracy","burglary","buyout","by-election","cabal","cabbage","calamity","campaign","canonization","captaincy","carcass","carrier","cartridge","cassette","catfish","caught","celebrity","cemetery","certainty","certification","charade","chasm","check-in","cheerleader","cheesecake","chemotherapy","chili","china","chivalry","cholera","cilantro","circus","civilisation","civility","clearance","clearing","clerk","climber","closeness","clothing","clutches","coaster","coconut","coding","collaborator","colleague","college","collision","colors","combustion","comedian","comer","commander","commemoration","commenter","commissioner","commune","competition","completeness","complexity","computing","comrade","concur","condominium","conduit","confidant","configuration","confiscation","conflagration","conflict","consist","consistency","consolidation","conspiracy","constable","consul","consultancy","contentment","contents","contractor","conversation","cornerstone","corpus","correlation","councilman","counselor","countdown","countryman","coverage","covering","coyote","cracker","creator","criminality","crocodile","cropping","cross-examination","crossover","crossroads","culprit","cumin","curator","curfew","cursor","custard","cutter","cyclist","cyclone","cylinder","cynicism","daddy","damsel","darkness","dawning","daybreak","dealing","dedication","deduction","defection","deference","deficiency","definition","deflation","degeneration","delegation","delicacy","delirium","deliverance","demeanor","demon","demonstration","denomination","dentist","departure","depletion","depression","designation","despotism","detention","developer","devolution","dexterity","diagnosis","dialect","differentiation","digger","digress","dioxide","diploma","disability","disarmament","discord","discovery","dishonesty","dismissal","disobedience","dispatcher","disservice","distribution","distributor","diver","diversity","docking","dollar","dominance","domination","dominion","donkey","doorstep","doorway","dossier","downside","drafting","drank","drilling","driver","drumming","drunkenness","duchess","ducking","dugout","dumps","dwelling","dynamics","eagerness","earnestness","earnings","eater","editor","effectiveness","electricity","elements","eloquence","emancipation","embodiment","embroidery","emperor","employment","encampment","enclosure","encouragement","endangerment","enlightenment","enthusiasm","environment","environs","envoy","epilepsy","equation","equator","error","espionage","estimation","evacuation","exaggeration","examination","exclamation","expediency","exploitation","extinction","eyewitness","falls","fascism","fastball","feces","feedback","ferocity","fertilization","fetish","finale","firing","fixing","flashing","flask","flora","fluke","folklore","follower","foothold","footing","forefinger","forefront","forgiveness","formality","formation","formula","foyer","fragmentation","framework","fraud","freestyle","frequency","friendliness","fries","frigate","fulfillment","function","functionality","fundraiser","fusion","futility","gallantry","gallery","genesis","genitals","girlfriend","glamour","glitter","glucose","google","grandeur","grappling","greens","gridlock","grocer","groundwork","grouping","gunman","gusto","habitation","hacker","hallway","hamburger","hammock","handling","hands","handshake","happiness","hardship","headcount","header","headquarters","heads","headset","hearth","hearts","heath","hegemony","height","hello","helper","helping","helplessness","hierarchy","hoarding","hockey","homeland","homer","honesty","horror","horseman","hostility","housing","humility","hurricane","iceberg","ignition","illness","illustration","illustrator","immunity","immunization","imperialism","imprisonment","inaccuracy","inaction","inactivity","inauguration","indecency","indicator","inevitability","infamy","infiltration","influx","iniquity","innocence","innovation","insanity","inspiration","instruction","instructor","insurer","interact","intercession","intercourse","intermission","interpretation","intersection","interval","intolerance","intruder","invasion","investment","involvement","irrigation","iteration","jenny","jogging","jones","joseph","juggernaut","juncture","jurisprudence","juror","kangaroo","kingdom","knocking","laborer","larceny","laurels","layout","leadership","leasing","legislation","leopard","liberation","licence","lifeblood","lifeline","ligament","lighting","likeness","line-up","lineage","liner","lineup","liquidation","listener","literature","litigation","litre","loathing","locality","lodging","logic","longevity","lookout","lordship","lustre","ma'am","machinery","madness","magnificence","mahogany","mailing","mainframe","maintenance","majority","manga","mango","manifesto","mantra","manufacturer","maple","martin","martyrdom","mathematician","matrix","matron","mayhem","mayor","means","meantime","measurement","mechanics","mediator","medics","melodrama","memory","mentality","metaphysics","method","metre","miner","mirth","misconception","misery","mishap","misunderstanding","mobility","molasses","momentum","monarchy","monument","morale","mortality","motto","mouthful","mouthpiece","mover","movie","mowing","murderer","musician","mutation","mythology","narration","narrator","nationality","negligence","neighborhood","neighbour","nervousness","networking","nexus","nightmare","nobility","nobody","noodle","normalcy","notification","nourishment","novella","nucleus","nuisance","nursery","nutrition","nylon","oasis","obscenity","obscurity","observer","offense","onslaught","operation","opportunity","opposition","oracle","orchestra","organisation","organizer","orientation","originality","ounce","outage","outcome","outdoors","outfield","outing","outpost","outset","overseer","owner","oxygen","pairing","panther","paradox","parliament","parsley","parson","passenger","pasta","patchwork","pathos","patriotism","pendulum","penguin","permission","persona","perusal","pessimism","peter","philosopher","phosphorus","phrasing","physique","piles","plateau","playing","plaza","plethora","plurality","pneumonia","pointer","poker","policeman","polling","poster","posterity","posting","postponement","potassium","pottery","poultry","pounding","pragmatism","precedence","precinct","preoccupation","pretense","priesthood","prisoner","privacy","probation","proceeding","proceedings","processing","processor","progression","projection","prominence","propensity","prophecy","prorogation","prospectus","protein","prototype","providence","provider","provocation","proximity","puberty","publicist","publicity","publisher","pundit","putting","quantity","quart","quilting","quorum","racism","radiance","ralph","rancher","ranger","rapidity","rapport","ratification","rationality","reaction","reader","reassurance","rebirth","receptor","recipe","recognition","recourse","recreation","rector","recurrence","redemption","redistribution","redundancy","refinery","reformer","refrigerator","regularity","regulator","reinforcement","reins","reinstatement","relativism","relaxation","rendition","repayment","repentance","repertoire","repository","republic","reputation","resentment","residency","resignation","restaurant","resurgence","retailer","retention","retirement","reviewer","riches","righteousness","roadblock","robber","rocks","rubbing","runoff","saloon","salvation","sarcasm","saucer","savior","scarcity","scenario","scenery","schism","scholarship","schoolboy","schooner","scissors","scolding","scooter","scouring","scrimmage","scrum","seating","sediment","seduction","seeder","seizure","self-confidence","self-control","self-respect","semicolon","semiconductor","semifinal","senator","sending","serenity","seriousness","servitude","sesame","setup","sewing","sharpness","shaving","shoplifting","shopping","siding","simplicity","simulation","sinking","skate","sloth","slugger","snack","snail","snapshot","snark","soccer","solemnity","solicitation","solitude","somewhere","sophistication","sorcery","souvenir","spaghetti","specification","specimen","specs","spectacle","spectre","speculation","sperm","spoiler","squad","squid","staging","stagnation","staircase","stairway","stamina","standpoint","standstill","stanza","statement","stillness","stimulus","stocks","stole","stoppage","storey","storyteller","stylus","subcommittee","subscription","subsidy","suburb","success","sufferer","supposition","suspension","sweater","sweepstakes","swimmer","syndrome","synopsis","syntax","system","tablespoon","taker","tavern","technology","telephony","template","tempo","tendency","tendon","terrier","terror","terry","theater","theology","therapy","thicket","thoroughfare","threshold","thriller","thunderstorm","ticker","tiger","tights","to-day","tossing","touchdown","tourist","tourney","toxicity","tracing","tractor","translation","transmission","transmitter","trauma","traveler","treadmill","trilogy","trout","tuning","twenties","tycoon","tyrant","ultimatum","underdog","underwear","unhappiness","unification","university","uprising","vaccination","validity","vampire","vanguard","variation","vegetation","verification","viability","vicinity","victory","viewpoint","villa","vindication","violation","vista","vocalist","vogue","volcano","voltage","vomiting","vulnerability","waistcoat","waitress","wardrobe","warmth","watchdog","wealth","weariness","whereabouts","whisky","whiteness","widget","width","windfall","wiring","witchcraft","withholding","womanhood","words","workman","youngster"],z="0123456789".split(""),j=function(e,t){if(e.length!==t.length)throw new RangeError("Chance: Length of array and weights must match");var n,r=0,i=0;for(r=0;r<t.length;++r){if(n=t[r],isNaN(n))throw new RangeError("Chance: All weights must be numbers");n>0&&(i+=n)}if(0===i)throw new RangeError("Chance: No valid entries in array weights");var o=Math.random()*i,a=0,s=-1,u=0;for(r=0;r<t.length;++r){if(a+=n=t[r],n>0){if(o<=a){u=r;break}s=r}r===t.length-1&&(u=s)}return e[u]},B=function(e){return e[function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}(0,e.length)]},V=function(e,t,n){for(var r=[],i=0;i<n;i++)(i<=t||j([!1,!0],[.5,.5]))&&r.push(B(e));return r},U=function(e){return e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()},G=[.5,.5,1,1,.4,1,.25,.25,.1,.1,.025,.1,.005,.05,.1],H=[j(["The",""],[.5,1])+U(B(A))+U(B(F)),j(["The",""],[.5,1])+B(A)+B(F),U(B(A))+"_"+U(B(F)),B(A)+"_"+B(F),U(B(R))+U(B(A)),B(A)+B(F)+j(["_",""],[.2,1])+V(z,1,4).join(""),B(R)+"_"+B(A)+"_"+B(F),B(R)+B(A)+B(F),"PM_ME_YOUR_"+B(F).toUpperCase(),"PM_ME_YOUR_"+B(A).toUpperCase()+"_"+B(F).toUpperCase(),"throwaway"+j(["_",""],[.2,1])+V(z,7,12).join(""),B(["a chip off the old block","a clean slate","a dark and stormy night","a far cry","a fine kettle of fish","a good/kind soul","a loose cannon","a pain in the neck/butt","a penny saved is a penny earned","a tough row to hoe","a word to the wise","ace in the hole","ace up his sleeve","add insult to injury","afraid of his own shadow","against all odds","air your dirty laundry","all fun and games","all in a day's work","all talk, no action","all thumbs","all your eggs in one basket","all's fair in love and war","all's well that ends well","almighty dollar","American as apple pie","an axe to grind","another day, another dollar","armed to the teeth","as luck would have it","as old as time","as the crow flies","at my wits end","avoid like the plague","babe in the woods","back against the wall","back in the saddle","back to square one","back to the drawing board","bad to the bone","badge of honor","bald faced liar","banging your head against a brick wall","ballpark figure","baptism by fire","bark is worse than her bite","barking up the wrong tree","bat out of hell","be all and end all","beat a dead horse","beat around the bush","bee in her bonnet","been there, done that","beggars can't be choosers","behind the eight ball","bend over backwards","benefit of the doubt","bent out of shape","best thing since sliced bread","bet your bottom dollar","better half","better late than never","better mousetrap","better safe than sorry","between a rock and a hard place","beyond the pale","bide your time","big as life","big fish in a small pond","big cheese","big man on campus","bigger they are the harder they fall","bird in the hand","birds and the bees","bird's eye view","birds of a feather flock together","bite the bullet","bite the dust","bit the hand that feeds you","bitten off more than he can chew","black as coal","black as pitch","black as the ace of spades","blast from the past","bleeding heart","blessing in disguise","blind ambition","blind as a bat","blind leading the blind","blood is thicker than water","blood sweat and tears","blow off steam","blow your own horn","blushing bride","boils down to","bone to pick","bored to tears","bored stiff","bottomless pit","boys will be boys","bright and early","brings home the bacon","broad across the beam","broken record","bull by the horns","bull in a china shop","burn the midnight oil","burning the candle at both ends","burning question","burst your bubble","bury the hatchet","busy as a bee","by hook or by crook","call a spade a spade","called onto the carpet","calm before the storm","can of worms","can't cut the mustard","can't hold a candle to","case of mistaken identity","cat got your tongue","caught in the crossfire","caught red-handed","caught with his/her pants down","checkered past","chip on his/her shoulder","chomping at the bit","cleanliness is next to godliness","clear as a bell","clear as mud","close to the vest","cock and bull story","cold shoulder","come hell or high water","cost a king's ransom","cost/paid an arm and a leg","count your blessings","crack of dawn","crash course","creature comforts","cross that bridge when you come to it","cry her eyes out","cry like a baby","cry me a river","crystal clear","curiosity killed the cat","cut and dried","cut through the red tape","cut to the chase","cute as a bugs ear","cute as a button","cute as a puppy","cuts to the quick","dark before the dawn","day in, day out","dead as a doornail","devil is in the details","dime a dozen","divide and conquer","dog and pony show","dog days","dog eat dog","dog tired","don't burn your bridges","don't count your chickens before they're hatched","don't look a gift horse in the mouth","don't rock the boat","don't step on anyone's toes","don't take any wooden nickels","down and out","down at the heels","down in the dumps","down on his/her luck","down the hatch","down to earth","draw the line","dressed to kill","dressed to the nines","drives me up the wall","dull as dishwater","dyed in the wool","eagle eye","easy as pie","eat your heart out","eat your words","enough to piss off the Pope","ear to the ground","early bird catches the worm","earn his/her keep","easier said than done","easy as 1-2-3","easy as pie","eleventh hour","even the playing field","every dog has its day","every fiber of my being","everything but the kitchen sink","eye for an eye","eyes in the back of her head","facts of life","fair weather friend","fan the flames","fair weather friend","fall by the wayside","feast or famine","feather in his cap","feather your nest","few and far between","fifteen minutes of fame","filthy vermin","fine kettle of fish","fish out of water","fishing for a compliment","fit as a fiddle","fit the bill","fit to be tied","flat as a pancake","flip your lid","flog a dead horse","fly by night","fly the coop","follow your heart","for all intents and purposes","for the birds","for what it's worth","force of nature","force to be reckoned with","forgive and forget","fox in the henhouse","free and easy","free as a bird","fresh as a daisy","full steam ahead","fun in the sun","garbage in, garbage out","get a kick out of","get a leg up","get down and dirty","get his/her back up","get the lead out","get to the bottom of","get your feet wet","gets my goat","gilding the lily","give and take","go against the grain","go for broke","go him one better","go the extra mile","go with the flow","goes without saying","good as gold","good deed for the day","good things come to those who wait","good time was had by all","greek to me","green thumb","green-eyed monster","growing like a weed","grist for the mill","hair of the dog","hand to mouth","happy as a clam","hasn't a clue","have a nice day","have high hopes","haven't got a row to hoe","have the last laugh","head honcho","hear a pin drop","heard it through the grapevine","heart's content","hem and haw","high and dry","high and mighty","high as a kite","hit paydirt","hold your horses","hold your tongue","hold your head up high","hold your own","honest as the day is long","horse of a different color","hot under the collar","I beg to differ","icing on the cake","if the shoe fits","if the shoe were on the other foot","in a jam","in a jiffy","in a nutshell","in a pig's eye","in a pinch","in a word","in his/her element","in hot water","in over his/her head","in the gutter","in the nick of time","in the thick of it","in this day and age","in your dreams","it ain't over till the fat lady sings","it goes without saying","it's a small world","it's only a matter of time","it takes all kinds","it takes one to know one","ivory tower","Jack of all trades","jockey for position","jog your memory","Johnny-come-lately","joined at the hip","judge a book by its cover","jump down your throat","jump in with both feet","jump on the bandwagon","jump the gun","jump to conclusions","just a hop, skip, and a jump","just the ticket","justice is blind","keep a stiff upper lip","keep an eye on","keep it simple, stupid","keep the home fires burning","keep up with the Joneses","keep your chin up","keep your fingers crossed","kick the bucket","kick up your heels","kick your feet up","kid in a candy store","kill two birds with one stone","kick his lights out","kick the bucket","kiss of death","knock his block off","knock it out of the park","knock on wood","knock your socks off","know him from Adam","know the ropes","know the score","knuckle down","knuckle sandwich","knuckle under","labor of love","land on your feet","lap of luxury","last but not least","last-ditch effort","last hurrah","law of the jungle","law of the land","lay down the law","leaps and bounds","let sleeping dogs lie","letter perfect","let the cat out of the bag","let the good times roll","let your hair down","let's talk turkey","lick your wounds","lies like a rug","life's a bitch","life's a grind","light at the end of the tunnel","lighter than a feather","lighter than air","like clockwork","like father like son","like taking candy from a baby","like there's no tomorrow","lion's share","live and learn","live and let live","long and short of it","long lost love","look before you leap","look down your nose","look what the cat dragged in","looks like death warmed over","loose cannon","lose your head","lose your temper","loud as a horn","lounge lizard","loved and lost","low man on the totem pole","luck of the draw","luck of the Irish","make hay while the sun shines","make money hand over fist","make my day","make the best of a bad situation","make the best of it","make your blood boil","man of few words","man's best friend","mark my words","missed the boat on that one","moment in the sun","moment of glory","moment of truth","money to burn","more power to you","more than one way to skin a cat","movers and shakers","naked as a jaybird","naked truth","neat as a pin","needless to say","neither here nor there","never look back","never say never","nip and tuck","nip it in the bud","no guts, no glory","no love lost","no pain, no gain","no skin off my back","no stone unturned","no time like the present","no use crying over spilled milk","nose to the grindstone","not a hope in hell","not a minute's peace","not playing with a full deck","not the end of the world","not in my backyard","not written in stone","nothing to sneeze at","nothing ventured nothing gained","now we're cooking","off the top of my head","off the wagon","off the wall","older and wiser","older than dirt","older than Methuselah","old hat","on a roll","on cloud nine","on his/her high horse","on pins and needles","on the bandwagon","on the money","on the nose","on the rocks","on the spot","on the tip of my tongue","on the wagon","on thin ice","once bitten, twice shy","one bad apple doesn't spoil the bushel","one born every minute","one brick short","one foot in the grave","one in a million","one red cent","only game in town","open a can of worms","open the flood gates","opportunity doesn't knock twice","over the hump","out of pocket","out of sight, out of mind","out of the frying pan into the fire","out of the woods","out on a limb","over a barrel","pain and suffering","panic button","par for the course","part and parcel","party pooper","pass the buck","patience is a virtue","pay through the nose","penny pincher","perfect storm","pig in a poke","pile it on","pillar of the community","pin your hopes on","pitter patter of little feet","plain as day","plain as the nose on your face","play by the rules","play your cards right","playing the field","playing with fire","pleased as punch","plenty of fish in the sea","poor as a church mouse","pot calling the kettle black","pull a fast one","pull your punches","pulled the wool over his/her eyes","pulling your leg","pure as the driven snow","put one over on you","put the pedal to the metal","put the cart before the horse","put your best foot forward","put your foot down","quick as a bunny","quick as a lick","quick as a wink","quick as lightning","quiet as a dormouse","rags to riches","raining buckets","raining cats and dogs","rank and file","reap what you sow","red as a beet","red herring","reinvent the wheel","rich and famous","rings a bell","ripped me off","rise and shine","road to hell is paved with good intentions","rob Peter to pay Paul","roll over in the grave","rub the wrong way","running in circles","salt of the earth","scared out of his/her wits","scared stiff","scared to death","sealed with a kiss","second to none","see eye to eye","seen the light","set the record straight","set your teeth on edge","sharp as a tack","shoot the breeze","shoot for the moon","shot in the dark","shoulder to the wheel","sick as a dog","sieze the day","sigh of relief","signed, sealed, and delivered","sink or swim","six of one, half a dozen of another","skating on thin ice","slept like a log","slinging mud","slippery as an eel","slow as molasses in January","smooth as a baby's bottom","snug as a bug in a rug","sow wild oats","spare the rod, spoil the child","speak of the devil","spilled the beans","spinning your wheels","spitting image of","spoke with relish","spring to life","stands out like a sore thumb","squeaky wheel gets the grease","start from scratch","stick in the mud","still waters run deep","stitch in time","stop and smell the roses","straw that broke the camel's back","strong as an ox","stubborn as a mule","stuff that dreams are made of","stuffed shirt","sweating blood","sweating bullets","take a load off","take one for the team","take the bait","take the bull by the horns","take the plunge","takes one to know one","takes two to tango","the more the merrier","the real deal","the real McCoy","the red carpet treatment","the same old story","there is no accounting for taste","thick as a brick","thick as thieves","think outside of the box","third time's the charm","this day and age","this hurts me worse than it hurts you","this point in time","three sheets to the wind","three strikes against him/her","throw in the towel","tie one on","tighter than a drum","time and time again","time is of the essence","tip of the iceberg","to each his own","to the best of my knowledge","toe the line","tongue-in-cheek","too good to be true","too hot to handle","too numerous to mention","touch with a ten foot pole","tough as nails","trials and tribulations","tried and true","trip down memory lane","twist of fate","two cents worth","two peas in a pod","ugly as sin","under his/her thumb","under the counter","under the gun","under the same roof","until the cows come home","unvarnished truth","up his sleeve","up the creek","up to his ears in trouble","uphill battle","upper crust","upset the applecart","V for victory","vain attempt","vain effort","vanquish the enemy","vested interest","waiting for the other shoe to drop","wakeup call","warm welcome","watching the clock","watch your p's and q's","watch your tongue","water under the bridge","weather the storm","went belly up","wet behind the ears","weed them out","week of Sundays","what goes around comes around","what you see is what you get","when it rains, it pours","when push comes to shove","when the cat's away","when the going gets tough, the tough get going","white as a sheet","whole ball of wax","whole hog","whole nine yards","wild goose chase","will wonders never cease?","wisdom of the ages","wolf at the door","words fail me","work like a dog","world weary","worst nightmare","wrong side of the bed","yanking your chain","yappy as a dog","years young","you are what you eat","you can run, but you can't hide","you only live once","young and foolish","young and vibrant","you're the boss"]).replaceAll(/[^a-z ]/g,"").replaceAll(" ","_"),"2".concat(B(A),"4u"),B(["bucket","bag","backpack","satchel","cup","package","bin","bottle","can","pot","box","watering can","carton","crate","bowl","barrel","cannister","case","basket","capsule","envelope","purse","rucksack","parcel","pouch","sack","jerrycan","flask","vial"])+"_of_"+B(["whale","jewelry","head","apple","pencil","shark","apron","nose","desk","sheep","tie","eye","water","melon","table","turkey","bow","ear","pomegranate","chair","donkey","vest","cheek","gauva","stair","dog","mouth","grape","book","cat","jaw","brinjal","pen","drive","pigeon","lip","lady","finger","laptop","sparrow","crest","neck","drum","stick","desktop","tiger","pocket","watch","hairs","rasp","berry","mobile","elephant","belt","tongue","garlic","freezer","crow","buckle","chest","ginger","oven","lion","gown","shoulder","onion","air","conditioner","bear","jersey","hand","grain","fan","ostrich","boxer","finger","gram","pipe","parrot","sweater","wrist","gram","spoon","fox","jacket","waist","rice","pad","wolf","suitcase","ankle","mango","iron","box","monkey","ear","ring","leg","milk","music","player","panther","sandal","foot","potato","ear","bud","peacock","shoe","stomach","balloon","panda","heart","cauli","flower","tap","plate","deer","bikini","lung","bean","arrow","swan","sari","bones","bread","stove","cow","frock","brain","butter","lighter","goat","track","suit","toe","cheese","board","buffalo","shirt","palm","noodle","keyboard","koel","bird","suit","rib","pasta","mouse","tailor","bird","hat","under","arm","egg","bulb","frog","cap","back","television"]),U(B(A))+U(B(["aardvark","alligator","alpaca","antelope","ape","armadillo","baboon","badger","bat","bear","beaver","bison","boar","buffalo","bull","camel","canary","capybara","cat","chameleon","cheetah","chimpanzee","chinchilla","chipmunk","cougar","cow","coyote","crocodile","crow","deer","dingo","dog","donkey","dromedary","elephant","elk","ewe","ferret","finch","fish","fox","frog","gazelle","gila monster","giraffe","gnu","goat","gopher","gorilla","grizzly bear","ground hog","guinea pig","hamster","hedgehog","hippopotamus","hog","horse","hyena","ibex","iguana","impala","jackal","jaguar","kangaroo","koala","lamb","lemur","leopard","lion","lizard","llama","lynx","mandrill","marmoset","mink","mole","mongoose","monkey","moose","mountain goat","mouse","mule","muskrat","mustang","mynah bird","newt","ocelot","opossum","orangutan","oryx","otter","ox","panda","panther","parakeet","parrot","pig","platypus","polar bear","porcupine","porpoise","prairie dog","puma","rabbit","raccoon","ram","rat","reindeer","reptile","rhinoceros","salamander","seal","sheep","shrew","silver fox","skunk","sloth","snake","squirrel","tapir","tiger","toad","turtle","walrus","warthog","weasel","whale","wildcat","wolf","wolverine","wombat","woodchuck","yak","zebra"]).replaceAll(/[^a-z]/g,""))];function q(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Y=function(e,t){return{internalTransforms:[],addInternalTransforms:function(n){e({internalTransforms:[].concat(q(t().internalTransforms),q(n))})}}};function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function X(){X=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(S){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return C()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var c={};function f(){}function h(){}function d(){}var p={};s(p,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(k([])));v&&v!==t&&n.call(v,i)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function m(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,o,a,s){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==W(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=d,s(y,"constructor",d),s(d,"constructor",h),h.displayName=s(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},m(b.prototype),s(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},m(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}function Q(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$(e)););return e}function Z(){return Z="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Q(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Z.apply(this,arguments)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t,n){return t&&J(e.prototype,t),n&&J(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ne(e,t)}function re(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ne(e,t)}function ie(e,t){if(t&&("object"===W(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return K(e)}function oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$(e);if(t){var i=$(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ie(this,n)}}var ae=function(){return new Map},se=function(e){var t=ae();return e.forEach((function(e,n){t.set(n,e)})),t},ue=function(e,t,n){var r=e.get(t);return void 0===r&&e.set(t,r=n()),r},le=function(){return new Set},ce=function(e){return e[e.length-1]},fe=function(e,t){for(var n=0;n<t.length;n++)e.push(t[n])},he=Array.from,de=(Array.isArray,function(){function e(){te(this,e),this._observers=ae()}return ee(e,[{key:"on",value:function(e,t){ue(this._observers,e,le).add(t)}},{key:"once",value:function(e,t){var n=this;this.on(e,(function r(){n.off(e,r),t.apply(void 0,arguments)}))}},{key:"off",value:function(e,t){var n=this._observers.get(e);void 0!==n&&(n.delete(t),0===n.size&&this._observers.delete(e))}},{key:"emit",value:function(e,t){return he((this._observers.get(e)||ae()).values()).forEach((function(e){return e.apply(void 0,q(t))}))}},{key:"destroy",value:function(){this._observers=ae()}}]),e}()),pe=Math.floor,ge=(Math.ceil,Math.abs),ve=(Math.imul,Math.round,Math.log10),ye=(Math.log2,Math.log,Math.sqrt,function(e,t){return e<t?e:t}),me=function(e,t){return e>t?e:t},be=(Number.isNaN,Math.pow),_e=(Math.sign,function(e){return 0!==e?e<0:1/e<0}),we=String.fromCharCode,xe=(String.fromCodePoint,/^\s*/g),Ee=/([A-Z])/g,ke=function(e,t){return function(e){return e.replace(xe,"")}(e.replace(Ee,(function(e){return"".concat(t).concat(function(e){return e.toLowerCase()}(e))})))},Ce="undefined"!==typeof TextEncoder?new TextEncoder:null,Se=Ce?function(e){return Ce.encode(e)}:function(e){for(var t=unescape(encodeURIComponent(e)),n=t.length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=t.codePointAt(i);return r},Ne="undefined"===typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Ne&&1===Ne.decode(new Uint8Array).length&&(Ne=null);var Te=function(e){return void 0===e?null:e},Ie=new(function(){function e(){te(this,e),this.map=new Map}return ee(e,[{key:"setItem",value:function(e,t){this.map.set(e,t)}},{key:"getItem",value:function(e){return this.map.get(e)}}]),e}()),De=!0;try{"undefined"!==typeof localStorage&&(Ie=localStorage,De=!1)}catch(Ex){}var Me,Oe,Pe,Le,Ae=Ie,Re="undefined"!==typeof process&&process.release&&/node|io\.js/.test(process.release.name),Fe="undefined"!==typeof window&&!Re,ze=("undefined"!==typeof navigator&&/Mac/.test(navigator.platform),[]),je=function(){if(void 0===Me)if(Re){Me=ae();for(var e=process.argv,t=null,n=0;n<e.length;n++){var r=e[n];"-"===r[0]?(null!==t&&Me.set(t,""),t=r):null!==t?(Me.set(t,r),t=null):ze.push(r)}null!==t&&Me.set(t,"")}else"object"===typeof location?(Me=ae(),(location.search||"?").slice(1).split("&").forEach((function(e){if(0!==e.length){var t=c(e.split("="),2),n=t[0],r=t[1];Me.set("--".concat(ke(n,"-")),r),Me.set("-".concat(ke(n,"-")),r)}}))):Me=ae();return Me},Be=function(e){return Te(Re?{NODE_ENV:"production",PUBLIC_URL:"/ignorance",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[e.toUpperCase()]:Ae.getItem(e))},Ve=(Oe="production",function(e){return je().has(e)}("--"+Oe)||Be(Oe),function(e){return new Uint8Array(e)}),Ue=function(e,t,n){return new Uint8Array(e,t,n)},Ge=Fe?function(e){for(var t="",n=0;n<e.byteLength;n++)t+=we(e[n]);return btoa(t)}:function(e){return Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("base64")},He=Fe?function(e){for(var t=atob(e),n=Ve(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}:function(e){var t=Buffer.from(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},qe=64,Ye=128,We=127,Xe=2147483647,Ke=(Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&pe(e)===e}),$e=(Number.isNaN,Number.parseInt,ee((function e(){te(this,e),this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}))),Qe=function(){return new $e},Ze=function(e){for(var t=e.cpos,n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t},Je=function(e){for(var t=new Uint8Array(Ze(e)),n=0,r=0;r<e.bufs.length;r++){var i=e.bufs[r];t.set(i,n),n+=i.length}return t.set(Ue(e.cbuf.buffer,0,e.cpos),n),t},et=function(e,t){var n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(2*n),e.cpos=0),e.cbuf[e.cpos++]=t},tt=et,nt=function(e,t){for(;t>We;)et(e,Ye|We&t),t>>>=7;et(e,We&t)},rt=function(e,t){var n=_e(t);for(n&&(t=-t),et(e,(t>63?Ye:0)|(n?qe:0)|63&t),t>>>=6;t>0;)et(e,(t>We?Ye:0)|We&t),t>>>=7},it=function(e,t){var n=unescape(encodeURIComponent(t)),r=n.length;nt(e,r);for(var i=0;i<r;i++)et(e,n.codePointAt(i))},ot=function(e,t){var n=e.cbuf.length,r=e.cpos,i=ye(n-r,t.length),o=t.length-i;e.cbuf.set(t.subarray(0,i),r),e.cpos+=i,o>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(me(2*n,o)),e.cbuf.set(t.subarray(i)),e.cpos=o)},at=function(e,t){nt(e,t.byteLength),ot(e,t)},st=function(e,t){!function(e,t){var n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push(Ue(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(2*me(n,t)),e.cpos=0)}(e,t);var n=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,n},ut=new DataView(new ArrayBuffer(4)),lt=function e(t,n){switch(typeof n){case"string":et(t,119),it(t,n);break;case"number":Ke(n)&&ge(n)<=Xe?(et(t,125),rt(t,n)):(s=n,ut.setFloat32(0,s),ut.getFloat32(0)===s?(et(t,124),function(e,t){st(e,4).setFloat32(0,t,!1)}(t,n)):(et(t,123),function(e,t){st(e,8).setFloat64(0,t,!1)}(t,n)));break;case"bigint":et(t,122),function(e,t){st(e,8).setBigInt64(0,t,!1)}(t,n);break;case"object":if(null===n)et(t,126);else if(n instanceof Array){et(t,117),nt(t,n.length);for(var r=0;r<n.length;r++)e(t,n[r])}else if(n instanceof Uint8Array)et(t,116),at(t,n);else{et(t,118);var i=Object.keys(n);nt(t,i.length);for(var o=0;o<i.length;o++){var a=i[o];it(t,a),e(t,n[a])}}break;case"boolean":et(t,n?120:121);break;default:et(t,127)}var s},ct=function(e){re(n,e);var t=oe(n);function n(e){var r;return te(this,n),(r=t.call(this)).w=e,r.s=null,r.count=0,r}return ee(n,[{key:"write",value:function(e){this.s===e?this.count++:(this.count>0&&nt(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}]),n}($e),ft=function(e){e.count>0&&(rt(e.encoder,1===e.count?e.s:-e.s),e.count>1&&nt(e.encoder,e.count-2))},ht=function(){function e(){te(this,e),this.encoder=new $e,this.s=0,this.count=0}return ee(e,[{key:"write",value:function(e){this.s===e?this.count++:(ft(this),this.count=1,this.s=e)}},{key:"toUint8Array",value:function(){return ft(this),Je(this.encoder)}}]),e}(),dt=function(e){if(e.count>0){var t=e.diff<<1|(1===e.count?0:1);rt(e.encoder,t),e.count>1&&nt(e.encoder,e.count-2)}},pt=function(){function e(){te(this,e),this.encoder=new $e,this.s=0,this.count=0,this.diff=0}return ee(e,[{key:"write",value:function(e){this.diff===e-this.s?(this.s=e,this.count++):(dt(this),this.count=1,this.diff=e-this.s,this.s=e)}},{key:"toUint8Array",value:function(){return dt(this),Je(this.encoder)}}]),e}(),gt=function(){function e(){te(this,e),this.sarr=[],this.s="",this.lensE=new ht}return ee(e,[{key:"write",value:function(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}},{key:"toUint8Array",value:function(){var e=new $e;return this.sarr.push(this.s),this.s="",it(e,this.sarr.join("")),ot(e,this.lensE.toUint8Array()),Je(e)}}]),e}(),vt=ee((function e(t){te(this,e),this.arr=t,this.pos=0})),yt=function(e){return new vt(e)},mt=function(e){return e.pos!==e.arr.length},bt=function(e,t){var n=Ue(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,n},_t=function(e){return bt(e,xt(e))},wt=function(e){return e.arr[e.pos++]},xt=function(e){for(var t=0,n=0;;){var r=e.arr[e.pos++];if(t|=(r&We)<<n,r<Ye)return t>>>0;if((n+=7)>53)throw new Error("Integer out of range!")}},Et=function(e){var t=e.arr[e.pos++],n=63&t,r=6,i=(t&qe)>0?-1:1;if(0===(t&Ye))return i*n;for(;;){if(n|=((t=e.arr[e.pos++])&We)<<r,t<Ye)return i*(n>>>0);if((r+=7)>53)throw new Error("Integer out of range!")}},kt=function(e){var t=xt(e);if(0===t)return"";var n=String.fromCodePoint(wt(e));if(--t<100)for(;t--;)n+=String.fromCodePoint(wt(e));else for(;t>0;){var r=t<1e4?t:1e4,i=e.arr.subarray(e.pos,e.pos+r);e.pos+=r,n+=String.fromCodePoint.apply(null,i),t-=r}return decodeURIComponent(escape(n))},Ct=function(e,t){var n=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,n},St=[function(e){},function(e){return null},Et,function(e){return Ct(e,4).getFloat32(0,!1)},function(e){return Ct(e,8).getFloat64(0,!1)},function(e){return Ct(e,8).getBigInt64(0,!1)},function(e){return!1},function(e){return!0},kt,function(e){for(var t=xt(e),n={},r=0;r<t;r++){n[kt(e)]=Nt(e)}return n},function(e){for(var t=xt(e),n=[],r=0;r<t;r++)n.push(Nt(e));return n},_t],Nt=function(e){return St[127-wt(e)](e)},Tt=function(e){re(n,e);var t=oe(n);function n(e,r){var i;return te(this,n),(i=t.call(this,e)).reader=r,i.s=null,i.count=0,i}return ee(n,[{key:"read",value:function(){return 0===this.count&&(this.s=this.reader(this),mt(this)?this.count=xt(this)+1:this.count=-1),this.count--,this.s}}]),n}(vt),It=function(e){re(n,e);var t=oe(n);function n(e){var r;return te(this,n),(r=t.call(this,e)).s=0,r.count=0,r}return ee(n,[{key:"read",value:function(){if(0===this.count){this.s=Et(this);var e=_e(this.s);this.count=1,e&&(this.s=-this.s,this.count=xt(this)+2)}return this.count--,this.s}}]),n}(vt),Dt=function(e){re(n,e);var t=oe(n);function n(e){var r;return te(this,n),(r=t.call(this,e)).s=0,r.count=0,r.diff=0,r}return ee(n,[{key:"read",value:function(){if(0===this.count){var e=Et(this),t=1&e;this.diff=e>>1,this.count=1,t&&(this.count=xt(this)+2)}return this.s+=this.diff,this.count--,this.s}}]),n}(vt),Mt=function(){function e(t){te(this,e),this.decoder=new It(t),this.str=kt(this.decoder),this.spos=0}return ee(e,[{key:"read",value:function(){var e=this.spos+this.decoder.read(),t=this.str.slice(this.spos,e);return this.spos=e,t}}]),e}(),Ot=("undefined"===typeof window||"undefined"!==typeof window.performance&&window.performance,"undefined"===typeof crypto?null:crypto),Pt=null!==Ot?function(e){var t=new ArrayBuffer(e),n=new Uint8Array(t);return Ot.getRandomValues(n),t}:function(e){for(var t=new ArrayBuffer(e),n=new Uint8Array(t),r=0;r<e;r++)n[r]=Math.ceil(4294967295*Math.random()>>>0);return t},Lt=Math.random,At=function(){return new Uint32Array(Pt(4))[0]},Rt=[1e7]+-1e3+-4e3+-8e3+-1e11,Ft=function(){return Rt.replace(/[018]/g,(function(e){return(e^At()&15>>e/4).toString(16)}))},zt=function(e){return new Promise(e)},jt=function(e){return Promise.resolve(e)},Bt=function(e){return new Error(e)},Vt=function(){throw Bt("Method unimplemented")},Ut=function(){throw Bt("Unexpected case")},Gt=(Object.assign,Object.keys),Ht=function(e){return Gt(e).length},qt=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Yt=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;try{for(;r<t.length;r++)t[r].apply(t,q(n))}finally{r<t.length&&e(t,n,r+1)}},Wt=function(){},Xt=function e(t,n){if(null==t||null==n)return function(e,t){return e===t}(t,n);if(t.constructor!==n.constructor)return!1;if(t===n)return!0;switch(t.constructor){case ArrayBuffer:t=new Uint8Array(t),n=new Uint8Array(n);case Uint8Array:if(t.byteLength!==n.byteLength)return!1;for(var r=0;r<t.length;r++)if(t[r]!==n[r])return!1;break;case Set:if(t.size!==n.size)return!1;var i,o=f(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(!n.has(a))return!1}}catch(d){o.e(d)}finally{o.f()}break;case Map:if(t.size!==n.size)return!1;var s,u=f(t.keys());try{for(u.s();!(s=u.n()).done;){var l=s.value;if(!n.has(l)||!e(t.get(l),n.get(l)))return!1}}catch(d){u.e(d)}finally{u.f()}break;case Object:if(Ht(t)!==Ht(n))return!1;for(var c in t)if(!qt(t,c)||!e(t[c],n[c]))return!1;break;case Array:if(t.length!==n.length)return!1;for(var h=0;h<t.length;h++)if(!e(t[h],n[h]))return!1;break;default:return!1}return!0},Kt=Symbol,$t=ee((function e(t,n){te(this,e),this.left=t,this.right=n})),Qt=function(e,t){return new $t(e,t)},Zt="undefined"!==typeof document?document:{},Jt=("undefined"!==typeof DOMParser&&new DOMParser,function(e){return function(e,t){var n,r=[],i=f(e);try{for(i.s();!(n=i.n()).done;){var o=c(n.value,2),a=o[0],s=o[1];r.push(t(s,a))}}catch(u){i.e(u)}finally{i.f()}return r}(e,(function(e,t){return"".concat(t,":").concat(e,";")})).join("")}),en=(Zt.ELEMENT_NODE,Zt.TEXT_NODE,Zt.CDATA_SECTION_NODE,Zt.COMMENT_NODE,Zt.DOCUMENT_NODE,Zt.DOCUMENT_TYPE_NODE,Zt.DOCUMENT_FRAGMENT_NODE,Date.now),tn=Kt(),nn=Kt(),rn=Kt(),on=Kt(),an=Kt(),sn=Kt(),un=Kt(),ln=Kt(),cn=Kt(),fn=(i(Pe={},tn,Qt("font-weight","bold")),i(Pe,nn,Qt("font-weight","normal")),i(Pe,rn,Qt("color","blue")),i(Pe,an,Qt("color","green")),i(Pe,on,Qt("color","grey")),i(Pe,sn,Qt("color","red")),i(Pe,un,Qt("color","purple")),i(Pe,ln,Qt("color","orange")),i(Pe,cn,Qt("color","black")),Pe),hn=(i(Le={},tn,"\x1b[1m"),i(Le,nn,"\x1b[2m"),i(Le,rn,"\x1b[34m"),i(Le,an,"\x1b[32m"),i(Le,on,"\x1b[37m"),i(Le,sn,"\x1b[31m"),i(Le,un,"\x1b[35m"),i(Le,ln,"\x1b[38;5;208m"),i(Le,cn,"\x1b[0m"),Le),dn=Re?function(e){for(var t=[],n=[],r=0;r<e.length;r++){var i=e[r],o=hn[i];if(void 0!==o)t.push(o);else{if(i.constructor!==String&&i.constructor!==Number)break;t.push(i)}}for(r>0&&(t.push("\x1b[0m"),n.push(t.join("")));r<e.length;r++){var a=e[r];a instanceof Symbol||n.push(a)}return n}:function(e){for(var t=[],n=[],r=ae(),i=[],o=0;o<e.length;o++){var a=e[o],s=fn[a];if(void 0!==s)r.set(s.left,s.right);else{if(a.constructor!==String&&a.constructor!==Number)break;var u=Jt(r);o>0||u.length>0?(t.push("%c"+a),n.push(u)):t.push(a)}}for(o>0&&(i=n).unshift(t.join(""));o<e.length;o++){var l=e[o];l instanceof Symbol||i.push(l)}return i},pn=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).log.apply(e,q(dn(n))),gn.forEach((function(e){return e.print(n)}))},gn=new Set,vn=[an,un,ln,rn],yn=0,mn=en(),bn=function(e){var t;return i(t={},Symbol.iterator,(function(){return this})),i(t,"next",e),t},_n=function(e,t){return bn((function(){var n=e.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:t(i)}}))},wn=X().mark(Pr),xn=ee((function e(t,n){te(this,e),this.clock=t,this.len=n})),En=ee((function e(){te(this,e),this.clients=new Map})),kn=function(e,t,n){return t.clients.forEach((function(t,r){for(var i=e.doc.store.clients.get(r),o=0;o<t.length;o++){var a=t[o];kr(e,i,a.clock,a.len,n)}}))},Cn=function(e,t){var n=e.clients.get(t.client);return void 0!==n&&null!==function(e,t){for(var n=0,r=e.length-1;n<=r;){var i=pe((n+r)/2),o=e[i],a=o.clock;if(a<=t){if(t<a+o.len)return i;n=i+1}else r=i-1}return null}(n,t.clock)},Sn=function(e){e.clients.forEach((function(e){var t,n;for(e.sort((function(e,t){return e.clock-t.clock})),t=1,n=1;t<e.length;t++){var r=e[n-1],i=e[t];r.clock+r.len>=i.clock?r.len=me(r.len,i.clock+i.len-r.clock):(n<t&&(e[n]=i),n++)}e.length=n}))},Nn=function(e){for(var t=new En,n=function(n){e[n].clients.forEach((function(r,i){if(!t.clients.has(i)){for(var o=r.slice(),a=n+1;a<e.length;a++)fe(o,e[a].clients.get(i)||[]);t.clients.set(i,o)}}))},r=0;r<e.length;r++)n(r);return Sn(t),t},Tn=function(e,t,n,r){ue(e.clients,t,(function(){return[]})).push(new xn(n,r))},In=function(){return new En},Dn=function(e){var t=In();return e.clients.forEach((function(e,n){for(var r=[],i=0;i<e.length;i++){var o=e[i];if(o.deleted){var a=o.id.clock,s=o.length;if(i+1<e.length)for(var u=e[i+1];i+1<e.length&&u.deleted;u=e[1+ ++i])s+=u.length;r.push(new xn(a,s))}}r.length>0&&t.clients.set(n,r)})),t},Mn=function(e,t){nt(e.restEncoder,t.clients.size),t.clients.forEach((function(t,n){e.resetDsCurVal(),nt(e.restEncoder,n);var r=t.length;nt(e.restEncoder,r);for(var i=0;i<r;i++){var o=t[i];e.writeDsClock(o.clock),e.writeDsLen(o.len)}}))},On=function(e){for(var t=new En,n=xt(e.restDecoder),r=0;r<n;r++){e.resetDsCurVal();var i=xt(e.restDecoder),o=xt(e.restDecoder);if(o>0)for(var a=ue(t.clients,i,(function(){return[]})),s=0;s<o;s++)a.push(new xn(e.readDsClock(),e.readDsLen()))}return t},Pn=function(e,t,n){for(var r=new En,i=xt(e.restDecoder),o=0;o<i;o++){e.resetDsCurVal();for(var a=xt(e.restDecoder),s=xt(e.restDecoder),u=n.clients.get(a)||[],l=yr(n,a),c=0;c<s;c++){var f=e.readDsClock(),h=f+e.readDsLen();if(f<l){l<h&&Tn(r,a,l,h-l);var d=br(u,f),p=u[d];for(!p.deleted&&p.id.clock<f&&(u.splice(d+1,0,oo(t,p,f-p.id.clock)),d++);d<u.length&&(p=u[d++]).id.clock<h;)p.deleted||(h<p.id.clock+p.length&&u.splice(d,0,oo(t,p,h-p.id.clock)),p.delete(t))}else Tn(r,a,f,h-f)}}if(r.clients.size>0){var g=new Gn;return nt(g.restEncoder,0),Mn(g,r),g.toUint8Array()}return null},Ln=At,An=function(e){re(n,e);var t=oe(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.guid,o=void 0===i?Ft():i,a=r.collectionid,s=void 0===a?null:a,u=r.gc,l=void 0===u||u,c=r.gcFilter,f=void 0===c?function(){return!0}:c,h=r.meta,d=void 0===h?null:h,p=r.autoLoad,g=void 0!==p&&p,v=r.shouldLoad,y=void 0===v||v;return te(this,n),(e=t.call(this)).gc=l,e.gcFilter=f,e.clientID=Ln(),e.guid=o,e.collectionid=s,e.share=new Map,e.store=new gr,e._transaction=null,e._transactionCleanups=[],e.subdocs=new Set,e._item=null,e.shouldLoad=y,e.autoLoad=g,e.meta=d,e.isLoaded=!1,e.whenLoaded=zt((function(t){e.on("load",(function(){e.isLoaded=!0,t(K(e))}))})),e}return ee(n,[{key:"load",value:function(){var e=this,t=this._item;null===t||this.shouldLoad||Or(t.parent.doc,(function(t){t.subdocsLoaded.add(e)}),null,!0),this.shouldLoad=!0}},{key:"getSubdocs",value:function(){return this.subdocs}},{key:"getSubdocGuids",value:function(){return new Set(Array.from(this.subdocs).map((function(e){return e.guid})))}},{key:"transact",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Or(this,e,t)}},{key:"get",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jr,r=ue(this.share,e,(function(){var e=new n;return e._integrate(t,null),e})),i=r.constructor;if(n!==Jr&&i!==n){if(i===Jr){var o=new n;o._map=r._map,r._map.forEach((function(e){for(;null!==e;e=e.left)e.parent=o})),o._start=r._start;for(var a=o._start;null!==a;a=a.right)a.parent=o;return o._length=r._length,this.share.set(e,o),o._integrate(this,null),o}throw new Error("Type with the name ".concat(e," has already been defined with a different constructor"))}return r}},{key:"getArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.get(e,vi)}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.get(e,Oi)}},{key:"getMap",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.get(e,mi)}},{key:"getXmlFragment",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.get(e,Li)}},{key:"toJSON",value:function(){var e={};return this.share.forEach((function(t,n){e[n]=t.toJSON()})),e}},{key:"destroy",value:function(){var e=this;he(this.subdocs).forEach((function(e){return e.destroy()}));var t=this._item;if(null!==t){this._item=null;var r=t.content;r.doc=new n(a(a({guid:this.guid},r.opts),{},{shouldLoad:!1})),r.doc._item=t,Or(t.parent.doc,(function(n){var i=r.doc;t.deleted||n.subdocsAdded.add(i),n.subdocsRemoved.add(e)}),null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),Z($(n.prototype),"destroy",this).call(this)}},{key:"on",value:function(e,t){Z($(n.prototype),"on",this).call(this,e,t)}},{key:"off",value:function(e,t){Z($(n.prototype),"off",this).call(this,e,t)}}]),n}(de),Rn=function(){function e(t){te(this,e),this.restDecoder=t}return ee(e,[{key:"resetDsCurVal",value:function(){}},{key:"readDsClock",value:function(){return xt(this.restDecoder)}},{key:"readDsLen",value:function(){return xt(this.restDecoder)}}]),e}(),Fn=function(e){re(n,e);var t=oe(n);function n(){return te(this,n),t.apply(this,arguments)}return ee(n,[{key:"readLeftID",value:function(){return lr(xt(this.restDecoder),xt(this.restDecoder))}},{key:"readRightID",value:function(){return lr(xt(this.restDecoder),xt(this.restDecoder))}},{key:"readClient",value:function(){return xt(this.restDecoder)}},{key:"readInfo",value:function(){return wt(this.restDecoder)}},{key:"readString",value:function(){return kt(this.restDecoder)}},{key:"readParentInfo",value:function(){return 1===xt(this.restDecoder)}},{key:"readTypeRef",value:function(){return xt(this.restDecoder)}},{key:"readLen",value:function(){return xt(this.restDecoder)}},{key:"readAny",value:function(){return Nt(this.restDecoder)}},{key:"readBuf",value:function(){return function(e){var t=Ve(e.byteLength);return t.set(e),t}(_t(this.restDecoder))}},{key:"readJSON",value:function(){return JSON.parse(kt(this.restDecoder))}},{key:"readKey",value:function(){return kt(this.restDecoder)}}]),n}(Rn),zn=function(){function e(t){te(this,e),this.dsCurrVal=0,this.restDecoder=t}return ee(e,[{key:"resetDsCurVal",value:function(){this.dsCurrVal=0}},{key:"readDsClock",value:function(){return this.dsCurrVal+=xt(this.restDecoder),this.dsCurrVal}},{key:"readDsLen",value:function(){var e=xt(this.restDecoder)+1;return this.dsCurrVal+=e,e}}]),e}(),jn=function(e){re(n,e);var t=oe(n);function n(e){var r;return te(this,n),(r=t.call(this,e)).keys=[],xt(e),r.keyClockDecoder=new Dt(_t(e)),r.clientDecoder=new It(_t(e)),r.leftClockDecoder=new Dt(_t(e)),r.rightClockDecoder=new Dt(_t(e)),r.infoDecoder=new Tt(_t(e),wt),r.stringDecoder=new Mt(_t(e)),r.parentInfoDecoder=new Tt(_t(e),wt),r.typeRefDecoder=new It(_t(e)),r.lenDecoder=new It(_t(e)),r}return ee(n,[{key:"readLeftID",value:function(){return new sr(this.clientDecoder.read(),this.leftClockDecoder.read())}},{key:"readRightID",value:function(){return new sr(this.clientDecoder.read(),this.rightClockDecoder.read())}},{key:"readClient",value:function(){return this.clientDecoder.read()}},{key:"readInfo",value:function(){return this.infoDecoder.read()}},{key:"readString",value:function(){return this.stringDecoder.read()}},{key:"readParentInfo",value:function(){return 1===this.parentInfoDecoder.read()}},{key:"readTypeRef",value:function(){return this.typeRefDecoder.read()}},{key:"readLen",value:function(){return this.lenDecoder.read()}},{key:"readAny",value:function(){return Nt(this.restDecoder)}},{key:"readBuf",value:function(){return _t(this.restDecoder)}},{key:"readJSON",value:function(){return Nt(this.restDecoder)}},{key:"readKey",value:function(){var e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];var t=this.stringDecoder.read();return this.keys.push(t),t}}]),n}(zn),Bn=function(){function e(){te(this,e),this.restEncoder=Qe()}return ee(e,[{key:"toUint8Array",value:function(){return Je(this.restEncoder)}},{key:"resetDsCurVal",value:function(){}},{key:"writeDsClock",value:function(e){nt(this.restEncoder,e)}},{key:"writeDsLen",value:function(e){nt(this.restEncoder,e)}}]),e}(),Vn=function(e){re(n,e);var t=oe(n);function n(){return te(this,n),t.apply(this,arguments)}return ee(n,[{key:"writeLeftID",value:function(e){nt(this.restEncoder,e.client),nt(this.restEncoder,e.clock)}},{key:"writeRightID",value:function(e){nt(this.restEncoder,e.client),nt(this.restEncoder,e.clock)}},{key:"writeClient",value:function(e){nt(this.restEncoder,e)}},{key:"writeInfo",value:function(e){tt(this.restEncoder,e)}},{key:"writeString",value:function(e){it(this.restEncoder,e)}},{key:"writeParentInfo",value:function(e){nt(this.restEncoder,e?1:0)}},{key:"writeTypeRef",value:function(e){nt(this.restEncoder,e)}},{key:"writeLen",value:function(e){nt(this.restEncoder,e)}},{key:"writeAny",value:function(e){lt(this.restEncoder,e)}},{key:"writeBuf",value:function(e){at(this.restEncoder,e)}},{key:"writeJSON",value:function(e){it(this.restEncoder,JSON.stringify(e))}},{key:"writeKey",value:function(e){it(this.restEncoder,e)}}]),n}(Bn),Un=function(){function e(){te(this,e),this.restEncoder=Qe(),this.dsCurrVal=0}return ee(e,[{key:"toUint8Array",value:function(){return Je(this.restEncoder)}},{key:"resetDsCurVal",value:function(){this.dsCurrVal=0}},{key:"writeDsClock",value:function(e){var t=e-this.dsCurrVal;this.dsCurrVal=e,nt(this.restEncoder,t)}},{key:"writeDsLen",value:function(e){0===e&&Ut(),nt(this.restEncoder,e-1),this.dsCurrVal+=e}}]),e}(),Gn=function(e){re(n,e);var t=oe(n);function n(){var e;return te(this,n),(e=t.call(this)).keyMap=new Map,e.keyClock=0,e.keyClockEncoder=new pt,e.clientEncoder=new ht,e.leftClockEncoder=new pt,e.rightClockEncoder=new pt,e.infoEncoder=new ct(tt),e.stringEncoder=new gt,e.parentInfoEncoder=new ct(tt),e.typeRefEncoder=new ht,e.lenEncoder=new ht,e}return ee(n,[{key:"toUint8Array",value:function(){var e=Qe();return nt(e,0),at(e,this.keyClockEncoder.toUint8Array()),at(e,this.clientEncoder.toUint8Array()),at(e,this.leftClockEncoder.toUint8Array()),at(e,this.rightClockEncoder.toUint8Array()),at(e,Je(this.infoEncoder)),at(e,this.stringEncoder.toUint8Array()),at(e,Je(this.parentInfoEncoder)),at(e,this.typeRefEncoder.toUint8Array()),at(e,this.lenEncoder.toUint8Array()),ot(e,Je(this.restEncoder)),Je(e)}},{key:"writeLeftID",value:function(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}},{key:"writeRightID",value:function(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}},{key:"writeClient",value:function(e){this.clientEncoder.write(e)}},{key:"writeInfo",value:function(e){this.infoEncoder.write(e)}},{key:"writeString",value:function(e){this.stringEncoder.write(e)}},{key:"writeParentInfo",value:function(e){this.parentInfoEncoder.write(e?1:0)}},{key:"writeTypeRef",value:function(e){this.typeRefEncoder.write(e)}},{key:"writeLen",value:function(e){this.lenEncoder.write(e)}},{key:"writeAny",value:function(e){lt(this.restEncoder,e)}},{key:"writeBuf",value:function(e){at(this.restEncoder,e)}},{key:"writeJSON",value:function(e){lt(this.restEncoder,e)}},{key:"writeKey",value:function(e){var t=this.keyMap.get(e);void 0===t?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(t)}}]),n}(Un),Hn=function(e,t,n){var r=new Map;n.forEach((function(e,n){yr(t,n)>e&&r.set(n,e)})),vr(t).forEach((function(e,t){n.has(t)||r.set(t,0)})),nt(e.restEncoder,r.size),Array.from(r.entries()).sort((function(e,t){return t[0]-e[0]})).forEach((function(n){var r=c(n,2),i=r[0],o=r[1];!function(e,t,n,r){r=me(r,t[0].id.clock);var i=br(t,r);nt(e.restEncoder,t.length-i),e.writeClient(n),nt(e.restEncoder,r);var o=t[i];o.write(e,r-o.id.clock);for(var a=i+1;a<t.length;a++)t[a].write(e,0)}(e,t.clients.get(i),i,o)}))},qn=function(e,t){for(var n=ae(),r=xt(e.restDecoder),i=0;i<r;i++){var o=xt(e.restDecoder),a=new Array(o),s=e.readClient(),u=xt(e.restDecoder);n.set(s,{i:0,refs:a});for(var l=0;l<o;l++){var c=e.readInfo();switch(31&c){case 0:var f=e.readLen();a[l]=new Bi(lr(s,u),f),u+=f;break;case 10:var h=xt(e.restDecoder);a[l]=new lo(lr(s,u),h),u+=h;break;default:var d=0===(192&c),p=new ao(lr(s,u),null,(c&Ye)===Ye?e.readLeftID():null,null,(c&qe)===qe?e.readRightID():null,d?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,d&&32===(32&c)?e.readString():null,so(e,c));a[l]=p,u+=p.length}}}return n},Yn=function(e,t,n){var r=[],i=Array.from(n.keys()).sort((function(e,t){return e-t}));if(0===i.length)return null;var o=function(){if(0===i.length)return null;for(var e=n.get(i[i.length-1]);e.refs.length===e.i;){if(i.pop(),!(i.length>0))return null;e=n.get(i[i.length-1])}return e},a=o();if(null===a&&0===r.length)return null;for(var s=new gr,u=new Map,l=function(e,t){var n=u.get(e);(null==n||n>t)&&u.set(e,t)},c=a.refs[a.i++],h=new Map,d=function(){var e,t=f(r);try{var o=function(){var t=e.value,r=t.id.client,o=n.get(r);o?(o.i--,s.clients.set(r,o.refs.slice(o.i)),n.delete(r),o.i=0,o.refs=[]):s.clients.set(r,[t]),i=i.filter((function(e){return e!==r}))};for(t.s();!(e=t.n()).done;)o()}catch(a){t.e(a)}finally{t.f()}r.length=0};;){if(c.constructor!==lo){var p=ue(h,c.id.client,(function(){return yr(t,c.id.client)}))-c.id.clock;if(p<0)r.push(c),l(c.id.client,c.id.clock-1),d();else{var g=c.getMissing(e,t);if(null!==g){r.push(c);var v=n.get(g)||{refs:[],i:0};if(v.refs.length!==v.i){c=v.refs[v.i++];continue}l(g,yr(t,g)),d()}else(0===p||p<c.length)&&(c.integrate(e,p),h.set(c.id.client,c.id.clock+c.length))}}if(r.length>0)c=r.pop();else if(null!==a&&a.i<a.refs.length)c=a.refs[a.i++];else{if(null===(a=o()))break;c=a.refs[a.i++]}}if(s.clients.size>0){var y=new Gn;return Hn(y,s,new Map),nt(y.restEncoder,0),{missing:u,update:y.toUint8Array()}}return null},Wn=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new jn(e);return Or(t,(function(e){e.local=!1;var t=!1,n=e.doc,i=n.store,o=qn(r,n),a=Yn(e,i,o),s=i.pendingStructs;if(s){var u,l=f(s.missing);try{for(l.s();!(u=l.n()).done;){var h=c(u.value,2),d=h[0];if(h[1]<yr(i,d)){t=!0;break}}}catch(k){l.e(k)}finally{l.f()}if(a){var p,g=f(a.missing);try{for(g.s();!(p=g.n()).done;){var v=c(p.value,2),y=v[0],m=v[1],b=s.missing.get(y);(null==b||b>m)&&s.missing.set(y,m)}}catch(k){g.e(k)}finally{g.f()}s.update=zr([s.update,a.update])}}else i.pendingStructs=a;var _=Pn(r,e,i);if(i.pendingDs){var w=new jn(yt(i.pendingDs));xt(w.restDecoder);var x=Pn(w,e,i);i.pendingDs=_&&x?zr([_,x]):_||x}else i.pendingDs=_;if(t){var E=i.pendingStructs.update;i.pendingStructs=null,Xn(e.doc,E)}}),n,!1)},Xn=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:jn,i=yt(t);Wn(i,e,n,new r(i))},Kn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;Hn(e,t.store,n),Mn(e,Dn(t.store))},$n=function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint8Array([0]),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Gn,r=Zn(t);Kn(n,e,r);var i=[n.toUint8Array()];if(e.store.pendingDs&&i.push(e.store.pendingDs),e.store.pendingStructs&&i.push(jr(e.store.pendingStructs.update,t)),i.length>1){if(n.constructor===Vn)return Rr(i.map((function(e,t){return 0===t?e:Hr(e)})));if(n.constructor===Gn)return zr(i)}return i[0]}(e,t,new Vn)},Qn=function(e){for(var t=new Map,n=xt(e.restDecoder),r=0;r<n;r++){var i=xt(e.restDecoder),o=xt(e.restDecoder);t.set(i,o)}return t},Zn=function(e){return Qn(new Rn(yt(e)))},Jn=function(e,t){return nt(e.restEncoder,t.size),Array.from(t.entries()).sort((function(e,t){return t[0]-e[0]})).forEach((function(t){var n=c(t,2),r=n[0],i=n[1];nt(e.restEncoder,r),nt(e.restEncoder,i)})),e},er=function(e,t){return Jn(e,vr(t.store))},tr=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Un;return e instanceof Map?Jn(t,e):er(t,e),t.toUint8Array()}(e,new Bn)},nr=ee((function e(){te(this,e),this.l=[]})),rr=function(){return new nr},ir=function(e,t){return e.l.push(t)},or=function(e,t){var n=e.l,r=n.length;e.l=n.filter((function(e){return t!==e})),r===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},ar=function(e,t,n){return Yt(e.l,[t,n])},sr=ee((function e(t,n){te(this,e),this.client=t,this.clock=n})),ur=function(e,t){return e===t||null!==e&&null!==t&&e.client===t.client&&e.clock===t.clock},lr=function(e,t){return new sr(e,t)},cr=function(e){var t,n=f(e.doc.share.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0];if(r[1]===e)return i}}catch(o){n.e(o)}finally{n.f()}throw Ut()},fr=ee((function e(t,n){te(this,e),this.ds=t,this.sv=n})),hr=function(e,t){return new fr(e,t)},dr=(hr(In(),new Map),function(e,t){return void 0===t?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!Cn(t.ds,e.id)}),pr=function e(t,n){var r=ue(t.meta,e,le),i=t.doc.store;r.has(n)||(n.sv.forEach((function(e,n){e<yr(i,n)&&xr(t,lr(n,e))})),kn(t,n.ds,(function(e){})),r.add(n))},gr=ee((function e(){te(this,e),this.clients=new Map,this.pendingStructs=null,this.pendingDs=null})),vr=function(e){var t=new Map;return e.clients.forEach((function(e,n){var r=e[e.length-1];t.set(n,r.id.clock+r.length)})),t},yr=function(e,t){var n=e.clients.get(t);if(void 0===n)return 0;var r=n[n.length-1];return r.id.clock+r.length},mr=function(e,t){var n=e.clients.get(t.id.client);if(void 0===n)n=[],e.clients.set(t.id.client,n);else{var r=n[n.length-1];if(r.id.clock+r.length!==t.id.clock)throw Ut()}n.push(t)},br=function(e,t){var n=0,r=e.length-1,i=e[r],o=i.id.clock;if(o===t)return r;for(var a=pe(t/(o+i.length-1)*r);n<=r;){if((o=(i=e[a]).id.clock)<=t){if(t<o+i.length)return a;n=a+1}else r=a-1;a=pe((n+r)/2)}throw Ut()},_r=function(e,t){var n=e.clients.get(t.client);return n[br(n,t.clock)]},wr=function(e,t,n){var r=br(t,n),i=t[r];return i.id.clock<n&&i instanceof ao?(t.splice(r+1,0,oo(e,i,n-i.id.clock)),r+1):r},xr=function(e,t){var n=e.doc.store.clients.get(t.client);return n[wr(e,n,t.clock)]},Er=function(e,t,n){var r=t.clients.get(n.client),i=br(r,n.clock),o=r[i];return n.clock!==o.id.clock+o.length-1&&o.constructor!==Bi&&r.splice(i+1,0,oo(e,o,n.clock-o.id.clock+1)),o},kr=function(e,t,n,r,i){if(0!==r){var o,a=n+r,s=wr(e,t,n);do{a<(o=t[s++]).id.clock+o.length&&wr(e,t,a),i(o)}while(s<t.length&&t[s].id.clock<a)}},Cr=ee((function e(t,n,r){te(this,e),this.doc=t,this.deleteSet=new En,this.beforeState=vr(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set})),Sr=function(e,t){return!(0===t.deleteSet.clients.size&&!function(e,t){var n,r=f(e);try{for(r.s();!(n=r.n()).done;){var i=c(n.value,2),o=i[0];if(t(i[1],o))return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(t.afterState,(function(e,n){return t.beforeState.get(n)!==e})))&&(Sn(t.deleteSet),function(e,t){Hn(e,t.doc.store,t.beforeState)}(e,t),Mn(e,t.deleteSet),!0)},Nr=function(e,t,n){var r=t._item;(null===r||r.id.clock<(e.beforeState.get(r.id.client)||0)&&!r.deleted)&&ue(e.changed,t,le).add(n)},Tr=function(e,t){var n=e[t-1],r=e[t];n.deleted===r.deleted&&n.constructor===r.constructor&&n.mergeWith(r)&&(e.splice(t,1),r instanceof ao&&null!==r.parentSub&&r.parent._map.get(r.parentSub)===r&&r.parent._map.set(r.parentSub,n))},Ir=function(e,t,n){var r,i=f(e.clients.entries());try{for(i.s();!(r=i.n()).done;)for(var o=c(r.value,2),a=o[0],s=o[1],u=t.clients.get(a),l=s.length-1;l>=0;l--)for(var h=s[l],d=h.clock+h.len,p=br(u,h.clock),g=u[p];p<u.length&&g.id.clock<d;g=u[++p]){var v=u[p];if(h.clock+h.len<=v.id.clock)break;v instanceof ao&&v.deleted&&!v.keep&&n(v)&&v.gc(t,!1)}}catch(y){i.e(y)}finally{i.f()}},Dr=function(e,t){e.clients.forEach((function(e,n){for(var r=t.clients.get(n),i=e.length-1;i>=0;i--)for(var o=e[i],a=ye(r.length-1,1+br(r,o.clock+o.len-1)),s=r[a];a>0&&s.id.clock>=o.clock;s=r[--a])Tr(r,a)}))},Mr=function e(t,n){if(n<t.length){var r=t[n],i=r.doc,o=i.store,a=r.deleteSet,s=r._mergeStructs;try{Sn(a),r.afterState=vr(r.doc.store),i._transaction=null,i.emit("beforeObserverCalls",[r,i]);var u=[];r.changed.forEach((function(e,t){return u.push((function(){null!==t._item&&t._item.deleted||t._callObserver(r,e)}))})),u.push((function(){r.changedParentTypes.forEach((function(e,t){return u.push((function(){null!==t._item&&t._item.deleted||((e=e.filter((function(e){return null===e.target._item||!e.target._item.deleted}))).forEach((function(e){e.currentTarget=t})),e.sort((function(e,t){return e.path.length-t.path.length})),ar(t._dEH,e,r))}))})),u.push((function(){return i.emit("afterTransaction",[r,i])}))})),Yt(u,[])}finally{i.gc&&Ir(a,o,i.gcFilter),Dr(a,o),r.afterState.forEach((function(e,t){var n=r.beforeState.get(t)||0;if(n!==e)for(var i=o.clients.get(t),a=me(br(i,n),1),s=i.length-1;s>=a;s--)Tr(i,s)}));for(var l=0;l<s.length;l++){var c=s[l].id,f=c.client,h=c.clock,d=o.clients.get(f),p=br(d,h);p+1<d.length&&Tr(d,p+1),p>0&&Tr(d,p)}if(r.local||r.afterState.get(i.clientID)===r.beforeState.get(i.clientID)||(pn(ln,tn,"[yjs] ",nn,sn,"Changed the client-id because another client seems to be using it."),i.clientID=Ln()),i.emit("afterTransactionCleanup",[r,i]),i._observers.has("update")){var g=new Vn;Sr(g,r)&&i.emit("update",[g.toUint8Array(),r.origin,i,r])}if(i._observers.has("updateV2")){var v=new Gn;Sr(v,r)&&i.emit("updateV2",[v.toUint8Array(),r.origin,i,r])}var y=r.subdocsAdded,m=r.subdocsLoaded,b=r.subdocsRemoved;(y.size>0||b.size>0||m.size>0)&&(y.forEach((function(e){e.clientID=i.clientID,null==e.collectionid&&(e.collectionid=i.collectionid),i.subdocs.add(e)})),b.forEach((function(e){return i.subdocs.delete(e)})),i.emit("subdocs",[{loaded:m,added:y,removed:b},i,r]),b.forEach((function(e){return e.destroy()}))),t.length<=n+1?(i._transactionCleanups=[],i.emit("afterAllTransactions",[i,t])):e(t,n+1)}}},Or=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=e._transactionCleanups,o=!1;null===e._transaction&&(o=!0,e._transaction=new Cr(e,n,r),i.push(e._transaction),1===i.length&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{t(e._transaction)}finally{o&&i[0]===e._transaction&&Mr(i,0)}};function Pr(e){var t,n,r,i,o,a,s,u,l,c,f;return X().wrap((function(h){for(;;)switch(h.prev=h.next){case 0:t=xt(e.restDecoder),n=0;case 2:if(!(n<t)){h.next=34;break}r=xt(e.restDecoder),i=e.readClient(),o=xt(e.restDecoder),a=0;case 7:if(!(a<r)){h.next=31;break}if(10!==(s=e.readInfo())){h.next=16;break}return u=xt(e.restDecoder),h.next=13,new lo(lr(i,o),u);case 13:o+=u,h.next=28;break;case 16:if(0===(31&s)){h.next=24;break}return l=0===(192&s),c=new ao(lr(i,o),null,(s&Ye)===Ye?e.readLeftID():null,null,(s&qe)===qe?e.readRightID():null,l?e.readParentInfo()?e.readString():e.readLeftID():null,l&&32===(32&s)?e.readString():null,so(e,s)),h.next=21,c;case 21:o+=c.length,h.next=28;break;case 24:return f=e.readLen(),h.next=27,new Bi(lr(i,o),f);case 27:o+=f;case 28:a++,h.next=7;break;case 31:n++,h.next=2;break;case 34:case"end":return h.stop()}}),wn)}var Lr=function(){function e(t,n){te(this,e),this.gen=Pr(t),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}return ee(e,[{key:"next",value:function(){do{this.curr=this.gen.next().value||null}while(this.filterSkips&&null!==this.curr&&this.curr.constructor===lo);return this.curr}}]),e}(),Ar=ee((function e(t){te(this,e),this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]})),Rr=function(e){return zr(e,Fn,Vn)},Fr=function(e,t){if(e.constructor===Bi){var n=e.id,r=n.client,i=n.clock;return new Bi(lr(r,i+t),e.length-t)}if(e.constructor===lo){var o=e.id,a=o.client,s=o.clock;return new lo(lr(a,s+t),e.length-t)}var u=e,l=u.id,c=l.client,f=l.clock;return new ao(lr(c,f+t),null,lr(c,f+t-1),null,u.rightOrigin,u.parent,u.parentSub,u.content.splice(t))},zr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gn;if(1===e.length)return e[0];for(var r=e.map((function(e){return new t(yt(e))})),i=r.map((function(e){return new Lr(e,!0)})),o=null,a=new n,s=new Ar(a);(i=i.filter((function(e){return null!==e.curr}))).sort((function(e,t){if(e.curr.id.client===t.curr.id.client){var n=e.curr.id.clock-t.curr.id.clock;return 0===n?e.curr.constructor===t.curr.constructor?0:e.curr.constructor===lo?1:-1:n}return t.curr.id.client-e.curr.id.client})),0!==i.length;){var u=i[0],l=u.curr.id.client;if(null!==o){for(var c=u.curr,f=!1;null!==c&&c.id.clock+c.length<=o.struct.id.clock+o.struct.length&&c.id.client>=o.struct.id.client;)c=u.next(),f=!0;if(null===c||c.id.client!==l||f&&c.id.clock>o.struct.id.clock+o.struct.length)continue;if(l!==o.struct.id.client)Vr(s,o.struct,o.offset),o={struct:c,offset:0},u.next();else if(o.struct.id.clock+o.struct.length<c.id.clock)if(o.struct.constructor===lo)o.struct.length=c.id.clock+c.length-o.struct.id.clock;else{Vr(s,o.struct,o.offset);var h=c.id.clock-o.struct.id.clock-o.struct.length,d=new lo(lr(l,o.struct.id.clock+o.struct.length),h);o={struct:d,offset:0}}else{var p=o.struct.id.clock+o.struct.length-c.id.clock;p>0&&(o.struct.constructor===lo?o.struct.length-=p:c=Fr(c,p)),o.struct.mergeWith(c)||(Vr(s,o.struct,o.offset),o={struct:c,offset:0},u.next())}}else o={struct:u.curr,offset:0},u.next();for(var g=u.curr;null!==g&&g.id.client===l&&g.id.clock===o.struct.id.clock+o.struct.length&&g.constructor!==lo;g=u.next())Vr(s,o.struct,o.offset),o={struct:g,offset:0}}null!==o&&(Vr(s,o.struct,o.offset),o=null),Ur(s);var v=r.map((function(e){return On(e)})),y=Nn(v);return Mn(a,y),a.toUint8Array()},jr=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jn,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Gn,i=Zn(t),o=new r,a=new Ar(o),s=new n(yt(e)),u=new Lr(s,!1);u.curr;){var l=u.curr,c=l.id.client,f=i.get(c)||0;if(u.curr.constructor!==lo)if(l.id.clock+l.length>f)for(Vr(a,l,me(f-l.id.clock,0)),u.next();u.curr&&u.curr.id.client===c;)Vr(a,u.curr,0),u.next();else for(;u.curr&&u.curr.id.client===c&&u.curr.id.clock+u.curr.length<=f;)u.next();else u.next()}Ur(a);var h=On(s);return Mn(o,h),o.toUint8Array()},Br=function(e){e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:Je(e.encoder.restEncoder)}),e.encoder.restEncoder=Qe(),e.written=0)},Vr=function(e,t,n){e.written>0&&e.currClient!==t.id.client&&Br(e),0===e.written&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),nt(e.encoder.restEncoder,t.id.clock+n)),t.write(e.encoder,n),e.written++},Ur=function(e){Br(e);var t=e.encoder.restEncoder;nt(t,e.clientStructs.length);for(var n=0;n<e.clientStructs.length;n++){var r=e.clientStructs[n];nt(t,r.written),ot(t,r.restEncoder)}},Gr=function(e,t,n){for(var r=new t(yt(e)),i=new Lr(r,!1),o=new n,a=new Ar(o),s=i.curr;null!==s;s=i.next())Vr(a,s,0);Ur(a);var u=On(r);return Mn(o,u),o.toUint8Array()},Hr=function(e){return Gr(e,jn,Vn)},qr=function(){function e(t,n){te(this,e),this.target=t,this.currentTarget=t,this.transaction=n,this._changes=null,this._keys=null,this._delta=null}return ee(e,[{key:"path",get:function(){return Yr(this.currentTarget,this.target)}},{key:"deletes",value:function(e){return Cn(this.transaction.deleteSet,e.id)}},{key:"keys",get:function(){var e=this;if(null===this._keys){var t=new Map,n=this.target;this.transaction.changed.get(n).forEach((function(r){if(null!==r){var i,o,a=n._map.get(r);if(e.adds(a)){for(var s=a.left;null!==s&&e.adds(s);)s=s.left;if(e.deletes(a)){if(null===s||!e.deletes(s))return;i="delete",o=ce(s.content.getContent())}else null!==s&&e.deletes(s)?(i="update",o=ce(s.content.getContent())):(i="add",o=void 0)}else{if(!e.deletes(a))return;i="delete",o=ce(a.content.getContent())}t.set(r,{action:i,oldValue:o})}})),this._keys=t}return this._keys}},{key:"delta",get:function(){return this.changes.delta}},{key:"adds",value:function(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}},{key:"changes",get:function(){var e=this._changes;if(null===e){var t=this.target,n=le(),r=le(),i=[];if(e={added:n,deleted:r,delta:i,keys:this.keys},this.transaction.changed.get(t).has(null)){for(var o=null,a=function(){o&&i.push(o)},s=t._start;null!==s;s=s.right)s.deleted?this.deletes(s)&&!this.adds(s)&&(null!==o&&void 0!==o.delete||(a(),o={delete:0}),o.delete+=s.length,r.add(s)):this.adds(s)?(null!==o&&void 0!==o.insert||(a(),o={insert:[]}),o.insert=o.insert.concat(s.content.getContent()),n.add(s)):(null!==o&&void 0!==o.retain||(a(),o={retain:0}),o.retain+=s.length);null!==o&&void 0===o.retain&&a()}this._changes=e}return e}}]),e}(),Yr=function(e,t){for(var n=[];null!==t._item&&t!==e;){if(null!==t._item.parentSub)n.unshift(t._item.parentSub);else{for(var r=0,i=t._item.parent._start;i!==t._item&&null!==i;)i.deleted||r++,i=i.right;n.unshift(r)}t=t._item.parent}return n},Wr=0,Xr=ee((function e(t,n){te(this,e),t.marker=!0,this.p=t,this.index=n,this.timestamp=Wr++})),Kr=function(e,t,n){e.p.marker=!1,e.p=t,t.marker=!0,e.index=n,e.timestamp=Wr++},$r=function(e,t){if(null===e._start||0===t||null===e._searchMarker)return null;var n=0===e._searchMarker.length?null:e._searchMarker.reduce((function(e,n){return ge(t-e.index)<ge(t-n.index)?e:n})),r=e._start,i=0;for(null!==n&&(r=n.p,i=n.index,function(e){e.timestamp=Wr++}(n));null!==r.right&&i<t;){if(!r.deleted&&r.countable){if(t<i+r.length)break;i+=r.length}r=r.right}for(;null!==r.left&&i>t;)!(r=r.left).deleted&&r.countable&&(i-=r.length);for(;null!==r.left&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)!(r=r.left).deleted&&r.countable&&(i-=r.length);return null!==n&&ge(n.index-i)<r.parent.length/80?(Kr(n,r,i),n):function(e,t,n){if(e.length>=80){var r=e.reduce((function(e,t){return e.timestamp<t.timestamp?e:t}));return Kr(r,t,n),r}var i=new Xr(t,n);return e.push(i),i}(e._searchMarker,r,i)},Qr=function(e,t,n){for(var r=e.length-1;r>=0;r--){var i=e[r];if(n>0){var o=i.p;for(o.marker=!1;o&&(o.deleted||!o.countable);)(o=o.left)&&!o.deleted&&o.countable&&(i.index-=o.length);if(null===o||!0===o.marker){e.splice(r,1);continue}i.p=o,o.marker=!0}(t<i.index||n>0&&t===i.index)&&(i.index=me(t,i.index+n))}},Zr=function(e,t,n){for(var r=e,i=t.changedParentTypes;ue(i,e,(function(){return[]})).push(n),null!==e._item;)e=e._item.parent;ar(r._eH,n,t)},Jr=function(){function e(){te(this,e),this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=rr(),this._dEH=rr(),this._searchMarker=null}return ee(e,[{key:"parent",get:function(){return this._item?this._item.parent:null}},{key:"_integrate",value:function(e,t){this.doc=e,this._item=t}},{key:"_copy",value:function(){throw Vt()}},{key:"clone",value:function(){throw Vt()}},{key:"_write",value:function(e){}},{key:"_first",get:function(){for(var e=this._start;null!==e&&e.deleted;)e=e.right;return e}},{key:"_callObserver",value:function(e,t){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}},{key:"observe",value:function(e){ir(this._eH,e)}},{key:"observeDeep",value:function(e){ir(this._dEH,e)}},{key:"unobserve",value:function(e){or(this._eH,e)}},{key:"unobserveDeep",value:function(e){or(this._dEH,e)}},{key:"toJSON",value:function(){}}]),e}(),ei=function(e,t,n){t<0&&(t=e._length+t),n<0&&(n=e._length+n);for(var r=n-t,i=[],o=e._start;null!==o&&r>0;){if(o.countable&&!o.deleted){var a=o.content.getContent();if(a.length<=t)t-=a.length;else{for(var s=t;s<a.length&&r>0;s++)i.push(a[s]),r--;t=0}}o=o.right}return i},ti=function(e){for(var t=[],n=e._start;null!==n;){if(n.countable&&!n.deleted)for(var r=n.content.getContent(),i=0;i<r.length;i++)t.push(r[i]);n=n.right}return t},ni=function(e,t){for(var n=0,r=e._start;null!==r;){if(r.countable&&!r.deleted)for(var i=r.content.getContent(),o=0;o<i.length;o++)t(i[o],n++,e);r=r.right}},ri=function(e,t){var n=[];return ni(e,(function(r,i){n.push(t(r,i,e))})),n},ii=function(e,t){var n=$r(e,t),r=e._start;for(null!==n&&(r=n.p,t-=n.index);null!==r;r=r.right)if(!r.deleted&&r.countable){if(t<r.length)return r.content.getContent()[t];t-=r.length}},oi=function(e,t,n,r){var i=n,o=e.doc,a=o.clientID,s=o.store,u=null===n?t._start:n.right,l=[],c=function(){l.length>0&&((i=new ao(lr(a,yr(s,a)),i,i&&i.lastId,u,u&&u.id,t,null,new Xi(l))).integrate(e,0),l=[])};r.forEach((function(n){if(null===n)l.push(n);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:l.push(n);break;default:switch(c(),n.constructor){case Uint8Array:case ArrayBuffer:(i=new ao(lr(a,yr(s,a)),i,i&&i.lastId,u,u&&u.id,t,null,new Vi(new Uint8Array(n)))).integrate(e,0);break;case An:(i=new ao(lr(a,yr(s,a)),i,i&&i.lastId,u,u&&u.id,t,null,new Hi(n))).integrate(e,0);break;default:if(!(n instanceof Jr))throw new Error("Unexpected content type in insert operation");(i=new ao(lr(a,yr(s,a)),i,i&&i.lastId,u,u&&u.id,t,null,new io(n))).integrate(e,0)}}})),c()},ai=Bt("Length exceeded!"),si=function(e,t,n,r){if(n>t._length)throw ai;if(0===n)return t._searchMarker&&Qr(t._searchMarker,n,r.length),oi(e,t,null,r);var i=n,o=$r(t,n),a=t._start;for(null!==o&&(a=o.p,0===(n-=o.index)&&(n+=(a=a.prev)&&a.countable&&!a.deleted?a.length:0));null!==a;a=a.right)if(!a.deleted&&a.countable){if(n<=a.length){n<a.length&&xr(e,lr(a.id.client,a.id.clock+n));break}n-=a.length}return t._searchMarker&&Qr(t._searchMarker,i,r.length),oi(e,t,a,r)},ui=function(e,t,n,r){if(0!==r){var i=n,o=r,a=$r(t,n),s=t._start;for(null!==a&&(s=a.p,n-=a.index);null!==s&&n>0;s=s.right)!s.deleted&&s.countable&&(n<s.length&&xr(e,lr(s.id.client,s.id.clock+n)),n-=s.length);for(;r>0&&null!==s;)s.deleted||(r<s.length&&xr(e,lr(s.id.client,s.id.clock+r)),s.delete(e),r-=s.length),s=s.right;if(r>0)throw ai;t._searchMarker&&Qr(t._searchMarker,i,-o+r)}},li=function(e,t,n){var r=t._map.get(n);void 0!==r&&r.delete(e)},ci=function(e,t,n,r){var i,o=t._map.get(n)||null,a=e.doc,s=a.clientID;if(null==r)i=new Xi([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:i=new Xi([r]);break;case Uint8Array:i=new Vi(r);break;case An:i=new Hi(r);break;default:if(!(r instanceof Jr))throw new Error("Unexpected content type");i=new io(r)}new ao(lr(s,yr(a.store,s)),o,o&&o.lastId,null,null,t,n,i).integrate(e,0)},fi=function(e,t){var n=e._map.get(t);return void 0===n||n.deleted?void 0:n.content.getContent()[n.length-1]},hi=function(e){var t={};return e._map.forEach((function(e,n){e.deleted||(t[n]=e.content.getContent()[e.length-1])})),t},di=function(e,t){var n=e._map.get(t);return void 0!==n&&!n.deleted},pi=function(e){return t=e.entries(),n=function(e){return!e[1].deleted},bn((function(){var e;do{e=t.next()}while(!e.done&&!n(e.value));return e}));var t,n},gi=function(e){re(n,e);var t=oe(n);function n(e,r){var i;return te(this,n),(i=t.call(this,e,r))._transaction=r,i}return ee(n)}(qr),vi=function(e,t){re(r,e);var n=oe(r);function r(){var e;return te(this,r),(e=n.call(this))._prelimContent=[],e._searchMarker=[],e}return ee(r,[{key:"_integrate",value:function(e,t){Z($(r.prototype),"_integrate",this).call(this,e,t),this.insert(0,this._prelimContent),this._prelimContent=null}},{key:"_copy",value:function(){return new r}},{key:"clone",value:function(){var e=new r;return e.insert(0,this.toArray().map((function(e){return e instanceof Jr?e.clone():e}))),e}},{key:"length",get:function(){return null===this._prelimContent?this._length:this._prelimContent.length}},{key:"_callObserver",value:function(e,t){Z($(r.prototype),"_callObserver",this).call(this,e,t),Zr(this,e,new gi(this,e))}},{key:"insert",value:function(e,t){var n,r=this;null!==this.doc?Or(this.doc,(function(n){si(n,r,e,t)})):(n=this._prelimContent).splice.apply(n,[e,0].concat(q(t)))}},{key:"push",value:function(e){var t,n=this;null!==this.doc?Or(this.doc,(function(t){!function(e,t,n){var r=(t._searchMarker||[]).reduce((function(e,t){return t.index>e.index?t:e}),{index:0,p:t._start}).p;if(r)for(;r.right;)r=r.right;oi(e,t,r,n)}(t,n,e)})):(t=this._prelimContent).push.apply(t,q(e))}},{key:"unshift",value:function(e){this.insert(0,e)}},{key:"delete",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;null!==this.doc?Or(this.doc,(function(r){ui(r,t,e,n)})):this._prelimContent.splice(e,n)}},{key:"get",value:function(e){return ii(this,e)}},{key:"toArray",value:function(){return ti(this)}},{key:"slice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return ei(this,e,t)}},{key:"toJSON",value:function(){return this.map((function(e){return e instanceof Jr?e.toJSON():e}))}},{key:"map",value:function(e){return ri(this,e)}},{key:"forEach",value:function(e){ni(this,e)}},{key:t,value:function(){return function(e){var t,n=e._start,r=null,o=0;return i(t={},Symbol.iterator,(function(){return this})),i(t,"next",(function(){if(null===r){for(;null!==n&&n.deleted;)n=n.right;if(null===n)return{done:!0,value:void 0};r=n.content.getContent(),o=0,n=n.right}var e=r[o++];return r.length<=o&&(r=null),{done:!1,value:e}})),t}(this)}},{key:"_write",value:function(e){e.writeTypeRef(Qi)}}],[{key:"from",value:function(e){var t=new r;return t.push(e),t}}]),r}(Jr,Symbol.iterator),yi=function(e){re(n,e);var t=oe(n);function n(e,r,i){var o;return te(this,n),(o=t.call(this,e,r)).keysChanged=i,o}return ee(n)}(qr),mi=function(e,t){re(r,e);var n=oe(r);function r(e){var t;return te(this,r),(t=n.call(this))._prelimContent=null,t._prelimContent=void 0===e?new Map:new Map(e),t}return ee(r,[{key:"_integrate",value:function(e,t){var n=this;Z($(r.prototype),"_integrate",this).call(this,e,t),this._prelimContent.forEach((function(e,t){n.set(t,e)})),this._prelimContent=null}},{key:"_copy",value:function(){return new r}},{key:"clone",value:function(){var e=new r;return this.forEach((function(t,n){e.set(n,t instanceof Jr?t.clone():t)})),e}},{key:"_callObserver",value:function(e,t){Zr(this,e,new yi(this,e,t))}},{key:"toJSON",value:function(){var e={};return this._map.forEach((function(t,n){if(!t.deleted){var r=t.content.getContent()[t.length-1];e[n]=r instanceof Jr?r.toJSON():r}})),e}},{key:"size",get:function(){return q(pi(this._map)).length}},{key:"keys",value:function(){return _n(pi(this._map),(function(e){return e[0]}))}},{key:"values",value:function(){return _n(pi(this._map),(function(e){return e[1].content.getContent()[e[1].length-1]}))}},{key:"entries",value:function(){return _n(pi(this._map),(function(e){return[e[0],e[1].content.getContent()[e[1].length-1]]}))}},{key:"forEach",value:function(e){var t=this;return this._map.forEach((function(n,r){n.deleted||e(n.content.getContent()[n.length-1],r,t)})),{}}},{key:t,value:function(){return this.entries()}},{key:"delete",value:function(e){var t=this;null!==this.doc?Or(this.doc,(function(n){li(n,t,e)})):this._prelimContent.delete(e)}},{key:"set",value:function(e,t){var n=this;return null!==this.doc?Or(this.doc,(function(r){ci(r,n,e,t)})):this._prelimContent.set(e,t),t}},{key:"get",value:function(e){return fi(this,e)}},{key:"has",value:function(e){return di(this,e)}},{key:"clear",value:function(){var e=this;null!==this.doc?Or(this.doc,(function(t){e.forEach((function(e,n,r){li(t,r,n)}))})):this._prelimContent.clear()}},{key:"_write",value:function(e){e.writeTypeRef(Zi)}}]),r}(Jr,Symbol.iterator),bi=function(e,t){return e===t||"object"===typeof e&&"object"===typeof t&&e&&t&&function(e,t){return e===t||Ht(e)===Ht(t)&&function(e,t){for(var n in e)if(!t(e[n],n))return!1;return!0}(e,(function(e,n){return(void 0!==e||qt(t,n))&&t[n]===e}))}(e,t)},_i=function(){function e(t,n,r,i){te(this,e),this.left=t,this.right=n,this.index=r,this.currentAttributes=i}return ee(e,[{key:"forward",value:function(){if(null===this.right&&Ut(),this.right.content.constructor===Yi)this.right.deleted||ki(this.currentAttributes,this.right.content);else this.right.deleted||(this.index+=this.right.length);this.left=this.right,this.right=this.right.right}}]),e}(),wi=function(e,t,n){for(;null!==t.right&&n>0;){if(t.right.content.constructor===Yi)t.right.deleted||ki(t.currentAttributes,t.right.content);else t.right.deleted||(n<t.right.length&&xr(e,lr(t.right.id.client,t.right.id.clock+n)),t.index+=t.right.length,n-=t.right.length);t.left=t.right,t.right=t.right.right}return t},xi=function(e,t,n){var r=new Map,i=$r(t,n);if(i){var o=new _i(i.p.left,i.p,i.index,r);return wi(e,o,n-i.index)}var a=new _i(null,t._start,0,r);return wi(e,a,n)},Ei=function(e,t,n,r){for(;null!==n.right&&(!0===n.right.deleted||n.right.content.constructor===Yi&&bi(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();var i=e.doc,o=i.clientID;r.forEach((function(r,a){var s=n.left,u=n.right,l=new ao(lr(o,yr(i.store,o)),s,s&&s.lastId,u,u&&u.id,t,null,new Yi(a,r));l.integrate(e,0),n.right=l,n.forward()}))},ki=function(e,t){var n=t.key,r=t.value;null===r?e.delete(n):e.set(n,r)},Ci=function(e,t){for(;null!==e.right&&(e.right.deleted||e.right.content.constructor===Yi&&bi(t[e.right.content.key]||null,e.right.content.value));)e.forward()},Si=function(e,t,n,r){var i=e.doc,o=i.clientID,a=new Map;for(var s in r){var u=r[s],l=n.currentAttributes.get(s)||null;if(!bi(l,u)){a.set(s,l);var c=n.left,f=n.right;n.right=new ao(lr(o,yr(i.store,o)),c,c&&c.lastId,f,f&&f.id,t,null,new Yi(s,u)),n.right.integrate(e,0),n.forward()}}return a},Ni=function(e,t,n,r,i){n.currentAttributes.forEach((function(e,t){void 0===i[t]&&(i[t]=null)}));var o=e.doc,a=o.clientID;Ci(n,i);var s=Si(e,t,n,i),u=r.constructor===String?new Ki(r):r instanceof Jr?new io(r):new qi(r),l=n.left,c=n.right,f=n.index;t._searchMarker&&Qr(t._searchMarker,n.index,u.getLength()),(c=new ao(lr(a,yr(o.store,a)),l,l&&l.lastId,c,c&&c.id,t,null,u)).integrate(e,0),n.right=c,n.index=f,n.forward(),Ei(e,t,n,s)},Ti=function(e,t,n,r,i){var o=e.doc,a=o.clientID;Ci(n,i);var s=Si(e,t,n,i);e:for(;null!==n.right&&(r>0||s.size>0&&(n.right.deleted||n.right.content.constructor===Yi));){if(!n.right.deleted)if(n.right.content.constructor===Yi){var u=n.right.content,l=u.key,c=u.value,f=i[l];if(void 0!==f){if(bi(f,c))s.delete(l);else{if(0===r)break e;s.set(l,c)}n.right.delete(e)}else n.currentAttributes.set(l,c)}else r<n.right.length&&xr(e,lr(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;n.forward()}if(r>0){for(var h="";r>0;r--)h+="\n";n.right=new ao(lr(a,yr(o.store,a)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,t,null,new Ki(h)),n.right.integrate(e,0),n.forward()}Ei(e,t,n,s)},Ii=function(e,t,n,r,i){for(var o=n,a=se(i);o&&(!o.countable||o.deleted);)o.deleted||o.content.constructor!==Yi||ki(a,o.content),o=o.right;for(var s=0,u=!1;t!==o;){if(n===t&&(u=!0),!t.deleted){var l=t.content;if(l.constructor===Yi){var c=l.key,f=l.value;(a.get(c)||null)===f&&(r.get(c)||null)!==f||(t.delete(e),s++,u||(i.get(c)||null)!==f||(r.get(c)||null)===f||i.delete(c))}}t=t.right}return s},Di=function(e,t,n){for(var r=n,i=se(t.currentAttributes),o=t.right;n>0&&null!==t.right;){if(!1===t.right.deleted)switch(t.right.content.constructor){case io:case qi:case Ki:n<t.right.length&&xr(e,lr(t.right.id.client,t.right.id.clock+n)),n-=t.right.length,t.right.delete(e)}t.forward()}o&&Ii(e,o,t.right,i,t.currentAttributes);var a=(t.left||t.right).parent;return a._searchMarker&&Qr(a._searchMarker,t.index,-r+n),t},Mi=function(e){re(n,e);var t=oe(n);function n(e,r,i){var o;return te(this,n),(o=t.call(this,e,r)).childListChanged=!1,o.keysChanged=new Set,i.forEach((function(e){null===e?o.childListChanged=!0:o.keysChanged.add(e)})),o}return ee(n,[{key:"changes",get:function(){if(null===this._changes){var e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}},{key:"delta",get:function(){var e=this;if(null===this._delta){var t=this.target.doc,n=[];Or(t,(function(t){for(var r=new Map,i=new Map,o=e.target._start,a=null,s={},u="",l=0,c=0,f=function(){if(null!==a){var e;switch(a){case"delete":e={delete:c},c=0;break;case"insert":e={insert:u},r.size>0&&(e.attributes={},r.forEach((function(t,n){null!==t&&(e.attributes[n]=t)}))),u="";break;case"retain":if(e={retain:l},Object.keys(s).length>0)for(var t in e.attributes={},s)e.attributes[t]=s[t];l=0}n.push(e),a=null}};null!==o;){switch(o.content.constructor){case io:case qi:e.adds(o)?e.deletes(o)||(f(),a="insert",u=o.content.getContent()[0],f()):e.deletes(o)?("delete"!==a&&(f(),a="delete"),c+=1):o.deleted||("retain"!==a&&(f(),a="retain"),l+=1);break;case Ki:e.adds(o)?e.deletes(o)||("insert"!==a&&(f(),a="insert"),u+=o.content.str):e.deletes(o)?("delete"!==a&&(f(),a="delete"),c+=o.length):o.deleted||("retain"!==a&&(f(),a="retain"),l+=o.length);break;case Yi:var h=o.content,d=h.key,p=h.value;if(e.adds(o)){if(!e.deletes(o)){var g=r.get(d)||null;bi(g,p)?null!==p&&o.delete(t):("retain"===a&&f(),bi(p,i.get(d)||null)?delete s[d]:s[d]=p)}}else if(e.deletes(o)){i.set(d,p);var v=r.get(d)||null;bi(v,p)||("retain"===a&&f(),s[d]=v)}else if(!o.deleted){i.set(d,p);var y=s[d];void 0!==y&&(bi(y,p)?null!==y&&o.delete(t):("retain"===a&&f(),null===p?delete s[d]:s[d]=p))}o.deleted||("insert"===a&&f(),ki(r,o.content))}o=o.right}for(f();n.length>0;){var m=n[n.length-1];if(void 0===m.retain||void 0!==m.attributes)break;n.pop()}})),this._delta=n}return this._delta}}]),n}(qr),Oi=function(e){re(n,e);var t=oe(n);function n(e){var r;return te(this,n),(r=t.call(this))._pending=void 0!==e?[function(){return r.insert(0,e)}]:[],r._searchMarker=[],r}return ee(n,[{key:"length",get:function(){return this._length}},{key:"_integrate",value:function(e,t){Z($(n.prototype),"_integrate",this).call(this,e,t);try{this._pending.forEach((function(e){return e()}))}catch(Ex){console.error(Ex)}this._pending=null}},{key:"_copy",value:function(){return new n}},{key:"clone",value:function(){var e=new n;return e.applyDelta(this.toDelta()),e}},{key:"_callObserver",value:function(e,t){var r=this;Z($(n.prototype),"_callObserver",this).call(this,e,t);var i=new Mi(this,e,t),o=e.doc;if(Zr(this,e,i),!e.local){var a,s=!1,u=f(e.afterState.entries());try{for(u.s();!(a=u.n()).done;){var l=c(a.value,2),h=l[0],d=l[1],p=e.beforeState.get(h)||0;if(d!==p&&(kr(e,o.store.clients.get(h),p,d,(function(e){e.deleted||e.content.constructor!==Yi||(s=!0)})),s))break}}catch(g){u.e(g)}finally{u.f()}s||kn(e,e.deleteSet,(function(e){e instanceof Bi||s||e.parent===r&&e.content.constructor===Yi&&(s=!0)})),Or(o,(function(e){s?function(e){var t=0;Or(e.doc,(function(n){for(var r=e._start,i=e._start,o=ae(),a=se(o);i;)!1===i.deleted&&(i.content.constructor===Yi?ki(a,i.content):(t+=Ii(n,r,i,o,a),o=se(a),r=i)),i=i.right}))}(r):kn(e,e.deleteSet,(function(t){t instanceof Bi||t.parent===r&&function(e,t){for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;for(var n=new Set;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===Yi){var r=t.content.key;n.has(r)?t.delete(e):n.add(r)}t=t.left}}(e,t)}))}))}}},{key:"toString",value:function(){for(var e="",t=this._start;null!==t;)!t.deleted&&t.countable&&t.content.constructor===Ki&&(e+=t.content.str),t=t.right;return e}},{key:"toJSON",value:function(){return this.toString()}},{key:"applyDelta",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.sanitize,i=void 0===r||r;null!==this.doc?Or(this.doc,(function(n){for(var r=new _i(null,t._start,0,new Map),o=0;o<e.length;o++){var a=e[o];if(void 0!==a.insert){var s=i||"string"!==typeof a.insert||o!==e.length-1||null!==r.right||"\n"!==a.insert.slice(-1)?a.insert:a.insert.slice(0,-1);("string"!==typeof s||s.length>0)&&Ni(n,t,r,s,a.attributes||{})}else void 0!==a.retain?Ti(n,t,r,a.retain,a.attributes||{}):void 0!==a.delete&&Di(n,r,a.delete)}})):this._pending.push((function(){return t.applyDelta(e)}))}},{key:"toDelta",value:function(e,t,n){var r=[],i=new Map,o=this.doc,a="",s=this._start;function u(){if(a.length>0){var e={},t=!1;i.forEach((function(n,r){t=!0,e[r]=n}));var n={insert:a};t&&(n.attributes=e),r.push(n),a=""}}return Or(o,(function(o){for(e&&pr(o,e),t&&pr(o,t);null!==s;){if(dr(s,e)||void 0!==t&&dr(s,t))switch(s.content.constructor){case Ki:var l=i.get("ychange");void 0===e||dr(s,e)?void 0===t||dr(s,t)?void 0!==l&&(u(),i.delete("ychange")):void 0!==l&&l.user===s.id.client&&"added"===l.state||(u(),i.set("ychange",n?n("added",s.id):{type:"added"})):void 0!==l&&l.user===s.id.client&&"removed"===l.state||(u(),i.set("ychange",n?n("removed",s.id):{type:"removed"})),a+=s.content.str;break;case io:case qi:u();var c={insert:s.content.getContent()[0]};i.size>0&&function(){var e={};c.attributes=e,i.forEach((function(t,n){e[n]=t}))}(),r.push(c);break;case Yi:dr(s,e)&&(u(),ki(i,s.content))}s=s.right}u()}),pr),r}},{key:"insert",value:function(e,t,n){var r=this;if(!(t.length<=0)){var i=this.doc;null!==i?Or(i,(function(i){var o=xi(i,r,e);n||(n={},o.currentAttributes.forEach((function(e,t){n[t]=e}))),Ni(i,r,o,t,n)})):this._pending.push((function(){return r.insert(e,t,n)}))}}},{key:"insertEmbed",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.doc;null!==i?Or(i,(function(i){var o=xi(i,n,e);Ni(i,n,o,t,r)})):this._pending.push((function(){return n.insertEmbed(e,t,r)}))}},{key:"delete",value:function(e,t){var n=this;if(0!==t){var r=this.doc;null!==r?Or(r,(function(r){Di(r,xi(r,n,e),t)})):this._pending.push((function(){return n.delete(e,t)}))}}},{key:"format",value:function(e,t,n){var r=this;if(0!==t){var i=this.doc;null!==i?Or(i,(function(i){var o=xi(i,r,e);null!==o.right&&Ti(i,r,o,t,n)})):this._pending.push((function(){return r.format(e,t,n)}))}}},{key:"removeAttribute",value:function(e){var t=this;null!==this.doc?Or(this.doc,(function(n){li(n,t,e)})):this._pending.push((function(){return t.removeAttribute(e)}))}},{key:"setAttribute",value:function(e,t){var n=this;null!==this.doc?Or(this.doc,(function(r){ci(r,n,e,t)})):this._pending.push((function(){return n.setAttribute(e,t)}))}},{key:"getAttribute",value:function(e){return fi(this,e)}},{key:"getAttributes",value:function(e){return hi(this)}},{key:"_write",value:function(e){e.writeTypeRef(Ji)}}]),n}(Jr),Pi=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};te(this,t),this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0}return ee(t,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){var e=this._currentNode,t=e&&e.content&&e.content.type;if(null!==e&&(!this._firstCall||e.deleted||!this._filter(t)))do{if(t=e.content.type,e.deleted||t.constructor!==Ai&&t.constructor!==Li||null===t._start)for(;null!==e;){if(null!==e.right){e=e.right;break}e=e.parent===this._root?null:e.parent._item}else e=t._start}while(null!==e&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,null===e?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}]),t}(),Li=function(e){re(n,e);var t=oe(n);function n(){var e;return te(this,n),(e=t.call(this))._prelimContent=[],e}return ee(n,[{key:"firstChild",get:function(){var e=this._first;return e?e.content.getContent()[0]:null}},{key:"_integrate",value:function(e,t){Z($(n.prototype),"_integrate",this).call(this,e,t),this.insert(0,this._prelimContent),this._prelimContent=null}},{key:"_copy",value:function(){return new n}},{key:"clone",value:function(){var e=new n;return e.insert(0,this.toArray().map((function(e){return e instanceof Jr?e.clone():e}))),e}},{key:"length",get:function(){return null===this._prelimContent?this._length:this._prelimContent.length}},{key:"createTreeWalker",value:function(e){return new Pi(this,e)}},{key:"querySelector",value:function(e){e=e.toUpperCase();var t=new Pi(this,(function(t){return t.nodeName&&t.nodeName.toUpperCase()===e})).next();return t.done?null:t.value}},{key:"querySelectorAll",value:function(e){return e=e.toUpperCase(),Array.from(new Pi(this,(function(t){return t.nodeName&&t.nodeName.toUpperCase()===e})))}},{key:"_callObserver",value:function(e,t){Zr(this,e,new Ri(this,t,e))}},{key:"toString",value:function(){return ri(this,(function(e){return e.toString()})).join("")}},{key:"toJSON",value:function(){return this.toString()}},{key:"toDOM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=e.createDocumentFragment();return void 0!==n&&n._createAssociation(r,this),ni(this,(function(i){r.insertBefore(i.toDOM(e,t,n),null)})),r}},{key:"insert",value:function(e,t){var n,r=this;null!==this.doc?Or(this.doc,(function(n){si(n,r,e,t)})):(n=this._prelimContent).splice.apply(n,[e,0].concat(q(t)))}},{key:"insertAfter",value:function(e,t){var n=this;if(null!==this.doc)Or(this.doc,(function(r){var i=e&&e instanceof Jr?e._item:e;oi(r,n,i,t)}));else{var r=this._prelimContent,i=null===e?0:r.findIndex((function(t){return t===e}))+1;if(0===i&&null!==e)throw Bt("Reference item not found");r.splice.apply(r,[i,0].concat(q(t)))}}},{key:"delete",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;null!==this.doc?Or(this.doc,(function(r){ui(r,t,e,n)})):this._prelimContent.splice(e,n)}},{key:"toArray",value:function(){return ti(this)}},{key:"push",value:function(e){this.insert(this.length,e)}},{key:"unshift",value:function(e){this.insert(0,e)}},{key:"get",value:function(e){return ii(this,e)}},{key:"slice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return ei(this,e,t)}},{key:"forEach",value:function(e){ni(this,e)}},{key:"_write",value:function(e){e.writeTypeRef(to)}}]),n}(Jr),Ai=function(e){re(n,e);var t=oe(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"UNDEFINED";return te(this,n),(e=t.call(this)).nodeName=r,e._prelimAttrs=new Map,e}return ee(n,[{key:"nextSibling",get:function(){var e=this._item?this._item.next:null;return e?e.content.type:null}},{key:"prevSibling",get:function(){var e=this._item?this._item.prev:null;return e?e.content.type:null}},{key:"_integrate",value:function(e,t){var r=this;Z($(n.prototype),"_integrate",this).call(this,e,t),this._prelimAttrs.forEach((function(e,t){r.setAttribute(t,e)})),this._prelimAttrs=null}},{key:"_copy",value:function(){return new n(this.nodeName)}},{key:"clone",value:function(){var e=new n(this.nodeName),t=this.getAttributes();for(var r in t)e.setAttribute(r,t[r]);return e.insert(0,this.toArray().map((function(e){return e instanceof Jr?e.clone():e}))),e}},{key:"toString",value:function(){var e=this.getAttributes(),t=[],r=[];for(var i in e)r.push(i);r.sort();for(var o=r.length,a=0;a<o;a++){var s=r[a];t.push(s+'="'+e[s]+'"')}var u=this.nodeName.toLocaleLowerCase(),l=t.length>0?" "+t.join(" "):"";return"<".concat(u).concat(l,">").concat(Z($(n.prototype),"toString",this).call(this),"</").concat(u,">")}},{key:"removeAttribute",value:function(e){var t=this;null!==this.doc?Or(this.doc,(function(n){li(n,t,e)})):this._prelimAttrs.delete(e)}},{key:"setAttribute",value:function(e,t){var n=this;null!==this.doc?Or(this.doc,(function(r){ci(r,n,e,t)})):this._prelimAttrs.set(e,t)}},{key:"getAttribute",value:function(e){return fi(this,e)}},{key:"hasAttribute",value:function(e){return di(this,e)}},{key:"getAttributes",value:function(e){return hi(this)}},{key:"toDOM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=e.createElement(this.nodeName),i=this.getAttributes();for(var o in i)r.setAttribute(o,i[o]);return ni(this,(function(i){r.appendChild(i.toDOM(e,t,n))})),void 0!==n&&n._createAssociation(r,this),r}},{key:"_write",value:function(e){e.writeTypeRef(eo),e.writeKey(this.nodeName)}}]),n}(Li),Ri=function(e){re(n,e);var t=oe(n);function n(e,r,i){var o;return te(this,n),(o=t.call(this,e,i)).childListChanged=!1,o.attributesChanged=new Set,r.forEach((function(e){null===e?o.childListChanged=!0:o.attributesChanged.add(e)})),o}return ee(n)}(qr),Fi=function(e){re(n,e);var t=oe(n);function n(e){var r;return te(this,n),(r=t.call(this)).hookName=e,r}return ee(n,[{key:"_copy",value:function(){return new n(this.hookName)}},{key:"clone",value:function(){var e=new n(this.hookName);return this.forEach((function(t,n){e.set(n,t)})),e}},{key:"toDOM",value:function(){arguments.length>0&&void 0!==arguments[0]||document;var e,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t[this.hookName];return(e=void 0!==r?r.createDom(this):document.createElement(this.hookName)).setAttribute("data-yjs-hook",this.hookName),void 0!==n&&n._createAssociation(e,this),e}},{key:"_write",value:function(e){e.writeTypeRef(no),e.writeKey(this.hookName)}}]),n}(mi),zi=function(e){re(n,e);var t=oe(n);function n(){return te(this,n),t.apply(this,arguments)}return ee(n,[{key:"nextSibling",get:function(){var e=this._item?this._item.next:null;return e?e.content.type:null}},{key:"prevSibling",get:function(){var e=this._item?this._item.prev:null;return e?e.content.type:null}},{key:"_copy",value:function(){return new n}},{key:"clone",value:function(){var e=new n;return e.applyDelta(this.toDelta()),e}},{key:"toDOM",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=arguments.length>2?arguments[2]:void 0,n=e.createTextNode(this.toString());return void 0!==t&&t._createAssociation(n,this),n}},{key:"toString",value:function(){return this.toDelta().map((function(e){var t=[];for(var n in e.attributes){var r=[];for(var i in e.attributes[n])r.push({key:i,value:e.attributes[n][i]});r.sort((function(e,t){return e.key<t.key?-1:1})),t.push({nodeName:n,attrs:r})}t.sort((function(e,t){return e.nodeName<t.nodeName?-1:1}));for(var o="",a=0;a<t.length;a++){var s=t[a];o+="<".concat(s.nodeName);for(var u=0;u<s.attrs.length;u++){var l=s.attrs[u];o+=" ".concat(l.key,'="').concat(l.value,'"')}o+=">"}o+=e.insert;for(var c=t.length-1;c>=0;c--)o+="</".concat(t[c].nodeName,">");return o})).join("")}},{key:"toJSON",value:function(){return this.toString()}},{key:"_write",value:function(e){e.writeTypeRef(ro)}}]),n}(Oi),ji=function(){function e(t,n){te(this,e),this.id=t,this.length=n}return ee(e,[{key:"deleted",get:function(){throw Vt()}},{key:"mergeWith",value:function(e){return!1}},{key:"write",value:function(e,t,n){throw Vt()}},{key:"integrate",value:function(e,t){throw Vt()}}]),e}(),Bi=function(e){re(n,e);var t=oe(n);function n(){return te(this,n),t.apply(this,arguments)}return ee(n,[{key:"deleted",get:function(){return!0}},{key:"delete",value:function(){}},{key:"mergeWith",value:function(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}},{key:"integrate",value:function(e,t){t>0&&(this.id.clock+=t,this.length-=t),mr(e.doc.store,this)}},{key:"write",value:function(e,t){e.writeInfo(0),e.writeLen(this.length-t)}},{key:"getMissing",value:function(e,t){return null}}]),n}(ji),Vi=function(){function e(t){te(this,e),this.content=t}return ee(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[this.content]}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.content)}},{key:"splice",value:function(e){throw Vt()}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeBuf(this.content)}},{key:"getRef",value:function(){return 3}}]),e}(),Ui=function(){function e(t){te(this,e),this.len=t}return ee(e,[{key:"getLength",value:function(){return this.len}},{key:"getContent",value:function(){return[]}},{key:"isCountable",value:function(){return!1}},{key:"copy",value:function(){return new e(this.len)}},{key:"splice",value:function(t){var n=new e(this.len-t);return this.len=t,n}},{key:"mergeWith",value:function(e){return this.len+=e.len,!0}},{key:"integrate",value:function(e,t){Tn(e.deleteSet,t.id.client,t.id.clock,this.len),t.markDeleted()}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeLen(this.len-t)}},{key:"getRef",value:function(){return 1}}]),e}(),Gi=function(e,t){return new An(a(a({guid:e},t),{},{shouldLoad:t.shouldLoad||t.autoLoad||!1}))},Hi=function(){function e(t){te(this,e),t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;var n={};this.opts=n,t.gc||(n.gc=!1),t.autoLoad&&(n.autoLoad=!0),null!==t.meta&&(n.meta=t.meta)}return ee(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[this.doc]}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(Gi(this.doc.guid,this.opts))}},{key:"splice",value:function(e){throw Vt()}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){this.doc._item=t,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}},{key:"delete",value:function(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeString(this.doc.guid),e.writeAny(this.opts)}},{key:"getRef",value:function(){return 9}}]),e}(),qi=function(){function e(t){te(this,e),this.embed=t}return ee(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[this.embed]}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.embed)}},{key:"splice",value:function(e){throw Vt()}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeJSON(this.embed)}},{key:"getRef",value:function(){return 5}}]),e}(),Yi=function(){function e(t,n){te(this,e),this.key=t,this.value=n}return ee(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[]}},{key:"isCountable",value:function(){return!1}},{key:"copy",value:function(){return new e(this.key,this.value)}},{key:"splice",value:function(e){throw Vt()}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){t.parent._searchMarker=null}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeKey(this.key),e.writeJSON(this.value)}},{key:"getRef",value:function(){return 6}}]),e}(),Wi=function(){function e(t){te(this,e),this.arr=t}return ee(e,[{key:"getLength",value:function(){return this.arr.length}},{key:"getContent",value:function(){return this.arr}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.arr)}},{key:"splice",value:function(t){var n=new e(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}},{key:"mergeWith",value:function(e){return this.arr=this.arr.concat(e.arr),!0}},{key:"integrate",value:function(e,t){}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){var n=this.arr.length;e.writeLen(n-t);for(var r=t;r<n;r++){var i=this.arr[r];e.writeString(void 0===i?"undefined":JSON.stringify(i))}}},{key:"getRef",value:function(){return 2}}]),e}(),Xi=function(){function e(t){te(this,e),this.arr=t}return ee(e,[{key:"getLength",value:function(){return this.arr.length}},{key:"getContent",value:function(){return this.arr}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.arr)}},{key:"splice",value:function(t){var n=new e(this.arr.slice(t));return this.arr=this.arr.slice(0,t),n}},{key:"mergeWith",value:function(e){return this.arr=this.arr.concat(e.arr),!0}},{key:"integrate",value:function(e,t){}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){var n=this.arr.length;e.writeLen(n-t);for(var r=t;r<n;r++){var i=this.arr[r];e.writeAny(i)}}},{key:"getRef",value:function(){return 8}}]),e}(),Ki=function(){function e(t){te(this,e),this.str=t}return ee(e,[{key:"getLength",value:function(){return this.str.length}},{key:"getContent",value:function(){return this.str.split("")}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.str)}},{key:"splice",value:function(t){var n=new e(this.str.slice(t));this.str=this.str.slice(0,t);var r=this.str.charCodeAt(t-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,t-1)+"\ufffd",n.str="\ufffd"+n.str.slice(1)),n}},{key:"mergeWith",value:function(e){return this.str+=e.str,!0}},{key:"integrate",value:function(e,t){}},{key:"delete",value:function(e){}},{key:"gc",value:function(e){}},{key:"write",value:function(e,t){e.writeString(0===t?this.str:this.str.slice(t))}},{key:"getRef",value:function(){return 4}}]),e}(),$i=[function(e){return new vi},function(e){return new mi},function(e){return new Oi},function(e){return new Ai(e.readKey())},function(e){return new Li},function(e){return new Fi(e.readKey())},function(e){return new zi}],Qi=0,Zi=1,Ji=2,eo=3,to=4,no=5,ro=6,io=function(){function e(t){te(this,e),this.type=t}return ee(e,[{key:"getLength",value:function(){return 1}},{key:"getContent",value:function(){return[this.type]}},{key:"isCountable",value:function(){return!0}},{key:"copy",value:function(){return new e(this.type._copy())}},{key:"splice",value:function(e){throw Vt()}},{key:"mergeWith",value:function(e){return!1}},{key:"integrate",value:function(e,t){this.type._integrate(e.doc,t)}},{key:"delete",value:function(e){for(var t=this.type._start;null!==t;)t.deleted?e._mergeStructs.push(t):t.delete(e),t=t.right;this.type._map.forEach((function(t){t.deleted?e._mergeStructs.push(t):t.delete(e)})),e.changed.delete(this.type)}},{key:"gc",value:function(e){for(var t=this.type._start;null!==t;)t.gc(e,!0),t=t.right;this.type._start=null,this.type._map.forEach((function(t){for(;null!==t;)t.gc(e,!0),t=t.left})),this.type._map=new Map}},{key:"write",value:function(e,t){this.type._write(e)}},{key:"getRef",value:function(){return 7}}]),e}(),oo=function(e,t,n){var r=t.id,i=r.client,o=r.clock,a=new ao(lr(i,o+n),t,lr(i,o+n-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(n));return t.deleted&&a.markDeleted(),t.keep&&(a.keep=!0),null!==t.redone&&(a.redone=lr(t.redone.client,t.redone.clock+n)),t.right=a,null!==a.right&&(a.right.left=a),e._mergeStructs.push(a),null!==a.parentSub&&null===a.right&&a.parent._map.set(a.parentSub,a),t.length=n,a},ao=function(e){re(n,e);var t=oe(n);function n(e,r,i,o,a,s,u,l){var c;return te(this,n),(c=t.call(this,e,l.getLength())).origin=i,c.left=r,c.right=o,c.rightOrigin=a,c.parent=s,c.parentSub=u,c.redone=null,c.content=l,c.info=c.content.isCountable()?2:0,c}return ee(n,[{key:"marker",get:function(){return(8&this.info)>0},set:function(e){(8&this.info)>0!==e&&(this.info^=8)}},{key:"keep",get:function(){return(1&this.info)>0},set:function(e){this.keep!==e&&(this.info^=1)}},{key:"countable",get:function(){return(2&this.info)>0}},{key:"deleted",get:function(){return(4&this.info)>0},set:function(e){this.deleted!==e&&(this.info^=4)}},{key:"markDeleted",value:function(){this.info|=4}},{key:"getMissing",value:function(e,t){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=yr(t,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=yr(t,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===sr&&this.id.client!==this.parent.client&&this.parent.clock>=yr(t,this.parent.client))return this.parent.client;if(this.origin&&(this.left=Er(e,t,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=xr(e,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===Bi||this.right&&this.right.constructor===Bi)&&(this.parent=null),this.parent){if(this.parent.constructor===sr){var r=_r(t,this.parent);r.constructor===Bi?this.parent=null:this.parent=r.content.type}}else this.left&&this.left.constructor===n&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===n&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);return null}},{key:"integrate",value:function(e,t){if(t>0&&(this.id.clock+=t,this.left=Er(e,e.doc.store,lr(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(t),this.length-=t),this.parent){if(!this.left&&(!this.right||null!==this.right.left)||this.left&&this.left.right!==this.right){var n,r=this.left;if(null!==r)n=r.right;else if(null!==this.parentSub)for(n=this.parent._map.get(this.parentSub)||null;null!==n&&null!==n.left;)n=n.left;else n=this.parent._start;for(var i=new Set,o=new Set;null!==n&&n!==this.right;){if(o.add(n),i.add(n),ur(this.origin,n.origin)){if(n.id.client<this.id.client)r=n,i.clear();else if(ur(this.rightOrigin,n.rightOrigin))break}else{if(null===n.origin||!o.has(_r(e.doc.store,n.origin)))break;i.has(_r(e.doc.store,n.origin))||(r=n,i.clear())}n=n.right}this.left=r}if(null!==this.left){var a=this.left.right;this.right=a,this.left.right=this}else{var s;if(null!==this.parentSub)for(s=this.parent._map.get(this.parentSub)||null;null!==s&&null!==s.left;)s=s.left;else s=this.parent._start,this.parent._start=this;this.right=s}null!==this.right?this.right.left=this:null!==this.parentSub&&(this.parent._map.set(this.parentSub,this),null!==this.left&&this.left.delete(e)),null===this.parentSub&&this.countable&&!this.deleted&&(this.parent._length+=this.length),mr(e.doc.store,this),this.content.integrate(e,this),Nr(e,this.parent,this.parentSub),(null!==this.parent._item&&this.parent._item.deleted||null!==this.parentSub&&null!==this.right)&&this.delete(e)}else new Bi(this.id,this.length).integrate(e,0)}},{key:"next",get:function(){for(var e=this.right;null!==e&&e.deleted;)e=e.right;return e}},{key:"prev",get:function(){for(var e=this.left;null!==e&&e.deleted;)e=e.left;return e}},{key:"lastId",get:function(){return 1===this.length?this.id:lr(this.id.client,this.id.clock+this.length-1)}},{key:"mergeWith",value:function(e){var t=this;if(this.constructor===e.constructor&&ur(e.origin,this.lastId)&&this.right===e&&ur(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&null===this.redone&&null===e.redone&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){var n=this.parent._searchMarker;return n&&n.forEach((function(n){n.p===e&&(n.p=t,!t.deleted&&t.countable&&(n.index-=t.length))})),e.keep&&(this.keep=!0),this.right=e.right,null!==this.right&&(this.right.left=this),this.length+=e.length,!0}return!1}},{key:"delete",value:function(e){if(!this.deleted){var t=this.parent;this.countable&&null===this.parentSub&&(t._length-=this.length),this.markDeleted(),Tn(e.deleteSet,this.id.client,this.id.clock,this.length),Nr(e,t,this.parentSub),this.content.delete(e)}}},{key:"gc",value:function(e,t){if(!this.deleted)throw Ut();this.content.gc(e),t?function(e,t,n){var r=e.clients.get(t.id.client);r[br(r,t.id.clock)]=n}(e,this,new Bi(this.id,this.length)):this.content=new Ui(this.length)}},{key:"write",value:function(e,t){var n=t>0?lr(this.id.client,this.id.clock+t-1):this.origin,r=this.rightOrigin,i=this.parentSub,o=31&this.content.getRef()|(null===n?0:Ye)|(null===r?0:qe)|(null===i?0:32);if(e.writeInfo(o),null!==n&&e.writeLeftID(n),null!==r&&e.writeRightID(r),null===n&&null===r){var a=this.parent;if(void 0!==a._item){var s=a._item;if(null===s){var u=cr(a);e.writeParentInfo(!0),e.writeString(u)}else e.writeParentInfo(!1),e.writeLeftID(s.id)}else a.constructor===String?(e.writeParentInfo(!0),e.writeString(a)):a.constructor===sr?(e.writeParentInfo(!1),e.writeLeftID(a)):Ut();null!==i&&e.writeString(i)}this.content.write(e,t)}}]),n}(ji),so=function(e,t){return uo[31&t](e)},uo=[function(){Ut()},function(e){return new Ui(e.readLen())},function(e){for(var t=e.readLen(),n=[],r=0;r<t;r++){var i=e.readString();"undefined"===i?n.push(void 0):n.push(JSON.parse(i))}return new Wi(n)},function(e){return new Vi(e.readBuf())},function(e){return new Ki(e.readString())},function(e){return new qi(e.readJSON())},function(e){return new Yi(e.readKey(),e.readJSON())},function(e){return new io($i[e.readTypeRef()](e))},function(e){for(var t=e.readLen(),n=[],r=0;r<t;r++)n.push(e.readAny());return new Xi(n)},function(e){return new Hi(Gi(e.readString(),e.readAny()))},function(){Ut()}],lo=function(e){re(n,e);var t=oe(n);function n(){return te(this,n),t.apply(this,arguments)}return ee(n,[{key:"deleted",get:function(){return!0}},{key:"delete",value:function(){}},{key:"mergeWith",value:function(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}},{key:"integrate",value:function(e,t){Ut()}},{key:"write",value:function(e,t){e.writeInfo(10),nt(e.restEncoder,this.length-t)}},{key:"getMissing",value:function(e,t){return null}}]),n}(ji),co="undefined"!==typeof window?window:"undefined"!==typeof global?global:{};!0===co["__ $YJS$ __"]&&console.error("Yjs was already imported. This breaks constructor checks and will lead to isssues!"),co["__ $YJS$ __"]=!0;var fo=function(e,t){return{ydoc:new An,ynodes:function(){return t().ydoc.getMap("nodes")},yedges:function(){return t().ydoc.getMap("edges")}}};function ho(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function po(e){return!!e&&!!e[ta]}function go(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===na}(e)||Array.isArray(e)||!!e[ea]||!!e.constructor[ea]||xo(e)||Eo(e))}function vo(e,t,n){void 0===n&&(n=!1),0===yo(e)?(n?Object.keys:ra)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function yo(e){var t=e[ta];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:xo(e)?2:Eo(e)?3:0}function mo(e,t){return 2===yo(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function bo(e,t){return 2===yo(e)?e.get(t):e[t]}function _o(e,t,n){var r=yo(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function wo(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function xo(e){return $o&&e instanceof Map}function Eo(e){return Qo&&e instanceof Set}function ko(e){return e.o||e.t}function Co(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ia(e);delete t[ta];for(var n=ra(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function So(e,t){return void 0===t&&(t=!1),To(e)||po(e)||!go(e)||(yo(e)>1&&(e.set=e.add=e.clear=e.delete=No),Object.freeze(e),t&&vo(e,(function(e,t){return So(t,!0)}),!0)),e}function No(){ho(2)}function To(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Io(e){var t=oa[e];return t||ho(18,e),t}function Do(){return Xo}function Mo(e,t){t&&(Io("Patches"),e.u=[],e.s=[],e.v=t)}function Oo(e){Po(e),e.p.forEach(Ao),e.p=null}function Po(e){e===Xo&&(Xo=e.l)}function Lo(e){return Xo={p:[],l:Xo,h:e,m:!0,_:0}}function Ao(e){var t=e[ta];0===t.i||1===t.i?t.j():t.O=!0}function Ro(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||Io("ES5").S(t,e,r),r?(n[ta].P&&(Oo(t),ho(4)),go(e)&&(e=Fo(t,e),t.l||jo(t,e)),t.u&&Io("Patches").M(n[ta].t,e,t.u,t.s)):e=Fo(t,n,[]),Oo(t),t.u&&t.v(t.u,t.s),e!==Jo?e:void 0}function Fo(e,t,n){if(To(t))return t;var r=t[ta];if(!r)return vo(t,(function(i,o){return zo(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return jo(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=Co(r.k):r.o;vo(3===r.i?new Set(i):i,(function(t,o){return zo(e,r,i,t,o,n)})),jo(e,i,!1),n&&e.u&&Io("Patches").R(r,n,e.u,e.s)}return r.o}function zo(e,t,n,r,i,o){if(po(i)){var a=Fo(e,i,o&&t&&3!==t.i&&!mo(t.D,r)?o.concat(r):void 0);if(_o(n,r,a),!po(a))return;e.m=!1}if(go(i)&&!To(i)){if(!e.h.F&&e._<1)return;Fo(e,i),t&&t.A.l||jo(e,i)}}function jo(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&So(t,n)}function Bo(e,t){var n=e[ta];return(n?ko(n):e)[t]}function Vo(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Uo(e){e.P||(e.P=!0,e.l&&Uo(e.l))}function Go(e){e.o||(e.o=Co(e.t))}function Ho(e,t,n){var r=xo(t)?Io("MapSet").N(t,n):Eo(t)?Io("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Do(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=aa;n&&(i=[r],o=sa);var a=Proxy.revocable(i,o),s=a.revoke,u=a.proxy;return r.k=u,r.j=s,u}(t,n):Io("ES5").J(t,n);return(n?n.A:Do()).p.push(r),r}function qo(e){return po(e)||ho(22,e),function e(t){if(!go(t))return t;var n,r=t[ta],i=yo(t);if(r){if(!r.P&&(r.i<4||!Io("ES5").K(r)))return r.t;r.I=!0,n=Yo(t,i),r.I=!1}else n=Yo(t,i);return vo(n,(function(t,i){r&&bo(r.t,t)===i||_o(n,t,e(i))})),3===i?new Set(n):n}(e)}function Yo(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Co(e)}var Wo,Xo,Ko="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),$o="undefined"!=typeof Map,Qo="undefined"!=typeof Set,Zo="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Jo=Ko?Symbol.for("immer-nothing"):((Wo={})["immer-nothing"]=!0,Wo),ea=Ko?Symbol.for("immer-draftable"):"__$immer_draftable",ta=Ko?Symbol.for("immer-state"):"__$immer_state",na=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ra="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ia=Object.getOwnPropertyDescriptors||function(e){var t={};return ra(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},oa={},aa={get:function(e,t){if(t===ta)return e;var n=ko(e);if(!mo(n,t))return function(e,t,n){var r,i=Vo(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!go(r)?r:r===Bo(e.t,t)?(Go(e),e.o[t]=Ho(e.A.h,r,e)):r},has:function(e,t){return t in ko(e)},ownKeys:function(e){return Reflect.ownKeys(ko(e))},set:function(e,t,n){var r=Vo(ko(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Bo(ko(e),t),o=null==i?void 0:i[ta];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(wo(n,i)&&(void 0!==n||mo(e.t,t)))return!0;Go(e),Uo(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==Bo(e.t,t)||t in e.t?(e.D[t]=!1,Go(e),Uo(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=ko(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){ho(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ho(12)}},sa={};vo(aa,(function(e,t){sa[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),sa.deleteProperty=function(e,t){return sa.set.call(this,e,t,void 0)},sa.set=function(e,t,n){return aa.set.call(this,e[0],t,n,e[0])};var ua=function(){function e(e){var t=this;this.g=Zo,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&ho(6),void 0!==r&&"function"!=typeof r&&ho(7),go(e)){var s=Lo(t),u=Ho(t,e,void 0),l=!0;try{a=n(u),l=!1}finally{l?Oo(s):Po(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return Mo(s,r),Ro(e,s)}),(function(e){throw Oo(s),e})):(Mo(s,r),Ro(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===Jo&&(a=void 0),t.F&&So(a,!0),r){var c=[],f=[];Io("Patches").M(e,a,c,f),r(c,f)}return a}ho(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){go(e)||ho(8),po(e)&&(e=qo(e));var t=Lo(this),n=Ho(this,e,void 0);return n[ta].C=!0,Po(t),n},t.finishDraft=function(e,t){var n=(e&&e[ta]).A;return Mo(n,t),Ro(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Zo&&ho(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=Io("Patches").$;return po(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),la=new ua,ca=la.produce,fa=(la.produceWithPatches.bind(la),la.setAutoFreeze.bind(la),la.setUseProxies.bind(la),la.applyPatches.bind(la),la.createDraft.bind(la),la.finishDraft.bind(la),ca),ha=3e4,da=function e(t){if(t.shouldConnect&&null===t.ws){var n=new WebSocket(t.url),r=t.binaryType,i=null;r&&(n.binaryType=r),t.ws=n,t.connecting=!0,t.connected=!1,n.onmessage=function(e){t.lastMessageReceived=en();var n=e.data,r="string"===typeof n?JSON.parse(n):n;r&&"pong"===r.type&&(clearTimeout(i),i=setTimeout(a,15e3)),t.emit("message",[r,t])};var o=function(n){null!==t.ws&&(t.ws=null,t.connecting=!1,t.connected?(t.connected=!1,t.emit("disconnect",[{type:"disconnect",error:n},t])):t.unsuccessfulReconnects++,setTimeout(e,ye(1200*ve(t.unsuccessfulReconnects+1),2500),t)),clearTimeout(i)},a=function(){t.ws===n&&t.send({type:"ping"})};n.onclose=function(){return o(null)},n.onerror=function(e){return o(e)},n.onopen=function(){t.lastMessageReceived=en(),t.connecting=!1,t.connected=!0,t.unsuccessfulReconnects=0,t.emit("connect",[{type:"connect"},t]),i=setTimeout(a,15e3)}}},pa=function(e){re(n,e);var t=oe(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.binaryType;return te(this,n),(r=t.call(this)).url=e,r.ws=null,r.binaryType=o||null,r.connected=!1,r.connecting=!1,r.unsuccessfulReconnects=0,r.lastMessageReceived=0,r.shouldConnect=!0,r._checkInterval=setInterval((function(){r.connected&&ha<en()-r.lastMessageReceived&&r.ws.close()}),15e3),da(K(r)),r}return ee(n,[{key:"send",value:function(e){this.ws&&this.ws.send(JSON.stringify(e))}},{key:"destroy",value:function(){clearInterval(this._checkInterval),this.disconnect(),Z($(n.prototype),"destroy",this).call(this)}},{key:"disconnect",value:function(){this.shouldConnect=!1,null!==this.ws&&this.ws.close()}},{key:"connect",value:function(){this.shouldConnect=!0,this.connected||null!==this.ws||da(this)}}]),n}(de),ga=new Map,va=function(){function e(t){var n,r=this;te(this,e),this.room=t,this.onmessage=null,n=function(e){return e.key===t&&null!==r.onmessage&&r.onmessage({data:He(e.newValue||"")})},De||addEventListener("storage",n)}return ee(e,[{key:"postMessage",value:function(e){Ae.setItem(this.room,Ge(new Uint8Array(e)))}}]),e}(),ya="undefined"===typeof BroadcastChannel?va:BroadcastChannel,ma=function(e){return ue(ga,e,(function(){var t=new Set,n=new ya(e);return n.onmessage=function(e){return t.forEach((function(t){return t(e.data,"broadcastchannel")}))},{bc:n,subs:t}}))},ba=function(e,t){return ma(e).subs.add(t)},_a=function(e,t){return ma(e).subs.delete(t)},wa=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=ma(e);r.bc.postMessage(t),r.subs.forEach((function(e){return e(t,n)}))},xa=n(1746),Ea=function(e,t){nt(e,0);var n=tr(t);at(e,n)},ka=function(e,t,n){nt(e,1),at(e,$n(t,n))},Ca=function(e,t,n){try{!function(e,t,n){Xn(e,t,n,Fn)}(t,_t(e),n)}catch(r){console.error("Caught error while handling a Yjs update",r)}},Sa=function(e,t){nt(e,2),at(e,t)},Na=Ca,Ta=function(e,t,n,r){var i=xt(e);switch(i){case 0:!function(e,t,n){ka(t,n,_t(e))}(e,t,n);break;case 1:Ca(e,n,r);break;case 2:Na(e,n,r);break;default:throw new Error("Unknown message type")}return i},Ia=3e4,Da=function(e){re(n,e);var t=oe(n);function n(e){var r;return te(this,n),(r=t.call(this)).doc=e,r.clientID=e.clientID,r.states=new Map,r.meta=new Map,r._checkInterval=setInterval((function(){var e=en();null!==r.getLocalState()&&15e3<=e-r.meta.get(r.clientID).lastUpdated&&r.setLocalState(r.getLocalState());var t=[];r.meta.forEach((function(n,i){i!==r.clientID&&Ia<=e-n.lastUpdated&&r.states.has(i)&&t.push(i)})),t.length>0&&Ma(K(r),t,"timeout")}),pe(3e3)),e.on("destroy",(function(){r.destroy()})),r.setLocalState({}),r}return ee(n,[{key:"destroy",value:function(){this.emit("destroy",[this]),this.setLocalState(null),Z($(n.prototype),"destroy",this).call(this),clearInterval(this._checkInterval)}},{key:"getLocalState",value:function(){return this.states.get(this.clientID)||null}},{key:"setLocalState",value:function(e){var t=this.clientID,n=this.meta.get(t),r=void 0===n?0:n.clock+1,i=this.states.get(t);null===e?this.states.delete(t):this.states.set(t,e),this.meta.set(t,{clock:r,lastUpdated:en()});var o=[],a=[],s=[],u=[];null===e?u.push(t):null==i?null!=e&&o.push(t):(a.push(t),Xt(i,e)||s.push(t)),(o.length>0||s.length>0||u.length>0)&&this.emit("change",[{added:o,updated:s,removed:u},"local"]),this.emit("update",[{added:o,updated:a,removed:u},"local"])}},{key:"setLocalStateField",value:function(e,t){var n=this.getLocalState();null!==n&&this.setLocalState(a(a({},n),{},i({},e,t)))}},{key:"getStates",value:function(){return this.states}}]),n}(de),Ma=function(e,t,n){for(var r=[],i=0;i<t.length;i++){var o=t[i];if(e.states.has(o)){if(e.states.delete(o),o===e.clientID){var a=e.meta.get(o);e.meta.set(o,{clock:a.clock+1,lastUpdated:en()})}r.push(o)}}r.length>0&&(e.emit("change",[{added:[],updated:[],removed:r},n]),e.emit("update",[{added:[],updated:[],removed:r},n]))},Oa=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.states,r=t.length,i=Qe();nt(i,r);for(var o=0;o<r;o++){var a=t[o],s=n.get(a)||null,u=e.meta.get(a).clock;nt(i,a),nt(i,u),it(i,JSON.stringify(s))}return Je(i)},Pa=function(e,t,n){for(var r=yt(t),i=en(),o=[],a=[],s=[],u=[],l=xt(r),c=0;c<l;c++){var f=xt(r),h=xt(r),d=JSON.parse(kt(r)),p=e.meta.get(f),g=e.states.get(f),v=void 0===p?0:p.clock;(v<h||v===h&&null===d&&e.states.has(f))&&(null===d?f===e.clientID&&null!=e.getLocalState()?h++:e.states.delete(f):e.states.set(f,d),e.meta.set(f,{clock:h,lastUpdated:i}),void 0===p&&null!==d?o.push(f):void 0!==p&&null===d?u.push(f):null!==d&&(Xt(d,g)||s.push(f),a.push(f)))}(o.length>0||s.length>0||u.length>0)&&e.emit("change",[{added:o,updated:s,removed:u},n]),(o.length>0||a.length>0||u.length>0)&&e.emit("update",[{added:o,updated:a,removed:u},n])},La=function(e,t){var n=Se(e).buffer,r=Se(t).buffer;return crypto.subtle.importKey("raw",n,"PBKDF2",!1,["deriveKey"]).then((function(e){return crypto.subtle.deriveKey({name:"PBKDF2",salt:r,iterations:1e5,hash:"SHA-256"},e,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}))},Aa=function(e,t){if(!t)return jt(e);var n=crypto.getRandomValues(new Uint8Array(12));return crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,e).then((function(e){var t=Qe();return it(t,"AES-GCM"),at(t,n),at(t,new Uint8Array(e)),Je(t)}))},Ra=function(e,t){if(!t)return jt(e);var n,r=yt(e);"AES-GCM"!==kt(r)&&(n=Bt("Unknown encryption algorithm"),Promise.reject(n));var i=_t(r),o=_t(r);return crypto.subtle.decrypt({name:"AES-GCM",iv:i},t,o).then((function(e){return new Uint8Array(e)}))},Fa=function(e){var t=vn[yn],n=Be("log"),r=null!==n&&("*"===n||"true"===n||new RegExp(n,"gi").test(e));return yn=(yn+1)%vn.length,e+=": ",r?function(){var n=en(),r=n-mn;mn=n;for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];pn.apply(void 0,[t,e,cn].concat(q(o.map((function(e){return"string"===typeof e||"symbol"===typeof e?e:JSON.stringify(e)}))),[t," +"+r+"ms"]))}:Wt}("y-webrtc"),za=new Map,ja=new Map,Ba=function(e){var t=!0;e.webrtcConns.forEach((function(e){e.synced||(t=!1)})),(!t&&e.synced||t&&!e.synced)&&(e.synced=t,e.provider.emit("synced",[{synced:t}]),Fa("synced ",tn,e.name,nn," with all peers"))},Va=function(e,t,n){var r=yt(t),i=Qe(),o=xt(r);if(void 0===e)return null;var a=e.awareness,s=e.doc,u=!1;switch(o){case 0:nt(i,0);var l=Ta(r,i,s,e);1!==l||e.synced||n(),0===l&&(u=!0);break;case 3:nt(i,1),at(i,Oa(a,Array.from(a.getStates().keys()))),u=!0;break;case 1:Pa(a,_t(r),e);break;case 4:var c=1===wt(r),f=kt(r);if(f!==e.peerId&&(e.bcConns.has(f)&&!c||!e.bcConns.has(f)&&c)){var h=[],d=[];c?(e.bcConns.add(f),d.push(f)):(e.bcConns.delete(f),h.push(f)),e.provider.emit("peers",[{added:d,removed:h,webrtcPeers:Array.from(e.webrtcConns.keys()),bcPeers:Array.from(e.bcConns)}]),Wa(e)}break;default:return console.error("Unable to compute message"),i}return u?i:null},Ua=function(e,t){Fa("send message to ",tn,e.remotePeerId,nn,on," (",e.room.name,")",cn);try{e.peer.send(Je(t))}catch(Ex){}},Ga=function(){function e(t,n,r,i){var o=this;te(this,e),Fa("establishing connection to ",tn,r),this.room=i,this.remotePeerId=r,this.closed=!1,this.connected=!1,this.synced=!1,this.peer=new xa(a({initiator:n},i.provider.peerOpts)),this.peer.on("signal",(function(e){$a(t,i,{to:r,from:i.peerId,type:"signal",signal:e})})),this.peer.on("connect",(function(){Fa("connected to ",tn,r),o.connected=!0;var e=i.provider.doc,t=i.awareness,n=Qe();nt(n,0),Ea(n,e),Ua(o,n);var a=t.getStates();if(a.size>0){var s=Qe();nt(s,1),at(s,Oa(t,Array.from(a.keys()))),Ua(o,s)}})),this.peer.on("close",(function(){o.connected=!1,o.closed=!0,i.webrtcConns.has(o.remotePeerId)&&(i.webrtcConns.delete(o.remotePeerId),i.provider.emit("peers",[{removed:[o.remotePeerId],added:[],webrtcPeers:Array.from(i.webrtcConns.keys()),bcPeers:Array.from(i.bcConns)}])),Ba(i),o.peer.destroy(),Fa("closed connection to ",tn,r),Ya(i)})),this.peer.on("error",(function(e){Fa("Error in connection to ",tn,r,": ",e),Ya(i)})),this.peer.on("data",(function(e){var t=function(e,t){var n=e.room;return Fa("received message from ",tn,e.remotePeerId,on," (",n.name,")",nn,cn),Va(n,t,(function(){e.synced=!0,Fa("synced ",tn,n.name,nn," with ",tn,e.remotePeerId),Ba(n)}))}(o,e);null!==t&&Ua(o,t)}))}return ee(e,[{key:"destroy",value:function(){this.peer.destroy()}}]),e}(),Ha=function(e,t){return Aa(t,e.key).then((function(t){return e.mux((function(){return wa(e.name,t)}))}))},qa=function(e,t){e.bcconnected&&Ha(e,t),function(e,t){Fa("broadcast message in ",tn,e.name,nn),e.webrtcConns.forEach((function(e){try{e.peer.send(t)}catch(Ex){}}))}(e,t)},Ya=function(e){za.forEach((function(t){t.connected&&(t.send({type:"subscribe",topics:[e.name]}),e.webrtcConns.size<e.provider.maxConns&&$a(t,e,{type:"announce",from:e.peerId}))}))},Wa=function(e){if(e.provider.filterBcConns){var t=Qe();nt(t,4),tt(t,1),it(t,e.peerId),Ha(e,Je(t))}},Xa=function(){function e(t,n,r,i){var o=this;te(this,e),this.peerId=Ft(),this.doc=t,this.awareness=n.awareness,this.provider=n,this.synced=!1,this.name=r,this.key=i,this.webrtcConns=new Map,this.bcConns=new Set,this.mux=function(){var e=!0;return function(t,n){if(e){e=!1;try{t()}finally{e=!0}}else void 0!==n&&n()}}(),this.bcconnected=!1,this._bcSubscriber=function(e){return Ra(new Uint8Array(e),i).then((function(e){return o.mux((function(){var t=Va(o,e,(function(){}));t&&Ha(o,Je(t))}))}))},this._docUpdateHandler=function(e,t){var n=Qe();nt(n,0),Sa(n,e),qa(o,Je(n))},this._awarenessUpdateHandler=function(e,t){var n=e.added,r=e.updated,i=e.removed,a=n.concat(r).concat(i),s=Qe();nt(s,1),at(s,Oa(o.awareness,a)),qa(o,Je(s))},this._beforeUnloadHandler=function(){Ma(o.awareness,[t.clientID],"window unload"),ja.forEach((function(e){e.disconnect()}))},"undefined"!==typeof window?window.addEventListener("beforeunload",this._beforeUnloadHandler):"undefined"!==typeof process&&process.on("exit",this._beforeUnloadHandler)}return ee(e,[{key:"connect",value:function(){this.doc.on("update",this._docUpdateHandler),this.awareness.on("update",this._awarenessUpdateHandler),Ya(this);var e=this.name;ba(e,this._bcSubscriber),this.bcconnected=!0,Wa(this);var t=Qe();nt(t,0),Ea(t,this.doc),Ha(this,Je(t));var n=Qe();nt(n,0),ka(n,this.doc),Ha(this,Je(n));var r=Qe();nt(r,3),Ha(this,Je(r));var i=Qe();nt(i,1),at(i,Oa(this.awareness,[this.doc.clientID])),Ha(this,Je(i))}},{key:"disconnect",value:function(){var e=this;za.forEach((function(t){t.connected&&t.send({type:"unsubscribe",topics:[e.name]})})),Ma(this.awareness,[this.doc.clientID],"disconnect");var t=Qe();nt(t,4),tt(t,0),it(t,this.peerId),Ha(this,Je(t)),_a(this.name,this._bcSubscriber),this.bcconnected=!1,this.doc.off("update",this._docUpdateHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.webrtcConns.forEach((function(e){return e.destroy()}))}},{key:"destroy",value:function(){this.disconnect(),"undefined"!==typeof window?window.removeEventListener("beforeunload",this._beforeUnloadHandler):"undefined"!==typeof process&&process.off("exit",this._beforeUnloadHandler)}}]),e}(),Ka=function(e,t,n,r){if(ja.has(n))throw Bt('A Yjs Doc connected to room "'.concat(n,'" already exists!'));var i=new Xa(e,t,n,r);return ja.set(n,i),i},$a=function(e,t,n){t.key?function(e,t){var n=Qe();return lt(n,e),Aa(Je(n),t)}(n,t.key).then((function(n){e.send({type:"publish",topic:t.name,data:Ge(n)})})):e.send({type:"publish",topic:t.name,data:n})},Qa=function(e){re(n,e);var t=oe(n);function n(e){var r;return te(this,n),(r=t.call(this,e)).providers=new Set,r.on("connect",(function(){Fa("connected (".concat(e,")"));var t=Array.from(ja.keys());r.send({type:"subscribe",topics:t}),ja.forEach((function(e){return $a(K(r),e,{type:"announce",from:e.peerId})}))})),r.on("message",(function(e){if("publish"===e.type){var t=e.topic,n=ja.get(t);if(null==n||"string"!==typeof t)return;var i=function(e){var t=n.webrtcConns,i=n.peerId;if(!(null==e||e.from===i||void 0!==e.to&&e.to!==i||n.bcConns.has(e.from))){var o=t.has(e.from)?function(){}:function(){return n.provider.emit("peers",[{removed:[],added:[e.from],webrtcPeers:Array.from(n.webrtcConns.keys()),bcPeers:Array.from(n.bcConns)}])};switch(e.type){case"announce":t.size<n.provider.maxConns&&(ue(t,e.from,(function(){return new Ga(K(r),!0,e.from,n)})),o());break;case"signal":e.to===i&&(ue(t,e.from,(function(){return new Ga(K(r),!1,e.from,n)})).peer.signal(e.signal),o())}}};n.key?"string"===typeof e.data&&(o=He(e.data),a=n.key,Ra(o,a).then((function(e){return Nt(yt(new Uint8Array(e)))}))).then(i):i(e.data)}var o,a})),r.on("disconnect",(function(){return Fa("disconnect (".concat(e,")"))})),r}return ee(n)}(pa),Za=function(e){re(n,e);var t=oe(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.signaling,s=void 0===a?["wss://signaling.yjs.dev","wss://y-webrtc-signaling-eu.herokuapp.com","wss://y-webrtc-signaling-us.herokuapp.com"]:a,u=o.password,l=void 0===u?null:u,c=o.awareness,f=void 0===c?new Da(r):c,h=o.maxConns,d=void 0===h?20+pe(15*Lt()):h,p=o.filterBcConns,g=void 0===p||p,v=o.peerOpts,y=void 0===v?{}:v;return te(this,n),(i=t.call(this)).roomName=e,i.doc=r,i.filterBcConns=g,i.awareness=f,i.shouldConnect=!1,i.signalingUrls=s,i.signalingConns=[],i.maxConns=d,i.peerOpts=y,i.key=l?La(l,e):jt(null),i.room=null,i.key.then((function(t){i.room=Ka(r,K(i),e,t),i.shouldConnect?i.room.connect():i.room.disconnect()})),i.connect(),i.destroy=i.destroy.bind(K(i)),r.on("destroy",i.destroy),i}return ee(n,[{key:"connected",get:function(){return null!==this.room&&this.shouldConnect}},{key:"connect",value:function(){var e=this;this.shouldConnect=!0,this.signalingUrls.forEach((function(t){var n=ue(za,t,(function(){return new Qa(t)}));e.signalingConns.push(n),n.providers.add(e)})),this.room&&this.room.connect()}},{key:"disconnect",value:function(){var e=this;this.shouldConnect=!1,this.signalingConns.forEach((function(t){t.providers.delete(e),0===t.providers.size&&(t.destroy(),za.delete(t.url))})),this.room&&this.room.disconnect()}},{key:"destroy",value:function(){var e=this;this.doc.off("destroy",this.destroy),this.key.then((function(){e.room.destroy(),ja.delete(e.roomName)})),Z($(n.prototype),"destroy",this).call(this)}}]),n}(de),Ja=function(e){return function(e,t){var n=[];for(var r in e)n.push(t(e[r],r));return n}(e,(function(e,t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e))})).join("&")},es=[];es[0]=function(e,t,n,r,i){nt(e,0);var o=Ta(t,e,n.doc,n);r&&1===o&&!n.synced&&(n.synced=!0)},es[3]=function(e,t,n,r,i){nt(e,1),at(e,Oa(n.awareness,Array.from(n.awareness.getStates().keys())))},es[1]=function(e,t,n,r,i){Pa(n.awareness,_t(t),n)},es[2]=function(e,t,n,r,i){!function(e,t,n){0===xt(e)&&n(t,kt(e))}(t,n.doc,ns)};var ts=3e4,ns=function(e,t){return console.warn("Permission denied to access ".concat(e.url,".\n").concat(t))},rs=function(e,t,n){var r=yt(t),i=Qe(),o=xt(r),a=e.messageHandlers[o];return a?a(i,r,e,n,o):console.error("Unable to compute message"),i},is=function e(t){if(t.shouldConnect&&null===t.ws){var n=new t._WS(t.url);n.binaryType="arraybuffer",t.ws=n,t.wsconnecting=!0,t.wsconnected=!1,t.synced=!1,n.onmessage=function(e){t.wsLastMessageReceived=en();var r=rs(t,new Uint8Array(e.data),!0);Ze(r)>1&&n.send(Je(r))},n.onerror=function(e){t.emit("connection-error",[e,t])},n.onclose=function(n){t.emit("connection-close",[n,t]),t.ws=null,t.wsconnecting=!1,t.wsconnected?(t.wsconnected=!1,t.synced=!1,Ma(t.awareness,Array.from(t.awareness.getStates().keys()).filter((function(e){return e!==t.doc.clientID})),t),t.emit("status",[{status:"disconnected"}])):t.wsUnsuccessfulReconnects++,setTimeout(e,ye(100*be(2,t.wsUnsuccessfulReconnects),t.maxBackoffTime),t)},n.onopen=function(){t.wsLastMessageReceived=en(),t.wsconnecting=!1,t.wsconnected=!0,t.wsUnsuccessfulReconnects=0,t.emit("status",[{status:"connected"}]);var e=Qe();if(nt(e,0),Ea(e,t.doc),n.send(Je(e)),null!==t.awareness.getLocalState()){var r=Qe();nt(r,1),at(r,Oa(t.awareness,[t.doc.clientID])),n.send(Je(r))}},t.emit("status",[{status:"connecting"}])}},os=function(e,t){e.wsconnected&&e.ws.send(t),e.bcconnected&&wa(e.bcChannel,t,e)},as=function(e){re(n,e);var t=oe(n);function n(e,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a.connect,u=void 0===s||s,l=a.awareness,c=void 0===l?new Da(i):l,f=a.params,h=void 0===f?{}:f,d=a.WebSocketPolyfill,p=void 0===d?WebSocket:d,g=a.resyncInterval,v=void 0===g?-1:g,y=a.maxBackoffTime,m=void 0===y?2500:y,b=a.disableBc,_=void 0!==b&&b;for(te(this,n),o=t.call(this);"/"===e[e.length-1];)e=e.slice(0,e.length-1);var w=Ja(h);return o.maxBackoffTime=m,o.bcChannel=e+"/"+r,o.url=e+"/"+r+(0===w.length?"":"?"+w),o.roomname=r,o.doc=i,o._WS=p,o.awareness=c,o.wsconnected=!1,o.wsconnecting=!1,o.bcconnected=!1,o.disableBc=_,o.wsUnsuccessfulReconnects=0,o.messageHandlers=es.slice(),o._synced=!1,o.ws=null,o.wsLastMessageReceived=0,o.shouldConnect=u,o._resyncInterval=0,v>0&&(o._resyncInterval=setInterval((function(){if(o.ws){var e=Qe();nt(e,0),Ea(e,i),o.ws.send(Je(e))}}),v)),o._bcSubscriber=function(e,t){if(t!==K(o)){var n=rs(K(o),new Uint8Array(e),!1);Ze(n)>1&&wa(o.bcChannel,Je(n),K(o))}},o._updateHandler=function(e,t){if(t!==K(o)){var n=Qe();nt(n,0),Sa(n,e),os(K(o),Je(n))}},o.doc.on("update",o._updateHandler),o._awarenessUpdateHandler=function(e,t){var n=e.added,r=e.updated,i=e.removed,a=n.concat(r).concat(i),s=Qe();nt(s,1),at(s,Oa(c,a)),os(K(o),Je(s))},o._beforeUnloadHandler=function(){Ma(o.awareness,[i.clientID],"window unload")},"undefined"!==typeof window?window.addEventListener("beforeunload",o._beforeUnloadHandler):"undefined"!==typeof process&&process.on("exit",o._beforeUnloadHandler),c.on("update",o._awarenessUpdateHandler),o._checkInterval=setInterval((function(){o.wsconnected&&ts<en()-o.wsLastMessageReceived&&o.ws.close()}),3e3),u&&o.connect(),o}return ee(n,[{key:"synced",get:function(){return this._synced},set:function(e){this._synced!==e&&(this._synced=e,this.emit("synced",[e]),this.emit("sync",[e]))}},{key:"destroy",value:function(){0!==this._resyncInterval&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),"undefined"!==typeof window?window.removeEventListener("beforeunload",this._beforeUnloadHandler):"undefined"!==typeof process&&process.off("exit",this._beforeUnloadHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),Z($(n.prototype),"destroy",this).call(this)}},{key:"connectBc",value:function(){if(!this.disableBc){this.bcconnected||(ba(this.bcChannel,this._bcSubscriber),this.bcconnected=!0);var e=Qe();nt(e,0),Ea(e,this.doc),wa(this.bcChannel,Je(e),this);var t=Qe();nt(t,0),ka(t,this.doc),wa(this.bcChannel,Je(t),this);var n=Qe();nt(n,3),wa(this.bcChannel,Je(n),this);var r=Qe();nt(r,1),at(r,Oa(this.awareness,[this.doc.clientID])),wa(this.bcChannel,Je(r),this)}}},{key:"disconnectBc",value:function(){var e=Qe();nt(e,1),at(e,Oa(this.awareness,[this.doc.clientID],new Map)),os(this,Je(e)),this.bcconnected&&(_a(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}},{key:"disconnect",value:function(){this.shouldConnect=!1,this.disconnectBc(),null!==this.ws&&this.ws.close()}},{key:"connect",value:function(){this.shouldConnect=!0,this.wsconnected||null!==this.ws||(is(this),this.connectBc())}}]),n}(de),ss=function(e,t){return{providersStore:{webrtc:{provider:void 0,isSynced:!1},websocket:{provider:void 0,isSynced:!1}},awareness:void 0,getAwareness:function(){var n=t().awareness;if(null==n){var r=new Da(t().ydoc);return e((function(){return{awareness:r}})),r}return n},addProvider:function(t){if(t instanceof Za)t.on("synced",(function(t){e(fa((function(e){e.providersStore.webrtc.isSynced=!0})))})),e(fa((function(e){e.providersStore.webrtc.provider=t})));else{if(!(t instanceof as))throw new Error("Provider not supported.");t.on("sync",(function(t){e(fa((function(e){e.providersStore.websocket.isSynced=!0})))})),e(fa((function(e){e.providersStore.websocket.provider=t})))}}}},us=function(e,t){return{yjsSharedTransforms:function(){return t().ydoc.getMap("transforms")},sharedTransforms:{},setSharedTransforms:function(t){e((function(e){return{sharedTransforms:a(a({},e.sharedTransforms),t)}}))},yjsTransformJobs:function(){return t().ydoc.getMap("transform-jobs")},transformJobs:[],setTransformJobs:function(t){e((function(){return{transformJobs:Array.from(Object.entries(t)).map((function(e){var t=c(e,2);t[0];return t[1]}))}}))},addTransformJobs:function(e){t().yjsTransformJobs().set(e.jobId,e)}}},ls=function(e){return{cytoscape:void 0,setCytoscape:function(t){return e((function(){return{cytoscape:t}}))}}},cs=function(e,t){return{selectedElements:void 0,setSelectedElements:function(t){return e({selectedElements:t})},selectedNodes:function(){var e;return null===(e=t().selectedElements)||void 0===e?void 0:e.nodes()},selectedEdges:function(){var e;return null===(e=t().selectedElements)||void 0===e?void 0:e.edges()}}},fs=function(e){return{darkMode:!1,toggleDarkMode:function(){return e({darkMode:document.documentElement.classList.toggle("dark")})}}},hs=P()((function(){return a(a(a(a(a(a(a({},fo.apply(void 0,arguments)),ss.apply(void 0,arguments)),Y.apply(void 0,arguments)),us.apply(void 0,arguments)),ls.apply(void 0,arguments)),cs.apply(void 0,arguments)),fs.apply(void 0,arguments))})),ds=n(5887),ps=function(){var t=L((function(e){return e.usernames})),n=hs((function(e){return e.getAwareness}));(0,e.useEffect)((function(){n().setLocalStateField("username",j(H,G))}),[]);return(0,ds.jsx)(ds.Fragment,{children:(0,ds.jsxs)("div",{className:"flex flex-col p-1 overflow-hidden",children:[(0,ds.jsxs)("div",{className:"flex items-center",children:[(0,ds.jsx)("input",{type:"text",id:"username",placeholder:"username",className:"flex-1 p-1",onChange:function(e){n().setLocalStateField("username",e.target.value)}}),(0,ds.jsx)("input",{type:"color",id:"user-color",className:"flex-1 max-w-[75px] m-1",onChange:function(e){n().setLocalStateField("color",e.target.value)}})]}),(0,ds.jsx)("div",{className:"flex-1 divide-y-2 divide-solid overflow-y-auto",children:t.map((function(e){return(0,ds.jsx)("div",{className:"font-mono leading-loose",children:e.username},e.id)}))})]})})},gs=n(1562),vs=n.n(gs),ys=n(1497),ms=n.n(ys),bs=n(8148),_s=n.n(bs),ws=n(3486),xs=n.n(ws),Es=n(8471),ks=n.n(Es),Cs=n(9230),Ss=n.n(Cs),Ns=n(1468),Ts=n.n(Ns)()((function(e){var t=new Image;return t.src="data:image/svg+xml;utf8,".concat(encodeURIComponent(function(e){return'<svg className="cursor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 35" height="45" width="45">\n    <g transform="translate(-11.0,-9.0)">\n        <g fill="rgba(0,0,0,0.2)" transform="translate(1,1)">\n            <path d="m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z" />\n            <path d="m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z" />\n        </g>\n        <g fill="white">\n            <path d="m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z" />\n            <path d="m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z" />\n        </g>\n        <g fill="'.concat(e,'">\n            <path d="m19.751 24.4155-1.844.774-3.1-7.374 1.841-.775z" />\n            <path d="m13 10.814v11.188l2.969-2.866.428-.139h4.768z" />\n        </g>\n    </g>\n</svg>')}(e))),t}),{max:250});var Is=e.forwardRef((function(t,n){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:n},t),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"}))}));var Ds=e.forwardRef((function(t,n){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:n},t),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}))}));function Ms(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Os(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function Ps(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Os(o,r,i,a,s,"next",e)}function s(e){Os(o,r,i,a,s,"throw",e)}a(void 0)}))}}var Ls=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","flipAlignment"],As=["mainAxis","crossAxis","limiter"];function Rs(e){return e.split("-")[0]}function Fs(e){return e.split("-")[1]}function zs(e){return["top","bottom"].includes(Rs(e))?"x":"y"}function js(e){return"y"===e?"height":"width"}function Bs(e,t,n){var r,i=e.reference,o=e.floating,a=i.x+i.width/2-o.width/2,s=i.y+i.height/2-o.height/2,u=zs(t),l=js(u),c=i[l]/2-o[l]/2,f="x"===u;switch(Rs(t)){case"top":r={x:a,y:i.y-o.height};break;case"bottom":r={x:a,y:i.y+i.height};break;case"right":r={x:i.x+i.width,y:s};break;case"left":r={x:i.x-o.width,y:s};break;default:r={x:i.x,y:i.y}}switch(Fs(t)){case"start":r[u]-=c*(n&&f?-1:1);break;case"end":r[u]+=c*(n&&f?-1:1)}return r}var Vs=function(){var e=Ps(X().mark((function e(t,n,r){var o,s,u,l,c,f,h,d,p,g,v,y,m,b,_,w,x,E,k,C,S,N,T,I,D;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.placement,s=void 0===o?"bottom":o,u=r.strategy,l=void 0===u?"absolute":u,c=r.middleware,f=void 0===c?[]:c,h=r.platform,e.next=9,null==h.isRTL?void 0:h.isRTL(n);case 9:return d=e.sent,e.next=12,h.getElementRects({reference:t,floating:n,strategy:l});case 12:p=e.sent,g=Bs(p,s,d),v=g.x,y=g.y,m=s,b={},_=0,w=0;case 20:if(!(w<f.length)){e.next=55;break}return E=f[w],k=E.name,C=E.fn,e.next=26,C({x:v,y:y,initialPlacement:s,placement:m,strategy:l,middlewareData:b,rects:p,platform:h,elements:{reference:t,floating:n}});case 26:if(S=e.sent,N=S.x,T=S.y,I=S.data,D=S.reset,v=null!=N?N:v,y=null!=T?T:y,b=a(a({},b),{},i({},k,a(a({},b[k]),I))),e.t0=D&&_<=50,!e.t0){e.next=52;break}if(_++,e.t1="object"==typeof D,!e.t1){e.next=51;break}if(D.placement&&(m=D.placement),e.t2=D.rects,!e.t2){e.next=50;break}if(!0!==D.rects){e.next=48;break}return e.next=45,h.getElementRects({reference:t,floating:n,strategy:l});case 45:e.t3=e.sent,e.next=49;break;case 48:e.t3=D.rects;case 49:p=e.t3;case 50:x=Bs(p,m,d),v=x.x,y=x.y;case 51:w=-1;case 52:w++,e.next=20;break;case 55:return e.abrupt("return",{x:v,y:y,placement:m,strategy:l,middlewareData:b});case 56:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function Us(e){return"number"!=typeof e?function(e){return a({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function Gs(e){return a(a({},e),{},{top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height})}function Hs(e,t){return qs.apply(this,arguments)}function qs(){return qs=Ps(X().mark((function e(t,n){var r,i,o,s,u,l,c,f,h,d,p,g,v,y,m,b,_,w,x,E,k;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),i=t.x,o=t.y,s=t.platform,u=t.rects,l=t.elements,c=t.strategy,h=(f=n).boundary,d=void 0===h?"clippingAncestors":h,p=f.rootBoundary,g=void 0===p?"viewport":p,v=f.elementContext,y=void 0===v?"floating":v,m=f.altBoundary,b=void 0!==m&&m,_=f.padding,w=Us(void 0===_?0:_),x=l[b?"floating"===y?"reference":"floating":y],e.t0=Gs,e.t1=s,e.next=24,null==s.isElement?void 0:s.isElement(x);case 24:if(e.t3=r=e.sent,e.t2=null==e.t3,e.t2){e.next=28;break}e.t2=r;case 28:if(!e.t2){e.next=32;break}e.t4=x,e.next=38;break;case 32:if(e.t5=x.contextElement,e.t5){e.next=37;break}return e.next=36,null==s.getDocumentElement?void 0:s.getDocumentElement(l.floating);case 36:e.t5=e.sent;case 37:e.t4=e.t5;case 38:return e.t6=e.t4,e.t7=d,e.t8=g,e.t9=c,e.t10={element:e.t6,boundary:e.t7,rootBoundary:e.t8,strategy:e.t9},e.next=45,e.t1.getClippingRect.call(e.t1,e.t10);case 45:if(e.t11=e.sent,E=(0,e.t0)(e.t11),e.t12=Gs,!s.convertOffsetParentRelativeRectToViewportRelativeRect){e.next=61;break}return e.t14=s,e.t15="floating"===y?a(a({},u.floating),{},{x:i,y:o}):u.reference,e.next=53,null==s.getOffsetParent?void 0:s.getOffsetParent(l.floating);case 53:return e.t16=e.sent,e.t17=c,e.t18={rect:e.t15,offsetParent:e.t16,strategy:e.t17},e.next=58,e.t14.convertOffsetParentRelativeRectToViewportRelativeRect.call(e.t14,e.t18);case 58:e.t13=e.sent,e.next=62;break;case 61:e.t13=u[y];case 62:return e.t19=e.t13,k=(0,e.t12)(e.t19),e.abrupt("return",{top:E.top-k.top+w.top,bottom:k.bottom-E.bottom+w.bottom,left:E.left-k.left+w.left,right:k.right-E.right+w.right});case 65:case"end":return e.stop()}}),e)}))),qs.apply(this,arguments)}var Ys=Math.min,Ws=Math.max;function Xs(e,t,n){return Ws(e,Ys(t,n))}var Ks={left:"right",right:"left",bottom:"top",top:"bottom"};function $s(e){return e.replace(/left|right|bottom|top/g,(function(e){return Ks[e]}))}function Qs(e,t,n){void 0===n&&(n=!1);var r=Fs(e),i=zs(e),o=js(i),a="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=$s(a)),{main:a,cross:$s(a)}}var Zs={start:"end",end:"start"};function Js(e){return e.replace(/start|end/g,(function(e){return Zs[e]}))}var eu=["top","right","bottom","left"],tu=(eu.reduce((function(e,t){return e.concat(t,t+"-start",t+"-end")}),[]),function(e){return void 0===e&&(e={}),{name:"flip",options:e,fn:function(t){return Ps(X().mark((function n(){var r,i,o,a,s,u,l,c,f,h,d,p,g,v,y,m,b,_,w,x,E,k,C,S,N,T,I,D,M,O,P,L,A,R;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.placement,o=t.middlewareData,a=t.rects,s=t.initialPlacement,u=t.platform,l=t.elements,f=(c=e).mainAxis,h=void 0===f||f,d=c.crossAxis,p=void 0===d||d,g=c.fallbackPlacements,v=c.fallbackStrategy,y=void 0===v?"bestFit":v,m=c.flipAlignment,b=void 0===m||m,_=Ms(c,Ls),w=Rs(i),x=g||(w!==s&&b?function(e){var t=$s(e);return[Js(e),t,Js(t)]}(s):[$s(s)]),E=[s].concat(q(x)),n.next=22,Hs(t,_);case 22:if(k=n.sent,C=[],S=(null==(r=o.flip)?void 0:r.overflows)||[],h&&C.push(k[w]),!p){n.next=36;break}return n.t0=Qs,n.t1=i,n.t2=a,n.next=31,null==u.isRTL?void 0:u.isRTL(l.floating);case 31:n.t3=n.sent,N=(0,n.t0)(n.t1,n.t2,n.t3),T=N.main,I=N.cross,C.push(k[T],k[I]);case 36:if(S=[].concat(q(S),[{placement:i,overflows:C}]),C.every((function(e){return e<=0}))){n.next=50;break}if(O=(null!=(D=null==(M=o.flip)?void 0:M.index)?D:0)+1,!(P=E[O])){n.next=40;break}return n.abrupt("return",{data:{index:O,overflows:S},reset:{placement:P}});case 40:L="bottom",n.t4=y,n.next="bestFit"===n.t4?44:"initialPlacement"===n.t4?47:48;break;case 44:return R=null==(A=S.map((function(e){return[e,e.overflows.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0)]})).sort((function(e,t){return e[1]-t[1]}))[0])?void 0:A[0].placement,R&&(L=R),n.abrupt("break",48);case 47:L=s;case 48:if(i===L){n.next=50;break}return n.abrupt("return",{reset:{placement:L}});case 50:return n.abrupt("return",{});case 51:case"end":return n.stop()}}),n)})))()}}});var nu=function(e){return void 0===e&&(e=0),{name:"offset",options:e,fn:function(t){return Ps(X().mark((function n(){var r,i,o;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.x,i=t.y,n.next=4,function(){var e=Ps(X().mark((function e(t,n){var r,i,o,s,u,l,c,f,h,d,p,g,v,y;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.placement,i=t.platform,o=t.elements,e.next=5,null==i.isRTL?void 0:i.isRTL(o.floating);case 5:return s=e.sent,u=Rs(r),l=Fs(r),c="x"===zs(r),f=["left","top"].includes(u)?-1:1,h=s&&c?-1:1,d="function"==typeof n?n(t):n,p="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:a({mainAxis:0,crossAxis:0,alignmentAxis:null},d),g=p.mainAxis,v=p.crossAxis,y=p.alignmentAxis,e.abrupt("return",(l&&"number"==typeof y&&(v="end"===l?-1*y:y),c?{x:v*h,y:g*f}:{x:g*f,y:v*h}));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,e);case 4:return o=n.sent,n.abrupt("return",{x:r+o.x,y:i+o.y,data:o});case 6:case"end":return n.stop()}}),n)})))()}}};function ru(e){return"x"===e?"y":"x"}var iu=function(e){return void 0===e&&(e={}),{name:"shift",options:e,fn:function(t){return Ps(X().mark((function n(){var r,o,s,u,l,c,f,h,d,p,g,v,y,m,b,_,w,x,E,k,C;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.x,s=t.y,u=t.placement,c=(l=e).mainAxis,f=void 0===c||c,h=l.crossAxis,d=void 0!==h&&h,p=l.limiter,g=void 0===p?{fn:function(e){return{x:e.x,y:e.y}}}:p,v=Ms(l,As),y={x:o,y:s},n.next=14,Hs(t,v);case 14:return m=n.sent,b=zs(Rs(u)),_=ru(b),w=y[b],x=y[_],f&&(E="y"===b?"bottom":"right",w=Xs(w+m["y"===b?"top":"left"],w,w-m[E])),d&&(k="y"===_?"bottom":"right",x=Xs(x+m["y"===_?"top":"left"],x,x-m[k])),C=g.fn(a(a({},t),{},(i(r={},b,w),i(r,_,x),r))),n.abrupt("return",a(a({},C),{},{data:{x:C.x-o,y:C.y-s}}));case 22:case"end":return n.stop()}}),n)})))()}}};function ou(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function au(e){if(null==e)return window;if(!ou(e)){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function su(e){return au(e).getComputedStyle(e)}function uu(e){return ou(e)?"":e?(e.nodeName||"").toLowerCase():""}function lu(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function cu(e){return e instanceof au(e).HTMLElement}function fu(e){return e instanceof au(e).Element}function hu(e){return"undefined"!=typeof ShadowRoot&&(e instanceof au(e).ShadowRoot||e instanceof ShadowRoot)}function du(e){var t=su(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function pu(e){return["table","td","th"].includes(uu(e))}function gu(e){var t=/firefox/i.test(lu()),n=su(e);return"none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||["transform","perspective"].includes(n.willChange)||t&&"filter"===n.willChange||t&&!!n.filter&&"none"!==n.filter}function vu(){return!/^((?!chrome|android).)*safari/i.test(lu())}var yu=Math.min,mu=Math.max,bu=Math.round;function _u(e,t,n){var r,i,o,a;void 0===t&&(t=!1),void 0===n&&(n=!1);var s=e.getBoundingClientRect(),u=1,l=1;t&&cu(e)&&(u=e.offsetWidth>0&&bu(s.width)/e.offsetWidth||1,l=e.offsetHeight>0&&bu(s.height)/e.offsetHeight||1);var c=fu(e)?au(e):window,f=!vu()&&n,h=(s.left+(f&&null!=(r=null==(i=c.visualViewport)?void 0:i.offsetLeft)?r:0))/u,d=(s.top+(f&&null!=(o=null==(a=c.visualViewport)?void 0:a.offsetTop)?o:0))/l,p=s.width/u,g=s.height/l;return{width:p,height:g,top:d,right:h+p,bottom:d+g,left:h,x:h,y:d}}function wu(e){return(t=e,(t instanceof au(t).Node?e.ownerDocument:e.document)||window.document).documentElement;var t}function xu(e){return fu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Eu(e){return _u(wu(e)).left+xu(e).scrollLeft}function ku(e,t,n){var r=cu(t),i=wu(t),o=_u(e,r&&function(e){var t=_u(e);return bu(t.width)!==e.offsetWidth||bu(t.height)!==e.offsetHeight}(t),"fixed"===n),a={scrollLeft:0,scrollTop:0},s={x:0,y:0};if(r||!r&&"fixed"!==n)if(("body"!==uu(t)||du(i))&&(a=xu(t)),cu(t)){var u=_u(t,!0);s.x=u.x+t.clientLeft,s.y=u.y+t.clientTop}else i&&(s.x=Eu(i));return{x:o.left+a.scrollLeft-s.x,y:o.top+a.scrollTop-s.y,width:o.width,height:o.height}}function Cu(e){return"html"===uu(e)?e:e.assignedSlot||e.parentNode||(hu(e)?e.host:null)||wu(e)}function Su(e){return cu(e)&&"fixed"!==getComputedStyle(e).position?e.offsetParent:null}function Nu(e){for(var t=au(e),n=Su(e);n&&pu(n)&&"static"===getComputedStyle(n).position;)n=Su(n);return n&&("html"===uu(n)||"body"===uu(n)&&"static"===getComputedStyle(n).position&&!gu(n))?t:n||function(e){var t=Cu(e);for(hu(t)&&(t=t.host);cu(t)&&!["html","body"].includes(uu(t));){if(gu(t))return t;t=t.parentNode}return null}(e)||t}function Tu(e){if(cu(e))return{width:e.offsetWidth,height:e.offsetHeight};var t=_u(e);return{width:t.width,height:t.height}}function Iu(e){var t=Cu(e);return["html","body","#document"].includes(uu(t))?e.ownerDocument.body:cu(t)&&du(t)?t:Iu(t)}function Du(e,t){var n;void 0===t&&(t=[]);var r=Iu(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=au(r),a=i?[o].concat(o.visualViewport||[],du(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(Du(a))}function Mu(e,t,n){return"viewport"===t?Gs(function(e,t){var n=au(e),r=wu(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,u=0;if(i){o=i.width,a=i.height;var l=vu();(l||!l&&"fixed"===t)&&(s=i.offsetLeft,u=i.offsetTop)}return{width:o,height:a,x:s,y:u}}(e,n)):fu(t)?function(e,t){var n=_u(e,!1,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft;return{top:r,left:i,x:i,y:r,right:i+e.clientWidth,bottom:r+e.clientHeight,width:e.clientWidth,height:e.clientHeight}}(t,n):Gs(function(e){var t,n=wu(e),r=xu(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=mu(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=mu(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+Eu(e),u=-r.scrollTop;return"rtl"===su(i||n).direction&&(s+=mu(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:u}}(wu(e)))}var Ou={getClippingRect:function(e){var t=e.element,n=e.boundary,r=e.rootBoundary,i=e.strategy,o=[].concat(q("clippingAncestors"===n?function(e){var t=Du(e),n=["absolute","fixed"].includes(su(e).position)&&cu(e)?Nu(e):e;return fu(n)?t.filter((function(e){return fu(e)&&function(e,t){var n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&hu(n)){var r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}(e,n)&&"body"!==uu(e)})):[]}(t):[].concat(n)),[r]),a=o[0],s=o.reduce((function(e,n){var r=Mu(t,n,i);return e.top=mu(r.top,e.top),e.right=yu(r.right,e.right),e.bottom=yu(r.bottom,e.bottom),e.left=mu(r.left,e.left),e}),Mu(t,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){var t=e.rect,n=e.offsetParent,r=e.strategy,i=cu(n),o=wu(n);if(n===o)return t;var s={scrollLeft:0,scrollTop:0},u={x:0,y:0};if((i||!i&&"fixed"!==r)&&(("body"!==uu(n)||du(o))&&(s=xu(n)),cu(n))){var l=_u(n,!0);u.x=l.x+n.clientLeft,u.y=l.y+n.clientTop}return a(a({},t),{},{x:t.x-s.scrollLeft+u.x,y:t.y-s.scrollTop+u.y})},isElement:fu,getDimensions:Tu,getOffsetParent:Nu,getDocumentElement:wu,getElementRects:function(e){var t=e.reference,n=e.floating,r=e.strategy;return{reference:ku(t,Nu(n),r),floating:a(a({},Tu(n)),{},{x:0,y:0})}},getClientRects:function(e){return Array.from(e.getClientRects())},isRTL:function(e){return"rtl"===su(e).direction}};var Pu=n(9503),Lu="undefined"!==typeof document?e.useLayoutEffect:e.useEffect;function Au(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;var n,r,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(r=n;0!==r--;)if(!Au(e[r],t[r]))return!1;return!0}if((n=(i=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){var o=i[r];if(("_owner"!==o||!e.$$typeof)&&!Au(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Ru(t){var n=void 0===t?{}:t,r=n.middleware,i=n.placement,o=void 0===i?"bottom":i,s=n.strategy,u=void 0===s?"absolute":s,l=n.whileElementsMounted,f=e.useRef(null),h=e.useRef(null),d=function(t){var n=e.useRef(t);return Lu((function(){n.current=t})),n}(l),p=e.useRef(null),g=c(e.useState({x:null,y:null,strategy:u,placement:o,middlewareData:{}}),2),v=g[0],y=g[1],m=c(e.useState(r),2),b=m[0],_=m[1];Au(null==b?void 0:b.map((function(e){return e.options})),null==r?void 0:r.map((function(e){return e.options})))||_(r);var w=e.useCallback((function(){f.current&&h.current&&function(e,t,n){return Vs(e,t,a({platform:Ou},n))}(f.current,h.current,{middleware:b,placement:o,strategy:u}).then((function(e){x.current&&Pu.flushSync((function(){y(e)}))}))}),[b,o,u]);Lu((function(){x.current&&w()}),[w]);var x=e.useRef(!1);Lu((function(){return x.current=!0,function(){x.current=!1}}),[]);var E=e.useCallback((function(){if("function"===typeof p.current&&(p.current(),p.current=null),f.current&&h.current)if(d.current){var e=d.current(f.current,h.current,w);p.current=e}else w()}),[w,d]),k=e.useCallback((function(e){f.current=e,E()}),[E]),C=e.useCallback((function(e){h.current=e,E()}),[E]),S=e.useMemo((function(){return{reference:f,floating:h}}),[]);return e.useMemo((function(){return a(a({},v),{},{update:w,refs:S,reference:k,floating:C})}),[v,w,S,k,C])}var Fu=new WeakMap,zu=new WeakMap,ju={},Bu=0,Vu=function(e,t,n){void 0===t&&(t=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e)),void 0===n&&(n="data-aria-hidden");var r=Array.isArray(e)?e:[e];ju[n]||(ju[n]=new WeakMap);var i=ju[n],o=[],a=new Set;r.forEach((function e(t){t&&!a.has(t)&&(a.add(t),e(t.parentNode))}));return function e(t){!t||r.indexOf(t)>=0||Array.prototype.forEach.call(t.children,(function(t){if(a.has(t))e(t);else{var r=t.getAttribute("aria-hidden"),s=null!==r&&"false"!==r,u=(Fu.get(t)||0)+1,l=(i.get(t)||0)+1;Fu.set(t,u),i.set(t,l),o.push(t),1===u&&s&&zu.set(t,!0),1===l&&t.setAttribute(n,"true"),s||t.setAttribute("aria-hidden","true")}}))}(t),a.clear(),Bu++,function(){o.forEach((function(e){var t=Fu.get(e)-1,r=i.get(e)-1;Fu.set(e,t),i.set(e,r),t||(zu.has(e)||e.removeAttribute("aria-hidden"),zu.delete(e)),r||e.removeAttribute(n)})),--Bu||(Fu=new WeakMap,Fu=new WeakMap,zu=new WeakMap,ju={})}},Uu="undefined"!==typeof document?e.useLayoutEffect:e.useEffect;function Gu(){var e=new Map;return{emit:function(t,n){var r;null==(r=e.get(t))||r.forEach((function(e){return e(n)}))},on:function(t,n){e.set(t,[].concat(q(e.get(t)||[]),[n]))},off:function(t,n){e.set(t,(e.get(t)||[]).filter((function(e){return e!==n})))}}}var Hu=!1,qu=0,Yu=function(){return"floating-ui-"+qu++};var Wu=t["useId".toString()],Xu=null!=Wu?Wu:function(){var t=c(e.useState((function(){return Hu?Yu():void 0})),2),n=t[0],r=t[1];return Uu((function(){null==n&&r(Yu())}),[]),e.useEffect((function(){Hu||(Hu=!0)}),[]),n},Ku=e.createContext(null),$u=e.createContext(null),Qu=function(){var t,n;return null!=(t=null==(n=e.useContext(Ku))?void 0:n.id)?t:null},Zu=function(){return e.useContext($u)},Ju=function(t){var n=t.children,r=t.id,i=Qu();return e.createElement(Ku.Provider,{value:e.useMemo((function(){return{id:r,parentId:i}}),[r,i])},n)},el=function(t){var n=t.children,r=e.useRef([]),i=e.useCallback((function(e){r.current=[].concat(q(r.current),[e])}),[]),o=e.useCallback((function(e){r.current=r.current.filter((function(t){return t!==e}))}),[]),a=e.useState((function(){return Gu()}))[0];return e.createElement($u.Provider,{value:e.useMemo((function(){return{nodesRef:r,addNode:i,removeNode:o,events:a}}),[r,i,o,a])},n)};function tl(e){var t;return null!=(t=null==e?void 0:e.ownerDocument)?t:document}function nl(e){var t;return null!=(t=tl(e).defaultView)?t:window}function rl(e){return!!e&&e instanceof nl(e).Element}function il(e){return!!e&&e instanceof nl(e).HTMLElement}function ol(e,t,n){var r=new Map;return a(a(a({},"floating"===n&&{tabIndex:-1}),e),t.map((function(e){return e?e[n]:null})).concat(e).reduce((function(e,t){return t?(Object.entries(t).forEach((function(t){var n=c(t,2),i=n[0],o=n[1];if(0===i.indexOf("on")){var a;if(r.has(i)||r.set(i,[]),"function"===typeof o)null==(a=r.get(i))||a.push(o);e[i]=function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];null==(e=r.get(i))||e.forEach((function(e){return e.apply(void 0,n)}))}}else e[i]=o})),e):e}),{}))}function al(e,t){for(var n,r=null!=(n=e.filter((function(e){var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)})))?n:[],i=r;i.length;){var o;i=null!=(o=e.filter((function(e){var t;return null==(t=i)?void 0:t.some((function(t){var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))})))?o:[],r=r.concat(i)}return r}function sl(e){var t,n=void 0===e?{}:e,r=n.restMs,i=void 0===r?0:r,o=n.buffer,a=void 0===o?.5:o,s=(n.debug,!1);return function(e){var n=e.x,r=e.y,o=e.placement,u=e.refs,l=e.onClose,f=e.nodeId,h=e.tree,d=e.leave,p=void 0!==d&&d;return function(e){var d,g;function v(){clearTimeout(t),l()}if(clearTimeout(t),!e.pointerType||"mouse"===e.pointerType){var y=e.clientX,m=e.clientY,b="composedPath"in e?e.composedPath()[0]:e.target;if(("pointermove"!==e.type||null==(d=u.domReference.current)||!d.contains(b))&&(!h||!al(h.nodesRef.current,f).some((function(e){var t=e.context;return null==t?void 0:t.open}))))if(null==(g=u.floating.current)||!g.contains(b)||p){if(u.domReference.current&&u.floating.current&&null!=o&&null!=n&&null!=r){var _=u.domReference.current.getBoundingClientRect(),w=u.floating.current.getBoundingClientRect(),x=o.split("-")[0],E=n>w.right-w.width/2,k=r>w.bottom-w.height/2;if("top"===x&&r>=_.bottom-1||"bottom"===x&&r<=_.top+1||"left"===x&&n>=_.right-1||"right"===x&&n<=_.left+1)return v();switch(x){case"top":if(y>=w.left&&y<=w.right&&m>=w.top&&m<=_.top+1)return;break;case"bottom":if(y>=w.left&&y<=w.right&&m>=_.bottom-1&&m<=w.bottom)return;break;case"left":if(y>=w.left&&y<=_.left+1&&m>=w.top&&m<=w.bottom)return;break;case"right":if(y>=_.right-1&&y<=w.right&&m>=w.top&&m<=w.bottom)return}if(s)return v();var C=function(e){var t=c(e,2),n=t[0],r=t[1],i=w.width>_.width,o=w.height>_.height;switch(x){case"top":var s=[i?n+a/2:E?n+4*a:n-4*a,r+a+1],u=[i?n-a/2:E?n+4*a:n-4*a,r+a+1],l=[[w.left,E||i?w.bottom-a:w.top],[w.right,E?i?w.bottom-a:w.top:w.bottom-a]];return[s,u].concat(l);case"bottom":var f=[i?n+a/2:E?n+4*a:n-4*a,r-a],h=[i?n-a/2:E?n+4*a:n-4*a,r-a],d=[[w.left,E||i?w.top+a:w.bottom],[w.right,E?i?w.top+a:w.bottom:w.top+a]];return[f,h].concat(d);case"left":var p=[n+a+1,o?r+a/2:k?r+4*a:r-4*a],g=[n+a+1,o?r-a/2:k?r+4*a:r-4*a],v=[[k||o?w.right-a:w.left,w.top],[k?o?w.right-a:w.left:w.right-a,w.bottom]];return[].concat(v,[p,g]);case"right":var y=[n-a,o?r+a/2:k?r+4*a:r-4*a],m=[n-a,o?r-a/2:k?r+4*a:r-4*a],b=[[k||o?w.left+a:w.right,w.top],[k?o?w.left+a:w.right:w.left+a,w.bottom]];return[y,m].concat(b)}}([n,r]);0,!function(e,t){for(var n=c(e,2),r=n[0],i=n[1],o=!1,a=t.length,s=0,u=a-1;s<a;u=s++){var l=c(t[s]||[0,0],2),f=l[0],h=l[1],d=c(t[u]||[0,0],2),p=d[0],g=d[1];h>=i!==g>=i&&r<=(p-f)*(i-h)/(g-h)+f&&(o=!o)}return o}([y,m],C)?v():i&&(t=setTimeout(l,i))}}else s=!0}}}}var ul="floating-ui-root",ll=function(t){var n=t.children,r=t.id,i=void 0===r?ul:r,o=t.root,a=void 0===o?null:o,s=function(t){var n=void 0===t?{}:t,r=n.id,i=void 0===r?ul:r,o=n.enabled,a=void 0===o||o,s=c(e.useState(null),2),u=s[0],l=s[1];return Uu((function(){if(a){var e=document.getElementById(i);if(e)l(e);else{var t=document.createElement("div");t.id=i,l(t),document.body.contains(t)||document.body.appendChild(t)}}}),[i,a]),u}({id:i,enabled:!a});return a?(0,Pu.createPortal)(n,a):s?(0,Pu.createPortal)(n,s):null};function cl(){return cl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cl.apply(this,arguments)}function fl(e){for(var t=e.activeElement;null!=(null==(n=t)||null==(r=n.shadowRoot)?void 0:r.activeElement);){var n,r;t=t.shadowRoot.activeElement}return t}var hl="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function dl(e){return il(e)&&e.matches(hl)}function pl(e){e.preventDefault(),e.stopPropagation()}function gl(t){var n=(0,e.useRef)(t);return Uu((function(){n.current=t})),n}function vl(e){requestAnimationFrame((function(){null==e||e.focus()}))}var yl=e.forwardRef((function(t,n){return e.createElement("span",cl({},t,{ref:n,tabIndex:0,style:{position:"fixed",opacity:"0",pointerEvents:"none",outline:"0"}}))}));function ml(t){var n,r=t.context,i=r.refs,o=r.nodeId,a=r.onOpenChange,s=r.dataRef,u=r.events,l=t.children,c=t.order,f=void 0===c?["content"]:c,h=t.endGuard,d=void 0===h||h,p=t.preventTabbing,g=void 0!==p&&p,v=t.initialFocus,y=void 0===v?0:v,m=t.returnFocus,b=void 0===m||m,_=t.modal,w=void 0===_||_,x=gl(f),E=gl(a),k=Zu(),C=null==(null==k||null==(n=k.nodesRef.current.find((function(e){return e.id===o})))?void 0:n.parentId),S=e.useCallback((function(){return x.current.map((function(e){return"reference"===e?i.domReference.current:i.floating.current&&"floating"===e?i.floating.current:"content"===e?Array.from(null!=(t=null==(n=i.floating.current)?void 0:n.querySelectorAll("select:not([disabled]),a[href],button:not([disabled]),[tabindex],iframe,object,embed,area[href],audio[controls],video[controls],input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])"))?t:[]):null;var t,n})).flat().filter((function(e){return e===i.floating.current||e===i.domReference.current||(il(e)?"-"!==(null!=(t=e.getAttribute("tabindex"))?t:"0")[0].trim():void 0);var t}))}),[x,i]);e.useEffect((function(){if(w){var e=0===S().filter((function(e){return e!==i.floating.current&&e!==i.domReference.current})).length,t=tl(i.floating.current);return t.addEventListener("keydown",n),function(){t.removeEventListener("keydown",n)}}function n(t){if("Tab"===t.key){(g||e)&&pl(t);var n=S(),r="composedPath"in t?t.composedPath()[0]:t.target;"reference"===x.current[0]&&r===i.domReference.current&&(pl(t),t.shiftKey?vl(n[n.length-1]):vl(n[1])),"floating"===x.current[1]&&r===i.floating.current&&t.shiftKey&&(pl(t),vl(n[0]))}}}),[g,w,S,x,i]),e.useEffect((function(){function e(e){var t,n,r=e.relatedTarget,a=!(null!=(t=i.floating.current)&&t.contains(r)),s=rl(i.domReference.current)&&!i.domReference.current.contains(r),u=k&&al(k.nodesRef.current,o).length>0,l=k&&e.currentTarget===i.domReference.current&&(null==(n=function(e,t){for(var n,r=[],i=null==(n=e.find((function(e){return e.id===t})))?void 0:n.parentId;i;){var o=e.find((function(e){return e.id===i}));i=null==o?void 0:o.parentId,o&&(r=r.concat(o))}return r}(k.nodesRef.current,o))?void 0:n.some((function(e){var t,n;return null==(t=e.context)||null==(n=t.refs.floating.current)?void 0:n.contains(r)})));a&&s&&!u&&!l&&E.current(!1)}var t,n=i.floating.current,r=i.domReference.current;if(n&&il(r))return!w&&n.addEventListener("focusout",e),!w&&r.addEventListener("focusout",e),w&&(t=x.current.includes("reference")?Vu([r,n]):Vu(n)),function(){!w&&n.removeEventListener("focusout",e),!w&&r.removeEventListener("focusout",e),null==t||t()}}),[o,k,w,E,x,s,S,i]),e.useEffect((function(){if(!g||C){var e,t=i.floating.current,n=tl(t),r=b,o=fl(n);if(o===n.body&&i.domReference.current&&(o=i.domReference.current),!g)if("number"===typeof y)vl(null!=(e=S()[y])?e:t);else if(il(null==y?void 0:y.current)){var a;vl(null!=(a=y.current)?a:t)}return u.on("dismiss",s),function(){u.off("dismiss",s),r&&il(o)&&vl(o)}}function s(e){void 0===e&&(e=!1),r=e}}),[g,S,y,b,i,u,C]);var N=function(){var e;return"combobox"===(null==(e=i.domReference.current)?void 0:e.getAttribute("role"))&&dl(i.domReference.current)};return e.createElement(e.Fragment,null,w&&e.createElement(yl,{onFocus:function(e){if(!N()){pl(e);var t=S();"reference"===f[0]?vl(t[0]):vl(t[t.length-1])}}}),e.cloneElement(l,f.includes("floating")?{tabIndex:0}:{}),w&&d&&e.createElement(yl,{onFocus:function(e){N()||(pl(e),vl(S()[0]))}}))}function bl(t){var n=(0,e.useRef)();return Uu((function(){n.current=t}),[t]),n.current}function _l(e,t,n){return n&&"mouse"!==n?0:"number"===typeof e?e:null==e?void 0:e[t]}var wl=function(t,n){var r=void 0===n?{}:n,i=r.enabled,o=void 0===i||i,s=r.delay,u=void 0===s?0:s,l=r.handleClose,c=void 0===l?null:l,f=r.mouseOnly,h=void 0!==f&&f,d=r.restMs,p=void 0===d?0:d,g=t.open,v=t.onOpenChange,y=t.dataRef,m=t.events,b=t.refs,_=Zu(),w=Qu(),x=gl(v),E=gl(c),k=bl(g),C=e.useRef(),S=e.useRef(),N=e.useRef(),T=e.useRef(),I=e.useRef(!0),D=e.useRef(!1);e.useEffect((function(){if(o)return m.on("dismiss",e),function(){m.off("dismiss",e)};function e(){clearTimeout(S.current),clearTimeout(T.current),I.current=!0}}),[o,m,b]),e.useEffect((function(){if(o&&E.current){var e=tl(b.floating.current).documentElement;return e.addEventListener("mouseleave",t),function(){e.removeEventListener("mouseleave",t)}}function t(){var e;null!=(e=y.current.openEvent)&&e.type.includes("mouse")&&x.current(!1)}}),[b,x,o,E,y]);var M=e.useCallback((function(e){void 0===e&&(e=!0);var t=_l(u,"close",C.current);t&&!N.current?(clearTimeout(S.current),S.current=setTimeout((function(){return x.current(!1)}),t)):e&&(clearTimeout(S.current),x.current(!1))}),[u,x]),O=e.useCallback((function(){N.current&&(tl(b.floating.current).removeEventListener("pointermove",N.current),N.current=void 0)}),[b]),P=e.useCallback((function(){tl(b.floating.current).body.style.pointerEvents="",D.current=!1}),[b]);if(e.useEffect((function(){if(o){var e=b.floating.current,n=b.domReference.current;return rl(n)?(g&&n.addEventListener("mouseleave",s),null==e||e.addEventListener("mouseleave",s),n.addEventListener("mousemove",r,{once:!0}),n.addEventListener("mouseenter",r),n.addEventListener("mouseleave",i),function(){g&&n.removeEventListener("mouseleave",s),null==e||e.removeEventListener("mouseleave",s),n.removeEventListener("mousemove",r),n.removeEventListener("mouseenter",r),n.removeEventListener("mouseleave",i)}):void 0}function r(e){if(clearTimeout(S.current),I.current=!1,!(g||h&&"mouse"!==C.current||p>0&&0===_l(u,"open"))){y.current.openEvent=e;var t=_l(u,"open",C.current);t?S.current=setTimeout((function(){x.current(!0)}),t):x.current(!0)}}function i(e){var n,r;if("click"!==(null==(n=y.current.openEvent)?void 0:n.type)&&"pointerdown"!==(null==(r=y.current.openEvent)?void 0:r.type)){var i=tl(b.floating.current);if(clearTimeout(T.current),E.current)return clearTimeout(S.current),N.current&&i.removeEventListener("pointermove",N.current),N.current=E.current(a(a({},t),{},{tree:_,x:e.clientX,y:e.clientY,onClose:function(){O(),M()}})),void i.addEventListener("pointermove",N.current);M()}}function s(e){null==E.current||E.current(a(a({},t),{},{tree:_,x:e.clientX,y:e.clientY,leave:!0,onClose:function(){O(),M()}}))(e)}}),[o,M,t,u,E,y,h,x,g,_,p,O,b]),Uu((function(){if(o&&g&&E.current){tl(b.floating.current).body.style.pointerEvents="none",D.current=!0;var e=b.domReference.current,t=b.floating.current;if(rl(e)&&t){var n,r,i=null==_||null==(n=_.nodesRef.current.find((function(e){return e.id===w})))||null==(r=n.context)?void 0:r.refs.floating.current;return i&&(i.style.pointerEvents=""),e.style.pointerEvents="auto",t.style.pointerEvents="auto",function(){e.style.pointerEvents="",t.style.pointerEvents=""}}}}),[o,g,w,b,_,E,y]),Uu((function(){k&&!g&&(C.current=void 0,O(),P())})),e.useEffect((function(){return function(){O(),clearTimeout(S.current),clearTimeout(T.current),D.current&&P()}}),[O,P]),!o)return{};function L(e){C.current=e.pointerType}return{reference:{onPointerDown:L,onPointerEnter:L,onMouseMove:function(){g||0===p||(clearTimeout(T.current),T.current=setTimeout((function(){I.current||v(!0)}),p))}},floating:{onMouseEnter:function(){clearTimeout(S.current)},onMouseLeave:function(){M(!1)}}}};var xl=function(e,t){var n=e.open,r=void 0===t?{}:t,i=r.enabled,o=void 0===i||i,s=r.role,u=void 0===s?"dialog":s,l=Xu(),c=Xu(),f={id:l,role:u};return o?"tooltip"===u?{reference:{"aria-describedby":n?l:void 0},floating:f}:{reference:a(a({"aria-expanded":n?"true":"false","aria-haspopup":u,"aria-controls":n?l:void 0},"listbox"===u&&{role:"combobox"}),"menu"===u&&{id:c}),floating:a(a({},f),"menu"===u&&{"aria-labelledby":c})}:{}};function El(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);var n=e;return null!=n.target&&t.contains(n.target)}var kl=function(t,n){var r=t.open,i=t.onOpenChange,o=t.refs,a=t.events,s=t.nodeId,u=void 0===n?{}:n,l=u.enabled,c=void 0===l||l,f=u.escapeKey,h=void 0===f||f,d=u.outsidePointerDown,p=void 0===d||d,g=u.referencePointerDown,v=void 0!==g&&g,y=u.ancestorScroll,m=void 0!==y&&y,b=u.bubbles,_=void 0===b||b,w=Zu(),x=gl(i),E=e.useCallback((function(){var e;return null==(e=o.floating.current)?void 0:e.contains(fl(tl(o.floating.current)))}),[o]);return e.useEffect((function(){if(r&&c){var e=tl(o.floating.current);h&&e.addEventListener("keydown",n),p&&e.addEventListener("pointerdown",i);var t=(m?[].concat(q(rl(o.reference.current)?Du(o.reference.current):[]),q(rl(o.floating.current)?Du(o.floating.current):[])):[]).filter((function(t){var n;return t!==(null==(n=e.defaultView)?void 0:n.visualViewport)}));return t.forEach((function(e){return e.addEventListener("scroll",u,{passive:!0})})),function(){h&&e.removeEventListener("keydown",n),p&&e.removeEventListener("pointerdown",i),t.forEach((function(e){return e.removeEventListener("scroll",u)}))}}function n(e){if("Escape"===e.key){if(!_&&!E())return;a.emit("dismiss",!0),x.current(!1)}}function i(e){var t=w&&al(w.nodesRef.current,s).some((function(t){var n;return El(e,null==(n=t.context)?void 0:n.refs.floating.current)}));El(e,o.floating.current)||El(e,o.domReference.current)||t||(_||E())&&(a.emit("dismiss"),x.current(!1))}function u(){x.current(!1)}}),[h,p,a,w,s,r,x,m,c,_,E,o]),c?{reference:{onPointerDown:function(){v&&(a.emit("dismiss"),i(!1))}}}:{}},Cl=function(t,n){var r=t.open,i=t.onOpenChange,o=t.dataRef,a=t.refs,s=t.events,u=void 0===n?{}:n,l=u.enabled,c=void 0===l||l,f=u.keyboardOnly,h=void 0===f||f,d=e.useRef(""),p=e.useRef(!1);return e.useEffect((function(){var e;if(c){var t=tl(a.floating.current),n=null!=(e=t.defaultView)?e:window;return n.addEventListener("focus",o),n.addEventListener("blur",i),function(){n.removeEventListener("focus",o),n.removeEventListener("blur",i)}}function i(){d.current&&a.domReference.current===fl(t)&&(p.current=!r)}function o(){setTimeout((function(){p.current=!1,d.current=""}))}}),[a,r,c]),e.useEffect((function(){if(c)return s.on("dismiss",e),function(){s.off("dismiss",e)};function e(){p.current=!0}}),[s,c]),c?{reference:{onPointerDown:function(e){var t=e.pointerType;d.current=t,p.current=!(!t||!h)},onFocus:function(e){var t,n,r;p.current||"focus"===e.type&&"mousedown"===(null==(t=o.current.openEvent)?void 0:t.type)&&null!=(n=a.domReference.current)&&n.contains(null==(r=o.current.openEvent)?void 0:r.target)||(o.current.openEvent=e.nativeEvent,i(!0))},onBlur:function(e){var t,n,r=e.relatedTarget;null!=(t=a.floating.current)&&t.contains(r)||null!=(n=a.domReference.current)&&n.contains(r)||(p.current=!1,i(!1))}}}:{}},Sl="ArrowUp",Nl="ArrowDown",Tl="ArrowLeft",Il="ArrowRight";function Dl(e,t){return t<0||t>=e.current.length}function Ml(e,t){var n=void 0===t?{}:t,r=n.startingIndex,i=void 0===r?-1:r,o=n.decrement,a=void 0!==o&&o,s=n.disabledIndices,u=e.current,l=i;do{var c,f;l+=a?-1:1}while(l>=0&&l<=u.length-1&&(s?s.includes(l):null==u[l]||(null==(c=u[l])?void 0:c.hasAttribute("disabled"))||"true"===(null==(f=u[l])?void 0:f.getAttribute("aria-disabled"))));return l}function Ol(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function Pl(e,t){return Ol(t,e===Sl||e===Nl,e===Tl||e===Il)}function Ll(e,t,n){return Ol(t,e===Nl,n?e===Tl:e===Il)||"Enter"===e||" "==e||""===e}function Al(e,t){return Ml(e,{disabledIndices:t})}function Rl(e,t){return Ml(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}var Fl=function(t,n){var r=t.open,i=t.onOpenChange,o=t.refs,s=void 0===n?{listRef:{current:[]},activeIndex:null,onNavigate:function(){}}:n,u=s.listRef,l=s.activeIndex,f=s.onNavigate,h=s.enabled,d=void 0===h||h,p=s.selectedIndex,g=void 0===p?null:p,v=s.allowEscape,y=void 0!==v&&v,m=s.loop,b=void 0!==m&&m,_=s.nested,w=void 0!==_&&_,x=s.rtl,E=void 0!==x&&x,k=s.virtual,C=void 0!==k&&k,S=s.focusItemOnOpen,N=void 0===S?"auto":S,T=s.focusItemOnHover,I=void 0===T||T,D=s.openOnArrowKeyDown,M=void 0===D||D,O=s.disabledIndices,P=void 0===O?M?void 0:[]:O,L=s.orientation,A=void 0===L?"vertical":L;var R=Qu(),F=Zu(),z=bl(r),j=e.useRef(N),B=e.useRef(null!=g?g:-1),V=e.useRef(null),U=gl(bl(f)),G=gl(f),H=gl(P),q=e.useRef(!1),Y=e.useRef(-1),W=c(e.useState(),2),X=W[0],K=W[1],$=e.useCallback((function(e,t){Y.current=requestAnimationFrame((function(){var n,r;C?K(null==(n=e.current[t.current])?void 0:n.id):null==(r=e.current[t.current])||r.focus({preventScroll:!0})}))}),[C]);function Q(e){if(q.current=!0,w&&function(e,t,n){return Ol(t,n?e===Il:e===Tl,e===Sl)}(e.key,A,E))return pl(e),i(!1),void(il(o.domReference.current)&&o.domReference.current.focus());var t=B.current,n=Al(u,P),a=Rl(u,P);if("Home"===e.key&&(B.current=n,f(B.current)),"End"===e.key&&(B.current=a,f(B.current)),Pl(e.key,A)){if(pl(e),r&&!C&&fl(e.currentTarget.ownerDocument)===e.currentTarget)return B.current=Ll(e.key,A,E)?n:a,void f(B.current);Ll(e.key,A,E)?B.current=b?t>=a?y&&t!==u.current.length?-1:n:Ml(u,{startingIndex:t,disabledIndices:P}):Math.min(a,Ml(u,{startingIndex:t,disabledIndices:P})):B.current=b?t<=n?y&&-1!==t?u.current.length:a:Ml(u,{startingIndex:t,decrement:!0,disabledIndices:P}):Math.max(n,Ml(u,{startingIndex:t,decrement:!0,disabledIndices:P})),Dl(u,B.current)?f(null):f(B.current)}}return Uu((function(){d&&(!z&&r&&j.current&&null!=g&&G.current(g),z&&!r&&(cancelAnimationFrame(Y.current),B.current=-1,null==U.current||U.current(null)))}),[r,z,g,u,G,U,$,d]),Uu((function(){if(d&&r)if(null==l){if(null!=g)return;z&&(B.current=-1,$(u,B)),!z&&j.current&&(null!=V.current||!0===j.current&&null==V.current)&&(B.current=null==V.current||Ll(V.current,A,E)||w?Al(u,H.current):Rl(u,H.current),G.current(B.current),$(u,B))}else Dl(u,l)||(B.current=l,$(u,B))}),[r,z,l,g,w,u,G,$,d,y,A,E,C,H]),Uu((function(){if(d&&!r&&z){var e,t,n=null==F||null==(e=F.nodesRef.current.find((function(e){return e.id===R})))||null==(t=e.context)?void 0:t.refs.floating.current;n&&!n.contains(fl(tl(n)))&&n.focus({preventScroll:!0})}}),[d,r,z,F,R]),Uu((function(){V.current=null})),d?{reference:a(a({},C&&r&&null!=l&&{"aria-activedescendant":X}),{},{onKeyDown:function(e){if(q.current=!0,C&&r)return Q(e);(0===e.key.indexOf("Arrow")||"Enter"===e.key||" "===e.key||""===e.key)&&(V.current=e.key),w?function(e,t,n){return Ol(t,n?e===Tl:e===Il,e===Nl)}(e.key,A,E)&&(pl(e),r?(B.current=Al(u,P),f(B.current)):i(!0)):Pl(e.key,A)&&(null!=g&&(B.current=g),pl(e),!r&&M?i(!0):Q(e),r&&f(B.current))}}),floating:a(a({"aria-orientation":"both"===A?void 0:A},C&&null!=l&&{"aria-activedescendant":X}),{},{onKeyDown:Q,onPointerMove:function(){q.current=!1}}),item:a({onFocus:function(e){var t=e.currentTarget,n=u.current.indexOf(t);-1!==n&&f(n)},onClick:function(e){return e.currentTarget.focus({preventScroll:!0})}},I&&{onMouseMove:function(e){var t=e.currentTarget;if(t){var n=u.current.indexOf(t);-1!==n&&f(n)}},onPointerLeave:function(){var e;q.current||(B.current=-1,$(u,B),G.current(null),C||null==(e=o.floating.current)||e.focus({preventScroll:!0}))}})}:{}},zl=function(t,n){var r,i=t.open,o=t.dataRef,a=void 0===n?{listRef:{current:[]},activeIndex:null}:n,s=a.listRef,u=a.activeIndex,l=a.onMatch,c=void 0===l?function(){}:l,f=a.enabled,h=void 0===f||f,d=a.findMatch,p=void 0===d?null:d,g=a.resetMs,v=void 0===g?1e3:g,y=a.ignoreKeys,m=void 0===y?[]:y,b=a.selectedIndex,_=void 0===b?null:b,w=e.useRef(),x=e.useRef(""),E=e.useRef(null!=(r=null!=_?_:u)?r:-1),k=e.useRef(null);function C(e){if(e.currentTarget.contains(fl(tl(e.currentTarget)))){x.current.length>0&&" "!==x.current[0]&&(o.current.typing=!0," "===e.key&&pl(e));var t=s.current;if(null!=t&&!["Home","End","Escape","Enter","Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].concat(q(m)).includes(e.key)){t.every((function(e){var t,n;return!e||(null==(t=e[0])?void 0:t.toLocaleLowerCase())!==(null==(n=e[1])?void 0:n.toLocaleLowerCase())}))&&x.current===e.key&&(x.current="",E.current=k.current),x.current+=e.key,clearTimeout(w.current),w.current=setTimeout((function(){x.current="",E.current=k.current,o.current.typing=!1}),v);var n=E.current,r=[].concat(q(t.slice((null!=n?n:0)+1)),q(t.slice(0,(null!=n?n:0)+1))),i=p?p(r,x.current):r.find((function(e){return 0===(null==e?void 0:e.toLocaleLowerCase().indexOf(x.current))})),a=i?t.indexOf(i):-1;-1!==a&&(c(a),k.current=a)}}}return Uu((function(){i&&(clearTimeout(w.current),k.current=null,x.current="")}),[i]),Uu((function(){var e;i&&""===x.current&&(E.current=null!=(e=null!=_?_:u)?e:-1)}),[i,_,u]),h?{reference:{onKeyDown:C},floating:{onKeyDown:C}}:{}};var jl=function(e){return function(t){e.forEach((function(e){"function"===typeof e?e(t):null!=e&&(e.current=t)}))}},Bl=["label","icon"],Vl=(0,e.forwardRef)((function(e,t){var n=e.label,r=e.icon,i=Ms(e,Bl);return(0,ds.jsxs)("button",a(a({},i),{},{ref:t,role:"menuitem",children:[r,(0,ds.jsx)("p",{className:"truncate",children:n})]}))})),Ul=(0,e.forwardRef)((function(t,n){var r=t.children,i=t.label,o=t.className,s=t.buttonClassName,u=t.onEventListener,l=hs((function(e){return e.cytoscape})),f=c((0,e.useState)(null),2),h=f[0],d=f[1],p=c((0,e.useState)(!1),2),g=p[0],v=p[1],y=(0,e.useRef)([]),m=(0,e.useRef)([]);(0,e.useEffect)((function(){m.current=e.Children.toArray(r).map((function(t){return(0,e.isValidElement)(t)&&t.type===Vl?t.props.label:null})).filter((function(e){return e}))}),[r]);var b,_=(0,e.useRef)(!1),w=function(){var e=Xu(),t=Zu(),n=Qu();return Uu((function(){var r={id:e,parentId:n};return null==t||t.addNode(r),function(){null==t||t.removeNode(r)}}),[t,e,n]),e}(),x=Qu(),E=Zu(),k=null!=x,C=function(t){var n=void 0===t?{}:t,r=n.open,i=void 0!==r&&r,o=n.onOpenChange,s=void 0===o?function(){}:o,u=n.whileElementsMounted,l=n.placement,c=n.middleware,f=n.strategy,h=n.nodeId,d=Zu(),p=e.useRef(null),g=e.useRef({}),v=e.useState((function(){return Gu()}))[0],y=Ru({placement:l,middleware:c,strategy:f,whileElementsMounted:u}),m=e.useMemo((function(){return a(a({},y.refs),{},{domReference:p})}),[y.refs]),b=e.useMemo((function(){return a(a({},y),{},{refs:m,dataRef:g,nodeId:h,events:v,open:i,onOpenChange:s})}),[y,h,v,i,s,m]);Uu((function(){var e=null==d?void 0:d.nodesRef.current.find((function(e){return e.id===h}));e&&(e.context=b)}));var _=y.reference,w=e.useCallback((function(e){(rl(e)||null===e)&&(b.refs.domReference.current=e),_(e)}),[_,b.refs]);return e.useMemo((function(){return a(a({},y),{},{context:b,refs:m,reference:w})}),[y,m,b,w])}({open:g,onOpenChange:v,middleware:[nu({mainAxis:1,alignmentAxis:0}),tu(),iu()],placement:k?"right-start":"bottom-start"}),S=C.x,N=C.y,T=C.reference,I=C.floating,D=C.strategy,M=C.refs,O=C.update,P=C.context,L=(void 0===(b=[wl(P,{handleClose:sl(),enabled:k}),xl(P,{role:"menu"}),kl(P),Cl(P),Fl(P,{listRef:y,activeIndex:h,onNavigate:d,nested:k,focusItemOnOpen:!1,loop:!0}),zl(P,{listRef:m,onMatch:g?d:void 0,activeIndex:h})])&&(b=[]),{getReferenceProps:function(e){return ol(e,b,"reference")},getFloatingProps:function(e){return ol(e,b,"floating")},getItemProps:function(e){return ol(e,b,"item")}}),A=L.getReferenceProps,R=L.getFloatingProps;function F(e){var t=e.currentTarget;if(!_.current){var n=t;if(n){n.focus({preventScroll:!0});var r=y.current.indexOf(n);-1!==r?d(r):null===E||void 0===E||E.events.emit("focusOnHover",{parentId:x,target:t})}}}(0,e.useEffect)((function(){function e(e){var t=e.open,n=e.reference;e.parentId===w&&y.current.forEach((function(e){e&&e!==n&&(e.style.pointerEvents=t?"none":"")}))}function t(e){var t=e.parentId,n=e.target;w===t&&d(y.current.indexOf(n))}return null===E||void 0===E||E.events.on("openChange",e),null===E||void 0===E||E.events.on("focusOnHover",t),function(){null===E||void 0===E||E.events.off("openChange",e),null===E||void 0===E||E.events.off("focusOnHover",t)}}),[E,w,M.reference,M.floating]),(0,e.useLayoutEffect)((function(){null===E||void 0===E||E.events.emit("openChange",{open:g,parentId:x,reference:M.reference.current})}),[E,g,x,M.reference]),(0,e.useEffect)((function(){if(g&&M.reference.current&&M.floating.current)return k||M.floating.current.contains(document.activeElement)||M.floating.current.focus({preventScroll:!0}),function(e,t,n,r){void 0===r&&(r={});var i=r,o=i.ancestorScroll,a=void 0===o||o,s=i.ancestorResize,u=void 0===s||s,l=i.elementResize,c=void 0===l||l,f=i.animationFrame,h=void 0!==f&&f,d=a&&!h,p=u&&!h,g=d||p?[].concat(q(fu(e)?Du(e):[]),q(Du(t))):[];g.forEach((function(e){d&&e.addEventListener("scroll",n,{passive:!0}),p&&e.addEventListener("resize",n)}));var v,y=null;if(c){var m=!0;y=new ResizeObserver((function(){m||n(),m=!1})),fu(e)&&!h&&y.observe(e),y.observe(t)}var b=h?_u(e):null;return h&&function t(){var r=_u(e);!b||r.x===b.x&&r.y===b.y&&r.width===b.width&&r.height===b.height||n(),b=r,v=requestAnimationFrame(t)}(),n(),function(){var e;g.forEach((function(e){d&&e.removeEventListener("scroll",n),p&&e.removeEventListener("resize",n)})),null==(e=y)||e.disconnect(),y=null,h&&cancelAnimationFrame(v)}}(M.reference.current,M.floating.current,O)}),[g,k,O,M.reference,M.floating]);var z={onPointerMove:F,onPointerEnter:F,onPointerLeave:function(){var e,t,n;_.current||(k?null===(e=function(){var e;return null===E||void 0===E||null===(e=E.nodesRef.current.find((function(e){return e.id===x})))||void 0===e?void 0:e.context}())||void 0===e||null===(t=e.refs.floating.current)||void 0===t||t.focus({preventScroll:!0}):null===(n=M.floating.current)||void 0===n||n.focus({preventScroll:!0}))}},j=(0,e.useMemo)((function(){return jl([n,T])}),[T,n]);return(0,e.useEffect)((function(){var e=void 0;return k||(e=u((function(e){e.preventDefault(),j({getBoundingClientRect:function(){return{x:e.clientX,y:e.clientY,width:0,height:0,top:e.clientY,right:e.clientX,bottom:e.clientY,left:e.clientX}}}),v(!0)}))),function(){!k&&e&&e()}}),[j,l]),(0,ds.jsxs)(Ju,{id:w,children:[k&&(0,ds.jsxs)("button",a(a({},A(a(a({ref:j,onKeyDown:function(){_.current=!0}},z),{},{role:"menuitem",className:s}))),{},{children:[i," ",k&&(0,ds.jsx)("span",{className:"mr-1",children:"\u2794"})]})),(0,ds.jsx)(ll,{children:g&&(0,ds.jsx)(ml,{context:P,children:(0,ds.jsx)("div",a(a({},R({className:o,ref:I,style:{position:D,top:null!==N&&void 0!==N?N:"",left:null!==S&&void 0!==S?S:""},onPointerMove:function(){_.current=!1},onKeyDown:function(){_.current=!0}})),{},{children:e.Children.map(r,(function(t,n){return(0,e.isValidElement)(t)&&(0,e.cloneElement)(t,a({ref:function(e){"BUTTON"===(null===e||void 0===e?void 0:e.tagName)&&(y.current[n]=e)},onClick:function(e){t.props.onClick&&t.props.onClick(e),v(!1),e.currentTarget.focus()}},z))}))}))})})]})})),Gl=(0,e.forwardRef)((function(e,t){return null==Qu()?(0,ds.jsx)(el,{children:(0,ds.jsx)(Ul,a(a({},e),{},{ref:t}))}):(0,ds.jsx)(Ul,a(a({},e),{},{ref:t}))}));function Hl(e){return null!=e&&"object"===typeof e&&"transformId"in e&&"clientId"in e&&"name"in e&&"description"in e&&"elementType"in e&&"parameter"in e}var ql=["id"],Yl=function(e,t,n,r){var i=null!==e&&void 0!==e?e:{},o=i.id,a=Ms(i,ql),u=null!==o&&void 0!==o?o:s(),l=new mi;l.set("id",u),l.set("name","New Node"),l.set("type","*"),a&&Object.entries(a).forEach((function(e){var t=c(e,2),n=t[0],r=t[1];r&&l.set(n,r)}));var f,h,d,p=new mi;if(null!==r&&void 0!==r&&r.zoom&&null!==r&&void 0!==r&&r.pan){var g=(f={x:t,y:n},h=r.zoom,d=r.pan,{x:(f.x-d.x)/h,y:(f.y-d.y)/h});t=g.x,n=g.y}p.set("x",t),p.set("y",n);var v=new mi;v.set("x",t),v.set("y",n);var y=new mi;return y.set("group","nodes"),y.set("data",l),y.set("position",p),{nodeId:u,node:y}},Wl=function(e){e.layout({name:"fcose",quality:"proof",randomize:!0,animate:!1,animationDuration:1e3,animationEasing:void 0,fit:!1,padding:30,nodeDimensionsIncludeLabels:!0,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:150,piTol:1e-7,nodeRepulsion:function(e){return 1e3},idealEdgeLength:function(e){return 180},edgeElasticity:function(e){return.5},nestingFactor:.1,numIter:1e4,tile:!0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravity:.25,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3}).run()},Xl=(0,e.forwardRef)((function(){return(0,ds.jsx)("p",{className:"flex-1 font-mono leading-5 text-base border-b dark:border-neutral-700 z-50"})})),Kl=(0,e.forwardRef)((function(e,t){var n=e.children;return(0,ds.jsx)("p",{className:"flex-1 font-mono pl-1 pt-1 leading-5 text-sm bg-white dark:bg-neutral-900 dark:text-white",children:n})})),$l=function(t){var n=t.cytoscape,r=hs((function(e){return e.ynodes()})),i=hs((function(e){return e.yedges()})),o=hs((function(e){return{selectedElements:e.selectedElements,selectedNodes:e.selectedNodes}})),a=o.selectedElements,u=o.selectedNodes,l=hs((function(e){return e.getAwareness})),f=hs((function(e){return e.sharedTransforms})),h=hs((function(e){return e.addTransformJobs})),d=(0,e.useRef)({x:0,y:0}),p=function(e){var t=l().clientID,n=e.currentTarget.getAttribute("data-transformid"),r=a;if(t&&n&&r){var i={jobId:s(),fromClientId:t,transformId:n,status:"pending",request:{nodesId:r.nodes().map((function(e){return e.id()})),edgesId:r.edges().map((function(e){return e.id()})),parameter:{}}};h(i)}};return(0,ds.jsxs)(Gl,{className:"shadow-lg flex flex-col border border-neutral-700 w-48 focus-visible:outline-none",onEventListener:function(e){var t=function(t){d.current=t.position,e(t.originalEvent)};return n.on("cxttap",t),function(){return n.off("cxttap",t)}},children:[(0,ds.jsx)(Vl,{className:"flex items-center flex-1 text-left font-mono p-2 pl-4 leading-7 focus:z-10 hover:bg-blue-200 dark:hover:bg-gray-600",label:"Add",icon:(0,ds.jsx)(Is,{className:"h-5 w-5 mr-2 hover:bg-transparent"}),onClick:function(){var e=Yl({},d.current.x,d.current.y),t=e.nodeId,n=e.node;t&&r.set(t,n)}}),(0,ds.jsx)(Vl,{className:"flex items-center flex-1 text-left font-mono p-2 pl-4 leading-7 focus:z-10 hover:bg-red-200 dark:hover:bg-rose-900 hover:text-red-300",label:"Delete",icon:(0,ds.jsx)(Ds,{className:"h-5 w-5 mr-2 hover:bg-transparent"}),onClick:function(e){var t=a;if(null!==t&&void 0!==t&&t.length){var n=t.connectedEdges().add(t.edges()).map((function(e){return e.id()}));!function(e,t){var n;null===(n=t.doc)||void 0===n||n.transact((function(){e.forEach((function(e){return t.delete(e)}))}))}(n,i),function(e,t){var n;null===(n=t.doc)||void 0===n||n.transact((function(){e.forEach((function(e){return t.delete(e)}))}))}(t.nodes().map((function(e){return e.id()})),r)}}}),(0,ds.jsx)(Xl,{}),(0,ds.jsx)(Kl,{children:"Transforms"}),Object.entries(f).map((function(e){var t,n=c(e,2),r=(n[0],n[1]),i=null===(t=u())||void 0===t?void 0:t[0];if(Hl(r)&&null!=i&&(r.elementType.includes(null===i||void 0===i?void 0:i.data("type"))||r.elementType.includes("*")))return(0,ds.jsx)(Vl,{"data-transformid":r.transformId,className:"flex items-center flex-1 bg-white text-left font-mono p-2 pl-4 leading-7 hover:bg-blue-200 dark:hover:bg-gray-600 ring-inset",label:r.name,title:r.name,onClick:p},r.transformId)})),(0,ds.jsx)(Xl,{})]})};var Ql=function(e){var t=T(e.getState());return t.onMount=function(t){var n=function(){t(e.getState())},r=e.subscribe(n);return n(),r},T((function(e){return e(t)}),(function(n,r,i){var o="function"===typeof i?i(n(t)):i;e.setState(o,!0)}))}(hs),Zl=(T((function(e){return Object.entries(e(Ql).providersStore).every((function(e){var t=c(e,2),n=(t[0],t[1]);return!n.provider||n.isSynced}))})),T((function(e){return Object.entries(e(Ql).providersStore).some((function(e){var t=c(e,2);t[0];return t[1].provider}))})));var Jl=e.forwardRef((function(t,n){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},t),e.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"}))}));var ec=e.forwardRef((function(t,n){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},t),e.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 000 2h6a1 1 0 100-2H7z",clipRule:"evenodd"}))}));var tc=e.forwardRef((function(t,n){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},t),e.createElement("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"}))}));var nc=e.forwardRef((function(t,n){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},t),e.createElement("path",{d:"M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 5.757a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM5.05 6.464A1 1 0 106.464 5.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM5 10a1 1 0 01-1 1H3a1 1 0 110-2h1a1 1 0 011 1zM8 16v-1h4v1a2 2 0 11-4 0zM12 14c.015-.34.208-.646.477-.859a4 4 0 10-4.954 0c.27.213.462.519.476.859h4.002z"}))})),rc=function(){var e=hs((function(e){return e.ynodes()})),t=hs((function(e){return e.cytoscape})),n=hs((function(e){return e.toggleDarkMode})),r=function(){var n=Ps(X().mark((function n(){var r;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:null===(r=null===t||void 0===t?void 0:t.$(":selected"))||void 0===r||r.forEach((function(t){return e.delete(t.id())}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),i=function(){var e=Ps(X().mark((function e(){var n,r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null===t||void 0===t?void 0:t.$(":selected")){e.next=3;break}return e.abrupt("return");case 3:r=n.connectedEdges(),i=n.add(r),Wl(i);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,ds.jsxs)("div",{className:"panel absolute mx-auto left-0 right-0 top-2 w-min h-min flex border z-50 divide-x",children:[(0,ds.jsx)("div",{title:"Add Node",className:"w-9 h-9",children:(0,ds.jsx)(Jl,{onClick:function(){var t=s(),n=new mi;n.set("id",t),n.set("name","New Node"),n.set("type","people"),n.set("testattr","test");var r=new mi;r.set("x",300),r.set("y",200);var i=new mi;i.set("group","nodes"),i.set("data",n),i.set("position",r),e.set(t,i)},className:"aspect-square mx-0 p-1.5 cursor-pointer flex items-center justify-center"})}),(0,ds.jsx)("div",{title:"Delete Selected Nodes",className:"w-9 h-9",children:(0,ds.jsx)(ec,{onClick:r,className:"aspect-square mx-0 p-1.5 cursor-pointer flex items-center justify-center"})}),(0,ds.jsx)("div",{title:"Layout Selected Nodes",className:"w-9 h-9",children:(0,ds.jsx)(tc,{onClick:i,className:"aspect-square mx-0 p-1.5 cursor-pointer flex items-center justify-center"})}),(0,ds.jsx)("div",{title:"Layout Selected Nodes",className:"w-9 h-9",children:(0,ds.jsx)(nc,{onClick:n,className:"aspect-square mx-0 p-1.5 cursor-pointer flex items-center justify-center"})})]})},ic={canConnect:function(e,t){return!e.same(t)&&!e.edgesWith(t).length},snap:!0,disableBrowserGestures:!1},oc=[{selector:"core",style:{"active-bg-color":"white"}},{selector:"node[name]",style:{color:"black","background-color":"#666",label:"data(name)","min-zoomed-font-size":12,"font-size":18}},{selector:"edge",style:{width:2,"line-color":"#999","target-arrow-color":"#999","target-arrow-shape":"triangle","curve-style":"straight","arrow-scale":1.5}},{selector:":selected",style:{"line-color":"red","background-color":"red","target-arrow-color":"red"}},{selector:".eh-handle",style:{"background-color":"red",width:12,height:12,shape:"ellipse","overlay-opacity":0,"border-width":12,"border-opacity":0}},{selector:".eh-hover",style:{"background-color":"red"}},{selector:".eh-source",style:{"border-width":2,"border-color":"red"}},{selector:".eh-target",style:{"border-width":2,"border-color":"red"}},{selector:".eh-preview, .eh-ghost-edge",style:{"background-color":"red","line-color":"red","target-arrow-color":"red","source-arrow-color":"red"}},{selector:".eh-ghost-edge.eh-preview-active",style:{opacity:0}}],ac=[{selector:"core",style:{"active-bg-color":"white"}},{selector:"node[name]",style:{color:"white","background-color":"#555",label:"data(name)","min-zoomed-font-size":12,"font-size":18,"overlay-color":"white"}},{selector:"edge",style:{width:2,"line-color":"#bbb","target-arrow-color":"#bbb","target-arrow-shape":"triangle","curve-style":"straight","arrow-scale":1.5}},{selector:":selected",style:{"line-color":"#F30A49","background-color":"#F30A49","target-arrow-color":"#F30A49"}},{selector:".eh-handle",style:{"background-color":"#F30A49",width:12,height:12,shape:"ellipse","overlay-opacity":0,"border-width":12,"border-opacity":0}},{selector:".eh-hover",style:{"background-color":"#F30A49"}},{selector:".eh-source",style:{"border-width":2,"border-color":"#F30A49"}},{selector:".eh-target",style:{"border-width":2,"border-color":"#F30A49"}},{selector:".eh-preview, .eh-ghost-edge",style:{"background-color":"#F30A49","line-color":"#F30A49","target-arrow-color":"#F30A49","source-arrow-color":"#F30A49"}},{selector:".eh-ghost-edge.eh-preview-active",style:{opacity:0}},{selector:"core",style:{}}],sc={style:ac,layout:{name:"grid",rows:1},wheelSensitivity:.3,pixelRatio:1},uc={snapToGridOnRelease:!1,snapToGridDuringDrag:!1,snapToAlignmentLocationOnRelease:!1,snapToAlignmentLocationDuringDrag:!1,distributionGuidelines:!1,geometricGuideline:!1,initPosAlignment:!1,centerToEdgeAlignment:!1,resize:!1,parentPadding:!1,drawGrid:!0,gridSpacing:50,snapToGridCenter:!0,zoomDash:!1,panGrid:!0,gridStackOrder:0,gridColor:"#aaa",lineWidth:1,guidelinesStackOrder:4,guidelinesTolerance:2,guidelinesStyle:{strokeStyle:"#8b7d6b",geometricGuidelineRange:400,range:100,minDistRange:10,distGuidelineOffset:10,horizontalDistColor:"#ff0000",verticalDistColor:"#00ff00",initPosAlignmentColor:"#0000ff",lineDash:[0,0],horizontalDistLine:[0,0],verticalDistLine:[0,0],initPosAlignmentLine:[0,0]},parentSpacing:-1},lc=function(){var t=hs((function(e){return e.ydoc})),n=hs((function(e){return e.ynodes()})),r=hs((function(e){return e.yedges()})),i=hs((function(e){return e.getAwareness})),o=I(Zl),s=hs((function(e){return e.setCytoscape})),u=hs((function(e){return e.cytoscape})),l=hs((function(e){return e.setSelectedElements})),f=hs((function(e){return e.darkMode})),h=L((function(e){return e.setUsernames})),d=function(t,n,r){var i=(0,e.useRef)(),o=(0,e.useRef)(t),a=(0,e.useRef)(0);function s(){i.current&&clearTimeout(i.current)}return(0,e.useEffect)((function(){o.current=t}),[t]),(0,e.useEffect)((function(){return s}),[n]),(0,e.useCallback)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];function s(){o.current.apply(o,t),a.current=Date.now()}i.current&&clearTimeout(i.current);var u=Date.now()-a.current;u>=n?s():i.current=setTimeout(s,n-u)}),r)}((function(e){o&&i().setLocalStateField("position",e.position)}),10,[]);return(0,e.useEffect)((function(){f?null===u||void 0===u||u.style(ac):null===u||void 0===u||u.style(oc)}),[f,u]),(0,e.useEffect)((function(){_s().use(vs()),_s().use(ms()),_s().use(ks()),_s().use(xs()),_s().use(Ss());var e=_s()(a({container:document.getElementById("cy")},sc));s(e);var o=e.edgehandles(ic);e.gridGuide(uc);var u=e.layers().append("canvas-static");return n.observe((function(t,n){t.changes.keys.forEach((function(n,r){if(t.target instanceof mi&&e)if("add"===n.action){var i=t.target.get(r);i&&e.add(i.toJSON())}else"delete"===n.action&&e.getElementById(r).remove()}))})),r.observe((function(t,n){t.changes.keys.forEach((function(t,n){if(e)if("add"===t.action){var i=r.get(n);i&&"source"in i&&"target"in i&&"id"in i&&e.add({data:i})}else"delete"===t.action&&e.getElementById(n).remove()}))})),n.observeDeep((function(t){t.forEach((function(t){return t.changes.keys.forEach((function(n,r){if(t.target instanceof mi&&e){var i=t.path.pop();if("add"===n.action){if("data"===i){var o=c(t.path,1)[0];if("string"!==typeof o)return;e.getElementById(o).data(r,t.target.get(r))}}else if("update"===n.action)switch(i){case"position":var a=t.target,s=t.target.parent.get("data").get("id");if(!s)break;var u=e.getElementById(s.toString());if(!u)break;var l=a.get("x"),f=a.get("y");l&&f&&u.position({x:l,y:f});break;case"data":var h=t.target,d=h.get("id");if(!d)break;var p=e.getElementById(d.toString());if(!p)break;p.data(r,h.get(r))}else if("delete"===n.action&&"data"===i){var g=c(t.path,1)[0];if("string"!==typeof g)return;e.getElementById(g).removeData(r)}}}))}))})),e.on("vmousemove",(function(e){(1!==e.originalEvent.buttons||e.cy.$(":grabbed").length)&&d(e)})),e.on("viewport",(function(){u.update()})),e.on("drag",(function(e){e.target.forEach((function(e){var r=n.get(e.data("id")),i=null===r||void 0===r?void 0:r.get("position");if(i){var o=e.position();t.transact((function(){i.set("y",o.y),i.set("x",o.x)}))}}))})),e.on("layoutstop",(function(e){t.transact((function(){e.target.options.eles.forEach((function(e){var t;if(e.isNode()){var r=null===(t=n.get(e.id()))||void 0===t?void 0:t.get("position");r.set("x",e.position("x")),r.set("y",e.position("y"))}}))}))})),e.on("ehcomplete",(function(t,n,i,o){e.getElementById(o.id()).remove(),r.set(o.id(),o.data())})),e.on("cxttapstart","node",(function(e){var t=e.target;o.enable(),o.start(t)})),e.on("cxttapend","node",(function(){o.stop(),o.disable()})),e.on("cxttap","*",(function(t){var n=t.target;n.selected()||e.$(":selected").unselect(),n.select()})),e.on("select","node, edge",(function(){l(e.$(":selected"))})),e.on("unselect","node, edge",(function(){l(e.$(":selected"))})),i().on("change",(function(e,t){var n=Array.from(i().getStates(),(function(e){var t=c(e,2);return{id:t[0],username:t[1].username}}));h(n),u.update()})),u.callback((function(t){i().getStates().forEach((function(n,r){var o,a,s,u,l;if(i().clientID!==r){var c=null!==(o=n.position)&&void 0!==o?o:{x:0,y:0},f=null!==(a=n.username)&&void 0!==a?a:"",h=null!==(s=n.color)&&void 0!==s?s:"#000000",d=Ts(h),p=null!==(u=e.pan())&&void 0!==u?u:{x:0,y:0},g=function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}}(c,null!==(l=e.zoom())&&void 0!==l?l:1,p),v=g.x,y=g.y;if(t.save(),d&&t.drawImage(d,v,y),""!==f){t.font="1em sans-serif",t.textBaseline="top",t.fillStyle=h;var m=t.measureText(f).width;t.fillRect(v+10,y+24,m+4,18),t.fillStyle="white",t.fillText(f,v+12,y+25)}t.restore()}}))})),function(){e.destroy()}}),[]),(0,ds.jsxs)(ds.Fragment,{children:[(0,ds.jsx)(rc,{}),(0,ds.jsx)("div",{id:"cy",className:"h-full w-full"}),u&&(0,ds.jsx)($l,{cytoscape:u})]})};function cc(e,t){if(e in t){for(var n=t[e],r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return"function"==typeof n?n.apply(void 0,i):n}var a=new Error('Tried to handle "'.concat(e,'" but there is no handler defined. Only defined handlers are: ').concat(Object.keys(t).map((function(e){return'"'.concat(e,'"')})).join(", "),"."));throw Error.captureStackTrace&&Error.captureStackTrace(a,cc),a}var fc=["static"],hc=["unmount"],dc=["as","children","refName"],pc=function(e){return e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e}(pc||{}),gc=function(e){return e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e}(gc||{});function vc(e){var t=e.ourProps,n=e.theirProps,r=e.slot,o=e.defaultTag,s=e.features,u=e.visible,l=void 0===u||u,c=e.name,f=mc(n,t);if(l)return yc(f,r,o,c);var h=null!=s?s:0;if(2&h){var d=f.static,p=void 0!==d&&d,g=Ms(f,fc);if(p)return yc(g,r,o,c)}if(1&h){var v,y=f.unmount,m=void 0===y||y,b=Ms(f,hc);return cc(m?0:1,(i(v={},0,(function(){return null})),i(v,1,(function(){return yc(a(a({},b),{},{hidden:!0,style:{display:"none"}}),r,o,c)})),v))}return yc(f,r,o,c)}function yc(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=wc(t,["unmount","static"]),s=a.as,u=void 0===s?r:s,l=a.children,c=a.refName,f=void 0===c?"ref":c,h=Ms(a,dc),d=void 0!==t.ref?i({},f,t.ref):{},p="function"==typeof l?l(n):l;h.className&&"function"==typeof h.className&&(h.className=h.className(n));var g={};if(u===e.Fragment&&Object.keys(_c(h)).length>0){if(!(0,e.isValidElement)(p)||Array.isArray(p)&&p.length>1)throw new Error(['Passing props on "Fragment"!',"","The current component <".concat(o,' /> is rendering a "Fragment".'),"However we need to passthrough the following props:",Object.keys(h).map((function(e){return"  - ".concat(e)})).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((function(e){return"  - ".concat(e)})).join("\n")].join("\n"));return(0,e.cloneElement)(p,Object.assign({},mc(p.props,_c(wc(h,["ref"]))),g,d))}return(0,e.createElement)(u,Object.assign({},wc(h,["ref"]),u!==e.Fragment&&d,u!==e.Fragment&&g),p)}function mc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return{};if(1===t.length)return t[0];for(var r={},o={},a=0,s=t;a<s.length;a++){var u=s[a];for(var l in u)l.startsWith("on")&&"function"==typeof u[l]?(null!=o[l]||(o[l]=[]),o[l].push(u[l])):r[l]=u[l]}if(r.disabled||r["aria-disabled"])return Object.assign(r,Object.fromEntries(Object.keys(o).map((function(e){return[e,void 0]}))));var c=function(e){Object.assign(r,i({},e,(function(t){for(var n=o[e],r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var s,u=f(n);try{for(u.s();!(s=u.n()).done;){var l=s.value;if(t.defaultPrevented)return;l.apply(void 0,[t].concat(i))}}catch(c){u.e(c)}finally{u.f()}})))};for(var h in o)c(h);return r}function bc(t){var n;return Object.assign((0,e.forwardRef)(t),{displayName:null!=(n=t.displayName)?n:t.name})}function _c(e){var t=Object.assign({},e);for(var n in t)void 0===t[n]&&delete t[n];return t}function wc(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object.assign({},e),i=f(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;o in r&&delete r[o]}}catch(a){i.e(a)}finally{i.f()}return r}var xc=(0,e.createContext)(null);xc.displayName="OpenClosedContext";var Ec=function(e){return e[e.Open=0]="Open",e[e.Closed=1]="Closed",e}(Ec||{});function kc(){return(0,e.useContext)(xc)}function Cc(t){var n=t.value,r=t.children;return e.createElement(xc.Provider,{value:n},r)}function Sc(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((function(e){return setTimeout((function(){throw e}))}))}var Nc,Tc="undefined"!=typeof window?e.useLayoutEffect:e.useEffect,Ic={serverHandoffComplete:!1};function Dc(){var t=c((0,e.useState)(Ic.serverHandoffComplete),2),n=t[0],r=t[1];return(0,e.useEffect)((function(){!0!==n&&r(!0)}),[n]),(0,e.useEffect)((function(){!1===Ic.serverHandoffComplete&&(Ic.serverHandoffComplete=!0)}),[]),n}var Mc=0;function Oc(){return++Mc}var Pc=null!=(Nc=e.useId)?Nc:function(){var t=Dc(),n=c(e.useState(t?Oc:null),2),r=n[0],i=n[1];return Tc((function(){null===r&&i(Oc())}),[r]),null!=r?""+r:void 0};function Lc(){var t=(0,e.useRef)(!1);return Tc((function(){return t.current=!0,function(){t.current=!1}}),[]),t}function Ac(t){var n=(0,e.useRef)(t);return Tc((function(){n.current=t}),[t]),n}var Rc=function(t){var n=Ac(t);return e.useCallback((function(){return n.current.apply(n,arguments)}),[n])},Fc=Symbol();function zc(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object.assign(e,i({},Fc,t))}function jc(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=(0,e.useRef)(n);(0,e.useEffect)((function(){i.current=n}),[n]);var o=Rc((function(e){var t,n=f(i.current);try{for(n.s();!(t=n.n()).done;){var r=t.value;null!=r&&("function"==typeof r?r(e):r.current=e)}}catch(o){n.e(o)}finally{n.f()}}));return n.every((function(e){return null==e||(null==e?void 0:e[Fc])}))?void 0:o}function Bc(){var e=[],t=[],n={enqueue:function(e){t.push(e)},addEventListener:function(e,t,r,i){return e.addEventListener(t,r,i),n.add((function(){return e.removeEventListener(t,r,i)}))},requestAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=requestAnimationFrame.apply(void 0,arguments);return n.add((function(){return cancelAnimationFrame(e)}))})),nextFrame:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.requestAnimationFrame((function(){return n.requestAnimationFrame.apply(n,t)}))},setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=setTimeout.apply(void 0,arguments);return n.add((function(){return clearTimeout(e)}))})),add:function(t){return e.push(t),function(){var n=e.indexOf(t);n>=0&&(0,c(e.splice(n,1),1)[0])()}},dispose:function(){var t,n=f(e.splice(0));try{for(n.s();!(t=n.n()).done;){(0,t.value)()}}catch(r){n.e(r)}finally{n.f()}},workQueue:function(){return Ps(X().mark((function e(){var n,r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=f(t.splice(0)),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i();case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))()}};return n}function Vc(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e&&r.length>0&&(t=e.classList).add.apply(t,r)}function Uc(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e&&r.length>0&&(t=e.classList).remove.apply(t,r)}var Gc=function(e){return e.Ended="ended",e.Cancelled="cancelled",e}(Gc||{});function Hc(e,t,n,r){var i=n?"enter":"leave",o=Bc(),a=void 0!==r?function(e){var t={called:!1};return function(){if(!t.called)return t.called=!0,e.apply(void 0,arguments)}}(r):function(){},s=cc(i,{enter:function(){return t.enter},leave:function(){return t.leave}}),u=cc(i,{enter:function(){return t.enterTo},leave:function(){return t.leaveTo}}),l=cc(i,{enter:function(){return t.enterFrom},leave:function(){return t.leaveFrom}});return Uc.apply(void 0,[e].concat(q(t.enter),q(t.enterTo),q(t.enterFrom),q(t.leave),q(t.leaveFrom),q(t.leaveTo),q(t.entered))),Vc.apply(void 0,[e].concat(q(s),q(l))),o.nextFrame((function(){Uc.apply(void 0,[e].concat(q(l))),Vc.apply(void 0,[e].concat(q(u))),function(e,t){var n=Bc();if(!e)return n.dispose;var r=getComputedStyle(e),i=[r.transitionDuration,r.transitionDelay].map((function(e){var t=e.split(",").filter(Boolean).map((function(e){return e.includes("ms")?parseFloat(e):1e3*parseFloat(e)})).sort((function(e,t){return t-e})),n=c(t,1)[0];return void 0===n?0:n})),o=c(i,2);if(o[0]+o[1]!==0){var a=[];a.push(n.addEventListener(e,"transitionrun",(function(r){r.target===r.currentTarget&&(a.splice(0).forEach((function(e){return e()})),a.push(n.addEventListener(e,"transitionend",(function(e){e.target===e.currentTarget&&(t("ended"),a.splice(0).forEach((function(e){return e()})))})),n.addEventListener(e,"transitioncancel",(function(e){e.target===e.currentTarget&&(t("cancelled"),a.splice(0).forEach((function(e){return e()})))}))))})))}else t("ended");n.add((function(){return t("cancelled")})),n.dispose}(e,(function(n){return"ended"===n&&(Uc.apply(void 0,[e].concat(q(s))),Vc.apply(void 0,[e].concat(q(t.entered)))),a(n)}))})),o.dispose}function qc(t){var n=t.container,r=t.direction,o=t.classes,a=t.events,s=t.onStart,u=t.onStop,l=Lc(),f=function(){var t=c((0,e.useState)(Bc),1)[0];return(0,e.useEffect)((function(){return function(){return t.dispose()}}),[t]),t}(),h=Ac(r),d=Rc((function(){return cc(h.current,{enter:function(){return a.current.beforeEnter()},leave:function(){return a.current.beforeLeave()},idle:function(){}})})),p=Rc((function(){return cc(h.current,{enter:function(){return a.current.afterEnter()},leave:function(){return a.current.afterLeave()},idle:function(){}})}));Tc((function(){var e=Bc();f.add(e.dispose);var t=n.current;if(t&&"idle"!==h.current&&l.current)return e.dispose(),d(),s.current(h.current),e.add(Hc(t,o.current,"enter"===h.current,(function(t){var n;e.dispose(),cc(t,(i(n={},Gc.Ended,(function(){p(),u.current(h.current)})),i(n,Gc.Cancelled,(function(){})),n))}))),e.dispose}),[r])}var Yc=["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"],Wc=["show","appear","unmount"];function Xc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(" ").filter((function(e){return e.trim().length>1}))}var Kc=(0,e.createContext)(null);Kc.displayName="TransitionContext";var $c=function(e){return e.Visible="visible",e.Hidden="hidden",e}($c||{});var Qc=(0,e.createContext)(null);function Zc(e){return"children"in e?Zc(e.children):e.current.filter((function(e){return"visible"===e.state})).length>0}function Jc(t){var n=Ac(t),r=(0,e.useRef)([]),o=Lc(),a=Rc((function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gc.Hidden,s=r.current.findIndex((function(t){return t.id===e}));-1!==s&&(cc(a,(i(t={},gc.Unmount,(function(){r.current.splice(s,1)})),i(t,gc.Hidden,(function(){r.current[s].state="hidden"})),t)),Sc((function(){var e;!Zc(r)&&o.current&&(null==(e=n.current)||e.call(n))})))})),s=Rc((function(e){var t=r.current.find((function(t){return t.id===e}));return t?"visible"!==t.state&&(t.state="visible"):r.current.push({id:e,state:"visible"}),function(){return a(e,gc.Unmount)}}));return(0,e.useMemo)((function(){return{children:r,register:s,unregister:a}}),[s,a,r])}function ef(){}Qc.displayName="NestingContext";var tf=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function nf(e){var t,n,r={},i=f(tf);try{for(i.s();!(n=i.n()).done;){var o=n.value;r[o]=null!=(t=e[o])?t:ef}}catch(a){i.e(a)}finally{i.f()}return r}var rf=pc.RenderStrategy,of=bc((function(t,n){var r,o=t.beforeEnter,a=t.afterEnter,s=t.beforeLeave,u=t.afterLeave,l=t.enter,f=t.enterFrom,h=t.enterTo,d=t.entered,p=t.leave,g=t.leaveFrom,v=t.leaveTo,y=Ms(t,Yc),m=(0,e.useRef)(null),b=jc(m,n),_=c((0,e.useState)("visible"),2),w=_[0],x=_[1],E=y.unmount?gc.Unmount:gc.Hidden,k=function(){var t=(0,e.useContext)(Kc);if(null===t)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}(),C=k.show,S=k.appear,N=k.initial,T=function(){var t=(0,e.useContext)(Qc);if(null===t)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}(),I=T.register,D=T.unregister,M=(0,e.useRef)(null),O=Pc();(0,e.useEffect)((function(){if(O)return I(O)}),[I,O]),(0,e.useEffect)((function(){if(E===gc.Hidden&&O){var e;if(C&&"visible"!==w)return void x("visible");cc(w,(i(e={},"hidden",(function(){return D(O)})),i(e,"visible",(function(){return I(O)})),e))}}),[w,O,I,D,C,E]);var P=Ac({enter:Xc(l),enterFrom:Xc(f),enterTo:Xc(h),entered:Xc(d),leave:Xc(p),leaveFrom:Xc(g),leaveTo:Xc(v)}),L=function(t){var n=(0,e.useRef)(nf(t));return(0,e.useEffect)((function(){n.current=nf(t)}),[t]),n}({beforeEnter:o,afterEnter:a,beforeLeave:s,afterLeave:u}),A=Dc();(0,e.useEffect)((function(){if(A&&"visible"===w&&null===m.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[m,w,A]);var R=N&&!S,F=!A||R||M.current===C?"idle":C?"enter":"leave",z=(0,e.useRef)(!1),j=Jc((function(){z.current||(x("hidden"),D(O))}));qc({container:m,classes:P,events:L,direction:F,onStart:Ac((function(){z.current=!0})),onStop:Ac((function(e){z.current=!1,"leave"===e&&!Zc(j)&&(x("hidden"),D(O))}))}),(0,e.useEffect)((function(){!R||(E===gc.Hidden?M.current=null:M.current=C)}),[C,R,w]);var B=y,V={ref:b};return e.createElement(Qc.Provider,{value:j},e.createElement(Cc,{value:cc(w,(r={},i(r,"visible",Ec.Open),i(r,"hidden",Ec.Closed),r))},vc({ourProps:V,theirProps:B,defaultTag:"div",features:rf,visible:"visible"===w,name:"Transition.Child"})))})),af=bc((function(t,n){var r,o=t.show,s=t.appear,u=void 0!==s&&s,l=t.unmount,f=Ms(t,Wc),h=(0,e.useRef)(null),d=jc(h,n);Dc();var p=kc();if(void 0===o&&null!==p&&(o=cc(p,(i(r={},Ec.Open,!0),i(r,Ec.Closed,!1),r))),![!0,!1].includes(o))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");var g=c((0,e.useState)(o?"visible":"hidden"),2),v=g[0],y=g[1],m=Jc((function(){y("hidden")})),b=c((0,e.useState)(!0),2),_=b[0],w=b[1],x=(0,e.useRef)([o]);Tc((function(){!1!==_&&x.current[x.current.length-1]!==o&&(x.current.push(o),w(!1))}),[x,o]);var E=(0,e.useMemo)((function(){return{show:o,appear:u,initial:_}}),[o,u,_]);(0,e.useEffect)((function(){if(o)y("visible");else if(Zc(m)){var e=h.current;if(!e)return;var t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&y("hidden")}else y("hidden")}),[o,m]);var k={unmount:l};return e.createElement(Qc.Provider,{value:m},e.createElement(Kc.Provider,{value:E},vc({ourProps:a(a({},k),{},{as:e.Fragment,children:e.createElement(of,a(a({ref:d},k),f))}),theirProps:{},defaultTag:e.Fragment,features:rf,visible:"visible"===v,name:"Transition"})))})),sf=bc((function(t,n){var r=null!==(0,e.useContext)(Kc),i=null!==kc();return e.createElement(e.Fragment,null,!r&&i?e.createElement(af,a({ref:n},t)):e.createElement(of,a({ref:n},t)))})),uf=Object.assign(af,{Child:sf,Root:af}),lf=function(e){return e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e}(lf||{});function cf(e){for(var t=e.parentElement,n=null;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;var r=""===(null==t?void 0:t.getAttribute("disabled"));return(!r||!function(e){if(!e)return!1;for(var t=e.previousElementSibling;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(n))&&r}var ff=["features"],hf=function(e){return e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e}(hf||{}),df=bc((function(e,t){var n=e.features,r=void 0===n?1:n,i=Ms(e,ff);return vc({ourProps:{ref:t,"aria-hidden":2===(2&r)||void 0,style:a({position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},4===(4&r)&&2!==(2&r)&&{display:"none"})},theirProps:i,slot:{},defaultTag:"div",name:"Hidden"})}));function pf(e){return"undefined"==typeof window?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}var gf=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((function(e){return"".concat(e,":not([tabindex='-1'])")})).join(","),vf=function(e){return e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e}(vf||{}),yf=function(e){return e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e}(yf||{}),mf=function(e){return e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e}(mf||{});function bf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;return null==e?[]:Array.from(e.querySelectorAll(gf))}var _f=function(e){return e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e}(_f||{});function wf(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e!==(null==(n=pf(e))?void 0:n.body)&&cc(r,(i(t={},0,(function(){return e.matches(gf)})),i(t,1,(function(){for(var t=e;null!==t;){if(t.matches(gf))return!0;t=t.parentElement}return!1})),t))}function xf(e){null==e||e.focus({preventScroll:!0})}var Ef=["textarea","input"].join(",");function kf(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,Ef))&&n}function Cf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return e.slice().sort((function(e,n){var r=t(e),i=t(n);if(null===r||null===i)return 0;var o=r.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}function Sf(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?r?Cf(e):e:bf(e),a=i.activeElement,s=function(){if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),u=function(){if(1&t)return 0;if(2&t)return Math.max(0,o.indexOf(a))-1;if(4&t)return Math.max(0,o.indexOf(a))+1;if(8&t)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")}(),l=32&t?{preventScroll:!0}:{},c=0,f=o.length;do{if(c>=f||c+f<=0)return 0;var h=u+c;if(16&t)h=(h+f)%f;else{if(h<0)return 3;if(h>=f)return 1}null==(n=o[h])||n.focus(l),c+=s}while(n!==i.activeElement);return 6&t&&kf(n)&&n.select(),n.hasAttribute("tabindex")||n.setAttribute("tabindex","0"),2}function Nf(t,n,r){var i=Ac(n);(0,e.useEffect)((function(){function e(e){i.current(e)}return window.addEventListener(t,e,r),function(){return window.removeEventListener(t,e,r)}}),[t,r])}var Tf=function(e){return e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e}(Tf||{});function If(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(0,e.useMemo)((function(){return pf.apply(void 0,n)}),[].concat(n))}function Df(t,n,r,i){var o=Ac(r);(0,e.useEffect)((function(){function e(e){o.current(e)}return(t=null!=t?t:window).addEventListener(n,e,i),function(){return t.removeEventListener(n,e,i)}}),[t,n,i])}function Mf(t,n){var r=(0,e.useRef)([]),i=Rc(t);(0,e.useEffect)((function(){var e,t=f(n.entries());try{for(t.s();!(e=t.n()).done;){var o=c(e.value,2),a=o[0],s=o[1];if(r.current[a]!==s){var u=i(n);return r.current=n,u}}}catch(l){t.e(l)}finally{t.f()}}),[i].concat(q(n)))}var Of=["initialFocus","containers","features"],Pf=function(e){return e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e}(Pf||{}),Lf=Object.assign(bc((function(t,n){var r=(0,e.useRef)(null),o=jc(r,n),a=t.initialFocus,s=t.containers,u=t.features,l=void 0===u?30:u,c=Ms(t,Of);Dc()||(l=1);var h=If(r);!function(t,n){var r=t.ownerDocument,i=(0,e.useRef)(null);Df(null==r?void 0:r.defaultView,"focusout",(function(e){!n||i.current||(i.current=e.target)}),!0),Mf((function(){n||((null==r?void 0:r.activeElement)===(null==r?void 0:r.body)&&xf(i.current),i.current=null)}),[n]);var o=(0,e.useRef)(!1);(0,e.useEffect)((function(){return o.current=!1,function(){o.current=!0,Sc((function(){!o.current||(xf(i.current),i.current=null)}))}}),[])}({ownerDocument:h},Boolean(16&l));var d=function(t,n){var r=t.ownerDocument,i=t.container,o=t.initialFocus,a=(0,e.useRef)(null);return Mf((function(){if(n){var e=i.current;if(e){var t=null==r?void 0:r.activeElement;if(null!=o&&o.current){if((null==o?void 0:o.current)===t)return void(a.current=t)}else if(e.contains(t))return void(a.current=t);null!=o&&o.current?xf(o.current):Sf(e,vf.First)===yf.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=null==r?void 0:r.activeElement}}}),[n]),a}({ownerDocument:h,container:r,initialFocus:a},Boolean(2&l));!function(e,t){var n=e.ownerDocument,r=e.container,i=e.containers,o=e.previousActiveElement,a=Lc();Df(null==n?void 0:n.defaultView,"focus",(function(e){if(t&&a.current){var n=new Set(null==i?void 0:i.current);n.add(r);var s=o.current;if(s){var u=e.target;u&&u instanceof HTMLElement?function(e,t){var n,r,i=f(e);try{for(i.s();!(r=i.n()).done;){if(null!=(n=r.value.current)&&n.contains(t))return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(n,u)?(o.current=u,xf(u)):(e.preventDefault(),e.stopPropagation(),xf(s)):xf(o.current)}}}),!0)}({ownerDocument:h,container:r,containers:s,previousActiveElement:d},Boolean(8&l));var p=function(){var t=(0,e.useRef)(0);return Nf("keydown",(function(e){"Tab"===e.key&&(t.current=e.shiftKey?1:0)}),!0),t}(),g=Rc((function(){var e,t=r.current;!t||cc(p.current,(i(e={},Tf.Forwards,(function(){return Sf(t,vf.First)})),i(e,Tf.Backwards,(function(){return Sf(t,vf.Last)})),e))})),v={ref:o};return e.createElement(e.Fragment,null,Boolean(4&l)&&e.createElement(df,{as:"button",type:"button",onFocus:g,features:hf.Focusable}),vc({ourProps:v,theirProps:c,defaultTag:"div",name:"FocusTrap"}),Boolean(4&l)&&e.createElement(df,{as:"button",type:"button",onFocus:g,features:hf.Focusable}))})),{features:Pf});var Af=new Set,Rf=new Map;function Ff(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function zf(e){var t=Rf.get(e);!t||(null===t["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}var jf=(0,e.createContext)(!1);function Bf(t){return e.createElement(jf.Provider,{value:t.force},t.children)}var Vf=["target"];function Uf(t){var n=(0,e.useContext)(jf),r=(0,e.useContext)(Yf),i=If(t),o=(0,e.useState)((function(){if(!n&&null!==r||"undefined"==typeof window)return null;var e=null==i?void 0:i.getElementById("headlessui-portal-root");if(e)return e;if(null===i)return null;var t=i.createElement("div");return t.setAttribute("id","headlessui-portal-root"),i.body.appendChild(t)})),a=c(o,2),s=a[0],u=a[1];return(0,e.useEffect)((function(){null!==s&&(null!=i&&i.body.contains(s)||null==i||i.body.appendChild(s))}),[s,i]),(0,e.useEffect)((function(){n||null!==r&&u(r.current)}),[r,u,n]),s}var Gf=e.Fragment,Hf=bc((function(t,n){var r=t,i=(0,e.useRef)(null),o=jc(zc((function(e){i.current=e})),n),a=If(i),s=Uf(i),u=(0,e.useState)((function(){var e;return"undefined"==typeof window?null:null!=(e=null==a?void 0:a.createElement("div"))?e:null})),l=c(u,1)[0],f=Dc(),h=(0,e.useRef)(!1);return Tc((function(){if(h.current=!1,s&&l)return s.contains(l)||(l.setAttribute("data-headlessui-portal",""),s.appendChild(l)),function(){h.current=!0,Sc((function(){var e;!h.current||!s||!l||(s.removeChild(l),s.childNodes.length<=0&&(null==(e=s.parentElement)||e.removeChild(s)))}))}}),[s,l]),f&&s&&l?(0,Pu.createPortal)(vc({ourProps:{ref:o},theirProps:r,defaultTag:Gf,name:"Portal"}),l):null})),qf=e.Fragment,Yf=(0,e.createContext)(null),Wf=bc((function(t,n){var r=t.target,i=Ms(t,Vf),o={ref:jc(n)};return e.createElement(Yf.Provider,{value:r},vc({ourProps:o,theirProps:i,defaultTag:qf,name:"Popover.Group"}))})),Xf=Object.assign(Hf,{Group:Wf}),Kf=(0,e.createContext)(null);function $f(){var t=(0,e.useContext)(Kf);if(null===t){var n=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,$f),n}return t}var Qf=bc((function(e,t){var n=$f(),r="headlessui-description-".concat(Pc()),i=jc(t);Tc((function(){return n.register(r)}),[r,n.register]);var o=e;return vc({ourProps:a(a({ref:i},n.props),{},{id:r}),theirProps:o,slot:n.slot||{},defaultTag:"p",name:n.name||"Description"})})),Zf=(0,e.createContext)((function(){}));Zf.displayName="StackContext";var Jf=function(e){return e[e.Add=0]="Add",e[e.Remove=1]="Remove",e}(Jf||{});function eh(t){var n=t.children,r=t.onUpdate,i=t.type,o=t.element,a=(0,e.useContext)(Zf),s=Rc((function(){null==r||r.apply(void 0,arguments),a.apply(void 0,arguments)}));return Tc((function(){return s(0,i,o),function(){return s(1,i,o)}}),[s,i,o]),e.createElement(Zf.Provider,{value:s},n)}var th=["open","onClose","initialFocus","__demoMode"],nh=function(e){return e[e.Open=0]="Open",e[e.Closed=1]="Closed",e}(nh||{}),rh=function(e){return e[e.SetTitleId=0]="SetTitleId",e}(rh||{}),ih=i({},0,(function(e,t){return e.titleId===t.id?e:a(a({},e),{},{titleId:t.id})})),oh=(0,e.createContext)(null);function ah(t){var n=(0,e.useContext)(oh);if(null===n){var r=new Error("<".concat(t," /> is missing a parent <Dialog /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(r,ah),r}return n}function sh(e,t){return cc(t.type,ih,e,t)}oh.displayName="DialogContext";var uh=pc.RenderStrategy|pc.Static,lh=bc((function(t,n){var r,o=t.open,a=t.onClose,s=t.initialFocus,u=t.__demoMode,l=void 0!==u&&u,h=Ms(t,th),d=c((0,e.useState)(0),2),p=d[0],g=d[1],v=kc();void 0===o&&null!==v&&(o=cc(v,(i(r={},Ec.Open,!0),i(r,Ec.Closed,!1),r)));var y=(0,e.useRef)(new Set),m=(0,e.useRef)(null),b=jc(m,n),_=(0,e.useRef)(null),w=If(m),x=t.hasOwnProperty("open")||null!==v,E=t.hasOwnProperty("onClose");if(!x&&!E)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!x)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!E)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof o)throw new Error("You provided an `open` prop to the `Dialog`, but the value is not a boolean. Received: ".concat(o));if("function"!=typeof a)throw new Error("You provided an `onClose` prop to the `Dialog`, but the value is not a function. Received: ".concat(a));var k=o?0:1,C=c((0,e.useReducer)(sh,{titleId:null,descriptionId:null,panelRef:(0,e.createRef)()}),2),S=C[0],N=C[1],T=Rc((function(){return a(!1)})),I=Rc((function(e){return N({type:0,id:e})})),D=!!Dc()&&(!l&&0===k),M=p>1,O=null!==(0,e.useContext)(oh),P=M?"parent":"leaf";(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Tc((function(){if(t&&e.current){var n=e.current,r=pf(n);if(r){Af.add(n);var i,o=f(Rf.keys());try{for(o.s();!(i=o.n()).done;){var a=i.value;a.contains(n)&&(zf(a),Rf.delete(a))}}catch(s){o.e(s)}finally{o.f()}return r.querySelectorAll("body > *").forEach((function(e){if(e instanceof HTMLElement){var t,n=f(Af);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.contains(r))return}}catch(s){n.e(s)}finally{n.f()}1===Af.size&&(Rf.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),Ff(e))}})),function(){if(Af.delete(n),Af.size>0)r.querySelectorAll("body > *").forEach((function(e){if(e instanceof HTMLElement&&!Rf.has(e)){var t,n=f(Af);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e.contains(r))return}}catch(s){n.e(s)}finally{n.f()}Rf.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),Ff(e)}}));else{var e,t=f(Rf.keys());try{for(t.s();!(e=t.n()).done;){var i=e.value;zf(i),Rf.delete(i)}}catch(s){t.e(s)}finally{t.f()}}}}}}),[t])})(m,!!M&&D),function(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=(0,e.useRef)(!1);function o(e,r){if(i.current&&!e.defaultPrevented){var o=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(t),a=r(e);if(null!==a&&a.ownerDocument.documentElement.contains(a)){var s,u=f(o);try{for(u.s();!(s=u.n()).done;){var l=s.value;if(null!==l){var c=l instanceof HTMLElement?l:l.current;if(null!=c&&c.contains(a))return}}}catch(h){u.e(h)}finally{u.f()}return!wf(a,_f.Loose)&&-1!==a.tabIndex&&e.preventDefault(),n(e,a)}}}(0,e.useEffect)((function(){requestAnimationFrame((function(){i.current=r}))}),[r]),Nf("click",(function(e){return o(e,(function(e){return e.target}))}),!0),Nf("blur",(function(e){return o(e,(function(){return window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null}))}),!0)}((function(){var e,t;return[].concat(q(Array.from(null!=(e=null==w?void 0:w.querySelectorAll("body > *, [data-headlessui-portal]"))?e:[]).filter((function(e){return!(!(e instanceof HTMLElement)||e.contains(_.current)||S.panelRef.current&&e.contains(S.panelRef.current))}))),[null!=(t=S.panelRef.current)?t:m.current])}),T,D&&!M),Df(null==w?void 0:w.defaultView,"keydown",(function(e){e.defaultPrevented||e.key===lf.Escape&&0===k&&(M||(e.preventDefault(),e.stopPropagation(),T()))})),(0,e.useEffect)((function(){var e;if(0===k&&!O){var t=pf(m);if(t){var n=t.documentElement,r=null!=(e=t.defaultView)?e:window,i=n.style.overflow,o=n.style.paddingRight,a=r.innerWidth-n.clientWidth;if(n.style.overflow="hidden",a>0){var s=a-(n.clientWidth-n.offsetWidth);n.style.paddingRight="".concat(s,"px")}return function(){n.style.overflow=i,n.style.paddingRight=o}}}}),[k,O]),(0,e.useEffect)((function(){if(0===k&&m.current){var e=new IntersectionObserver((function(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;0===r.boundingClientRect.x&&0===r.boundingClientRect.y&&0===r.boundingClientRect.width&&0===r.boundingClientRect.height&&T()}}catch(i){n.e(i)}finally{n.f()}}));return e.observe(m.current),function(){return e.disconnect()}}}),[k,m,T]);var L=function(){var t=c((0,e.useState)([]),2),n=t[0],r=t[1];return[n.length>0?n.join(" "):void 0,(0,e.useMemo)((function(){return function(t){var n=Rc((function(e){return r((function(t){return[].concat(q(t),[e])})),function(){return r((function(t){var n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}))}})),i=(0,e.useMemo)((function(){return{register:n,slot:t.slot,name:t.name,props:t.props}}),[n,t.slot,t.name,t.props]);return e.createElement(Kf.Provider,{value:i},t.children)}}),[r])]}(),A=c(L,2),R=A[0],F=A[1],z="headlessui-dialog-".concat(Pc()),j=(0,e.useMemo)((function(){return[{dialogState:k,close:T,setTitleId:I},S]}),[k,S,T,I]),B=(0,e.useMemo)((function(){return{open:0===k}}),[k]),V={ref:b,id:z,role:"dialog","aria-modal":0===k||void 0,"aria-labelledby":S.titleId,"aria-describedby":R};return e.createElement(eh,{type:"Dialog",element:m,onUpdate:Rc((function(e,t,n){var r;"Dialog"===t&&cc(e,(i(r={},Jf.Add,(function(){y.current.add(n),g((function(e){return e+1}))})),i(r,Jf.Remove,(function(){y.current.add(n),g((function(e){return e-1}))})),r))}))},e.createElement(Bf,{force:!0},e.createElement(Xf,null,e.createElement(oh.Provider,{value:j},e.createElement(Xf.Group,{target:m},e.createElement(Bf,{force:!1},e.createElement(F,{slot:B,name:"Dialog.Description"},e.createElement(Lf,{initialFocus:s,containers:y,features:D?cc(P,{parent:Lf.features.RestoreFocus,leaf:Lf.features.All&~Lf.features.FocusLock}):Lf.features.None},vc({ourProps:V,theirProps:h,slot:B,defaultTag:"div",features:uh,visible:0===k,name:"Dialog"})))))))),e.createElement(df,{features:hf.Hidden,ref:_}))})),ch=bc((function(t,n){var r=c(ah("Dialog.Overlay"),1)[0],i=r.dialogState,o=r.close,a=jc(n),s="headlessui-dialog-overlay-".concat(Pc()),u=Rc((function(e){if(e.target===e.currentTarget){if(cf(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),o()}}));return vc({ourProps:{ref:a,id:s,"aria-hidden":!0,onClick:u},theirProps:t,slot:(0,e.useMemo)((function(){return{open:0===i}}),[i]),defaultTag:"div",name:"Dialog.Overlay"})})),fh=bc((function(t,n){var r=c(ah("Dialog.Backdrop"),2),i=r[0].dialogState,o=r[1],a=jc(n),s="headlessui-dialog-backdrop-".concat(Pc());(0,e.useEffect)((function(){if(null===o.panelRef.current)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")}),[o.panelRef]);var u=(0,e.useMemo)((function(){return{open:0===i}}),[i]);return e.createElement(Bf,{force:!0},e.createElement(Xf,null,vc({ourProps:{ref:a,id:s,"aria-hidden":!0},theirProps:t,slot:u,defaultTag:"div",name:"Dialog.Backdrop"})))})),hh=bc((function(t,n){var r=c(ah("Dialog.Panel"),2),i=r[0].dialogState,o=jc(n,r[1].panelRef),a="headlessui-dialog-panel-".concat(Pc()),s=(0,e.useMemo)((function(){return{open:0===i}}),[i]),u=Rc((function(e){e.stopPropagation()}));return vc({ourProps:{ref:o,id:a,onClick:u},theirProps:t,slot:s,defaultTag:"div",name:"Dialog.Panel"})})),dh=bc((function(t,n){var r=c(ah("Dialog.Title"),1)[0],i=r.dialogState,o=r.setTitleId,a="headlessui-dialog-title-".concat(Pc()),s=jc(n);(0,e.useEffect)((function(){return o(a),function(){return o(null)}}),[a,o]);var u=(0,e.useMemo)((function(){return{open:0===i}}),[i]);return vc({ourProps:{ref:s,id:a},theirProps:t,slot:u,defaultTag:"h2",name:"Dialog.Title"})})),ph=Object.assign(lh,{Backdrop:fh,Panel:hh,Overlay:ch,Title:dh,Description:Qf});function gh(e){var t;if(e.type)return e.type;var n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}var vh,yh=["defaultOpen"],mh=function(e){return e[e.Open=0]="Open",e[e.Closed=1]="Closed",e}(mh||{}),bh=function(e){return e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e}(bh||{}),_h=(i(vh={},0,(function(e){var t;return a(a({},e),{},{disclosureState:cc(e.disclosureState,(t={},i(t,0,1),i(t,1,0),t))})})),i(vh,1,(function(e){return 1===e.disclosureState?e:a(a({},e),{},{disclosureState:1})})),i(vh,4,(function(e){return!0===e.linkedPanel?e:a(a({},e),{},{linkedPanel:!0})})),i(vh,5,(function(e){return!1===e.linkedPanel?e:a(a({},e),{},{linkedPanel:!1})})),i(vh,2,(function(e,t){return e.buttonId===t.buttonId?e:a(a({},e),{},{buttonId:t.buttonId})})),i(vh,3,(function(e,t){return e.panelId===t.panelId?e:a(a({},e),{},{panelId:t.panelId})})),vh),wh=(0,e.createContext)(null);function xh(t){var n=(0,e.useContext)(wh);if(null===n){var r=new Error("<".concat(t," /> is missing a parent <Disclosure /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(r,xh),r}return n}wh.displayName="DisclosureContext";var Eh=(0,e.createContext)(null);function kh(t){var n=(0,e.useContext)(Eh);if(null===n){var r=new Error("<".concat(t," /> is missing a parent <Disclosure /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(r,kh),r}return n}Eh.displayName="DisclosureAPIContext";var Ch=(0,e.createContext)(null);function Sh(e,t){return cc(t.type,_h,e,t)}Ch.displayName="DisclosurePanelContext";var Nh=e.Fragment,Th=bc((function(t,n){var r,o=t.defaultOpen,a=void 0!==o&&o,s=Ms(t,yh),u="headlessui-disclosure-button-".concat(Pc()),l="headlessui-disclosure-panel-".concat(Pc()),f=(0,e.useRef)(null),h=jc(n,zc((function(e){f.current=e}),void 0===t.as||t.as===e.Fragment)),d=(0,e.useRef)(null),p=(0,e.useRef)(null),g=(0,e.useReducer)(Sh,{disclosureState:a?0:1,linkedPanel:!1,buttonRef:p,panelRef:d,buttonId:u,panelId:l}),v=c(g,2),y=v[0].disclosureState,m=v[1];(0,e.useEffect)((function(){return m({type:2,buttonId:u})}),[u,m]),(0,e.useEffect)((function(){return m({type:3,panelId:l})}),[l,m]);var b=Rc((function(e){m({type:1});var t=pf(f);if(t){var n=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:t.getElementById(u):t.getElementById(u);null==n||n.focus()}})),_=(0,e.useMemo)((function(){return{close:b}}),[b]),w=(0,e.useMemo)((function(){return{open:0===y,close:b}}),[y,b]),x={ref:h};return e.createElement(wh.Provider,{value:g},e.createElement(Eh.Provider,{value:_},e.createElement(Cc,{value:cc(y,(r={},i(r,0,Ec.Open),i(r,1,Ec.Closed),r))},vc({ourProps:x,theirProps:s,slot:w,defaultTag:Nh,name:"Disclosure"}))))})),Ih=bc((function(t,n){var r=c(xh("Disclosure.Button"),2),i=r[0],o=r[1],a=(0,e.useContext)(Ch),s=null!==a&&a===i.panelId,u=(0,e.useRef)(null),l=jc(u,n,s?null:i.buttonRef),f=Rc((function(e){var t;if(s){if(1===i.disclosureState)return;switch(e.key){case lf.Space:case lf.Enter:e.preventDefault(),e.stopPropagation(),o({type:0}),null==(t=i.buttonRef.current)||t.focus()}}else switch(e.key){case lf.Space:case lf.Enter:e.preventDefault(),e.stopPropagation(),o({type:0})}})),h=Rc((function(e){if(e.key===lf.Space)e.preventDefault()})),d=Rc((function(e){var n;cf(e.currentTarget)||t.disabled||(s?(o({type:0}),null==(n=i.buttonRef.current)||n.focus()):o({type:0}))})),p=(0,e.useMemo)((function(){return{open:0===i.disclosureState}}),[i]),g=function(t,n){var r=c((0,e.useState)((function(){return gh(t)})),2),i=r[0],o=r[1];return Tc((function(){o(gh(t))}),[t.type,t.as]),Tc((function(){i||!n.current||n.current instanceof HTMLButtonElement&&!n.current.hasAttribute("type")&&o("button")}),[i,n]),i}(t,u),v=t;return vc({ourProps:s?{ref:l,type:g,onKeyDown:f,onClick:d}:{ref:l,id:i.buttonId,type:g,"aria-expanded":t.disabled?void 0:0===i.disclosureState,"aria-controls":i.linkedPanel?i.panelId:void 0,onKeyDown:f,onKeyUp:h,onClick:d},theirProps:v,slot:p,defaultTag:"button",name:"Disclosure.Button"})})),Dh=pc.RenderStrategy|pc.Static,Mh=bc((function(t,n){var r=c(xh("Disclosure.Panel"),2),i=r[0],o=r[1],a=kh("Disclosure.Panel").close,s=jc(n,i.panelRef,(function(){i.linkedPanel||o({type:4})})),u=kc(),l=null!==u?u===Ec.Open:0===i.disclosureState;(0,e.useEffect)((function(){return function(){return o({type:5})}}),[o]),(0,e.useEffect)((function(){var e;1===i.disclosureState&&(null==(e=t.unmount)||e)&&o({type:5})}),[i.disclosureState,t.unmount,o]);var f=(0,e.useMemo)((function(){return{open:0===i.disclosureState,close:a}}),[i,a]),h=t,d={ref:s,id:i.panelId};return e.createElement(Ch.Provider,{value:i.panelId},vc({ourProps:d,theirProps:h,slot:f,defaultTag:"div",features:Dh,visible:l,name:"Disclosure.Panel"}))})),Oh=Object.assign(Th,{Button:Ih,Panel:Mh}),Ph=["children"],Lh=["name"],Ah=["_f"],Rh=["_f"],Fh=function(e){return"checkbox"===e.type},zh=function(e){return e instanceof Date},jh=function(e){return null==e},Bh=function(e){return"object"===typeof e},Vh=function(e){return!jh(e)&&!Array.isArray(e)&&Bh(e)&&!zh(e)},Uh=function(e){return Vh(e)&&e.target?Fh(e.target)?e.target.checked:e.target.value:e},Gh=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},Hh=function(e){return Array.isArray(e)?e.filter(Boolean):[]},qh=function(e){return void 0===e},Yh=function(e,t,n){if(!t||!Vh(e))return n;var r=Hh(t.split(/[,[\].]+?/)).reduce((function(e,t){return jh(e)?e:e[t]}),e);return qh(r)||r===e?qh(e[t])?n:e[t]:r},Wh="blur",Xh="focusout",Kh="onBlur",$h="onChange",Qh="onSubmit",Zh="onTouched",Jh="all",ed="max",td="min",nd="maxLength",rd="minLength",id="pattern",od="required",ad="validate",sd=e.createContext(null),ud=function(){return e.useContext(sd)},ld=function(t){var n=t.children,r=Ms(t,Ph);return e.createElement(sd.Provider,{value:r},n)},cd=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={},o=function(o){Object.defineProperty(i,o,{get:function(){var i=o;return t[i]!==Jh&&(t[i]=!r||Jh),n&&(n[i]=!0),e[i]}})};for(var a in e)o(a);return i},fd=function(e){return Vh(e)&&!Object.keys(e).length},hd=function(e,t,n){e.name;var r=Ms(e,Lh);return fd(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find((function(e){return t[e]===(!n||Jh)}))},dd=function(e){return Array.isArray(e)?e:[e]};function pd(t){var n=e.useRef(t);n.current=t,e.useEffect((function(){var e=!t.disabled&&n.current.subject.subscribe({next:n.current.callback});return function(){return function(e){e&&e.unsubscribe()}(e)}}),[t.disabled])}var gd=function(e){return"string"===typeof e},vd=function(e,t,n,r){var i=Array.isArray(e);return gd(e)?(r&&t.watch.add(e),Yh(n,e)):i?e.map((function(e){return r&&t.watch.add(e),Yh(n,e)})):(r&&(t.watchAll=!0),n)},yd=function(e){return"function"===typeof e},md=function(e){for(var t in e)if(yd(e[t]))return!0;return!1};var bd=function(e,t,n,r,o){return t?a(a({},n[e]),{},{types:a(a({},n[e]&&n[e].types?n[e].types:{}),{},i({},r,o||!0))}):{}},_d=function(e){return/^\w*$/.test(e)},wd=function(e){return Hh(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function xd(e,t,n){for(var r=-1,i=_d(t)?[t]:wd(t),o=i.length,a=o-1;++r<o;){var s=i[r],u=n;if(r!==a){var l=e[s];u=Vh(l)||Array.isArray(l)?l:isNaN(+i[r+1])?{}:[]}e[s]=u,e=e[s]}return e}var Ed=function e(t,n,r){var i,o=f(r||Object.keys(t));try{for(o.s();!(i=o.n()).done;){var a=i.value,s=Yh(t,a);if(s){var u=s._f,l=Ms(s,Ah);if(u&&n(u.name)){if(u.ref.focus&&qh(u.ref.focus()))break;if(u.refs){u.refs[0].focus();break}}else Vh(l)&&e(l,n)}}}catch(c){o.e(c)}finally{o.f()}},kd=function(){var e="undefined"===typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(16*Math.random()+e)%16|0;return("x"==t?n:3&n|8).toString(16)}))},Cd=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.shouldFocus||qh(n.shouldFocus)?n.focusName||"".concat(e,".").concat(qh(n.focusIndex)?t:n.focusIndex,"."):""},Sd=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||q(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))};function Nd(e,t){return[].concat(q(e),q(dd(t)))}var Td="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function Id(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(Td&&(e instanceof Blob||e instanceof FileList)||!n&&!Vh(e))return e;for(var r in t=n?[]:{},e){if(yd(e[r])){t=e;break}t[r]=Id(e[r])}}return t}var Dd=function(e){return Array.isArray(e)?e.map((function(){})):void 0};function Md(e,t,n){return[].concat(q(e.slice(0,t)),q(dd(n)),q(e.slice(t)))}var Od=function(e,t,n){return Array.isArray(e)?(qh(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[]};function Pd(e,t){return[].concat(q(dd(t)),q(dd(e)))}var Ld=function(e,t){return qh(t)?[]:function(e,t){var n,r=0,i=q(e),o=f(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;i.splice(a-r,1),r++}}catch(s){o.e(s)}finally{o.f()}return Hh(i).length?i:[]}(e,dd(t).sort((function(e,t){return e-t})))},Ad=function(e,t,n){e[t]=[e[n],e[n]=e[t]][0]};function Rd(e,t){var n,r=_d(t)?[t]:wd(t),i=1==r.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=qh(e)?r++:e[t[r++]];return e}(e,r),o=r[r.length-1];i&&delete i[o];for(var a=0;a<r.slice(0,-1).length;a++){var s=-1,u=void 0,l=r.slice(0,-(a+1)),c=l.length-1;for(a>0&&(n=e);++s<l.length;){var f=l[s];u=u?u[f]:e[f],c===s&&(Vh(u)&&fd(u)||Array.isArray(u)&&!u.filter((function(e){return!qh(e)})).length)&&(n?delete n[f]:delete e[f]),n=u}}return e}var Fd=function(e,t,n){return e[t]=n,e};function zd(){var e=[];return{get observers(){return e},next:function(t){var n,r=f(e);try{for(r.s();!(n=r.n()).done;){n.value.next(t)}}catch(i){r.e(i)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var jd=function(e){return jh(e)||!Bh(e)};function Bd(e,t){if(jd(e)||jd(t))return e===t;if(zh(e)&&zh(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,o=n;i<o.length;i++){var a=o[i],s=e[a];if(!r.includes(a))return!1;if("ref"!==a){var u=t[a];if(zh(s)&&zh(u)||Vh(s)&&Vh(u)||Array.isArray(s)&&Array.isArray(u)?!Bd(s,u):s!==u)return!1}}return!0}var Vd=function(e){return{isOnSubmit:!e||e===Qh,isOnBlur:e===Kh,isOnChange:e===$h,isOnAll:e===Jh,isOnTouch:e===Zh}},Ud=function(e){return"boolean"===typeof e},Gd=function(e){return"file"===e.type},Hd=function(e){var t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},qd=function(e){return"select-multiple"===e.type},Yd=function(e){return"radio"===e.type},Wd=function(e){return Yd(e)||Fh(e)},Xd=function(e){return Hd(e)&&e.isConnected};function Kd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(Vh(e)||n)for(var r in e)Array.isArray(e[r])||Vh(e[r])&&!md(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Kd(e[r],t[r])):jh(e[r])||(t[r]=!0);return t}function $d(e,t,n){var r=Array.isArray(e);if(Vh(e)||r)for(var i in e)Array.isArray(e[i])||Vh(e[i])&&!md(e[i])?qh(t)||jd(n[i])?n[i]=Array.isArray(e[i])?Kd(e[i],[]):a({},Kd(e[i])):$d(e[i],jh(t)?{}:t[i],n[i]):n[i]=!Bd(e[i],t[i]);return n}var Qd=function(e,t){return $d(e,t,Kd(t))},Zd={value:!1,isValid:!1},Jd={value:!0,isValid:!0},ep=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!qh(e[0].attributes.value)?qh(e[0].value)||""===e[0].value?Jd:{value:e[0].value,isValid:!0}:Jd:Zd}return Zd},tp=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return qh(e)?e:n?""===e||jh(e)?NaN:+e:r&&gd(e)?new Date(e):i?i(e):e},np={isValid:!1,value:null},rp=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),np):np};function ip(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return Gd(t)?t.files:Yd(t)?rp(e.refs).value:qd(t)?q(t.selectedOptions).map((function(e){return e.value})):Fh(t)?ep(e.refs).value:tp(qh(t.value)?e.ref.value:t.value,e)}var op=function(e,t,n,r){var i,o={},a=f(e);try{for(a.s();!(i=a.n()).done;){var s=i.value,u=Yh(t,s);u&&xd(o,s,u._f)}}catch(l){a.e(l)}finally{a.f()}return{criteriaMode:n,names:q(e),fields:o,shouldUseNativeValidation:r}},ap=function(e){return e instanceof RegExp},sp=function(e){return qh(e)?void 0:ap(e)?e.source:Vh(e)?ap(e.value)?e.value.source:e.value:e},up=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function lp(e,t,n){var r=Yh(e,n);if(r||_d(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var o=i.join("."),a=Yh(t,o),s=Yh(e,o);if(a&&!Array.isArray(a)&&n!==o)return{name:n};if(s&&s.type)return{name:o,error:s};i.pop()}return{name:n}}var cp=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},fp=function(e,t){return!Hh(Yh(e,t)).length&&Rd(e,t)},hp=function(t){return gd(t)||e.isValidElement(t)};function dp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(hp(e)||Array.isArray(e)&&e.every(hp)||Ud(e)&&!e)return{type:n,message:hp(e)?e:"",ref:t}}var pp=function(e){return Vh(e)&&!ap(e)?e:{value:e,message:""}},gp=function(){var e=Ps(X().mark((function e(t,n,r,i){var o,s,u,l,c,f,h,d,p,g,v,y,m,b,_,w,x,E,k,C,S,N,T,I,D,M,O,P,L,A,R,F,z,j,B,V,U,G,H,q,Y,W,K,$;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t._f,s=o.ref,u=o.refs,l=o.required,c=o.maxLength,f=o.minLength,h=o.min,d=o.max,p=o.pattern,g=o.validate,v=o.name,y=o.valueAsNumber,m=o.mount,b=o.disabled,m&&!b){e.next=3;break}return e.abrupt("return",{});case 3:if(_=u?u[0]:s,w=function(e){i&&_.reportValidity&&(_.setCustomValidity(Ud(e)?"":e||" "),_.reportValidity())},x={},E=Yd(s),k=Fh(s),C=E||k,S=(y||Gd(s))&&!s.value||""===n||Array.isArray(n)&&!n.length,N=bd.bind(null,v,r,x),T=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:nd,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:rd,o=e?t:n;x[v]=a({type:e?r:i,message:o,ref:s},N(e?r:i,o))},!l||!(!C&&(S||jh(n))||Ud(n)&&!n||k&&!ep(u).isValid||E&&!rp(u).isValid)){e.next=19;break}if(I=hp(l)?{value:!!l,message:l}:pp(l),D=I.value,M=I.message,!D){e.next=19;break}if(x[v]=a({type:od,message:M,ref:_},N(od,M)),r){e.next=19;break}return w(M),e.abrupt("return",x);case 19:if(S||jh(h)&&jh(d)){e.next=28;break}if(L=pp(d),A=pp(h),jh(n)||isNaN(n)?(F=s.valueAsDate||new Date(n),gd(L.value)&&(O=F>new Date(L.value)),gd(A.value)&&(P=F<new Date(A.value))):(R=s.valueAsNumber||+n,jh(L.value)||(O=R>L.value),jh(A.value)||(P=R<A.value)),!O&&!P){e.next=28;break}if(T(!!O,L.message,A.message,ed,td),r){e.next=28;break}return w(x[v].message),e.abrupt("return",x);case 28:if(!c&&!f||S||!gd(n)){e.next=38;break}if(z=pp(c),j=pp(f),B=!jh(z.value)&&n.length>z.value,V=!jh(j.value)&&n.length<j.value,!B&&!V){e.next=38;break}if(T(B,z.message,j.message),r){e.next=38;break}return w(x[v].message),e.abrupt("return",x);case 38:if(!p||S||!gd(n)){e.next=45;break}if(U=pp(p),G=U.value,H=U.message,!ap(G)||n.match(G)){e.next=45;break}if(x[v]=a({type:id,message:H,ref:s},N(id,H)),r){e.next=45;break}return w(H),e.abrupt("return",x);case 45:if(!g){e.next=79;break}if(!yd(g)){e.next=58;break}return e.next=49,g(n);case 49:if(q=e.sent,!(Y=dp(q,_))){e.next=56;break}if(x[v]=a(a({},Y),N(ad,Y.message)),r){e.next=56;break}return w(Y.message),e.abrupt("return",x);case 56:e.next=79;break;case 58:if(!Vh(g)){e.next=79;break}W={},e.t0=X().keys(g);case 61:if((e.t1=e.t0()).done){e.next=75;break}if(K=e.t1.value,fd(W)||r){e.next=65;break}return e.abrupt("break",75);case 65:return e.t2=dp,e.next=68,g[K](n);case 68:e.t3=e.sent,e.t4=_,e.t5=K,($=(0,e.t2)(e.t3,e.t4,e.t5))&&(W=a(a({},$),N(K,$.message)),w($.message),r&&(x[v]=W)),e.next=61;break;case 75:if(fd(W)){e.next=79;break}if(x[v]=a({ref:_},W),r){e.next=79;break}return e.abrupt("return",x);case 79:return w(!0),e.abrupt("return",x);case 81:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),vp={mode:Qh,reValidateMode:$h,shouldFocusError:!0};function yp(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=a(a({},vp),t),r={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},o={},s=Id(n.defaultValues)||{},u=n.shouldUnregister?{}:Id(s),l={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},h=0,d={},p={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={watch:zd(),array:zd(),state:zd()},v=Vd(n.mode),y=Vd(n.reValidateMode),m=n.criteriaMode===Jh,b=function(e){return function(t){clearTimeout(h),h=window.setTimeout(e,t)}},_=function(){var e=Ps(X().mark((function e(t){var i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!1,!p.isValid){e.next=15;break}if(!n.resolver){e.next=10;break}return e.t1=fd,e.next=6,S();case 6:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=13;break;case 10:return e.next=12,T(o,!0);case 12:e.t0=e.sent;case 13:i=e.t0,t||i===r.isValid||(r.isValid=i,g.state.next({isValid:i}));case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],c=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(i&&n){if(l.action=!0,c&&Array.isArray(Yh(o,e))){var f=n(Yh(o,e),i.argA,i.argB);a&&xd(o,e,f)}if(p.errors&&c&&Array.isArray(Yh(r.errors,e))){var h=n(Yh(r.errors,e),i.argA,i.argB);a&&xd(r.errors,e,h),fp(r.errors,e)}if(p.touchedFields&&c&&Array.isArray(Yh(r.touchedFields,e))){var d=n(Yh(r.touchedFields,e),i.argA,i.argB);a&&xd(r.touchedFields,e,d)}p.dirtyFields&&(r.dirtyFields=Qd(s,u)),g.state.next({isDirty:D(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else xd(u,e,t)},x=function(e,t){xd(r.errors,e,t),g.state.next({errors:r.errors})},E=function(e,t,n,r){var i=Yh(o,e);if(i){var a=Yh(u,e,qh(n)?Yh(s,e):n);qh(a)||r&&r.defaultChecked||t?xd(u,e,t?a:ip(i._f)):P(e,a),l.mount&&_()}},k=function(e,t,n,i,o){var a=!1,u={name:e},l=Yh(r.touchedFields,e);if(p.isDirty){var c=r.isDirty;r.isDirty=u.isDirty=D(),a=c!==u.isDirty}if(p.dirtyFields&&(!n||i)){var f=Yh(r.dirtyFields,e);Bd(Yh(s,e),t)?Rd(r.dirtyFields,e):xd(r.dirtyFields,e,!0),u.dirtyFields=r.dirtyFields,a=a||f!==Yh(r.dirtyFields,e)}return n&&!l&&(xd(r.touchedFields,e,n),u.touchedFields=r.touchedFields,a=a||p.touchedFields&&l!==n),a&&o&&g.state.next(u),a?u:{}},C=function(){var n=Ps(X().mark((function n(i,o,s,u){var l,c,f;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l=Yh(r.errors,i),c=p.isValid&&r.isValid!==o,t.delayError&&s?(e=b((function(){return x(i,s)})))(t.delayError):(clearTimeout(h),e=null,s?xd(r.errors,i,s):Rd(r.errors,i)),(s?Bd(l,s):!l)&&fd(u)&&!c||(f=a(a(a({},u),c?{isValid:o}:{}),{},{errors:r.errors,name:i}),r=a(a({},r),f),g.state.next(f)),d[i]--,p.isValidating&&!Object.values(d).some((function(e){return e}))&&(g.state.next({isValidating:!1}),d={});case 6:case"end":return n.stop()}}),n)})));return function(e,t,r,i){return n.apply(this,arguments)}}(),S=function(){var e=Ps(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.resolver){e.next=6;break}return e.next=3,n.resolver(a({},u),n.context,op(t||c.mount,o,n.criteriaMode,n.shouldUseNativeValidation));case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0={};case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Ps(X().mark((function e(t){var n,i,o,a,s,u;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:if(n=e.sent,i=n.errors,t){o=f(t);try{for(o.s();!(a=o.n()).done;)s=a.value,(u=Yh(i,s))?xd(r.errors,s,u):Rd(r.errors,s)}catch(l){o.e(l)}finally{o.f()}}else r.errors=i;return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Ps(X().mark((function e(t,i){var o,a,s,l,c,f,h=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=h.length>2&&void 0!==h[2]?h[2]:{valid:!0},e.t0=X().keys(t);case 2:if((e.t1=e.t0()).done){e.next=22;break}if(a=e.t1.value,!(s=t[a])){e.next=20;break}if(l=s._f,c=Ms(s,Rh),!l){e.next=16;break}return e.next=10,gp(s,Yh(u,l.name),m,n.shouldUseNativeValidation);case 10:if(!(f=e.sent)[l.name]){e.next=15;break}if(o.valid=!1,!i){e.next=15;break}return e.abrupt("break",22);case 15:i||(f[l.name]?xd(r.errors,l.name,f[l.name]):Rd(r.errors,l.name));case 16:if(e.t2=c,!e.t2){e.next=20;break}return e.next=20,T(c,i,o);case 20:e.next=2;break;case 22:return e.abrupt("return",o.valid);case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e,t=f(c.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=Yh(o,n);r&&(r._f.refs?r._f.refs.every((function(e){return!Xd(e)})):!Xd(r._f.ref))&&G(n)}}catch(i){t.e(i)}finally{t.f()}c.unMount=new Set},D=function(e,t){return e&&t&&xd(u,e,t),!Bd(z(),s)},M=function(e,t,n){var r=a({},l.mount?u:qh(t)?s:gd(e)?i({},e,t):t);return vd(e,c,r,n)},O=function(e){return Hh(Yh(l.mount?u:s,e,t.shouldUnregister?Yh(s,e,[]):[]))},P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Yh(o,e),i=t;if(r){var a=r._f;a&&(!a.disabled&&xd(u,e,tp(t,a)),i=Td&&Hd(a.ref)&&jh(t)?"":t,qd(a.ref)?q(a.ref.options).forEach((function(e){return e.selected=i.includes(e.value)})):a.refs?Fh(a.ref)?a.refs.length>1?a.refs.forEach((function(e){return!e.disabled&&(e.checked=Array.isArray(i)?!!i.find((function(t){return t===e.value})):i===e.value)})):a.refs[0]&&(a.refs[0].checked=!!i):a.refs.forEach((function(e){return e.checked=e.value===i})):Gd(a.ref)?a.ref.value="":(a.ref.value=i,a.ref.type||g.watch.next({name:e})))}(n.shouldDirty||n.shouldTouch)&&k(e,i,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&F(e)},L=function e(t,n,r){for(var i in n){var a=n[i],s="".concat(t,".").concat(i),u=Yh(o,s);!c.array.has(t)&&jd(a)&&(!u||u._f)||zh(a)?P(s,a,r):e(s,a,r)}},A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Yh(o,e),a=c.array.has(e),l=Id(t);xd(u,e,l),a?(g.array.next({name:e,values:u}),(p.isDirty||p.dirtyFields)&&n.shouldDirty&&(r.dirtyFields=Qd(s,u),g.state.next({name:e,dirtyFields:r.dirtyFields,isDirty:D(e,l)}))):!i||i._f||jh(l)?P(e,l,n):L(e,l,n),Sd(e,c)&&g.state.next({}),g.watch.next({name:e})},R=function(){var t=Ps(X().mark((function t(i){var s,l,f,h,p,b,w,x,E,N,T,I,D,M,O;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=i.target,l=s.name,!(f=Yh(o,l))){t.next=39;break}if(b=s.type?ip(f._f):Uh(i),w=i.type===Wh||i.type===Xh,x=!up(f._f)&&!n.resolver&&!Yh(r.errors,l)&&!f._f.deps||cp(w,Yh(r.touchedFields,l),r.isSubmitted,y,v),E=Sd(l,c,w),xd(u,l,b),w?(f._f.onBlur&&f._f.onBlur(i),e&&e(0)):f._f.onChange&&f._f.onChange(i),N=k(l,b,w,!1),T=!fd(N)||E,!w&&g.watch.next({name:l,type:i.type}),!x){t.next=15;break}return t.abrupt("return",T&&g.state.next(a({name:l},E?{}:N)));case 15:if(!w&&E&&g.state.next({}),d[l]=(d[l],1),g.state.next({isValidating:!0}),!n.resolver){t.next=30;break}return t.next=21,S([l]);case 21:I=t.sent,D=I.errors,M=lp(r.errors,o,l),O=lp(D,o,M.name||l),h=O.error,l=O.name,p=fd(D),t.next=37;break;case 30:return t.next=32,gp(f,Yh(u,l),m,n.shouldUseNativeValidation);case 32:return t.t0=l,h=t.sent[t.t0],t.next=36,_(!0);case 36:p=t.sent;case 37:f._f.deps&&F(f._f.deps),C(l,p,h,N);case 39:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=function(){var e=Ps(X().mark((function e(t){var s,u,l,f,h,d=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=d.length>1&&void 0!==d[1]?d[1]:{},f=dd(t),g.state.next({isValidating:!0}),!n.resolver){e.next=11;break}return e.next=6,N(qh(t)?t:f);case 6:h=e.sent,u=fd(h),l=t?!f.some((function(e){return Yh(h,e)})):u,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(f.map(function(){var e=Ps(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Yh(o,t),e.next=3,T(n&&n._f?i({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((l=e.sent.every(Boolean))||r.isValid)&&_(),e.next=21;break;case 18:return e.next=20,T(o);case 20:l=u=e.sent;case 21:return g.state.next(a(a(a({},!gd(t)||p.isValid&&u!==r.isValid?{}:{name:t}),n.resolver?{isValid:u}:{}),{},{errors:r.errors,isValidating:!1})),s.shouldFocus&&!l&&Ed(o,(function(e){return Yh(r.errors,e)}),t?f:c.mount),e.abrupt("return",l);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(e){var t=a(a({},s),l.mount?u:{});return qh(e)?t:gd(e)?Yh(t,e):e.map((function(e){return Yh(t,e)}))},j=function(e,t){return{invalid:!!Yh((t||r).errors,e),isDirty:!!Yh((t||r).dirtyFields,e),isTouched:!!Yh((t||r).touchedFields,e),error:Yh((t||r).errors,e)}},B=function(e){e?dd(e).forEach((function(e){return Rd(r.errors,e)})):r.errors={},g.state.next({errors:r.errors})},V=function(e,t,n){var i=(Yh(o,e,{_f:{}})._f||{}).ref;xd(r.errors,e,a(a({},t),{},{ref:i})),g.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&i&&i.focus&&i.focus()},U=function(e,t){return yd(e)?g.watch.subscribe({next:function(n){return e(M(void 0,t),n)}}):M(e,t,!0)},G=function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=f(e?dd(e):c.mount);try{for(l.s();!(t=l.n()).done;){var h=t.value;c.mount.delete(h),c.array.delete(h),Yh(o,h)&&(i.keepValue||(Rd(o,h),Rd(u,h)),!i.keepError&&Rd(r.errors,h),!i.keepDirty&&Rd(r.dirtyFields,h),!i.keepTouched&&Rd(r.touchedFields,h),!n.shouldUnregister&&!i.keepDefaultValue&&Rd(s,h))}}catch(d){l.e(d)}finally{l.f()}g.watch.next({}),g.state.next(a(a({},r),i.keepDirty?{isDirty:D()}:{})),!i.keepIsValid&&_()},H=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Yh(o,t),f=Ud(r.disabled);return xd(o,t,{_f:a(a({},i&&i._f?i._f:{ref:{name:t}}),{},{name:t,mount:!0},r)}),c.mount.add(t),i?f&&xd(u,t,r.disabled?void 0:Yh(u,t,ip(i._f))):E(t,!0,r.value),a(a(a({},f?{disabled:r.disabled}:{}),n.shouldUseNativeValidation?{required:!!r.required,min:sp(r.min),max:sp(r.max),minLength:sp(r.minLength),maxLength:sp(r.maxLength),pattern:sp(r.pattern)}:{}),{},{name:t,onChange:R,onBlur:R,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(u){if(u){e(t,r),i=Yh(o,t);var f=qh(u.value)&&u.querySelectorAll&&u.querySelectorAll("input,select,textarea")[0]||u,h=Wd(f),d=i._f.refs||[];if(h?d.find((function(e){return e===f})):f===i._f.ref)return;xd(o,t,{_f:a(a({},i._f),h?{refs:[].concat(q(d.filter(Xd)),[f],q(Array.isArray(Yh(s,t))?[{}]:[])),ref:{type:f.type,name:t}}:{ref:f})}),E(t,!1,void 0,f)}else(i=Yh(o,t,{}))._f&&(i._f.mount=!1),(n.shouldUnregister||r.shouldUnregister)&&(!Gh(c.array,t)||!l.action)&&c.unMount.add(t)}))})},Y=function(e,t){return function(){var i=Ps(X().mark((function i(s){var l,f,h,d,p;return X().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(s&&(s.preventDefault&&s.preventDefault(),s.persist&&s.persist()),l=!0,f=Id(u),g.state.next({isSubmitting:!0}),i.prev=4,!n.resolver){i.next=15;break}return i.next=8,S();case 8:h=i.sent,d=h.errors,p=h.values,r.errors=d,f=p,i.next=17;break;case 15:return i.next=17,T(o);case 17:if(!fd(r.errors)){i.next=23;break}return g.state.next({errors:{},isSubmitting:!0}),i.next=21,e(f,s);case 21:i.next=27;break;case 23:if(!t){i.next=26;break}return i.next=26,t(a({},r.errors),s);case 26:n.shouldFocusError&&Ed(o,(function(e){return Yh(r.errors,e)}),c.mount);case 27:i.next=33;break;case 29:throw i.prev=29,i.t0=i.catch(4),l=!1,i.t0;case 33:return i.prev=33,r.isSubmitted=!0,g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:fd(r.errors)&&l,submitCount:r.submitCount+1,errors:r.errors}),i.finish(33);case 37:case"end":return i.stop()}}),i,null,[[4,29,33,37]])})));return function(e){return i.apply(this,arguments)}}()},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Yh(o,e)&&(qh(t.defaultValue)?A(e,Yh(s,e)):(A(e,t.defaultValue),xd(s,e,t.defaultValue)),t.keepTouched||Rd(r.touchedFields,e),t.keepDirty||(Rd(r.dirtyFields,e),r.isDirty=t.defaultValue?D(e,Yh(s,e)):D()),t.keepError||(Rd(r.errors,e),p.isValid&&_()),g.state.next(a({},r)))},K=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e||s,a=Id(i),h=e&&!fd(e)?a:s;if(n.keepDefaultValues||(s=i),!n.keepValues){if(n.keepDirtyValues){var d,v=f(c.mount);try{for(v.s();!(d=v.n()).done;){var y=d.value;Yh(r.dirtyFields,y)?xd(h,y,Yh(u,y)):A(y,Yh(h,y))}}catch(E){v.e(E)}finally{v.f()}}else{if(Td&&qh(e)){var m,b=f(c.mount);try{for(b.s();!(m=b.n()).done;){var _=m.value,w=Yh(o,_);if(w&&w._f){var x=Array.isArray(w._f.refs)?w._f.refs[0]:w._f.ref;try{Hd(x)&&x.closest("form").reset();break}catch(k){}}}}catch(E){b.e(E)}finally{b.f()}}o={}}u=t.shouldUnregister?n.keepDefaultValues?Id(s):{}:a,g.array.next({values:h}),g.watch.next({values:h})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!p.isValid||!!n.keepIsValid,l.watch=!!t.shouldUnregister,g.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:n.keepDirty||n.keepDirtyValues?r.isDirty:!(!n.keepDefaultValues||Bd(e,s)),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:n.keepDirty||n.keepDirtyValues?r.dirtyFields:n.keepDefaultValues&&e?Qd(s,e):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Yh(o,e)._f,r=n.refs?n.refs[0]:n.ref;r.focus(),t.shouldSelect&&r.select()};return{control:{register:H,unregister:G,getFieldState:j,_executeSchema:S,_getWatch:M,_getDirty:D,_updateValid:_,_removeUnmounted:I,_updateFieldArray:w,_getFieldArray:O,_subjects:g,_proxyFormState:p,get _fields(){return o},get _formValues(){return u},get _stateFlags(){return l},set _stateFlags(e){l=e},get _defaultValues(){return s},get _names(){return c},set _names(e){c=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n=a(a({},n),e)}},trigger:F,register:H,handleSubmit:Y,watch:U,setValue:A,getValues:z,reset:K,resetField:W,clearErrors:B,unregister:G,setError:V,setFocus:$,getFieldState:j}}function mp(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.useRef(),r=e.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}}),i=c(r,2),o=i[0],s=i[1];n.current?n.current.control._options=t:n.current=a(a({},yp(t)),{},{formState:o});var u=n.current.control,l=e.useCallback((function(e){hd(e,u._proxyFormState,!0)&&(u._formState=a(a({},u._formState),e),s(a({},u._formState)))}),[u]);return pd({subject:u._subjects.state,callback:l}),e.useEffect((function(){u._stateFlags.mount||(u._proxyFormState.isValid&&u._updateValid(),u._stateFlags.mount=!0),u._stateFlags.watch&&(u._stateFlags.watch=!1,u._subjects.state.next({})),u._removeUnmounted()})),n.current.formState=cd(o,u._proxyFormState),n.current}var bp=e.forwardRef((function(t,n){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},t),e.createElement("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"}))}));function _p(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=_p(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var wp=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=_p(e))&&(r&&(r+=" "),r+=t);return r},xp=function(){var e=ud(),t=e.register,n=e.watch,r=e.formState.errors,i=n("useWebrtc",!1),o=n("useWebSocket",!1);return(0,ds.jsxs)(ds.Fragment,{children:[(0,ds.jsxs)(Oh,{children:[(0,ds.jsx)(Oh.Button,{className:"flex w-full ".concat(i&&"bg-green-300 dark:bg-green-800"),children:function(e){var n=e.open;return(0,ds.jsxs)("div",{className:"flex flex-1 gap-3 justify-between items-center w-full px-3 py-2 font-medium font-mono text-left text-base",children:[(0,ds.jsx)("input",a({type:"checkbox",className:"w-6 h-6","aria-label":"use Webrtc",onClick:function(e){return e.stopPropagation()}},t("useWebrtc",{value:!1}))),(0,ds.jsx)("span",{className:"flex-1",children:"WebRTC"}),(0,ds.jsx)(bp,{className:"".concat(n?"transform rotate-180":""," w-5 h-5")})]})}}),(0,ds.jsxs)(Oh.Panel,{className:"px-4 py-2 space-y-2 ".concat(!i&&"opacity-30"),unmount:!1,children:[(0,ds.jsxs)("div",{children:[(0,ds.jsx)("label",{className:"block leading-6",htmlFor:"webrtcRoom",children:"Room Name"}),(0,ds.jsx)("input",a({type:"text",className:"w-full h-8 ".concat(wp(r.webrtcRoom&&"border-red-500 dark:border-red-500")),placeholder:"room1337"},t("webrtcRoom",{required:!0,value:"",disabled:!i})))]}),(0,ds.jsxs)("div",{children:[(0,ds.jsx)("label",{className:"block leading-6",htmlFor:"webrtcPassword",children:"Room Password"}),(0,ds.jsx)("input",a({type:"text",className:"w-full h-8 ".concat(wp(r.webrtcPassword&&"border-red-500 dark:border-red-500")),placeholder:"1337p@ssW0rD"},t("webrtcPassword",{required:!0,value:"",disabled:!i})))]}),(0,ds.jsxs)("div",{children:[(0,ds.jsx)("label",{className:"block leading-6",htmlFor:"webrtcSignaling",children:"Signaling Server"}),(0,ds.jsx)("input",a({type:"text",placeholder:"ws://localhost:1234",className:"w-full h-8 ".concat(wp(r.webrtcSignaling&&"border-red-500 dark:border-red-500"))},t("webrtcSignaling",{required:!0,value:"",disabled:!i})))]})]})]}),(0,ds.jsxs)(Oh,{children:[(0,ds.jsx)(Oh.Button,{className:"flex w-full ".concat(o&&"bg-green-300 dark:bg-green-800"),children:function(e){var n=e.open;return(0,ds.jsxs)("div",{className:"flex flex-1 gap-3 justify-between items-center w-full px-3 py-2 font-medium font-mono text-left text-base",children:[(0,ds.jsx)("input",a({type:"checkbox",className:"w-6 h-6","aria-label":"use Websocket",onClick:function(e){return e.stopPropagation()}},t("useWebSocket",{value:!1}))),(0,ds.jsx)("span",{className:"flex-1",children:"WebSocket"}),(0,ds.jsx)(bp,{className:"".concat(n?"transform rotate-180":""," w-5 h-5")})]})}}),(0,ds.jsxs)(Oh.Panel,{className:"px-4 py-2 space-y-2 ".concat(!o&&"opacity-30"),unmount:!1,children:[(0,ds.jsxs)("div",{children:[(0,ds.jsx)("label",{className:"block leading-6",htmlFor:"webSocketRoom",children:"Room Name"}),(0,ds.jsx)("input",a({type:"text",className:"w-full h-8 ".concat(wp(r.webSocketRoom&&"border-red-500 dark:border-red-500")),placeholder:"room1337"},t("webSocketRoom",{required:!0,value:"",disabled:!o})))]}),(0,ds.jsxs)("div",{children:[(0,ds.jsx)("label",{className:"block leading-6",htmlFor:"webSocketServer",children:"Signaling Server"}),(0,ds.jsx)("input",a({type:"text",placeholder:"ws://localhost:1234",className:"w-full h-8 ".concat(wp(r.webSocketServer&&"border-red-500 dark:border-red-500"))},t("webSocketServer",{required:!0,value:"",disabled:!o})))]})]})]})]})},Ep=function(t){var n=t.open,r=t.setOpen,i=hs((function(e){return e.addProvider})),o=hs((function(e){return e.ydoc})),s=hs((function(e){return e.providersStore})),u=hs((function(e){return e.getAwareness()})),l=(0,e.useRef)(null),c=mp(),f=(0,c.handleSubmit)((function(e){var t=1==e.useWebrtc&&"string"===typeof e.webrtcRoom&&"string"===typeof e.webrtcPassword&&"string"===typeof e.webrtcSignaling,n=1==e.useWebSocket&&"string"===typeof e.webSocketRoom&&"string"===typeof e.webSocketServer;t&&!s.webrtc.provider&&u?(i(new Za(e.webrtcRoom,o,{signaling:[e.webrtcSignaling],password:e.webrtcPassword,awareness:u,filterBcConns:!1})),r(!1)):n&&!s.websocket.provider&&u&&(i(new as(e.webSocketServer,e.webSocketRoom,o,{awareness:u})),r(!1))}));return(0,ds.jsx)(uf,{show:n,as:e.Fragment,children:(0,ds.jsx)(ph,{as:"div",className:"fixed inset-0 overflow-y-auto z-max",onClose:r,initialFocus:l,children:(0,ds.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20",children:[(0,ds.jsx)(uf.Child,{as:e.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,ds.jsx)("div",{className:"backdrop fixed inset-0"})}),(0,ds.jsx)(uf.Child,{as:e.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,ds.jsxs)(ph.Panel,{className:"flex flex-col self-center align-bottom text-left overflow-hidden shadow-xl transition-all max-w-lg w-full",children:[(0,ds.jsx)("div",{className:"topbar",children:(0,ds.jsx)(ph.Title,{as:"h1",className:"font-mono text-lg p-3 text-white",children:"Create Connection"})}),(0,ds.jsx)("div",{className:"panel max-h-[76vh] overflow-y-auto",children:(0,ds.jsx)(ld,a(a({},c),{},{children:(0,ds.jsx)("form",{onSubmit:f,id:"connectionForm",className:"divide-y dark:divide-neutral-700",children:(0,ds.jsx)(xp,{})})}))}),(0,ds.jsx)("div",{className:"panel border-t flex-row-reverse flex px-3 py-2",children:(0,ds.jsx)("button",{type:"submit",form:"connectionForm",ref:l,className:"w-auto inline-flex justify-center shadow-sm px-4 py-2 my-0 bg-green-300 hover:bg-green-200 dark:bg-green-800 dark:hover:bg-green-500 text-sm font-medium font-mono focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-600",children:"Connect"})})]})})]})})})},kp=function(t){var n=t.isOnlineMode,r=c((0,e.useState)(!1),2),i=r[0],o=r[1];return(0,ds.jsxs)("div",{className:"panel transition-colors absolute bottom-0 right-0 left-0 flex flex-row-reverse h-fit border-solid border-t",children:[(0,ds.jsx)("div",{onClick:function(){return o((function(e){return!e}))},className:"font-mono text-white h-fit w-fit  cursor-pointer px-1 ".concat(n?"bg-green-500 hover:bg-green-300":"bg-red-500 hover:bg-red-300"),children:n?"Online ":"Local"}),(0,ds.jsx)(Ep,{open:i,setOpen:o})]})},Cp={floatable:!0,maximizable:!0},Sp="place-holder",Np="-maximized-placeholder-",Tp={floatable:!1},Ip=e.createContext(null),Dp=Ip.Provider;Ip.Consumer;function Mp(){return Mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mp.apply(this,arguments)}var Op=n(5905),Pp=n.n(Op),Lp=n(9985);function Ap(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return e.Children.forEach(t,(function(e){(void 0!==e&&null!==e||n.keepEmpty)&&(Array.isArray(e)?r=r.concat(Ap(e)):(0,Lp.isFragment)(e)&&e.props?r=r.concat(Ap(e.props.children,n)):r.push(e))})),r}var Rp=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4)))};function Fp(t){var n=e.useRef();n.current=t;var r=e.useCallback((function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(r))}),[]);return r}function zp(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var jp,Bp=zp()?e.useLayoutEffect:e.useEffect,Vp=Bp;function Up(t){var n=e.useRef(!1),r=c(e.useState(t),2),i=r[0],o=r[1];return e.useEffect((function(){return n.current=!1,function(){n.current=!0}}),[]),[i,function(e,t){t&&n.current||o(e)}]}function Gp(e){return void 0!==e}function Hp(t,n){var r=n||{},i=r.defaultValue,o=r.value,a=r.onChange,s=r.postState,u=c(Up((function(){var e,n=void 0;return Gp(o)?(n=o,e=jp.PROP):Gp(i)?(n="function"===typeof i?i():i,e=jp.PROP):(n="function"===typeof t?t():t,e=jp.INNER),[n,e,n]})),2),l=u[0],f=u[1],h=Gp(o)?o:l[0],d=s?s(h):h;!function(t,n){var r=e.useRef(!0);Bp((function(){if(!r.current)return t()}),n),Bp((function(){return r.current=!1,function(){r.current=!0}}),[])}((function(){f((function(e){var t=c(e,1)[0];return[o,jp.PROP,t]}))}),[o]);var p=e.useRef(),g=Fp((function(e,t){f((function(t){var n=c(t,3),r=n[0],i=n[1],o=n[2],a="function"===typeof e?e(r):e;if(a===r)return t;var s=i===jp.INNER&&p.current!==o?o:r;return[a,jp.INNER,s]}),t)})),v=Fp(a);return Vp((function(){var e=c(l,3),t=e[0],n=e[1],r=e[2];t!==r&&n===jp.INNER&&(v(t,r),p.current=r)}),[l]),[d,g]}!function(e){e[e.INNER=0]="INNER",e[e.PROP=1]="PROP"}(jp||(jp={}));var qp=function(e){return+setTimeout(e,16)},Yp=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(qp=function(e){return window.requestAnimationFrame(e)},Yp=function(e){return window.cancelAnimationFrame(e)});var Wp=0,Xp=new Map;function Kp(e){Xp.delete(e)}function $p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Wp+=1;function r(t){if(0===t)Kp(n),e();else{var i=qp((function(){r(t-1)}));Xp.set(n,i)}}return r(t),n}$p.cancel=function(e){var t=Xp.get(e);return Kp(t),Yp(t)};var Qp={};function Zp(e,t){0}function Jp(e,t,n){t||Qp[n]||(e(!1,n),Qp[n]=!0)}var eg=function(e,t){Jp(Zp,e,t)};function tg(e,t){"function"===typeof e?e(t):"object"===W(e)&&e&&"current"in e&&(e.current=t)}function ng(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){tg(t,e)}))}}function rg(e){var t,n,r=(0,Lp.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}function ig(e){return e instanceof HTMLElement?e:Pu.findDOMNode(e)}var og=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),ag="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,sg="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),ug="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(sg):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var lg=["top","right","bottom","left","width","height","size","weight"],cg="undefined"!==typeof MutationObserver,fg=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){ug(o)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){ag&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),cg?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){ag&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;lg.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),hg=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},dg=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||sg},pg=_g(0,0,0,0);function gg(e){return parseFloat(e)||0}function vg(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+gg(e["border-"+n+"-width"])}),0)}function yg(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return pg;var r=dg(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=gg(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=gg(r.width),u=gg(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=vg(r,"left","right")+o),Math.round(u+a)!==n&&(u-=vg(r,"top","bottom")+a)),!function(e){return e===dg(e).document.documentElement}(e)){var l=Math.round(s+o)-t,c=Math.round(u+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(c)&&(u-=c)}return _g(i.left,i.top,s,u)}var mg="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof dg(e).SVGGraphicsElement}:function(e){return e instanceof dg(e).SVGElement&&"function"===typeof e.getBBox};function bg(e){return ag?mg(e)?function(e){var t=e.getBBox();return _g(0,0,t.width,t.height)}(e):yg(e):pg}function _g(e,t,n,r){return{x:e,y:t,width:n,height:r}}var wg=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=_g(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=bg(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),xg=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return hg(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);hg(this,{target:e,contentRect:n})},Eg=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new og,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof dg(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new wg(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof dg(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new xg(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),kg="undefined"!==typeof WeakMap?new WeakMap:new og,Cg=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=fg.getInstance(),r=new Eg(t,n,this);kg.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){Cg.prototype[e]=function(){var t;return(t=kg.get(this))[e].apply(t,arguments)}}));var Sg="undefined"!==typeof sg.ResizeObserver?sg.ResizeObserver:Cg,Ng=new Map;var Tg=new Sg((function(e){e.forEach((function(e){var t,n=e.target;null===(t=Ng.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var Ig=function(e){re(n,e);var t=oe(n);function n(){return te(this,n),t.apply(this,arguments)}return ee(n,[{key:"render",value:function(){return this.props.children}}]),n}(e.Component),Dg=e.createContext(null);function Mg(t){var n=t.children,r=t.disabled,i=e.useRef(null),o=e.useRef(null),s=e.useContext(Dg),u="function"===typeof n,l=u?n(i):n,c=e.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),f=!u&&e.isValidElement(l)&&rg(l),h=f?l.ref:null,d=e.useMemo((function(){return ng(h,i)}),[h,i]),p=e.useRef(t);p.current=t;var g=e.useCallback((function(e){var t=p.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),o=i.width,u=i.height,l=e.offsetWidth,f=e.offsetHeight,h=Math.floor(o),d=Math.floor(u);if(c.current.width!==h||c.current.height!==d||c.current.offsetWidth!==l||c.current.offsetHeight!==f){var g={width:h,height:d,offsetWidth:l,offsetHeight:f};c.current=g;var v=l===Math.round(o)?o:l,y=f===Math.round(u)?u:f,m=a(a({},g),{},{offsetWidth:v,offsetHeight:y});null===s||void 0===s||s(m,e,r),n&&Promise.resolve().then((function(){n(m,e)}))}}),[]);return e.useEffect((function(){var e,t,n=ig(i.current)||ig(o.current);return n&&!r&&(e=n,t=g,Ng.has(e)||(Ng.set(e,new Set),Tg.observe(e)),Ng.get(e).add(t)),function(){return function(e,t){Ng.has(e)&&(Ng.get(e).delete(t),Ng.get(e).size||(Tg.unobserve(e),Ng.delete(e)))}(n,g)}}),[i.current,r]),e.createElement(Ig,{ref:o},f?e.cloneElement(l,{ref:d}):l)}function Og(t){var n=t.children;return("function"===typeof n?[n]:Ap(n)).map((function(n,r){var i=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return e.createElement(Mg,Mp({},t,{key:i}),n)}))}Og.Collection=function(t){var n=t.children,r=t.onBatchResize,i=e.useRef(0),o=e.useRef([]),a=e.useContext(Dg),s=e.useCallback((function(e,t,n){i.current+=1;var s=i.current;o.current.push({size:e,element:t,data:n}),Promise.resolve().then((function(){s===i.current&&(null===r||void 0===r||r(o.current),o.current=[])})),null===a||void 0===a||a(e,t,n)}),[r,a]);return e.createElement(Dg.Provider,{value:s},n)};var Pg=Og;function Lg(t){var n=(0,e.useRef)(),r=(0,e.useRef)(!1);return(0,e.useEffect)((function(){return r.current=!1,function(){r.current=!0,$p.cancel(n.current)}}),[]),function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];r.current||($p.cancel(n.current),n.current=$p((function(){t.apply(void 0,i)})))}}var Ag={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=Ag.F1&&t<=Ag.F12)return!1;switch(t){case Ag.ALT:case Ag.CAPS_LOCK:case Ag.CONTEXT_MENU:case Ag.CTRL:case Ag.DOWN:case Ag.END:case Ag.ESC:case Ag.HOME:case Ag.INSERT:case Ag.LEFT:case Ag.MAC_FF_META:case Ag.META:case Ag.NUMLOCK:case Ag.NUM_CENTER:case Ag.PAGE_DOWN:case Ag.PAGE_UP:case Ag.PAUSE:case Ag.PRINT_SCREEN:case Ag.RIGHT:case Ag.SHIFT:case Ag.UP:case Ag.WIN_KEY:case Ag.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Ag.ZERO&&e<=Ag.NINE)return!0;if(e>=Ag.NUM_ZERO&&e<=Ag.NUM_MULTIPLY)return!0;if(e>=Ag.A&&e<=Ag.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case Ag.SPACE:case Ag.QUESTION_MARK:case Ag.NUM_PLUS:case Ag.NUM_MINUS:case Ag.NUM_PERIOD:case Ag.NUM_DIVISION:case Ag.SEMICOLON:case Ag.DASH:case Ag.EQUALS:case Ag.COMMA:case Ag.PERIOD:case Ag.SLASH:case Ag.APOSTROPHE:case Ag.SINGLE_QUOTE:case Ag.OPEN_SQUARE_BRACKET:case Ag.BACKSLASH:case Ag.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Rg=Ag;function Fg(t,n){var r,o=t.prefixCls,a=t.id,s=t.active,u=t.tab,l=u.key,c=u.tab,f=u.disabled,h=u.closeIcon,d=t.closable,p=t.renderWrapper,g=t.removeAriaLabel,v=t.editable,y=t.onClick,m=t.onRemove,b=t.onFocus,_=t.style,w="".concat(o,"-tab");e.useEffect((function(){return m}),[]);var x=v&&!1!==d&&!f;function E(e){f||y(e)}var k=e.createElement("div",{key:l,ref:n,className:Pp()(w,(r={},i(r,"".concat(w,"-with-remove"),x),i(r,"".concat(w,"-active"),s),i(r,"".concat(w,"-disabled"),f),r)),style:_,onClick:E},e.createElement("div",{role:"tab","aria-selected":s,id:a&&"".concat(a,"-tab-").concat(l),className:"".concat(w,"-btn"),"aria-controls":a&&"".concat(a,"-panel-").concat(l),"aria-disabled":f,tabIndex:f?null:0,onClick:function(e){e.stopPropagation(),E(e)},onKeyDown:function(e){[Rg.SPACE,Rg.ENTER].includes(e.which)&&(e.preventDefault(),E(e))},onFocus:b},c),x&&e.createElement("button",{type:"button","aria-label":g||"remove",tabIndex:0,className:"".concat(w,"-remove"),onClick:function(e){var t;e.stopPropagation(),(t=e).preventDefault(),t.stopPropagation(),v.onEdit("remove",{key:l,event:t})}},h||v.removeIcon||"\xd7"));return p?p(k):k}var zg=e.forwardRef(Fg),jg={width:0,height:0,left:0,top:0};var Bg={width:0,height:0,left:0,top:0,right:0};var Vg=n(7840),Ug=n.n(Vg),Gg=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],Hg=void 0;function qg(t,n){var r=t.prefixCls,i=t.invalidate,o=t.item,s=t.renderItem,u=t.responsive,l=t.responsiveDisabled,c=t.registerSize,f=t.itemKey,h=t.className,d=t.style,p=t.children,g=t.display,v=t.order,y=t.component,m=void 0===y?"div":y,b=Ms(t,Gg),_=u&&!g;function w(e){c(f,e)}e.useEffect((function(){return function(){w(null)}}),[]);var x,E=s&&o!==Hg?s(o):p;i||(x={opacity:_?0:1,height:_?0:Hg,overflowY:_?"hidden":Hg,order:u?v:Hg,pointerEvents:_?"none":Hg,position:_?"absolute":Hg});var k={};_&&(k["aria-hidden"]=!0);var C=e.createElement(m,Mp({className:Pp()(!i&&r,h),style:a(a({},x),d)},k,b,{ref:n}),E);return u&&(C=e.createElement(Pg,{onResize:function(e){w(e.offsetWidth)},disabled:l},C)),C}var Yg=e.forwardRef(qg);Yg.displayName="Item";var Wg=Yg;var Xg=["component"],Kg=["className"],$g=["className"],Qg=function(t,n){var r=e.useContext(tv);if(!r){var i=t.component,o=void 0===i?"div":i,a=Ms(t,Xg);return e.createElement(o,Mp({},a,{ref:n}))}var s=r.className,u=Ms(r,Kg),l=t.className,c=Ms(t,$g);return e.createElement(tv.Provider,{value:null},e.createElement(Wg,Mp({ref:n,className:Pp()(s,l)},u,c)))},Zg=e.forwardRef(Qg);Zg.displayName="RawItem";var Jg=Zg,ev=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],tv=e.createContext(null),nv="responsive",rv="invalidate";function iv(e){return"+ ".concat(e.length," ...")}function ov(t,n){var r=t.prefixCls,i=void 0===r?"rc-overflow":r,o=t.data,s=void 0===o?[]:o,u=t.renderItem,l=t.renderRawItem,f=t.itemKey,h=t.itemWidth,d=void 0===h?10:h,p=t.ssr,g=t.style,v=t.className,y=t.maxCount,m=t.renderRest,b=t.renderRawRest,_=t.suffix,w=t.component,x=void 0===w?"div":w,E=t.itemComponent,k=t.onVisibleChange,C=Ms(t,ev),S=function(){var t=c(Up({}),2)[1],n=(0,e.useRef)([]),r=0,i=0;return function(e){var o=r;return r+=1,n.current.length<o+1&&(n.current[o]=e),[n.current[o],function(e){n.current[o]="function"===typeof e?e(n.current[o]):e,$p.cancel(i),i=$p((function(){t({},!0)}))}]}}(),N="full"===p,T=c(S(null),2),I=T[0],D=T[1],M=I||0,O=c(S(new Map),2),P=O[0],L=O[1],A=c(S(0),2),R=A[0],F=A[1],z=c(S(0),2),j=z[0],B=z[1],V=c(S(0),2),U=V[0],G=V[1],H=c((0,e.useState)(null),2),q=H[0],Y=H[1],W=c((0,e.useState)(null),2),X=W[0],K=W[1],$=e.useMemo((function(){return null===X&&N?Number.MAX_SAFE_INTEGER:X||0}),[X,I]),Q=c((0,e.useState)(!1),2),Z=Q[0],J=Q[1],ee="".concat(i,"-item"),te=Math.max(R,j),ne=y===nv,re=s.length&&ne,ie=y===rv,oe=re||"number"===typeof y&&s.length>y,ae=(0,e.useMemo)((function(){var e=s;return re?e=null===I&&N?s:s.slice(0,Math.min(s.length,M/d)):"number"===typeof y&&(e=s.slice(0,y)),e}),[s,d,I,y,re]),se=(0,e.useMemo)((function(){return re?s.slice($+1):s.slice(ae.length)}),[s,ae,re,$]),ue=(0,e.useCallback)((function(e,t){var n;return"function"===typeof f?f(e):null!==(n=f&&(null===e||void 0===e?void 0:e[f]))&&void 0!==n?n:t}),[f]),le=(0,e.useCallback)(u||function(e){return e},[u]);function ce(e,t){K(e),t||(J(e<s.length-1),null===k||void 0===k||k(e))}function fe(e,t){L((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))}function he(e){return P.get(ue(ae[e],e))}Vp((function(){if(M&&te&&ae){var e=U,t=ae.length,n=t-1;if(!t)return ce(0),void Y(null);for(var r=0;r<t;r+=1){var i=he(r);if(N&&(i=i||0),void 0===i){ce(r-1,!0);break}if(e+=i,0===n&&e<=M||r===n-1&&e+he(n)<=M){ce(n),Y(null);break}if(e+te>M){ce(r-1),Y(e-i-U+j);break}}_&&he(0)+U>M&&Y(null)}}),[M,P,j,U,ue,ae]);var de=Z&&!!se.length,pe={};null!==q&&re&&(pe={position:"absolute",left:q,top:0});var ge,ve={prefixCls:ee,responsive:re,component:E,invalidate:ie},ye=l?function(t,n){var r=ue(t,n);return e.createElement(tv.Provider,{key:r,value:a(a({},ve),{},{order:n,item:t,itemKey:r,registerSize:fe,display:n<=$})},l(t,n))}:function(t,n){var r=ue(t,n);return e.createElement(Wg,Mp({},ve,{order:n,key:r,item:t,renderItem:le,itemKey:r,registerSize:fe,display:n<=$}))},me={order:de?$:Number.MAX_SAFE_INTEGER,className:"".concat(ee,"-rest"),registerSize:function(e,t){B(t),F(j)},display:de};if(b)b&&(ge=e.createElement(tv.Provider,{value:a(a({},ve),me)},b(se)));else{var be=m||iv;ge=e.createElement(Wg,Mp({},ve,me),"function"===typeof be?be(se):be)}var _e=e.createElement(x,Mp({className:Pp()(!ie&&i,v),style:g,ref:n},C),ae.map(ye),oe?ge:null,_&&e.createElement(Wg,Mp({},ve,{responsive:ne,responsiveDisabled:!re,order:$,className:"".concat(ee,"-suffix"),registerSize:function(e,t){G(t)},display:!0,style:pe}),_));return ne&&(_e=e.createElement(Pg,{onResize:function(e,t){D(t.clientWidth)},disabled:!re},_e)),_e}var av=e.forwardRef(ov);av.displayName="Overflow",av.Item=Jg,av.RESPONSIVE=nv,av.INVALIDATE=rv;var sv=av;function uv(e,t){var n=a({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var lv=["children","locked"],cv=e.createContext(null);function fv(t){var n=t.children,r=t.locked,i=Ms(t,lv),o=e.useContext(cv),s=function(t,n,r){var i=e.useRef({});return"value"in i.current&&!r(i.current.condition,n)||(i.current.value=t(),i.current.condition=n),i.current.value}((function(){return function(e,t){var n=a({},e);return Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}(o,i)}),[o,i],(function(e,t){return!r&&(e[0]!==t[0]||!Ug()(e[1],t[1]))}));return e.createElement(cv.Provider,{value:s},n)}function hv(t,n,r,i){var o=e.useContext(cv),a=o.activeKey,s=o.onActive,u=o.onInactive,l={active:a===t};return n||(l.onMouseEnter=function(e){null===r||void 0===r||r({key:t,domEvent:e}),s(t)},l.onMouseLeave=function(e){null===i||void 0===i||i({key:t,domEvent:e}),u(t)}),l}var dv=["item"];function pv(e){var t=e.item,n=Ms(e,dv);return Object.defineProperty(n,"item",{get:function(){return eg(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}function gv(t){var n=t.icon,r=t.props,i=t.children;return("function"===typeof n?e.createElement(n,a({},r)):n)||i||null}function vv(t){var n=e.useContext(cv),r=n.mode,i=n.rtl,o=n.inlineIndent;if("inline"!==r)return null;return i?{paddingRight:t*o}:{paddingLeft:t*o}}var yv=[],mv=e.createContext(null);function bv(){return e.useContext(mv)}var _v=e.createContext(yv);function wv(t){var n=e.useContext(_v);return e.useMemo((function(){return void 0!==t?[].concat(q(n),[t]):n}),[n,t])}var xv=e.createContext(null),Ev=e.createContext(null);function kv(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function Cv(t){return kv(e.useContext(Ev),t)}var Sv=e.createContext({}),Nv=["title","attribute","elementRef"],Tv=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Iv=["active"],Dv=function(t){re(r,t);var n=oe(r);function r(){return te(this,r),n.apply(this,arguments)}return ee(r,[{key:"render",value:function(){var t=this.props,n=t.title,r=t.attribute,i=t.elementRef,o=uv(Ms(t,Nv),["eventKey"]);return eg(!r,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),e.createElement(sv.Item,Mp({},r,{title:"string"===typeof n?n:void 0},o,{ref:i}))}}]),r}(e.Component),Mv=function(t){var n,r=t.style,o=t.className,s=t.eventKey,u=(t.warnKey,t.disabled),l=t.itemIcon,c=t.children,f=t.role,h=t.onMouseEnter,d=t.onMouseLeave,p=t.onClick,g=t.onKeyDown,v=t.onFocus,y=Ms(t,Tv),m=Cv(s),b=e.useContext(cv),_=b.prefixCls,w=b.onItemClick,x=b.disabled,E=b.overflowDisabled,k=b.itemIcon,C=b.selectedKeys,S=b.onActive,N=e.useContext(Sv)._internalRenderMenuItem,T="".concat(_,"-item"),I=e.useRef(),D=e.useRef(),M=x||u,O=wv(s);var P=function(e){return{key:s,keyPath:q(O).reverse(),item:I.current,domEvent:e}},L=l||k,A=hv(s,M,h,d),R=A.active,F=Ms(A,Iv),z=C.includes(s),j=vv(O.length),B={};"option"===t.role&&(B["aria-selected"]=z);var V=e.createElement(Dv,Mp({ref:I,elementRef:D,role:null===f?"none":f||"menuitem",tabIndex:u?null:-1,"data-menu-id":E&&m?null:m},y,F,B,{component:"li","aria-disabled":u,style:a(a({},j),r),className:Pp()(T,(n={},i(n,"".concat(T,"-active"),R),i(n,"".concat(T,"-selected"),z),i(n,"".concat(T,"-disabled"),M),n),o),onClick:function(e){if(!M){var t=P(e);null===p||void 0===p||p(pv(t)),w(t)}},onKeyDown:function(e){if(null===g||void 0===g||g(e),e.which===Rg.ENTER){var t=P(e);null===p||void 0===p||p(pv(t)),w(t)}},onFocus:function(e){S(s),null===v||void 0===v||v(e)}}),c,e.createElement(gv,{props:a(a({},t),{},{isSelected:z}),icon:L}));return N&&(V=N(V,t,{selected:z})),V};var Ov=function(t){var n=t.eventKey,r=bv(),i=wv(n);return e.useEffect((function(){if(r)return r.registerPath(n,i),function(){r.unregisterPath(n,i)}}),[i]),r?null:e.createElement(Mv,t)},Pv=["label","children","key","type"];function Lv(t,n){return Ap(t).map((function(t,r){if(e.isValidElement(t)){var i,o,a=t.key,s=null!==(i=null===(o=t.props)||void 0===o?void 0:o.eventKey)&&void 0!==i?i:a;(null===s||void 0===s)&&(s="tmp_key-".concat([].concat(q(n),[r]).join("-")));var u={key:s,eventKey:s};return e.cloneElement(t,u)}return t}))}function Av(t){return(t||[]).map((function(t,n){if(t&&"object"===W(t)){var r=t.label,i=t.children,o=t.key,a=t.type,s=Ms(t,Pv),u=null!==o&&void 0!==o?o:"tmp-".concat(n);return i||"group"===a?"group"===a?e.createElement(Bb,Mp({key:u},s,{title:r}),Av(i)):e.createElement(db,Mp({key:u},s,{title:r}),Av(i)):"divider"===a?e.createElement(Vb,Mp({key:u},s)):e.createElement(Ov,Mp({key:u},s),r)}return null})).filter((function(e){return e}))}function Rv(e,t,n){var r=e;return t&&(r=Av(t)),Lv(r,n)}function Fv(t){var n=e.useRef(t);n.current=t;var r=e.useCallback((function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(r))}),[]);return t?r:void 0}var zv=["className","children"],jv=function(t,n){var r=t.className,i=t.children,o=Ms(t,zv),a=e.useContext(cv),s=a.prefixCls,u=a.mode,l=a.rtl;return e.createElement("ul",Mp({className:Pp()(s,l&&"".concat(s,"-rtl"),"".concat(s,"-sub"),"".concat(s,"-").concat("inline"===u?"inline":"vertical"),r)},o,{"data-menu-list":!0,ref:n}),i)},Bv=e.forwardRef(jv);Bv.displayName="SubMenuList";var Vv=Bv;function Uv(e,t){return!!e&&e.contains(t)}function Gv(e,t,n,r){var i=Pu.unstable_batchedUpdates?function(e){Pu.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,i,r)}}}var Hv=(0,e.forwardRef)((function(t,n){var r=t.didUpdate,i=t.getContainer,o=t.children,a=(0,e.useRef)(),s=(0,e.useRef)();(0,e.useImperativeHandle)(n,(function(){return{}}));var u=(0,e.useRef)(!1);return!u.current&&zp()&&(s.current=i(),a.current=s.current.parentNode,u.current=!0),(0,e.useEffect)((function(){null===r||void 0===r||r(t)})),(0,e.useEffect)((function(){return null===s.current.parentNode&&null!==a.current&&a.current.appendChild(s.current),function(){var e,t;null===(e=s.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(s.current)}}),[]),s.current?Pu.createPortal(o,s.current):null}));function qv(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Yv(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var Wv=function(e,t){var n={animationend:Yv("Animation","AnimationEnd"),transitionend:Yv("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(zp(),"undefined"!==typeof window?window:{}),Xv={};if(zp()){var Kv=document.createElement("div");Xv=Kv.style}var $v={};function Qv(e){if($v[e])return $v[e];var t=Wv[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in Xv)return $v[e]=t[o],$v[e]}return""}var Zv=Qv("animationend"),Jv=Qv("transitionend"),ey=!(!Zv||!Jv),ty=Zv||"animationend",ny=Jv||"transitionend";function ry(e,t){return e?"object"===W(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var iy="none",oy="appear",ay="enter",sy="leave",uy="none",ly="prepare",cy="start",fy="active",hy="end",dy=zp()?e.useLayoutEffect:e.useEffect,py=[ly,cy,fy,hy];function gy(e){return e===fy||e===hy}var vy=function(t,n){var r=c(Up(uy),2),i=r[0],o=r[1],a=function(){var t=e.useRef(null);function n(){$p.cancel(t.current)}return e.useEffect((function(){return function(){n()}}),[]),[function e(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;n();var o=$p((function(){i<=1?r({isCanceled:function(){return o!==t.current}}):e(r,i-1)}));t.current=o},n]}(),s=c(a,2),u=s[0],l=s[1];return dy((function(){if(i!==uy&&i!==hy){var e=py.indexOf(i),t=py[e+1],r=n(i);false===r?o(t,!0):u((function(e){function n(){e.isCanceled()||o(t,!0)}!0===r?n():Promise.resolve(r).then(n)}))}}),[t,i]),e.useEffect((function(){return function(){l()}}),[]),[function(){o(ly,!0)},i]};function yy(t,n,r,o){var s=o.motionEnter,u=void 0===s||s,l=o.motionAppear,f=void 0===l||l,h=o.motionLeave,d=void 0===h||h,p=o.motionDeadline,g=o.motionLeaveImmediately,v=o.onAppearPrepare,y=o.onEnterPrepare,m=o.onLeavePrepare,b=o.onAppearStart,_=o.onEnterStart,w=o.onLeaveStart,x=o.onAppearActive,E=o.onEnterActive,k=o.onLeaveActive,C=o.onAppearEnd,S=o.onEnterEnd,N=o.onLeaveEnd,T=o.onVisibleChanged,I=c(Up(),2),D=I[0],M=I[1],O=c(Up(iy),2),P=O[0],L=O[1],A=c(Up(null),2),R=A[0],F=A[1],z=(0,e.useRef)(!1),j=(0,e.useRef)(null);function B(){return r()}var V=(0,e.useRef)(!1);function U(e){var t=B();if(!e||e.deadline||e.target===t){var n,r=V.current;P===oy&&r?n=null===C||void 0===C?void 0:C(t,e):P===ay&&r?n=null===S||void 0===S?void 0:S(t,e):P===sy&&r&&(n=null===N||void 0===N?void 0:N(t,e)),P!==iy&&r&&!1!==n&&(L(iy,!0),F(null,!0))}}var G=function(t){var n=(0,e.useRef)(),r=(0,e.useRef)(t);r.current=t;var i=e.useCallback((function(e){r.current(e)}),[]);function o(e){e&&(e.removeEventListener(ny,i),e.removeEventListener(ty,i))}return e.useEffect((function(){return function(){o(n.current)}}),[]),[function(e){n.current&&n.current!==e&&o(n.current),e&&e!==n.current&&(e.addEventListener(ny,i),e.addEventListener(ty,i),n.current=e)},o]}(U),H=c(G,1)[0],q=e.useMemo((function(){var e,t,n;switch(P){case oy:return i(e={},ly,v),i(e,cy,b),i(e,fy,x),e;case ay:return i(t={},ly,y),i(t,cy,_),i(t,fy,E),t;case sy:return i(n={},ly,m),i(n,cy,w),i(n,fy,k),n;default:return{}}}),[P]),Y=c(vy(P,(function(e){if(e===ly){var t=q.prepare;return!!t&&t(B())}var n;X in q&&F((null===(n=q[X])||void 0===n?void 0:n.call(q,B(),null))||null);return X===fy&&(H(B()),p>0&&(clearTimeout(j.current),j.current=setTimeout((function(){U({deadline:!0})}),p))),true})),2),W=Y[0],X=Y[1],K=gy(X);V.current=K,dy((function(){M(n);var e,r=z.current;(z.current=!0,t)&&(!r&&n&&f&&(e=oy),r&&n&&u&&(e=ay),(r&&!n&&d||!r&&g&&!n&&d)&&(e=sy),e&&(L(e),W()))}),[n]),(0,e.useEffect)((function(){(P===oy&&!f||P===ay&&!u||P===sy&&!d)&&L(iy)}),[f,u,d]),(0,e.useEffect)((function(){return function(){z.current=!1,clearTimeout(j.current)}}),[]);var $=e.useRef(!1);(0,e.useEffect)((function(){D&&($.current=!0),void 0!==D&&P===iy&&(($.current||D)&&(null===T||void 0===T||T(D)),$.current=!0)}),[D,P]);var Q=R;return q.prepare&&X===cy&&(Q=a({transition:"none"},Q)),[P,X,Q,null!==D&&void 0!==D?D:n]}var my=function(e){re(n,e);var t=oe(n);function n(){return te(this,n),t.apply(this,arguments)}return ee(n,[{key:"render",value:function(){return this.props.children}}]),n}(e.Component),by=my;var _y=function(t){var n=t;function r(e){return!(!e.motionName||!n)}"object"===W(t)&&(n=t.transitionSupport);var o=e.forwardRef((function(t,n){var o=t.visible,s=void 0===o||o,u=t.removeOnLeave,l=void 0===u||u,f=t.forceRender,h=t.children,d=t.motionName,p=t.leavedClassName,g=t.eventProps,v=r(t),y=(0,e.useRef)(),m=(0,e.useRef)();var b=c(yy(v,s,(function(){try{return y.current instanceof HTMLElement?y.current:ig(m.current)}catch(Ex){return null}}),t),4),_=b[0],w=b[1],x=b[2],E=b[3],k=e.useRef(E);E&&(k.current=!0);var C,S=e.useCallback((function(e){y.current=e,tg(n,e)}),[n]),N=a(a({},g),{},{visible:s});if(h)if(_!==iy&&r(t)){var T,I;w===ly?I="prepare":gy(w)?I="active":w===cy&&(I="start"),C=h(a(a({},N),{},{className:Pp()(ry(d,_),(T={},i(T,ry(d,"".concat(_,"-").concat(I)),I),i(T,d,"string"===typeof d),T)),style:x}),S)}else C=E?h(a({},N),S):!l&&k.current?h(a(a({},N),{},{className:p}),S):f?h(a(a({},N),{},{style:{display:"none"}}),S):null;else C=null;e.isValidElement(C)&&rg(C)&&(C.ref||(C=e.cloneElement(C,{ref:S})));return e.createElement(by,{ref:m},C)}));return o.displayName="CSSMotion",o}(ey),wy="add",xy="keep",Ey="remove",ky="removed";function Cy(e){var t;return a(a({},t=e&&"object"===W(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function Sy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(Cy)}function Ny(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,o=Sy(e),s=Sy(t);o.forEach((function(e){for(var t=!1,o=r;o<i;o+=1){var u=s[o];if(u.key===e.key){r<o&&(n=n.concat(s.slice(r,o).map((function(e){return a(a({},e),{},{status:wy})}))),r=o),n.push(a(a({},u),{},{status:xy})),r+=1,t=!0;break}}t||n.push(a(a({},e),{},{status:Ey}))})),r<i&&(n=n.concat(s.slice(r).map((function(e){return a(a({},e),{},{status:wy})}))));var u={};n.forEach((function(e){var t=e.key;u[t]=(u[t]||0)+1}));var l=Object.keys(u).filter((function(e){return u[e]>1}));return l.forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==Ey}))).forEach((function(t){t.key===e&&(t.status=xy)}))})),n}var Ty=["component","children","onVisibleChanged","onAllRemoved"],Iy=["status"],Dy=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_y,r=function(t){re(i,t);var r=oe(i);function i(){var e;te(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=r.call.apply(r,[this].concat(n))).state={keyEntities:[]},e.removeKey=function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:a(a({},e),{},{status:ky})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==ky})).length},e}return ee(i,[{key:"render",value:function(){var t=this,r=this.state.keyEntities,i=this.props,o=i.component,a=i.children,s=i.onVisibleChanged,u=i.onAllRemoved,l=Ms(i,Ty),c=o||e.Fragment,f={};return Dy.forEach((function(e){f[e]=l[e],delete l[e]})),delete l.keys,e.createElement(c,l,r.map((function(r){var i=r.status,o=Ms(r,Iy),l=i===wy||i===xy;return e.createElement(n,Mp({},f,{key:o.key,visible:l,eventProps:o,onVisibleChanged:function(e){(null===s||void 0===s||s(e,{key:o.key}),e)||0===t.removeKey(o.key)&&u&&u()}}),a)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=Sy(n);return{keyEntities:Ny(r,i).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==ky||e.status!==Ey}))}}}]),i}(e.Component);r.defaultProps={component:"div"}}(ey);var My=_y;function Oy(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function Py(t){var n=t.prefixCls,r=t.visible,i=t.zIndex,o=t.mask,s=t.maskMotion,u=t.maskAnimation,l=t.maskTransitionName;if(!o)return null;var c={};return(s||l||u)&&(c=a({motionAppear:!0},Oy({motion:s,prefixCls:n,transitionName:l,animation:u}))),e.createElement(My,Mp({},c,{visible:r,removeOnLeave:!0}),(function(t){var r=t.className;return e.createElement("div",{style:{zIndex:i},className:Pp()("".concat(n,"-mask"),r)})}))}var Ly,Ay=function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();if(n.width||n.height)return!0}return!1};function Ry(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ry(Object(n),!0).forEach((function(t){jy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ry(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zy(e){return zy="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zy(e)}function jy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var By={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function Vy(){if(void 0!==Ly)return Ly;Ly="";var e=document.createElement("p").style;for(var t in By)t+"Transform"in e&&(Ly=t);return Ly}function Uy(){return Vy()?"".concat(Vy(),"TransitionProperty"):"transitionProperty"}function Gy(){return Vy()?"".concat(Vy(),"Transform"):"transform"}function Hy(e,t){var n=Uy();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function qy(e,t){var n=Gy();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var Yy,Wy=/matrix\((.*)\)/,Xy=/matrix3d\((.*)\)/;function Ky(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function $y(e,t,n){var r=n;if("object"!==zy(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):Yy(e,t);for(var i in t)t.hasOwnProperty(i)&&$y(e,i,t[i])}function Qy(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function Zy(e){return Qy(e)}function Jy(e){return Qy(e,!0)}function em(e){var t=function(e){var t,n,r,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),{left:n-=a.clientLeft||o.clientLeft||0,top:r-=a.clientTop||o.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=Zy(r),t.top+=Jy(r),t}function tm(e){return null!==e&&void 0!==e&&e==e.window}function nm(e){return tm(e)?e.document:9===e.nodeType?e:e.ownerDocument}var rm=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),im=/^(top|right|bottom|left)$/;function om(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function am(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function sm(e,t,n){"static"===$y(e,"position")&&(e.style.position="relative");var r=-999,i=-999,o=om("left",n),a=om("top",n),s=am(o),u=am(a);"left"!==o&&(r=999),"top"!==a&&(i=999);var l,c="",f=em(e);("left"in t||"top"in t)&&(c=(l=e).style.transitionProperty||l.style[Uy()]||"",Hy(e,"none")),"left"in t&&(e.style[s]="",e.style[o]="".concat(r,"px")),"top"in t&&(e.style[u]="",e.style[a]="".concat(i,"px")),Ky(e);var h=em(e),d={};for(var p in t)if(t.hasOwnProperty(p)){var g=om(p,n),v="left"===p?r:i,y=f[p]-h[p];d[g]=g===p?v+y:v-y}$y(e,d),Ky(e),("left"in t||"top"in t)&&Hy(e,c);var m={};for(var b in t)if(t.hasOwnProperty(b)){var _=om(b,n),w=t[b]-f[b];m[_]=b===_?d[_]+w:d[_]-w}$y(e,m)}function um(e,t){var n=em(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(Gy());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(Gy());if(r&&"none"!==r){var i,o=r.match(Wy);o?((i=(o=o[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,i[5]=t.y,qy(e,"matrix(".concat(i.join(","),")"))):((i=r.match(Xy)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,i[13]=t.y,qy(e,"matrix3d(".concat(i.join(","),")")))}else qy(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,i)}function lm(e,t){for(var n=0;n<e.length;n++)t(e[n])}function cm(e){return"border-box"===Yy(e,"boxSizing")}"undefined"!==typeof window&&(Yy=window.getComputedStyle?function(e,t,n){var r=n,i="",o=nm(e);return(r=r||o.defaultView.getComputedStyle(e,null))&&(i=r.getPropertyValue(t)||r[t]),i}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(rm.test(n)&&!im.test(t)){var r=e.style,i=r.left,o=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=i,e.runtimeStyle.left=o}return""===n?"auto":n});var fm=["margin","border","padding"];function hm(e,t,n){var r,i={},o=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=o[r],o[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(o[r]=i[r])}function dm(e,t,n){var r,i,o,a=0;for(i=0;i<t.length;i++)if(r=t[i])for(o=0;o<n.length;o++){var s=void 0;s="border"===r?"".concat(r).concat(n[o],"Width"):r+n[o],a+=parseFloat(Yy(e,s))||0}return a}var pm={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function gm(e,t,n){var r=n;if(tm(e))return"width"===t?pm.viewportWidth(e):pm.viewportHeight(e);if(9===e.nodeType)return"width"===t?pm.docWidth(e):pm.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),a=cm(e),s=0;(null===o||void 0===o||o<=0)&&(o=void 0,(null===(s=Yy(e,t))||void 0===s||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===r&&(r=a?1:-1);var u=void 0!==o||a,l=o||s;return-1===r?u?l-dm(e,["border","padding"],i):s:u?1===r?l:l+(2===r?-dm(e,["border"],i):dm(e,["margin"],i)):s+dm(e,fm.slice(r),i)}lm(["Width","Height"],(function(e){pm["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],pm["viewport".concat(e)](n))},pm["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,o=r.documentElement[n];return"CSS1Compat"===r.compatMode&&o||i&&i[n]||o}}));var vm={position:"absolute",visibility:"hidden",display:"block"};function ym(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=gm.apply(void 0,t):hm(i,vm,(function(){r=gm.apply(void 0,t)})),r}function mm(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}lm(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);pm["outer".concat(t)]=function(t,n){return t&&ym(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];pm[e]=function(t,r){var i=r;return void 0!==i?t?(cm(t)&&(i+=dm(t,["padding","border"],n)),$y(t,e,i)):void 0:t&&ym(t,e,-1)}}));var bm={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:nm,offset:function(e,t,n){if("undefined"===typeof t)return em(e);!function(e,t,n){if(n.ignoreShake){var r=em(e),i=r.left.toFixed(0),o=r.top.toFixed(0),a=t.left.toFixed(0),s=t.top.toFixed(0);if(i===a&&o===s)return}n.useCssRight||n.useCssBottom?sm(e,t,n):n.useCssTransform&&Gy()in document.body.style?um(e,t):sm(e,t,n)}(e,t,n||{})},isWindow:tm,each:lm,css:$y,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:mm,getWindowScrollLeft:function(e){return Zy(e)},getWindowScrollTop:function(e){return Jy(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)bm.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};mm(bm,pm);var _m=bm.getParent;function wm(e){if(bm.isWindow(e)||9===e.nodeType)return null;var t,n=bm.getDocument(e).body,r=bm.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:_m(e);for(t=_m(e);t&&t!==n&&9!==t.nodeType;t=_m(t))if("static"!==(r=bm.css(t,"position")))return t;return null}var xm=bm.getParent;function Em(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=wm(e),i=bm.getDocument(e),o=i.defaultView||i.parentWindow,a=i.body,s=i.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===a||r===s||"visible"===bm.css(r,"overflow")){if(r===a||r===s)break}else{var u=bm.offset(r);u.left+=r.clientLeft,u.top+=r.clientTop,n.top=Math.max(n.top,u.top),n.right=Math.min(n.right,u.left+r.clientWidth),n.bottom=Math.min(n.bottom,u.top+r.clientHeight),n.left=Math.max(n.left,u.left)}r=wm(r)}var l=null;bm.isWindow(e)||9===e.nodeType||(l=e.style.position,"absolute"===bm.css(e,"position")&&(e.style.position="fixed"));var c=bm.getWindowScrollLeft(o),f=bm.getWindowScrollTop(o),h=bm.viewportWidth(o),d=bm.viewportHeight(o),p=s.scrollWidth,g=s.scrollHeight,v=window.getComputedStyle(a);if("hidden"===v.overflowX&&(p=o.innerWidth),"hidden"===v.overflowY&&(g=o.innerHeight),e.style&&(e.style.position=l),t||function(e){if(bm.isWindow(e)||9===e.nodeType)return!1;var t=bm.getDocument(e),n=t.body,r=null;for(r=xm(e);r&&r!==n&&r!==t;r=xm(r))if("fixed"===bm.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,c),n.top=Math.max(n.top,f),n.right=Math.min(n.right,c+h),n.bottom=Math.min(n.bottom,f+d);else{var y=Math.max(p,c+h);n.right=Math.min(n.right,y);var m=Math.max(g,f+d);n.bottom=Math.min(n.bottom,m)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function km(e){var t,n,r;if(bm.isWindow(e)||9===e.nodeType){var i=bm.getWindow(e);t={left:bm.getWindowScrollLeft(i),top:bm.getWindowScrollTop(i)},n=bm.viewportWidth(i),r=bm.viewportHeight(i)}else t=bm.offset(e),n=bm.outerWidth(e),r=bm.outerHeight(e);return t.width=n,t.height=r,t}function Cm(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,o=e.height,a=e.left,s=e.top;return"c"===n?s+=o/2:"b"===n&&(s+=o),"c"===r?a+=i/2:"r"===r&&(a+=i),{left:a,top:s}}function Sm(e,t,n,r,i){var o=Cm(t,n[1]),a=Cm(e,n[0]),s=[a.left-o.left,a.top-o.top];return{left:Math.round(e.left-s[0]+r[0]-i[0]),top:Math.round(e.top-s[1]+r[1]-i[1])}}function Nm(e,t,n){return e.left<n.left||e.left+t.width>n.right}function Tm(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function Im(e,t,n){var r=[];return bm.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function Dm(e,t){return e[t]=-e[t],e}function Mm(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function Om(e,t){e[0]=Mm(e[0],t.width),e[1]=Mm(e[1],t.height)}function Pm(e,t,n,r){var i=n.points,o=n.offset||[0,0],a=n.targetOffset||[0,0],s=n.overflow,u=n.source||e;o=[].concat(o),a=[].concat(a);var l={},c=0,f=Em(u,!(!(s=s||{})||!s.alwaysByViewport)),h=km(u);Om(o,h),Om(a,t);var d=Sm(h,t,i,o,a),p=bm.merge(h,d);if(f&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&Nm(d,h,f)){var g=Im(i,/[lr]/gi,{l:"r",r:"l"}),v=Dm(o,0),y=Dm(a,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(Sm(h,t,g,v,y),h,f)||(c=1,i=g,o=v,a=y)}if(s.adjustY&&Tm(d,h,f)){var m=Im(i,/[tb]/gi,{t:"b",b:"t"}),b=Dm(o,1),_=Dm(a,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(Sm(h,t,m,b,_),h,f)||(c=1,i=m,o=b,a=_)}c&&(d=Sm(h,t,i,o,a),bm.mix(p,d));var w=Nm(d,h,f),x=Tm(d,h,f);if(w||x){var E=i;w&&(E=Im(i,/[lr]/gi,{l:"r",r:"l"})),x&&(E=Im(i,/[tb]/gi,{t:"b",b:"t"})),i=E,o=n.offset||[0,0],a=n.targetOffset||[0,0]}l.adjustX=s.adjustX&&w,l.adjustY=s.adjustY&&x,(l.adjustX||l.adjustY)&&(p=function(e,t,n,r){var i=bm.clone(e),o={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),r.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),r.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),bm.mix(i,o)}(d,h,f,l))}return p.width!==h.width&&bm.css(u,"width",bm.width(u)+p.width-h.width),p.height!==h.height&&bm.css(u,"height",bm.height(u)+p.height-h.height),bm.offset(u,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:o,targetOffset:a,overflow:l}}function Lm(e,t,n){var r=n.target||t,i=km(r),o=!function(e,t){var n=Em(e,t),r=km(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return Pm(e,i,n,o)}Lm.__getOffsetParent=wm,Lm.__getVisibleRectForElement=Em;var Am=n(7275),Rm=n.n(Am);function Fm(e,t){var n=null,r=null;var i=new Sg((function(e){var i=c(e,1)[0].target;if(document.documentElement.contains(i)){var o=i.getBoundingClientRect(),a=o.width,s=o.height,u=Math.floor(a),l=Math.floor(s);n===u&&r===l||Promise.resolve().then((function(){t({width:u,height:l})})),n=u,r=l}}));return e&&i.observe(e),function(){i.disconnect()}}function zm(e){return"function"!==typeof e?null:e()}function jm(e){return"object"===W(e)&&e?e:null}var Bm=function(t,n){var r=t.children,i=t.disabled,o=t.target,a=t.align,s=t.onAlign,u=t.monitorWindowResize,l=t.monitorBufferTime,f=void 0===l?0:l,h=e.useRef({}),d=e.useRef(),p=e.Children.only(r),g=e.useRef({});g.current.disabled=i,g.current.target=o,g.current.align=a,g.current.onAlign=s;var v=function(t,n){var r=e.useRef(!1),i=e.useRef(null);function o(){window.clearTimeout(i.current)}return[function e(a){if(o(),r.current&&!0!==a)i.current=window.setTimeout((function(){r.current=!1,e()}),n);else{if(!1===t())return;r.current=!0,i.current=window.setTimeout((function(){r.current=!1}),n)}},function(){r.current=!1,o()}]}((function(){var e=g.current,t=e.disabled,n=e.target,r=e.align,i=e.onAlign;if(!t&&n){var o,a=d.current,s=zm(n),u=jm(n);h.current.element=s,h.current.point=u,h.current.align=r;var l=document.activeElement;return s&&Ay(s)?o=Lm(a,s,r):u&&(o=function(e,t,n){var r,i,o=bm.getDocument(e),a=o.defaultView||o.parentWindow,s=bm.getWindowScrollLeft(a),u=bm.getWindowScrollTop(a),l=bm.viewportWidth(a),c=bm.viewportHeight(a),f={left:r="pageX"in t?t.pageX:s+t.clientX,top:i="pageY"in t?t.pageY:u+t.clientY,width:0,height:0},h=r>=0&&r<=s+l&&i>=0&&i<=u+c,d=[n.points[0],"cc"];return Pm(e,f,Fy(Fy({},n),{},{points:d}),h)}(a,u,r)),function(e,t){e!==document.activeElement&&Uv(t,e)&&"function"===typeof e.focus&&e.focus()}(l,a),i&&o&&i(a,o),!0}return!1}),f),y=c(v,2),m=y[0],b=y[1],_=e.useRef({cancel:function(){}}),w=e.useRef({cancel:function(){}});e.useEffect((function(){var e=zm(o),t=jm(o);d.current!==w.current.element&&(w.current.cancel(),w.current.element=d.current,w.current.cancel=Fm(d.current,m)),h.current.element===e&&function(e,t){return e===t||!(!e||!t)&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY)}(h.current.point,t)&&Rm()(h.current.align,a)||(m(),_.current.element!==e&&(_.current.cancel(),_.current.element=e,_.current.cancel=Fm(e,m)))})),e.useEffect((function(){i?b():m()}),[i]);var x=e.useRef(null);return e.useEffect((function(){u?x.current||(x.current=Gv(window,"resize",m)):x.current&&(x.current.remove(),x.current=null)}),[u]),e.useEffect((function(){return function(){_.current.cancel(),w.current.cancel(),x.current&&x.current.remove(),b()}}),[]),e.useImperativeHandle(n,(function(){return{forceAlign:function(){return m(!0)}}})),e.isValidElement(p)&&(p=e.cloneElement(p,{ref:ng(p.ref,d)})),p},Vm=e.forwardRef(Bm);Vm.displayName="Align";var Um=Vm,Gm=["measure","alignPre","align",null,"motion"],Hm=e.forwardRef((function(t,n){var r=t.visible,i=t.prefixCls,o=t.className,s=t.style,u=t.children,l=t.zIndex,f=t.stretch,h=t.destroyPopupOnHide,d=t.forceRender,p=t.align,g=t.point,v=t.getRootDomNode,y=t.getClassNameFromAlign,m=t.onAlign,b=t.onMouseEnter,_=t.onMouseLeave,w=t.onMouseDown,x=t.onTouchStart,E=t.onClick,k=(0,e.useRef)(),C=(0,e.useRef)(),S=c((0,e.useState)(),2),N=S[0],T=S[1],I=function(t){var n=c(e.useState({width:0,height:0}),2),r=n[0],i=n[1];return[e.useMemo((function(){var e={};if(t){var n=r.width,i=r.height;-1!==t.indexOf("height")&&i?e.height=i:-1!==t.indexOf("minHeight")&&i&&(e.minHeight=i),-1!==t.indexOf("width")&&n?e.width=n:-1!==t.indexOf("minWidth")&&n&&(e.minWidth=n)}return e}),[t,r]),function(e){i({width:e.offsetWidth,height:e.offsetHeight})}]}(f),D=c(I,2),M=D[0],O=D[1];var P=function(t,n){var r=c(Up(null),2),i=r[0],o=r[1],a=(0,e.useRef)();function s(e){o(e,!0)}function u(){$p.cancel(a.current)}return(0,e.useEffect)((function(){s("measure")}),[t]),(0,e.useEffect)((function(){"measure"===i&&n(),i&&(a.current=$p(Ps(X().mark((function e(){var t,n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Gm.indexOf(i),(n=Gm[t+1])&&-1!==t&&s(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),(0,e.useEffect)((function(){return function(){u()}}),[]),[i,function(e){u(),a.current=$p((function(){s((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(r,(function(){f&&O(v())})),L=c(P,2),A=L[0],R=L[1],F=c((0,e.useState)(0),2),z=F[0],j=F[1],B=(0,e.useRef)();function V(){var e;null===(e=k.current)||void 0===e||e.forceAlign()}function U(e,t){var n=y(t);N!==n&&T(n),j((function(e){return e+1})),"align"===A&&(null===m||void 0===m||m(e,t))}Vp((function(){"alignPre"===A&&j(0)}),[A]),Vp((function(){"align"===A&&(z<2?V():R((function(){var e;null===(e=B.current)||void 0===e||e.call(B)})))}),[z]);var G=a({},Oy(t));function H(){return new Promise((function(e){B.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=G[e];G[e]=function(e,n){return R(),null===t||void 0===t?void 0:t(e,n)}})),e.useEffect((function(){G.motionName||"motion"!==A||R()}),[G.motionName,A]),e.useImperativeHandle(n,(function(){return{forceAlign:V,getElement:function(){return C.current}}}));var q=a(a({},M),{},{zIndex:l,opacity:"motion"!==A&&"stable"!==A&&r?0:void 0,pointerEvents:r||"stable"===A?void 0:"none"},s),Y=!0;!(null===p||void 0===p?void 0:p.points)||"align"!==A&&"stable"!==A||(Y=!1);var W=u;return e.Children.count(u)>1&&(W=e.createElement("div",{className:"".concat(i,"-content")},u)),e.createElement(My,Mp({visible:r,ref:C,leavedClassName:"".concat(i,"-hidden")},G,{onAppearPrepare:H,onEnterPrepare:H,removeOnLeave:h,forceRender:d}),(function(t,n){var r=t.className,s=t.style,u=Pp()(i,o,N,r);return e.createElement(Um,{target:g||v,key:"popup",ref:k,monitorWindowResize:!0,disabled:Y,align:p,onAlign:U},e.createElement("div",{ref:n,className:u,onMouseEnter:b,onMouseLeave:_,onMouseDownCapture:w,onTouchStartCapture:x,onClick:E,style:a(a({},s),q)},W))}))}));Hm.displayName="PopupInner";var qm=Hm,Ym=e.forwardRef((function(t,n){var r=t.prefixCls,i=t.visible,o=t.zIndex,s=t.children,u=t.mobile,l=(u=void 0===u?{}:u).popupClassName,c=u.popupStyle,f=u.popupMotion,h=void 0===f?{}:f,d=u.popupRender,p=t.onClick,g=e.useRef();e.useImperativeHandle(n,(function(){return{forceAlign:function(){},getElement:function(){return g.current}}}));var v=a({zIndex:o},c),y=s;return e.Children.count(s)>1&&(y=e.createElement("div",{className:"".concat(r,"-content")},s)),d&&(y=d(y)),e.createElement(My,Mp({visible:i,ref:g,removeOnLeave:!0},h),(function(t,n){var i=t.className,o=t.style,s=Pp()(r,l,i);return e.createElement("div",{ref:n,className:s,onClick:p,style:a(a({},o),v)},y)}))}));Ym.displayName="MobilePopupInner";var Wm=Ym,Xm=["visible","mobile"],Km=e.forwardRef((function(t,n){var r=t.visible,i=t.mobile,o=Ms(t,Xm),s=c((0,e.useState)(r),2),u=s[0],l=s[1],f=c((0,e.useState)(!1),2),h=f[0],d=f[1],p=a(a({},o),{},{visible:u});(0,e.useEffect)((function(){l(r),r&&i&&d(Rp())}),[r,i]);var g=h?e.createElement(Wm,Mp({},p,{mobile:i,ref:n})):e.createElement(qm,Mp({},p,{ref:n}));return e.createElement("div",null,e.createElement(Py,p),g)}));Km.displayName="Popup";var $m=Km,Qm=e.createContext(null);function Zm(){}function Jm(){return""}function eb(e){return e?e.ownerDocument:window.document}var tb=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var nb=function(t){var n=function(n){re(i,n);var r=oe(i);function i(t){var n,o;return te(this,i),(n=r.call(this,t)).popupRef=e.createRef(),n.triggerRef=e.createRef(),n.portalContainer=void 0,n.attachId=void 0,n.clickOutsideHandler=void 0,n.touchOutsideHandler=void 0,n.contextMenuOutsideHandler1=void 0,n.contextMenuOutsideHandler2=void 0,n.mouseDownTimeout=void 0,n.focusTime=void 0,n.preClickTime=void 0,n.preTouchTime=void 0,n.delayTimer=void 0,n.hasPopupMouseDown=void 0,n.onMouseEnter=function(e){var t=n.props.mouseEnterDelay;n.fireEvents("onMouseEnter",e),n.delaySetPopupVisible(!0,t,t?null:e)},n.onMouseMove=function(e){n.fireEvents("onMouseMove",e),n.setPoint(e)},n.onMouseLeave=function(e){n.fireEvents("onMouseLeave",e),n.delaySetPopupVisible(!1,n.props.mouseLeaveDelay)},n.onPopupMouseEnter=function(){n.clearDelayTimer()},n.onPopupMouseLeave=function(e){var t;e.relatedTarget&&!e.relatedTarget.setTimeout&&Uv(null===(t=n.popupRef.current)||void 0===t?void 0:t.getElement(),e.relatedTarget)||n.delaySetPopupVisible(!1,n.props.mouseLeaveDelay)},n.onFocus=function(e){n.fireEvents("onFocus",e),n.clearDelayTimer(),n.isFocusToShow()&&(n.focusTime=Date.now(),n.delaySetPopupVisible(!0,n.props.focusDelay))},n.onMouseDown=function(e){n.fireEvents("onMouseDown",e),n.preClickTime=Date.now()},n.onTouchStart=function(e){n.fireEvents("onTouchStart",e),n.preTouchTime=Date.now()},n.onBlur=function(e){n.fireEvents("onBlur",e),n.clearDelayTimer(),n.isBlurToHide()&&n.delaySetPopupVisible(!1,n.props.blurDelay)},n.onContextMenu=function(e){e.preventDefault(),n.fireEvents("onContextMenu",e),n.setPopupVisible(!0,e)},n.onContextMenuClose=function(){n.isContextMenuToShow()&&n.close()},n.onClick=function(e){if(n.fireEvents("onClick",e),n.focusTime){var t;if(n.preClickTime&&n.preTouchTime?t=Math.min(n.preClickTime,n.preTouchTime):n.preClickTime?t=n.preClickTime:n.preTouchTime&&(t=n.preTouchTime),Math.abs(t-n.focusTime)<20)return;n.focusTime=0}n.preClickTime=0,n.preTouchTime=0,n.isClickToShow()&&(n.isClickToHide()||n.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!n.state.popupVisible;(n.isClickToHide()&&!r||r&&n.isClickToShow())&&n.setPopupVisible(!n.state.popupVisible,e)},n.onPopupMouseDown=function(){var e;(n.hasPopupMouseDown=!0,clearTimeout(n.mouseDownTimeout),n.mouseDownTimeout=window.setTimeout((function(){n.hasPopupMouseDown=!1}),0),n.context)&&(e=n.context).onPopupMouseDown.apply(e,arguments)},n.onDocumentClick=function(e){if(!n.props.mask||n.props.maskClosable){var t=e.target,r=n.getRootDomNode(),i=n.getPopupDomNode();Uv(r,t)&&!n.isContextMenuOnly()||Uv(i,t)||n.hasPopupMouseDown||n.close()}},n.getRootDomNode=function(){var e=n.props.getTriggerDOMNode;if(e)return e(n.triggerRef.current);try{var t=ig(n.triggerRef.current);if(t)return t}catch(r){}return Pu.findDOMNode(K(n))},n.getPopupClassNameFromAlign=function(e){var t=[],r=n.props,i=r.popupPlacement,o=r.builtinPlacements,a=r.prefixCls,s=r.alignPoint,u=r.getPopupClassNameFromAlign;return i&&o&&t.push(function(e,t,n,r){for(var i=n.points,o=Object.keys(e),a=0;a<o.length;a+=1){var s=o[a];if(qv(e[s].points,i,r))return"".concat(t,"-placement-").concat(s)}return""}(o,a,e,s)),u&&t.push(u(e)),t.join(" ")},n.getComponent=function(){var t=n.props,r=t.prefixCls,i=t.destroyPopupOnHide,o=t.popupClassName,a=t.onPopupAlign,s=t.popupMotion,u=t.popupAnimation,l=t.popupTransitionName,c=t.popupStyle,f=t.mask,h=t.maskAnimation,d=t.maskTransitionName,p=t.maskMotion,g=t.zIndex,v=t.popup,y=t.stretch,m=t.alignPoint,b=t.mobile,_=t.forceRender,w=t.onPopupClick,x=n.state,E=x.popupVisible,k=x.point,C=n.getPopupAlign(),S={};return n.isMouseEnterToShow()&&(S.onMouseEnter=n.onPopupMouseEnter),n.isMouseLeaveToHide()&&(S.onMouseLeave=n.onPopupMouseLeave),S.onMouseDown=n.onPopupMouseDown,S.onTouchStart=n.onPopupMouseDown,e.createElement($m,Mp({prefixCls:r,destroyPopupOnHide:i,visible:E,point:m&&k,className:o,align:C,onAlign:a,animation:u,getClassNameFromAlign:n.getPopupClassNameFromAlign},S,{stretch:y,getRootDomNode:n.getRootDomNode,style:c,mask:f,zIndex:g,transitionName:l,maskAnimation:h,maskTransitionName:d,maskMotion:p,ref:n.popupRef,motion:s,mobile:b,forceRender:_,onClick:w}),"function"===typeof v?v():v)},n.attachParent=function(e){$p.cancel(n.attachId);var t,r=n.props,i=r.getPopupContainer,o=r.getDocument,a=n.getRootDomNode();i?(a||0===i.length)&&(t=i(a)):t=o(n.getRootDomNode()).body,t?t.appendChild(e):n.attachId=$p((function(){n.attachParent(e)}))},n.getContainer=function(){if(!n.portalContainer){var e=(0,n.props.getDocument)(n.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",n.portalContainer=e}return n.attachParent(n.portalContainer),n.portalContainer},n.setPoint=function(e){n.props.alignPoint&&e&&n.setState({point:{pageX:e.pageX,pageY:e.pageY}})},n.handlePortalUpdate=function(){n.state.prevPopupVisible!==n.state.popupVisible&&n.props.afterPopupVisibleChange(n.state.popupVisible)},n.triggerContextValue={onPopupMouseDown:n.onPopupMouseDown},o="popupVisible"in t?!!t.popupVisible:!!t.defaultPopupVisible,n.state={prevPopupVisible:o,popupVisible:o},tb.forEach((function(e){n["fire".concat(e)]=function(t){n.fireEvents(e,t)}})),n}return ee(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Gv(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Gv(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Gv(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Gv(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),$p.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){return a(a({},e[t]||{}),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var o=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,o),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var n=this.state.popupVisible,r=this.props,i=r.children,o=r.forceRender,s=r.alignPoint,u=r.className,l=r.autoDestroy,c=e.Children.only(i),f={key:"trigger"};this.isContextMenuToShow()?f.onContextMenu=this.onContextMenu:f.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(f.onClick=this.onClick,f.onMouseDown=this.onMouseDown,f.onTouchStart=this.onTouchStart):(f.onClick=this.createTwoChains("onClick"),f.onMouseDown=this.createTwoChains("onMouseDown"),f.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(f.onMouseEnter=this.onMouseEnter,s&&(f.onMouseMove=this.onMouseMove)):f.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?f.onMouseLeave=this.onMouseLeave:f.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(f.onFocus=this.onFocus,f.onBlur=this.onBlur):(f.onFocus=this.createTwoChains("onFocus"),f.onBlur=this.createTwoChains("onBlur"));var h=Pp()(c&&c.props&&c.props.className,u);h&&(f.className=h);var d=a({},f);rg(c)&&(d.ref=ng(this.triggerRef,c.ref));var p,g=e.cloneElement(c,d);return(n||this.popupRef.current||o)&&(p=e.createElement(t,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!n&&l&&(p=null),e.createElement(Qm.Provider,{value:this.triggerContextValue},g,p)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),i}(e.Component);return n.contextType=Qm,n.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:Jm,getDocument:eb,onPopupVisibleChange:Zm,afterPopupVisibleChange:Zm,onPopupAlign:Zm,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},n}(Hv),rb={adjustX:1,adjustY:1},ib={topLeft:{points:["bl","tl"],overflow:rb,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:rb,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:rb,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:rb,offset:[4,0]}},ob={topLeft:{points:["bl","tl"],overflow:rb,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:rb,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:rb,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:rb,offset:[4,0]}};function ab(e,t,n){return t||(n?n[e]||n.other:void 0)}var sb={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function ub(t){var n=t.prefixCls,r=t.visible,o=t.children,s=t.popup,u=t.popupClassName,l=t.popupOffset,f=t.disabled,h=t.mode,d=t.onVisibleChange,p=e.useContext(cv),g=p.getPopupContainer,v=p.rtl,y=p.subMenuOpenDelay,m=p.subMenuCloseDelay,b=p.builtinPlacements,_=p.triggerSubMenuAction,w=p.forceSubMenuRender,x=p.rootClassName,E=p.motion,k=p.defaultMotions,C=c(e.useState(!1),2),S=C[0],N=C[1],T=a(a({},v?ob:ib),b),I=sb[h],D=a(a({},ab(h,E,k)),{},{leavedClassName:"".concat(n,"-hidden"),removeOnLeave:!1,motionAppear:!0}),M=e.useRef();return e.useEffect((function(){return M.current=$p((function(){N(r)})),function(){$p.cancel(M.current)}}),[r]),e.createElement(nb,{prefixCls:n,popupClassName:Pp()("".concat(n,"-popup"),i({},"".concat(n,"-rtl"),v),u,x),stretch:"horizontal"===h?"minWidth":null,getPopupContainer:g,builtinPlacements:T,popupPlacement:I,popupVisible:S,popup:s,popupAlign:l&&{offset:l},action:f?[]:[_],mouseEnterDelay:y,mouseLeaveDelay:m,onPopupVisibleChange:d,forceRender:w,popupMotion:D},o)}function lb(t){var n=t.id,r=t.open,i=t.keyPath,o=t.children,s="inline",u=e.useContext(cv),l=u.prefixCls,f=u.forceSubMenuRender,h=u.motion,d=u.defaultMotions,p=u.mode,g=e.useRef(!1);g.current=p===s;var v=c(e.useState(!g.current),2),y=v[0],m=v[1],b=!!g.current&&r;e.useEffect((function(){g.current&&m(!1)}),[p]);var _=a({},ab(s,h,d));i.length>1&&(_.motionAppear=!1);var w=_.onVisibleChanged;return _.onVisibleChanged=function(e){return g.current||e||m(!0),null===w||void 0===w?void 0:w(e)},y?null:e.createElement(fv,{mode:s,locked:!g.current},e.createElement(My,Mp({visible:b},_,{forceRender:f,removeOnLeave:!1,leavedClassName:"".concat(l,"-hidden")}),(function(t){var r=t.className,i=t.style;return e.createElement(Vv,{id:n,className:r,style:i},o)})))}var cb=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],fb=["active"],hb=function(t){var n,r=t.style,o=t.className,s=t.title,u=t.eventKey,l=(t.warnKey,t.disabled),f=t.internalPopupClose,h=t.children,d=t.itemIcon,p=t.expandIcon,g=t.popupClassName,v=t.popupOffset,y=t.onClick,m=t.onMouseEnter,b=t.onMouseLeave,_=t.onTitleClick,w=t.onTitleMouseEnter,x=t.onTitleMouseLeave,E=Ms(t,cb),k=Cv(u),C=e.useContext(cv),S=C.prefixCls,N=C.mode,T=C.openKeys,I=C.disabled,D=C.overflowDisabled,M=C.activeKey,O=C.selectedKeys,P=C.itemIcon,L=C.expandIcon,A=C.onItemClick,R=C.onOpenChange,F=C.onActive,z=e.useContext(Sv)._internalRenderSubMenuItem,j=e.useContext(xv).isSubPathKey,B=wv(),V="".concat(S,"-submenu"),U=I||l,G=e.useRef(),H=e.useRef();var q=d||P,Y=p||L,W=T.includes(u),X=!D&&W,K=j(O,u),$=hv(u,U,w,x),Q=$.active,Z=Ms($,fb),J=c(e.useState(!1),2),ee=J[0],te=J[1],ne=function(e){U||te(e)},re=e.useMemo((function(){return Q||"inline"!==N&&(ee||j([M],u))}),[N,Q,M,ee,u,j]),ie=vv(B.length),oe=Fv((function(e){null===y||void 0===y||y(pv(e)),A(e)})),ae=k&&"".concat(k,"-popup"),se=e.createElement("div",Mp({role:"menuitem",style:ie,className:"".concat(V,"-title"),tabIndex:U?null:-1,ref:G,title:"string"===typeof s?s:null,"data-menu-id":D&&k?null:k,"aria-expanded":X,"aria-haspopup":!0,"aria-controls":ae,"aria-disabled":U,onClick:function(e){U||(null===_||void 0===_||_({key:u,domEvent:e}),"inline"===N&&R(u,!W))},onFocus:function(){F(u)}},Z),s,e.createElement(gv,{icon:"horizontal"!==N?Y:null,props:a(a({},t),{},{isOpen:X,isSubMenu:!0})},e.createElement("i",{className:"".concat(V,"-arrow")}))),ue=e.useRef(N);if("inline"!==N&&(ue.current=B.length>1?"vertical":N),!D){var le=ue.current;se=e.createElement(ub,{mode:le,prefixCls:V,visible:!f&&X&&"inline"!==N,popupClassName:g,popupOffset:v,popup:e.createElement(fv,{mode:"horizontal"===le?"vertical":le},e.createElement(Vv,{id:ae,ref:H},h)),disabled:U,onVisibleChange:function(e){"inline"!==N&&R(u,e)}},se)}var ce=e.createElement(sv.Item,Mp({role:"none"},E,{component:"li",style:r,className:Pp()(V,"".concat(V,"-").concat(N),o,(n={},i(n,"".concat(V,"-open"),X),i(n,"".concat(V,"-active"),re),i(n,"".concat(V,"-selected"),K),i(n,"".concat(V,"-disabled"),U),n)),onMouseEnter:function(e){ne(!0),null===m||void 0===m||m({key:u,domEvent:e})},onMouseLeave:function(e){ne(!1),null===b||void 0===b||b({key:u,domEvent:e})}}),se,!D&&e.createElement(lb,{id:ae,open:X,keyPath:B},h));return z&&(ce=z(ce,t,{selected:K,active:re,open:X,disabled:U})),e.createElement(fv,{onItemClick:oe,mode:"horizontal"===N?"vertical":N,itemIcon:q,expandIcon:Y},ce)};function db(t){var n,r=t.eventKey,i=t.children,o=wv(r),a=Lv(i,o),s=bv();return e.useEffect((function(){if(s)return s.registerPath(r,o),function(){s.unregisterPath(r,o)}}),[o]),n=s?a:e.createElement(hb,t,a),e.createElement(_v.Provider,{value:o},n)}function pb(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Ay(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),i=e.getAttribute("tabindex"),o=Number(i),a=null;return i&&!Number.isNaN(o)?a=o:r&&null===a&&(a=0),r&&e.disabled&&(a=null),null!==a&&(a>=0||t&&a<0)}return!1}function gb(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=q(e.querySelectorAll("*")).filter((function(e){return pb(e,t)}));return pb(e,t)&&n.unshift(e),n}var vb=Rg.LEFT,yb=Rg.RIGHT,mb=Rg.UP,bb=Rg.DOWN,_b=Rg.ENTER,wb=Rg.ESC,xb=Rg.HOME,Eb=Rg.END,kb=[mb,bb,vb,yb];function Cb(e,t){return gb(e,!0).filter((function(e){return t.has(e)}))}function Sb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var i=Cb(e,t),o=i.length,a=i.findIndex((function(e){return n===e}));return r<0?-1===a?a=o-1:a-=1:r>0&&(a+=1),i[a=(a+o)%o]}function Nb(t,n,r,o,a,s,u,l,c,f){var h=e.useRef(),d=e.useRef();d.current=n;var p=function(){$p.cancel(h.current)};return e.useEffect((function(){return function(){p()}}),[]),function(e){var g=e.which;if([].concat(kb,[_b,wb,xb,Eb]).includes(g)){var v,y,m,b=function(){return v=new Set,y=new Map,m=new Map,s().forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(kv(o,e),"']"));t&&(v.add(t),m.set(t,e),y.set(e,t))})),v};b();var _=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(y.get(n),v),w=m.get(_),x=function(e,t,n,r){var o,a,s,u,l="prev",c="next",f="children",h="parent";if("inline"===e&&r===_b)return{inlineTrigger:!0};var d=(i(o={},mb,l),i(o,bb,c),o),p=(i(a={},vb,n?c:l),i(a,yb,n?l:c),i(a,bb,f),i(a,_b,f),a),g=(i(s={},mb,l),i(s,bb,c),i(s,_b,f),i(s,wb,h),i(s,vb,n?f:h),i(s,yb,n?h:f),s);switch(null===(u={inline:d,horizontal:p,vertical:g,inlineSub:d,horizontalSub:g,verticalSub:g}["".concat(e).concat(t?"":"Sub")])||void 0===u?void 0:u[r]){case l:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case h:return{offset:-1,sibling:!1};case f:return{offset:1,sibling:!1};default:return null}}(t,1===u(w,!0).length,r,g);if(!x&&g!==xb&&g!==Eb)return;(kb.includes(g)||[xb,Eb].includes(g))&&e.preventDefault();var E=function(e){if(e){var t=e,n=e.querySelector("a");(null===n||void 0===n?void 0:n.getAttribute("href"))&&(t=n);var r=m.get(e);l(r),p(),h.current=$p((function(){d.current===r&&t.focus()}))}};if([xb,Eb].includes(g)||x.sibling||!_){var k,C,S=Cb(k=_&&"inline"!==t?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(_):a.current,v);C=g===xb?S[0]:g===Eb?S[S.length-1]:Sb(k,v,_,x.offset),E(C)}else if(x.inlineTrigger)c(w);else if(x.offset>0)c(w,!0),p(),h.current=$p((function(){b();var e=_.getAttribute("aria-controls"),t=Sb(document.getElementById(e),v);E(t)}),5);else if(x.offset<0){var N=u(w,!0),T=N[N.length-2],I=y.get(T);c(T,!1),E(I)}}null===f||void 0===f||f(e)}}var Tb=Math.random().toFixed(5).toString().slice(2),Ib=0;var Db="__RC_UTIL_PATH_SPLIT__",Mb=function(e){return e.join(Db)},Ob="rc-menu-more";function Pb(){var t=c(e.useState({}),2)[1],n=(0,e.useRef)(new Map),r=(0,e.useRef)(new Map),i=c(e.useState([]),2),o=i[0],a=i[1],s=(0,e.useRef)(0),u=(0,e.useRef)(!1),l=(0,e.useCallback)((function(e,i){var o=Mb(i);r.current.set(o,e),n.current.set(e,o),s.current+=1;var a,l=s.current;a=function(){l===s.current&&(u.current||t({}))},Promise.resolve().then(a)}),[]),f=(0,e.useCallback)((function(e,t){var i=Mb(t);r.current.delete(i),n.current.delete(e)}),[]),h=(0,e.useCallback)((function(e){a(e)}),[]),d=(0,e.useCallback)((function(e,t){var r=n.current.get(e)||"",i=r.split(Db);return t&&o.includes(i[0])&&i.unshift(Ob),i}),[o]),p=(0,e.useCallback)((function(e,t){return e.some((function(e){return d(e,!0).includes(t)}))}),[d]),g=(0,e.useCallback)((function(e){var t="".concat(n.current.get(e)).concat(Db),i=new Set;return q(r.current.keys()).forEach((function(e){e.startsWith(t)&&i.add(r.current.get(e))})),i}),[]);return e.useEffect((function(){return function(){u.current=!0}}),[]),{registerPath:l,unregisterPath:f,refreshOverflowKeys:h,isSubPathKey:p,getKeyPath:d,getKeys:function(){var e=q(n.current.keys());return o.length&&e.push(Ob),e},getSubPathKeys:g}}var Lb=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],Ab=[],Rb=e.forwardRef((function(t,n){var r,o,s=t.prefixCls,u=void 0===s?"rc-menu":s,l=t.rootClassName,f=t.style,h=t.className,d=t.tabIndex,p=void 0===d?0:d,g=t.items,v=t.children,y=t.direction,m=t.id,b=t.mode,_=void 0===b?"vertical":b,w=t.inlineCollapsed,x=t.disabled,E=t.disabledOverflow,k=t.subMenuOpenDelay,C=void 0===k?.1:k,S=t.subMenuCloseDelay,N=void 0===S?.1:S,T=t.forceSubMenuRender,I=t.defaultOpenKeys,D=t.openKeys,M=t.activeKey,O=t.defaultActiveFirst,P=t.selectable,L=void 0===P||P,A=t.multiple,R=void 0!==A&&A,F=t.defaultSelectedKeys,z=t.selectedKeys,j=t.onSelect,B=t.onDeselect,V=t.inlineIndent,U=void 0===V?24:V,G=t.motion,H=t.defaultMotions,Y=t.triggerSubMenuAction,W=void 0===Y?"hover":Y,X=t.builtinPlacements,K=t.itemIcon,$=t.expandIcon,Q=t.overflowedIndicator,Z=void 0===Q?"...":Q,J=t.overflowedIndicatorPopupClassName,ee=t.getPopupContainer,te=t.onClick,ne=t.onOpenChange,re=t.onKeyDown,ie=(t.openAnimation,t.openTransitionName,t._internalRenderMenuItem),oe=t._internalRenderSubMenuItem,ae=Ms(t,Lb),se=e.useMemo((function(){return Rv(v,g,Ab)}),[v,g]),ue=c(e.useState(!1),2),le=ue[0],ce=ue[1],fe=e.useRef(),he=function(t){var n=c(Hp(t,{value:t}),2),r=n[0],i=n[1];return e.useEffect((function(){Ib+=1;var e="".concat(Tb,"-").concat(Ib);i("rc-menu-uuid-".concat(e))}),[]),r}(m),de="rtl"===y;var pe=c(e.useMemo((function(){return"inline"!==_&&"vertical"!==_||!w?[_,!1]:["vertical",w]}),[_,w]),2),ge=pe[0],ve=pe[1],ye=c(e.useState(0),2),me=ye[0],be=ye[1],_e=me>=se.length-1||"horizontal"!==ge||E,we=Hp(I,{value:D,postState:function(e){return e||Ab}}),xe=c(we,2),Ee=xe[0],ke=xe[1],Ce=function(e){ke(e),null===ne||void 0===ne||ne(e)},Se=c(e.useState(Ee),2),Ne=Se[0],Te=Se[1],Ie="inline"===ge,De=e.useRef(!1);e.useEffect((function(){Ie&&Te(Ee)}),[Ee]),e.useEffect((function(){De.current?Ie?ke(Ne):Ce(Ab):De.current=!0}),[Ie]);var Me=Pb(),Oe=Me.registerPath,Pe=Me.unregisterPath,Le=Me.refreshOverflowKeys,Ae=Me.isSubPathKey,Re=Me.getKeyPath,Fe=Me.getKeys,ze=Me.getSubPathKeys,je=e.useMemo((function(){return{registerPath:Oe,unregisterPath:Pe}}),[Oe,Pe]),Be=e.useMemo((function(){return{isSubPathKey:Ae}}),[Ae]);e.useEffect((function(){Le(_e?Ab:se.slice(me+1).map((function(e){return e.key})))}),[me,_e]);var Ve=c(Hp(M||O&&(null===(r=se[0])||void 0===r?void 0:r.key),{value:M}),2),Ue=Ve[0],Ge=Ve[1],He=Fv((function(e){Ge(e)})),qe=Fv((function(){Ge(void 0)}));(0,e.useImperativeHandle)(n,(function(){return{list:fe.current,focus:function(e){var t,n,r,i,o=null!==Ue&&void 0!==Ue?Ue:null===(t=se.find((function(e){return!e.props.disabled})))||void 0===t?void 0:t.key;o&&(null===(n=fe.current)||void 0===n||null===(r=n.querySelector("li[data-menu-id='".concat(kv(he,o),"']")))||void 0===r||null===(i=r.focus)||void 0===i||i.call(r,e))}}}));var Ye=Hp(F||[],{value:z,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?Ab:[e]}}),We=c(Ye,2),Xe=We[0],Ke=We[1],$e=Fv((function(e){null===te||void 0===te||te(pv(e)),function(e){if(L){var t,n=e.key,r=Xe.includes(n);t=R?r?Xe.filter((function(e){return e!==n})):[].concat(q(Xe),[n]):[n],Ke(t);var i=a(a({},e),{},{selectedKeys:t});r?null===B||void 0===B||B(i):null===j||void 0===j||j(i)}!R&&Ee.length&&"inline"!==ge&&Ce(Ab)}(e)})),Qe=Fv((function(e,t){var n=Ee.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==ge){var r=ze(e);n=n.filter((function(e){return!r.has(e)}))}Ug()(Ee,n)||Ce(n)})),Ze=Fv(ee),Je=Nb(ge,Ue,de,he,fe,Fe,Re,Ge,(function(e,t){var n=null!==t&&void 0!==t?t:!Ee.includes(e);Qe(e,n)}),re);e.useEffect((function(){ce(!0)}),[]);var et=e.useMemo((function(){return{_internalRenderMenuItem:ie,_internalRenderSubMenuItem:oe}}),[ie,oe]),tt="horizontal"!==ge||E?se:se.map((function(t,n){return e.createElement(fv,{key:t.key,overflowDisabled:n>me},t)})),nt=e.createElement(sv,Mp({id:m,ref:fe,prefixCls:"".concat(u,"-overflow"),component:"ul",itemComponent:Ov,className:Pp()(u,"".concat(u,"-root"),"".concat(u,"-").concat(ge),h,(o={},i(o,"".concat(u,"-inline-collapsed"),ve),i(o,"".concat(u,"-rtl"),de),o),l),dir:y,style:f,role:"menu",tabIndex:p,data:tt,renderRawItem:function(e){return e},renderRawRest:function(t){var n=t.length,r=n?se.slice(-n):null;return e.createElement(db,{eventKey:Ob,title:Z,disabled:_e,internalPopupClose:0===n,popupClassName:J},r)},maxCount:"horizontal"!==ge||E?sv.INVALIDATE:sv.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){be(e)},onKeyDown:Je},ae));return e.createElement(Sv.Provider,{value:et},e.createElement(Ev.Provider,{value:he},e.createElement(fv,{prefixCls:u,rootClassName:l,mode:ge,openKeys:Ee,rtl:de,disabled:x,motion:le?G:null,defaultMotions:le?H:null,activeKey:Ue,onActive:He,onInactive:qe,selectedKeys:Xe,inlineIndent:U,subMenuOpenDelay:C,subMenuCloseDelay:N,forceSubMenuRender:T,builtinPlacements:X,triggerSubMenuAction:W,getPopupContainer:Ze,itemIcon:K,expandIcon:$,onItemClick:$e,onOpenChange:Qe},e.createElement(xv.Provider,{value:Be},nt),e.createElement("div",{style:{display:"none"},"aria-hidden":!0},e.createElement(mv.Provider,{value:je},se)))))})),Fb=["className","title","eventKey","children"],zb=["children"],jb=function(t){var n=t.className,r=t.title,i=(t.eventKey,t.children),o=Ms(t,Fb),a=e.useContext(cv).prefixCls,s="".concat(a,"-item-group");return e.createElement("li",Mp({},o,{onClick:function(e){return e.stopPropagation()},className:Pp()(s,n)}),e.createElement("div",{className:"".concat(s,"-title"),title:"string"===typeof r?r:void 0},r),e.createElement("ul",{className:"".concat(s,"-list")},i))};function Bb(t){var n=t.children,r=Ms(t,zb),i=Lv(n,wv(r.eventKey));return bv()?i:e.createElement(jb,uv(r,["warnKey"]),i)}function Vb(t){var n=t.className,r=t.style,i=e.useContext(cv).prefixCls;return bv()?null:e.createElement("li",{className:Pp()("".concat(i,"-item-divider"),n),style:r})}var Ub=Rb;Ub.Item=Ov,Ub.SubMenu=db,Ub.ItemGroup=Bb,Ub.Divider=Vb;var Gb=Ub,Hb={adjustX:1,adjustY:1},qb=[0,0],Yb={topLeft:{points:["bl","tl"],overflow:Hb,offset:[0,-4],targetOffset:qb},topCenter:{points:["bc","tc"],overflow:Hb,offset:[0,-4],targetOffset:qb},topRight:{points:["br","tr"],overflow:Hb,offset:[0,-4],targetOffset:qb},bottomLeft:{points:["tl","bl"],overflow:Hb,offset:[0,4],targetOffset:qb},bottomCenter:{points:["tc","bc"],overflow:Hb,offset:[0,4],targetOffset:qb},bottomRight:{points:["tr","br"],overflow:Hb,offset:[0,4],targetOffset:qb}},Wb=Rg.ESC,Xb=Rg.TAB;var Kb=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function $b(t,n){var r=t.arrow,o=void 0!==r&&r,s=t.prefixCls,u=void 0===s?"rc-dropdown":s,l=t.transitionName,f=t.animation,h=t.align,d=t.placement,p=void 0===d?"bottomLeft":d,g=t.placements,v=void 0===g?Yb:g,y=t.getPopupContainer,m=t.showAction,b=t.hideAction,_=t.overlayClassName,w=t.overlayStyle,x=t.visible,E=t.trigger,k=void 0===E?["hover"]:E,C=t.autoFocus,S=Ms(t,Kb),N=c(e.useState(),2),T=N[0],I=N[1],D="visible"in t?x:T,M=e.useRef(null);e.useImperativeHandle(n,(function(){return M.current})),function(t){var n=t.visible,r=t.setTriggerVisible,i=t.triggerRef,o=t.onVisibleChange,a=t.autoFocus,s=e.useRef(!1),u=function(){var e,t,a,s;n&&i.current&&(null===(e=i.current)||void 0===e||null===(t=e.triggerRef)||void 0===t||null===(a=t.current)||void 0===a||null===(s=a.focus)||void 0===s||s.call(a),r(!1),"function"===typeof o&&o(!1))},l=function(){var e,t,n,r,o=gb(null===(e=i.current)||void 0===e||null===(t=e.popupRef)||void 0===t||null===(n=t.current)||void 0===n||null===(r=n.getElement)||void 0===r?void 0:r.call(n))[0];return!!(null===o||void 0===o?void 0:o.focus)&&(o.focus(),s.current=!0,!0)},c=function(e){switch(e.keyCode){case Wb:u();break;case Xb:var t=!1;s.current||(t=l()),t?e.preventDefault():u()}};e.useEffect((function(){return n?(window.addEventListener("keydown",c),a&&$p(l,3),function(){window.removeEventListener("keydown",c),s.current=!1}):function(){s.current=!1}}),[n])}({visible:D,setTriggerVisible:I,triggerRef:M,onVisibleChange:t.onVisibleChange,autoFocus:C});var O=function(){var n=function(){var e=t.overlay;return"function"===typeof e?e():e}();return e.createElement(e.Fragment,null,o&&e.createElement("div",{className:"".concat(u,"-arrow")}),n)},P=b;return P||-1===k.indexOf("contextMenu")||(P=["click"]),e.createElement(nb,a(a({builtinPlacements:v},S),{},{prefixCls:u,ref:M,popupClassName:Pp()(_,i({},"".concat(u,"-show-arrow"),o)),popupStyle:w,action:k,showAction:m,hideAction:P||[],popupPlacement:p,popupAlign:h,popupTransitionName:l,popupAnimation:f,popupVisible:D,stretch:function(){var e=t.minOverlayWidthMatchTrigger,n=t.alignPoint;return"minOverlayWidthMatchTrigger"in t?e:!n}()?"minWidth":"",popup:"function"===typeof t.overlay?O:O(),onPopupVisibleChange:function(e){var n=t.onVisibleChange;I(e),"function"===typeof n&&n(e)},onPopupClick:function(e){var n=t.onOverlayClick;I(!1),n&&n(e)},getPopupContainer:y}),function(){var n=t.children,r=n.props?n.props:{},i=Pp()(r.className,function(){var e=t.openClassName;return void 0!==e?e:"".concat(u,"-open")}());return D&&n?e.cloneElement(n,{className:i}):n}())}var Qb=e.forwardRef($b);function Zb(t,n){var r=t.prefixCls,i=t.editable,o=t.locale,a=t.style;return i&&!1!==i.showAdd?e.createElement("button",{ref:n,type:"button",className:"".concat(r,"-nav-add"),style:a,"aria-label":(null===o||void 0===o?void 0:o.addAriaLabel)||"Add tab",onClick:function(e){i.onEdit("add",{event:e})}},i.addIcon||"+"):null}var Jb=e.forwardRef(Zb);function e_(t,n){var r=t.prefixCls,o=t.id,a=t.tabs,s=t.locale,u=t.mobile,l=t.moreIcon,f=void 0===l?"More":l,h=t.moreTransitionName,d=t.style,p=t.className,g=t.editable,v=t.tabBarGutter,y=t.rtl,m=t.removeAriaLabel,b=t.onTabClick,_=t.getPopupContainer,w=t.popupClassName,x=c((0,e.useState)(!1),2),E=x[0],k=x[1],C=c((0,e.useState)(null),2),S=C[0],N=C[1],T="".concat(o,"-more-popup"),I="".concat(r,"-dropdown"),D=null!==S?"".concat(T,"-").concat(S):null,M=null===s||void 0===s?void 0:s.dropdownAriaLabel;var O=e.createElement(Gb,{onClick:function(e){var t=e.key,n=e.domEvent;b(t,n),k(!1)},prefixCls:"".concat(I,"-menu"),id:T,tabIndex:-1,role:"listbox","aria-activedescendant":D,selectedKeys:[S],"aria-label":void 0!==M?M:"expanded dropdown"},a.map((function(t){var n=g&&!1!==t.closable&&!t.disabled;return e.createElement(Ov,{key:t.key,id:"".concat(T,"-").concat(t.key),role:"option","aria-controls":o&&"".concat(o,"-panel-").concat(t.key),disabled:t.disabled},e.createElement("span",null,t.tab),n&&e.createElement("button",{type:"button","aria-label":m||"remove",tabIndex:0,className:"".concat(I,"-menu-item-remove"),onClick:function(e){var n,r;e.stopPropagation(),n=e,r=t.key,n.preventDefault(),n.stopPropagation(),g.onEdit("remove",{key:r,event:n})}},t.closeIcon||g.removeIcon||"\xd7"))})));function P(e){for(var t=a.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===S}))||0,r=t.length,i=0;i<r;i+=1){var o=t[n=(n+e+r)%r];if(!o.disabled)return void N(o.key)}}(0,e.useEffect)((function(){var e=document.getElementById(D);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[S]),(0,e.useEffect)((function(){E||N(null)}),[E]);var L=i({},y?"marginRight":"marginLeft",v);a.length||(L.visibility="hidden",L.order=1);var A=Pp()(i({},"".concat(I,"-rtl"),y)),R=u?null:e.createElement(Qb,{prefixCls:I,overlay:O,trigger:["hover"],visible:!!a.length&&E,transitionName:h,onVisibleChange:k,overlayClassName:Pp()(A,w),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:_},e.createElement("button",{type:"button",className:"".concat(r,"-nav-more"),style:L,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":T,id:"".concat(o,"-more"),"aria-expanded":E,onKeyDown:function(e){var t=e.which;if(E)switch(t){case Rg.UP:P(-1),e.preventDefault();break;case Rg.DOWN:P(1),e.preventDefault();break;case Rg.ESC:k(!1);break;case Rg.SPACE:case Rg.ENTER:null!==S&&b(S,e)}else[Rg.DOWN,Rg.SPACE,Rg.ENTER].includes(t)&&(k(!0),e.preventDefault())}},f));return e.createElement("div",{className:Pp()("".concat(r,"-nav-operations"),p),style:d,ref:n},R,e.createElement(Jb,{prefixCls:r,locale:s,editable:g}))}var t_=e.memo(e.forwardRef(e_),(function(e,t){return t.tabMoving})),n_=(0,e.createContext)(null),r_=Math.pow(.995,20);function i_(t,n){var r=e.useRef(t),i=c(e.useState({}),2)[1];return[r.current,function(e){var t="function"===typeof e?e(r.current):e;t!==r.current&&n(t,r.current),r.current=t,i({})}]}var o_=function(t){var n,r=t.position,i=t.prefixCls,o=t.extra;if(!o)return null;var a={};return o&&"object"===W(o)&&!e.isValidElement(o)?a=o:a.right=o,"right"===r&&(n=a.right),"left"===r&&(n=a.left),n?e.createElement("div",{className:"".concat(i,"-extra-content")},n):null};function a_(t,n){var r,o=e.useContext(n_),s=o.prefixCls,u=o.tabs,l=t.className,f=t.style,h=t.id,d=t.animated,p=t.activeKey,g=t.rtl,v=t.extra,y=t.editable,m=t.locale,b=t.tabPosition,_=t.tabBarGutter,w=t.children,x=t.onTabClick,E=t.onTabScroll,k=(0,e.useRef)(),C=(0,e.useRef)(),S=(0,e.useRef)(),N=(0,e.useRef)(),T=c(function(){var t=(0,e.useRef)(new Map);return[function(n){return t.current.has(n)||t.current.set(n,e.createRef()),t.current.get(n)},function(e){t.current.delete(e)}]}(),2),I=T[0],D=T[1],M="top"===b||"bottom"===b,O=c(i_(0,(function(e,t){M&&E&&E({direction:e>t?"left":"right"})})),2),P=O[0],L=O[1],A=c(i_(0,(function(e,t){!M&&E&&E({direction:e>t?"top":"bottom"})})),2),R=A[0],F=A[1],z=c((0,e.useState)(0),2),j=z[0],B=z[1],V=c((0,e.useState)(0),2),U=V[0],G=V[1],H=c((0,e.useState)(null),2),Y=H[0],W=H[1],X=c((0,e.useState)(null),2),K=X[0],$=X[1],Q=c((0,e.useState)(0),2),Z=Q[0],J=Q[1],ee=c((0,e.useState)(0),2),te=ee[0],ne=ee[1],re=function(t){var n=(0,e.useRef)([]),r=c((0,e.useState)({}),2)[1],i=(0,e.useRef)("function"===typeof t?t():t),o=Lg((function(){var e=i.current;n.current.forEach((function(t){e=t(e)})),n.current=[],i.current=e,r({})}));return[i.current,function(e){n.current.push(e),o()}]}(new Map),ie=c(re,2),oe=ie[0],ae=ie[1],se=function(t,n,r){return(0,e.useMemo)((function(){for(var e,r=new Map,i=n.get(null===(e=t[0])||void 0===e?void 0:e.key)||jg,o=i.left+i.width,s=0;s<t.length;s+=1){var u,l=t[s].key,c=n.get(l);c||(c=n.get(null===(u=t[s-1])||void 0===u?void 0:u.key)||jg);var f=r.get(l)||a({},c);f.right=o-f.left-f.width,r.set(l,f)}return r}),[t.map((function(e){return e.key})).join("_"),n,r])}(u,oe,j),ue="".concat(s,"-nav-operations-hidden"),le=0,ce=0;function fe(e){return e<le?le:e>ce?ce:e}M?g?(le=0,ce=Math.max(0,j-Y)):(le=Math.min(0,Y-j),ce=0):(le=Math.min(0,K-U),ce=0);var he=(0,e.useRef)(),de=c((0,e.useState)(),2),pe=de[0],ge=de[1];function ve(){ge(Date.now())}function ye(){window.clearTimeout(he.current)}function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=se.get(e)||{width:0,height:0,left:0,right:0,top:0};if(M){var n=P;g?t.right<P?n=t.right:t.right+t.width>P+Y&&(n=t.right+t.width-Y):t.left<-P?n=-t.left:t.left+t.width>-P+Y&&(n=-(t.left+t.width-Y)),F(0),L(fe(n))}else{var r=R;t.top<-R?r=-t.top:t.top+t.height>-R+K&&(r=-(t.top+t.height-K)),L(0),F(fe(r))}}!function(t,n){var r=c((0,e.useState)(),2),i=r[0],o=r[1],a=c((0,e.useState)(0),2),s=a[0],u=a[1],l=c((0,e.useState)(0),2),f=l[0],h=l[1],d=c((0,e.useState)(),2),p=d[0],g=d[1],v=(0,e.useRef)(),y=(0,e.useRef)(),m=(0,e.useRef)(null);m.current={onTouchStart:function(e){var t=e.touches[0],n=t.screenX,r=t.screenY;o({x:n,y:r}),window.clearInterval(v.current)},onTouchMove:function(e){if(i){e.preventDefault();var t=e.touches[0],r=t.screenX,a=t.screenY;o({x:r,y:a});var l=r-i.x,c=a-i.y;n(l,c);var f=Date.now();u(f),h(f-s),g({x:l,y:c})}},onTouchEnd:function(){if(i&&(o(null),g(null),p)){var e=p.x/f,t=p.y/f,r=Math.abs(e),a=Math.abs(t);if(Math.max(r,a)<.1)return;var s=e,u=t;v.current=window.setInterval((function(){Math.abs(s)<.01&&Math.abs(u)<.01?window.clearInterval(v.current):n(20*(s*=r_),20*(u*=r_))}),20)}},onWheel:function(e){var t=e.deltaX,r=e.deltaY,i=0,o=Math.abs(t),a=Math.abs(r);o===a?i="x"===y.current?t:r:o>a?(i=t,y.current="x"):(i=r,y.current="y"),n(-i,-i)&&e.preventDefault()}},e.useEffect((function(){function e(e){m.current.onTouchMove(e)}function n(e){m.current.onTouchEnd(e)}return document.addEventListener("touchmove",e,{passive:!1}),document.addEventListener("touchend",n,{passive:!1}),t.current.addEventListener("touchstart",(function(e){m.current.onTouchStart(e)}),{passive:!1}),t.current.addEventListener("wheel",(function(e){m.current.onWheel(e)})),function(){document.removeEventListener("touchmove",e),document.removeEventListener("touchend",n)}}),[])}(k,(function(e,t){function n(e,t){e((function(e){return fe(e+t)}))}if(M){if(Y>=j)return!1;n(L,e)}else{if(K>=U)return!1;n(F,t)}return ye(),ve(),!0})),(0,e.useEffect)((function(){return ye(),pe&&(he.current=window.setTimeout((function(){ge(0)}),100)),ye}),[pe]);var be=function(t,n,r,i,o){var a,s,u,l=o.tabs,c=o.tabPosition,f=o.rtl;["top","bottom"].includes(c)?(a="width",s=f?"right":"left",u=Math.abs(n.left)):(a="height",s="top",u=-n.top);var h=n[a],d=r[a],p=i[a],g=h;return d+p>h&&d<h&&(g=h-p),(0,e.useMemo)((function(){if(!l.length)return[0,0];for(var e=l.length,n=e,r=0;r<e;r+=1){var i=t.get(l[r].key)||Bg;if(i[s]+i[a]>u+g){n=r-1;break}}for(var o=0,c=e-1;c>=0;c-=1)if((t.get(l[c].key)||Bg)[s]<u){o=c+1;break}return[o,n]}),[t,u,g,c,l.map((function(e){return e.key})).join("_"),f])}(se,{width:Y,height:K,left:P,top:R},{width:j,height:U},{width:Z,height:te},a(a({},t),{},{tabs:u})),_e=c(be,2),we=_e[0],xe=_e[1],Ee={};"top"===b||"bottom"===b?Ee[g?"marginRight":"marginLeft"]=_:Ee.marginTop=_;var ke=u.map((function(t,n){var r=t.key;return e.createElement(zg,{id:h,prefixCls:s,key:r,tab:t,style:0===n?void 0:Ee,closable:t.closable,editable:y,active:r===p,renderWrapper:w,removeAriaLabel:null===m||void 0===m?void 0:m.removeAriaLabel,ref:I(r),onClick:function(e){x(r,e)},onRemove:function(){D(r)},onFocus:function(){me(r),ve(),k.current&&(g||(k.current.scrollLeft=0),k.current.scrollTop=0)}})})),Ce=Lg((function(){var e,t,n,r,i,o,a=(null===(e=k.current)||void 0===e?void 0:e.offsetWidth)||0,s=(null===(t=k.current)||void 0===t?void 0:t.offsetHeight)||0,l=(null===(n=N.current)||void 0===n?void 0:n.offsetWidth)||0,c=(null===(r=N.current)||void 0===r?void 0:r.offsetHeight)||0;W(a),$(s),J(l),ne(c);var f=((null===(i=C.current)||void 0===i?void 0:i.offsetWidth)||0)-l,h=((null===(o=C.current)||void 0===o?void 0:o.offsetHeight)||0)-c;B(f),G(h),ae((function(){var e=new Map;return u.forEach((function(t){var n=t.key,r=I(n).current;r&&e.set(n,{width:r.offsetWidth,height:r.offsetHeight,left:r.offsetLeft,top:r.offsetTop})})),e}))})),Se=u.slice(0,we),Ne=u.slice(xe+1),Te=[].concat(q(Se),q(Ne)),Ie=c((0,e.useState)(),2),De=Ie[0],Me=Ie[1],Oe=se.get(p),Pe=(0,e.useRef)();function Le(){$p.cancel(Pe.current)}(0,e.useEffect)((function(){var e={};return Oe&&(M?(g?e.right=Oe.right:e.left=Oe.left,e.width=Oe.width):(e.top=Oe.top,e.height=Oe.height)),Le(),Pe.current=$p((function(){Me(e)})),Le}),[Oe,M,g]),(0,e.useEffect)((function(){me()}),[p,Oe,se,M]),(0,e.useEffect)((function(){Ce()}),[g,_,p,u.map((function(e){return e.key})).join("_")]);var Ae,Re,Fe,ze,je=!!Te.length,Be="".concat(s,"-nav-wrap");return M?g?(Re=P>0,Ae=P+Y<j):(Ae=P<0,Re=-P+Y<j):(Fe=R<0,ze=-R+K<U),e.createElement("div",{ref:n,role:"tablist",className:Pp()("".concat(s,"-nav"),l),style:f,onKeyDown:function(){ve()}},e.createElement(o_,{position:"left",extra:v,prefixCls:s}),e.createElement(Pg,{onResize:Ce},e.createElement("div",{className:Pp()(Be,(r={},i(r,"".concat(Be,"-ping-left"),Ae),i(r,"".concat(Be,"-ping-right"),Re),i(r,"".concat(Be,"-ping-top"),Fe),i(r,"".concat(Be,"-ping-bottom"),ze),r)),ref:k},e.createElement(Pg,{onResize:Ce},e.createElement("div",{ref:C,className:"".concat(s,"-nav-list"),style:{transform:"translate(".concat(P,"px, ").concat(R,"px)"),transition:pe?"none":void 0}},ke,e.createElement(Jb,{ref:N,prefixCls:s,locale:m,editable:y,style:a(a({},0===ke.length?void 0:Ee),{},{visibility:je?"hidden":null})}),e.createElement("div",{className:Pp()("".concat(s,"-ink-bar"),i({},"".concat(s,"-ink-bar-animated"),d.inkBar)),style:De}))))),e.createElement(t_,Mp({},t,{removeAriaLabel:null===m||void 0===m?void 0:m.removeAriaLabel,ref:S,prefixCls:s,tabs:Te,className:!je&&ue,tabMoving:!!pe})),e.createElement(o_,{position:"right",extra:v,prefixCls:s}))}var s_=e.forwardRef(a_);function u_(t){var n=t.id,r=t.activeKey,o=t.animated,a=t.tabPosition,s=t.rtl,u=t.destroyInactiveTabPane,l=e.useContext(n_),c=l.prefixCls,f=l.tabs,h=o.tabPane,d=f.findIndex((function(e){return e.key===r}));return e.createElement("div",{className:Pp()("".concat(c,"-content-holder"))},e.createElement("div",{className:Pp()("".concat(c,"-content"),"".concat(c,"-content-").concat(a),i({},"".concat(c,"-content-animated"),h)),style:d&&h?i({},s?"marginRight":"marginLeft","-".concat(d,"00%")):null},f.map((function(t){return e.cloneElement(t.node,{key:t.key,prefixCls:c,tabKey:t.key,id:n,animated:h,active:t.key===r,destroyInactiveTabPane:u})}))))}var l_=["id","prefixCls","className","children","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName"],c_=0;function f_(t,n){var r,o,s=t.id,u=t.prefixCls,l=void 0===u?"rc-tabs":u,f=t.className,h=t.children,d=t.direction,p=t.activeKey,g=t.defaultActiveKey,v=t.editable,y=t.animated,m=void 0===y?{inkBar:!0,tabPane:!1}:y,b=t.tabPosition,_=void 0===b?"top":b,w=t.tabBarGutter,x=t.tabBarStyle,E=t.tabBarExtraContent,k=t.locale,C=t.moreIcon,S=t.moreTransitionName,N=t.destroyInactiveTabPane,T=t.renderTabBar,I=t.onChange,D=t.onTabClick,M=t.onTabScroll,O=t.getPopupContainer,P=t.popupClassName,L=Ms(t,l_),A=function(t){return Ap(t).map((function(t){return e.isValidElement(t)?a(a({key:void 0!==t.key?String(t.key):void 0},t.props),{},{node:t}):null})).filter((function(e){return e}))}(h),R="rtl"===d;o=!1===m?{inkBar:!1,tabPane:!1}:!0===m?{inkBar:!0,tabPane:!0}:a({inkBar:!0,tabPane:!1},"object"===W(m)?m:{});var F=c((0,e.useState)(!1),2),z=F[0],j=F[1];(0,e.useEffect)((function(){j(Rp())}),[]);var B=c(Hp((function(){var e;return null===(e=A[0])||void 0===e?void 0:e.key}),{value:p,defaultValue:g}),2),V=B[0],U=B[1],G=c((0,e.useState)((function(){return A.findIndex((function(e){return e.key===V}))})),2),H=G[0],q=G[1];(0,e.useEffect)((function(){var e,t=A.findIndex((function(e){return e.key===V}));-1===t&&(t=Math.max(0,Math.min(H,A.length-1)),U(null===(e=A[t])||void 0===e?void 0:e.key));q(t)}),[A.map((function(e){return e.key})).join("_"),V,H]);var Y=c(Hp(null,{value:s}),2),X=Y[0],K=Y[1],$=_;z&&!["left","right"].includes(_)&&($="top"),(0,e.useEffect)((function(){s||(K("rc-tabs-".concat(c_)),c_+=1)}),[]);var Q,Z={id:X,activeKey:V,animated:o,tabPosition:$,rtl:R,mobile:z},J=a(a({},Z),{},{editable:v,locale:k,moreIcon:C,moreTransitionName:S,tabBarGutter:w,onTabClick:function(e,t){null===D||void 0===D||D(e,t);var n=e!==V;U(e),n&&(null===I||void 0===I||I(e))},onTabScroll:M,extra:E,style:x,panes:h,getPopupContainer:O,popupClassName:P});return Q=T?T(J,s_):e.createElement(s_,J),e.createElement(n_.Provider,{value:{tabs:A,prefixCls:l}},e.createElement("div",Mp({ref:n,id:s,className:Pp()(l,"".concat(l,"-").concat($),(r={},i(r,"".concat(l,"-mobile"),z),i(r,"".concat(l,"-editable"),v),i(r,"".concat(l,"-rtl"),R),r),f)},L),Q,e.createElement(u_,Mp({destroyInactiveTabPane:N},Z,{animated:o}))))}var h_=e.forwardRef(f_);h_.TabPane=function(t){var n=t.prefixCls,r=t.forceRender,i=t.className,o=t.style,s=t.id,u=t.active,l=t.animated,f=t.destroyInactiveTabPane,h=t.tabKey,d=t.children,p=c(e.useState(r),2),g=p[0],v=p[1];e.useEffect((function(){u?v(!0):f&&v(!1)}),[u,f]);var y={};return u||(l?(y.visibility="hidden",y.height=0,y.overflowY="hidden"):y.display="none"),e.createElement("div",{id:s&&"".concat(s,"-panel-").concat(h),role:"tabpanel",tabIndex:u?0:-1,"aria-labelledby":s&&"".concat(s,"-tab-").concat(h),"aria-hidden":!u,style:a(a({},y),o),className:Pp()("".concat(n,"-tabpane"),u&&"".concat(n,"-tabpane-active"),i)},(u||g||r)&&d)};var d_=h_,p_={adjustX:1,adjustY:1},g_=[0,0],v_={topLeft:{points:["bl","tl"],overflow:p_,offset:[0,-4],targetOffset:g_},topCenter:{points:["bc","tc"],overflow:p_,offset:[0,-4],targetOffset:g_},topRight:{points:["br","tr"],overflow:p_,offset:[0,-4],targetOffset:g_},bottomLeft:{points:["tl","bl"],overflow:p_,offset:[0,4],targetOffset:g_},bottomCenter:{points:["tc","bc"],overflow:p_,offset:[0,4],targetOffset:g_},bottomRight:{points:["tr","br"],overflow:p_,offset:[0,4],targetOffset:g_}},y_=Rg.ESC,m_=Rg.TAB;var b_=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function __(t,n){var r=t.arrow,o=void 0!==r&&r,s=t.prefixCls,u=void 0===s?"rc-dropdown":s,l=t.transitionName,f=t.animation,h=t.align,d=t.placement,p=void 0===d?"bottomLeft":d,g=t.placements,v=void 0===g?v_:g,y=t.getPopupContainer,m=t.showAction,b=t.hideAction,_=t.overlayClassName,w=t.overlayStyle,x=t.visible,E=t.trigger,k=void 0===E?["hover"]:E,C=t.autoFocus,S=Ms(t,b_),N=c(e.useState(),2),T=N[0],I=N[1],D="visible"in t?x:T,M=e.useRef(null);e.useImperativeHandle(n,(function(){return M.current}));var O=e.useRef(null),P="".concat(u,"-menu");!function(t){var n=t.visible,r=t.setTriggerVisible,i=t.triggerRef,o=t.menuRef,a=t.onVisibleChange,s=t.autoFocus,u=e.useRef(!1),l=function(){var e,t,o,s;n&&i.current&&(null===(e=i.current)||void 0===e||null===(t=e.triggerRef)||void 0===t||null===(o=t.current)||void 0===o||null===(s=o.focus)||void 0===s||s.call(o),r(!1),"function"===typeof a&&a(!1))},c=function(){var e,t;null===(e=o.current)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e),u.current=!0},f=function(e){var t;switch(e.keyCode){case y_:l();break;case m_:!u.current&&(null===(t=o.current)||void 0===t?void 0:t.focus)?(e.preventDefault(),c()):l()}};e.useEffect((function(){return n?(window.addEventListener("keydown",f),s&&$p(c,3),function(){window.removeEventListener("keydown",f),u.current=!1}):function(){u.current=!1}}),[n])}({visible:D,setTriggerVisible:I,triggerRef:M,menuRef:O,onVisibleChange:t.onVisibleChange,autoFocus:C});var L=function(){var e=t.overlay;return"function"===typeof e?e():e},A=function(e){var n=t.onOverlayClick,r=L().props;I(!1),n&&n(e),r.onClick&&r.onClick(e)},R=function(){var t,n=L(),r=ng(O,n.ref),a=(i(t={prefixCls:P},"data-dropdown-inject",!0),i(t,"onClick",A),i(t,"ref",rg(n)?r:void 0),t);return"string"===typeof n.type&&(delete a.prefixCls,delete a["data-dropdown-inject"]),e.createElement(e.Fragment,null,o&&e.createElement("div",{className:"".concat(u,"-arrow")}),e.cloneElement(n,a))},F=b;return F||-1===k.indexOf("contextMenu")||(F=["click"]),e.createElement(nb,a(a({builtinPlacements:v},S),{},{prefixCls:u,ref:M,popupClassName:Pp()(_,i({},"".concat(u,"-show-arrow"),o)),popupStyle:w,action:k,showAction:m,hideAction:F||[],popupPlacement:p,popupAlign:h,popupTransitionName:l,popupAnimation:f,popupVisible:D,stretch:function(){var e=t.minOverlayWidthMatchTrigger,n=t.alignPoint;return"minOverlayWidthMatchTrigger"in t?e:!n}()?"minWidth":"",popup:"function"===typeof t.overlay?R:R(),onPopupVisibleChange:function(e){var n=t.onVisibleChange;I(e),"function"===typeof n&&n(e)},getPopupContainer:y}),function(){var n=t.children,r=n.props?n.props:{},i=Pp()(r.className,function(){var e=t.openClassName;return void 0!==e?e:"".concat(u,"-open")}());return D&&n?e.cloneElement(n,{className:i}):n}())}var w_,x_,E_,k_,C_,S_=e.forwardRef(__),N_=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(te(this,e),this.pageX=0,this.pageY=0,this.clientX=0,this.clientY=0,this.dx=0,this.dy=0,this.event=t,this.component=n,this._init=r,t){var i;if(t.type.startsWith("touch"))i="touchend"===t.type?t.changedTouches[0]:t.touches[0],this.pageX=i.pageX,this.pageY=i.pageY,this.clientX=i.clientX,this.clientY=i.clientY;else"pageX"in t&&(this.pageX=t.pageX,this.pageY=t.pageY,this.clientX=t.clientX,this.clientY=t.clientY);this.dx=(this.pageX-n.baseX)*n.scaleX,this.dy=(this.pageY-n.baseY)*n.scaleY}}return ee(e,[{key:"moved",value:function(){return Math.abs(this.dx)>=1||Math.abs(this.dy)>=1}},{key:"startDrag",value:function(e,t){if(!this._init)throw new Error("startDrag can only be used in onDragStart callback");void 0===e&&(e=this.component.element),function(e,t,n){E_=e,t&&(t.classList.add("dragging"),k_=t);(function(e){D_=e.createElement("div"),M_=e.createElement("div"),D_.className="dragging-layer",D_.appendChild(document.createElement("div")),D_.appendChild(M_)})(e.component.ownerDocument),e.component.ownerDocument.body.appendChild(D_);var r=0,i=0;void 0===n&&(n=e.component.element);n&&"outerHTML"in n&&(r=n.offsetWidth,i=n.offsetHeight,n=n.outerHTML);n&&(D_.firstElementChild.outerHTML=n,"rgba(0, 0, 0, 0)"===window.getComputedStyle(D_.firstElementChild).backgroundColor&&(D_.firstElementChild.style.backgroundColor=window.getComputedStyle(D_).getPropertyValue("--default-background-color")),r&&(r>400&&(r=400),D_.firstElementChild.style.width="".concat(r,"px")),i&&(i>300&&(i=300),D_.firstElementChild.style.height="".concat(i,"px")));var o,a=f(F_);try{for(a.s();!(o=a.n()).done;){var s=o.value;s(w_||!0)}}catch(u){a.e(u)}finally{a.f()}}(this,e,t),this.component.ownerDocument.body.classList.add("dock-dragging")}},{key:"setData",value:function(e,t){if(!this._init)throw new Error("setData can only be used in onDragStart callback");w_=t,x_=e}},{key:"dragType",get:function(){return this.component.dragType}},{key:"accept",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.acceptMessage=e,this.rejected=!1}},{key:"reject",value:function(){this.rejected=!0}},{key:"_onMove",value:function(){if(x_){for(var e,t=this.component.ownerDocument,n=t.elementFromPoint(this.clientX,this.clientY);n&&n!==t.body;){if(O_.has(n)){var r=O_.get(n);if(r.onDragOverT&&(r.onDragOverT(this),null!=this.acceptMessage)){e=r;break}}n=n.parentElement}I_(e,this)}var i;i=this,D_.style.left="".concat(i.pageX,"px"),D_.style.top="".concat(i.pageY,"px"),i.rejected?M_.className="drag-accept-reject":i.acceptMessage?M_.className=i.acceptMessage:M_.className=""}},{key:"_onDragEnd",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];C_&&C_.onDropT&&!t&&(C_.onDropT(this),"right"===this.component.dragType&&(this.component.ownerDocument.addEventListener("contextmenu",T_,!0),setTimeout((function(){e.component.ownerDocument.removeEventListener("contextmenu",T_,!0)}),0))),R_(this),this.component.ownerDocument.body.classList.remove("dock-dragging")}}],[{key:"getData",value:function(e,t){return t===w_&&x_?x_[e]:null}}]),e}();function T_(e){e.preventDefault(),e.stopPropagation()}function I_(e,t){C_!==e&&(C_&&C_.onDragLeaveT&&C_.onDragLeaveT(t),C_=e)}var D_,M_,O_=new WeakMap;function P_(){return null!=E_}function L_(e,t){O_.set(e,t)}function A_(e){O_.get(e)===C_&&(C_=null),O_.delete(e)}function R_(e){k_&&(k_.classList.remove("dragging"),k_=null),D_&&(D_.remove(),D_=null),E_=null,I_(null,e),w_=null,x_=null;var t,n=f(F_);try{for(n.s();!(t=n.n()).done;){(0,t.value)(null)}}catch(r){n.e(r)}finally{n.f()}}var F_=new Set;"undefined"!==typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform)&&document.addEventListener("touchmove",(function(e){1===e.touches.length&&document.body.classList.contains("dock-dragging")&&e.preventDefault()}),{passive:!1});var z_=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(te(this,e),this.dx1=0,this.dy1=0,this.dx2=0,this.dy2=0,this.scale=1,this.rotate=0,this.dx=0,this.dy=0,this.event=t,this.component=n,this._init=r,t&&2===t.touches.length){var i=t.touches[0],o=t.touches[1];this.dx1=(i.pageX-n.baseX)*n.scaleX,this.dy1=(i.pageY-n.baseY)*n.scaleY,this.dx2=(o.pageX-n.baseX2)*n.scaleX,this.dy2=(o.pageY-n.baseY2)*n.scaleY,this.dx1*this.dx2>=0&&(this.dx=(this.dx1+this.dx2)/2),this.dy1*this.dy2>=0&&(this.dy=(this.dy1+this.dy2)/2),this.scale=Math.sqrt(Math.pow(o.pageX-i.pageX,2)+Math.pow(o.pageY-i.pageY,2))/n.baseDis,this.rotate=Math.atan2(o.pageY-i.pageY,o.pageX-i.pageX)-n.baseAng,this.rotate>Math.PI?this.rotate-=2*Math.PI:this.rotate<-Math.PI&&(this.rotate+=2*Math.PI)}}return ee(e,[{key:"moved",value:function(){return Math.max(Math.abs(this.dx1),Math.abs(this.dx2),Math.abs(this.dy1),Math.abs(this.dy2))}},{key:"pageCenter",value:function(){var e=this.event.touches[0],t=this.event.touches[1];return[(e.pageX+t.pageX)/2,(e.pageY+t.pageY)/2]}},{key:"clientCenter",value:function(){var e=this.event.touches[0],t=this.event.touches[1];return[(e.clientX+t.clientX)/2,(e.clientY+t.clientY)/2]}}]),e}(),j_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},B_=function(t){re(r,t);var n=oe(r);function r(){var e;return te(this,r),(e=n.apply(this,arguments))._getRef=function(t){if(t!==e.element){var n=e.props,r=n.getRef,i=n.onDragOverT;e.element&&i&&A_(e.element),e.element=t,t&&(e.ownerDocument=t.ownerDocument),r&&r(t),t&&i&&L_(t,e.props)}},e.dragType=null,e.waitingMove=!1,e.listening=!1,e.gesturing=!1,e.onPointerDown=function(t){var n=t.nativeEvent.target;if(!(n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement||n.classList.contains("drag-ignore"))){var r=e.props,i=r.onDragStartT,o=r.onGestureStartT,a=r.onGestureMoveT,s=r.useRightButtonDragT,u=t.nativeEvent;if(e.cancel(),"touchstart"===u.type)1===u.touches.length?i&&e.onDragStart(u):2===u.touches.length&&o&&a&&e.onGestureStart(u);else if(i){if(2===u.button&&!s)return;e.onDragStart(u)}}},e.onMouseMove=function(t){var n=e.props.onDragMoveT;if(e.waitingMove){if(P_())return void e.onDragEnd();if(!e.checkFirstMove(t))return}else{var r=new N_(t,K(e));r._onMove(),n&&n(r)}t.preventDefault()},e.onTouchMove=function(t){var n=e.props.onDragMoveT;if(e.waitingMove){if(P_())return void e.onDragEnd();if(!e.checkFirstMove(t))return}else if(1!==t.touches.length)e.onDragEnd();else{var r=new N_(t,K(e));r._onMove(),n&&n(r)}t.preventDefault()},e.onDragEnd=function(t){var n=e.props.onDragEndT,r=new N_(t,K(e));e.removeListeners(),e.waitingMove||(r._onDragEnd(null==t),n&&n(r)),e.cleanupDrag(r)},e.onGestureMove=function(t){var n=e.props,r=n.onGestureMoveT,i=n.gestureSensitivity,o=new z_(t,K(e));if(e.waitingMove){if(i>0||(i=10),!(o.moved()>i))return;e.waitingMove=!1}r&&r(o)},e.onGestureEnd=function(t){var n=e.props.onGestureEndT;new N_(t,K(e));e.removeListeners(),n&&n()},e.onKeyDown=function(t){"Escape"===t.key&&e.cancel()},e}return ee(r,[{key:"onDragStart",value:function(e){if(!P_()){var t=new N_(e,this,!0);this.baseX=t.pageX,this.baseY=t.pageY;var n=this.element.parentElement,r=n.getBoundingClientRect();this.scaleX=n.offsetWidth/Math.round(r.width),this.scaleY=n.offsetHeight/Math.round(r.height),this.addDragListeners(e),this.props.directDragT&&this.executeFirstMove(t)}}},{key:"addDragListeners",value:function(e){this.props.onDragStartT;"touchstart"===e.type?(this.ownerDocument.addEventListener("touchmove",this.onTouchMove),this.ownerDocument.addEventListener("touchend",this.onDragEnd),this.dragType="touch"):(this.ownerDocument.addEventListener("mousemove",this.onMouseMove),this.ownerDocument.addEventListener("mouseup",this.onDragEnd),2===e.button?this.dragType="right":this.dragType="left"),this.waitingMove=!0,this.listening=!0}},{key:"checkFirstMove",value:function(e){var t=new N_(e,this,!0);return!!t.moved()&&this.executeFirstMove(t)}},{key:"executeFirstMove",value:function(e){var t=this.props.onDragStartT;return this.waitingMove=!1,t(e),P_()?(e._onMove(),this.ownerDocument.addEventListener("keydown",this.onKeyDown),!0):(this.onDragEnd(),!1)}},{key:"addGestureListeners",value:function(e){this.ownerDocument.addEventListener("touchmove",this.onGestureMove),this.ownerDocument.addEventListener("touchend",this.onGestureEnd),this.ownerDocument.addEventListener("keydown",this.onKeyDown),this.gesturing=!0,this.waitingMove=!0}},{key:"onGestureStart",value:function(e){if(P_()){var t=this.props.onGestureStartT;this.baseX=e.touches[0].pageX,this.baseY=e.touches[0].pageY,this.baseX2=e.touches[1].pageX,this.baseY2=e.touches[1].pageY;var n=this.element.parentElement,r=n.getBoundingClientRect();this.scaleX=n.offsetWidth/Math.round(r.width),this.scaleY=n.offsetHeight/Math.round(r.height),this.baseDis=Math.sqrt(Math.pow(this.baseX-this.baseX2,2)+Math.pow(this.baseY-this.baseY2,2)),this.baseAng=Math.atan2(this.baseY2-this.baseY,this.baseX2-this.baseX),t(new z_(e,this,!0))&&(this.addGestureListeners(e),e.preventDefault())}}},{key:"cancel",value:function(){this.listening&&this.onDragEnd(),this.gesturing&&this.onGestureEnd()}},{key:"removeListeners",value:function(){this.gesturing?(this.ownerDocument.removeEventListener("touchmove",this.onGestureMove),this.ownerDocument.removeEventListener("touchend",this.onGestureEnd)):this.listening&&("touch"===this.dragType?(this.ownerDocument.removeEventListener("touchmove",this.onTouchMove),this.ownerDocument.removeEventListener("touchend",this.onDragEnd)):(this.ownerDocument.removeEventListener("mousemove",this.onMouseMove),this.ownerDocument.removeEventListener("mouseup",this.onDragEnd))),this.ownerDocument.removeEventListener("keydown",this.onKeyDown),this.listening=!1,this.gesturing=!1}},{key:"cleanupDrag",value:function(e){this.dragType=null,this.waitingMove=!1}},{key:"render",value:function(){var t=this.props,n=(t.getRef,t.children),r=t.className,i=(t.directDragT,t.onDragStartT),o=(t.onDragMoveT,t.onDragEndT,t.onDragOverT,t.onDragLeaveT,t.onDropT,t.onGestureStartT),a=(t.onGestureMoveT,t.onGestureEndT,t.useRightButtonDragT,j_(t,["getRef","children","className","directDragT","onDragStartT","onDragMoveT","onDragEndT","onDragOverT","onDragLeaveT","onDropT","onGestureStartT","onGestureMoveT","onGestureEndT","useRightButtonDragT"])),s=this.onPointerDown,u=this.onPointerDown;return i||(u=null,o||(s=null)),(i||o)&&(r=r?"".concat(r," drag-initiator"):"drag-initiator"),e.createElement("div",Object.assign({ref:this._getRef,className:r},a,{onMouseDown:u,onTouchStart:s}),n)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.onDragOverT,r=t.onDragEndT,i=t.onDragLeaveT;!this.element||e.onDragOverT===n&&e.onDragLeaveT===i&&e.onDragEndT===r||(n?L_(this.element,this.props):A_(this.element))}},{key:"componentWillUnmount",value:function(){var e=this.props.onDragOverT;this.element&&e&&A_(this.element),this.cancel()}}]),r}(e.PureComponent),V_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function U_(t){var n=t.onDragStart,r=t.onDragMove,i=t.onDragEnd,o=t.TabNavList,a=t.isMaximized,s=V_(t,["onDragStart","onDragMove","onDragEnd","TabNavList","isMaximized"]),u=e.useContext(Ip),l=e.useRef();return e.createElement(B_,{onDragStartT:n,onDragMoveT:r,onDragEndT:i,role:"tablist",className:"dock-bar",onKeyDown:function(e){e.key.startsWith("Arrow")&&(function(e,t){if("ArrowLeft"===e||"ArrowRight"===e){var n=Array.from(t.querySelectorAll(".dock-tab-btn")),r=t.querySelector(".dock-tab-active>.dock-tab-btn"),i=n.indexOf(r);if(i>=0)if("ArrowLeft"===e){if(i>0)return n[i-1].click(),n[i-1].focus(),!0}else if(i<n.length-1)return n[i+1].click(),n[i+1].focus(),!0}return!1}(e.key,l.current)||a||u.navigateToPanel(l.current,e.key),e.stopPropagation(),e.preventDefault())},getRef:function(e){l.current=e},tabIndex:-1},e.createElement(o,Object.assign({},s)))}var G_=function(t){re(r,t);var n=oe(r);function r(){var e;return te(this,r),(e=n.apply(this,arguments)).getRef=function(t){e._ref=t},e}return ee(r,[{key:"updateCache",value:function(){var e=this.props,t=e.cached,n=e.children,r=e.cacheId;this._cache&&(t&&r===this._cache.id||(this.context.removeTabCache(this._cache.id,this),this._cache=null)),t&&this._ref&&(this._cache=this.context.getTabCache(r,this),this._ref.contains(this._cache.div)||this._ref.appendChild(this._cache.div),this.context.updateTabCache(this._cache.id,n))}},{key:"render",value:function(){var t=this.props,n=t.cacheId,r=t.cached,i=t.prefixCls,o=t.forceRender,a=t.className,s=t.style,u=t.id,l=t.active,c=t.animated,f=t.destroyInactiveTabPane,h=t.tabKey,d=t.children;l?this.visited=!0:f&&(this.visited=!1);var p={};l||(c?(p.visibility="hidden",p.height=0,p.overflowY="hidden"):p.display="none");var g=!1===r?l:this.visited,v=null;r?v=null:(g||o)&&(v=d);var y=r?this.getRef:null;return e.createElement("div",{ref:y,id:n,role:"tabpanel","aria-labelledby":u&&"".concat(u,"-tab-").concat(h),"aria-hidden":!l,style:Object.assign(Object.assign({},p),s),className:Pp()("".concat(i,"-tabpane"),l&&"".concat(i,"-tabpane-active"),a)},(l||this.visited||o)&&v)}},{key:"componentDidMount",value:function(){this.updateCache()}},{key:"componentDidUpdate",value:function(e,t,n){this.updateCache()}},{key:"componentWillUnmount",value:function(){this._cache&&this.context.removeTabCache(this._cache.id,this)}}]),r}(e.PureComponent);G_.contextType=Ip;var H_=new WeakMap;function q_(e){var t=H_.get(e);return t?q_(t):e}function Y_(e,t){var n=Object.assign(Object.assign({},e),t);return Array.isArray(n.tabs)&&(n.tabs=n.tabs.concat()),Array.isArray(n.children)&&(n.children=n.children.concat()),H_.set(e,n),n}function W_(e,t){return null==e?t:Math.max(e,t)}function X_(e,t){return null==e||e===t?t:e>=1?t<=1?1:Math.min(e,t):t>=1?1:Math.max(e,t)}var K_=0;var $_,Q_=0;function Z_(e){return e===Q_?e:++Q_}function J_(e,t,n){if(e.id===t&&n&$_.Panel)return e;if(n&$_.Tab){var r,i=f(e.tabs);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.id===t)return o}}catch(a){i.e(a)}finally{i.f()}}return null}function ew(e,t,n){var r;if(n|$_.Box&&e.id===t)return e;var i,o=f(e.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if("children"in a){if(r=ew(a,t,n))break}else if("tabs"in a&&(r=J_(a,t,n)))break}}catch(s){o.e(s)}finally{o.f()}return r}function tw(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$_.AnyTabPanel;return r&$_.Docked&&(n=ew(e.dockbox,t,r)),n||(r&$_.Floated&&(n=ew(e.floatbox,t,r)),n||(r&$_.Windowed&&(n=ew(e.windowbox,t,r)),n||(r&$_.Max&&(n=ew(e.maxbox,t,r)),n)))}function nw(e,t,n){var r,i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;if(-1===o&&(o=n.tabs.length),"tabs"in t?(r=t.tabs,i=t.activeId):r=[t],r.length){var a,s=Y_(n);(a=s.tabs).splice.apply(a,[o,0].concat(q(r))),s.activeId=r[r.length-1].id;var u,l=f(r);try{for(l.s();!(u=l.n()).done;){var c=u.value;c.parent=s}}catch(h){l.e(h)}finally{l.f()}i&&(s.activeId=i),e=fw(e,n,s)}return e}function rw(e){if("tabs"in e)return e;var t={tabs:[e],group:e.group,activeId:e.id};return e.parent=t,t}function iw(e,t,n,r){var i=n.parent,o="left"===r||"right"===r?"horizontal":"vertical",a="bottom"===r||"right"===r;if(i){var s=i.children.indexOf(n);if(s>=0){var u=Y_(i);if(o===i.mode)a&&++s,t.size=.3*n.size,n.size*=.7,u.children.splice(s,0,t);else{var l={mode:o,children:[]};l.size=n.size,l.children=a?[n,t]:[t,n],n.parent=l,n.size=280,t.parent=l,t.size=120,u.children[s]=l}return hw(e,i,u)}}else{if(n===e.dockbox){var c=Y_(n);if(o===n.mode){var f=0;return a&&(f=c.children.length),t.size=.3*n.size,n.size*=.7,c.children.splice(f,0,t),hw(e,n,c)}var h={mode:o,children:[]};return h.size=n.size,h.children=a?[c,t]:[t,c],c.size=280,t.size=120,hw(e,n,h)}if(n===e.maxbox){var d=Y_(n);return d.children.push(t),hw(e,n,d)}}return e}function ow(e,t,n){var r=Y_(e.floatbox);return n&&(t.x=n.left,t.y=n.top,t.w=n.width,t.h=n.height),r.children.push(t),hw(e,e.floatbox,r)}function aw(e,t){var n;if(t&&("tabs"in t?e=sw(e,n=t):(n=t.parent,e=function(e,t){var n=t.parent;if(n){var r=n.tabs.indexOf(t);if(r>=0){var i=Y_(n);return i.tabs.splice(r,1),i.activeId===t.id&&(i.tabs.length>r?i.activeId=i.tabs[r].id:i.tabs.length&&(i.activeId=i.tabs[0].id)),fw(e,n,i)}}return e}(e,t)),n&&n.parent&&"maximize"===n.parent.mode)){var r=e.maxbox.children[0];if(!r||0===r.tabs.length&&!r.panelLock){var i=tw(e,Np);if(i)return sw(e,i)}}return e}function sw(e,t){var n=t.parent;if(n){var r=n.children.indexOf(t);if(r>=0){var i=Y_(n);return i.children.splice(r,1),hw(e,n,i)}}return e}function uw(e,t){return t?"tabs"in t?"maximize"===t.parent.mode?function(e,t){var n=tw(e=sw(e,t),Np);if(n){var r=n.x,i=n.y,o=n.z,a=n.w,s=n.h;return fw(e,n,t=Object.assign(Object.assign({},t),{x:r,y:i,z:o,w:a,h:s}))}return iw(e,t,e.dockbox,"right")}(e,t):function(e,t){if(e.maxbox.children.length)return e;var n=Object.assign(Object.assign({},t),{id:Np,tabs:[],panelLock:{}});return e=iw(e=fw(e,t,n),t,e.maxbox,"middle")}(e,t):function(e,t){return e}(e):e}function lw(e,t,n){var r=!1;if(e&&e.floatbox&&t>200&&n>200){for(var i=e.floatbox.children.concat(),o=0;o<i.length;++o){var a=i[o],s={};a.w>t&&(s.w=t),a.h>n&&(s.h=n),a.y>n-16?s.y=Math.max(n-16-(a.h>>1),0):a.y<0&&(s.y=0),a.x+a.w<16?s.x=16-(a.w>>1):a.x>t-16&&(s.x=t-16-(a.w>>1)),Object.keys(s).length&&(i[o]=Y_(a,s),r=!0)}if(r){var u=Y_(e.floatbox);return u.children=i,hw(e,e.floatbox,u)}}return e}function cw(e,t,n){function r(e){if(null==e.id)e.id=(++K_,"+".concat(K_));else if(e.id.startsWith("+")){var t=Number(e.id);t>K_&&(K_=t)}e.size>=0||(e.size=200),e.minWidth=0,e.minHeight=0,e.widthFlex=null,e.heightFlex=null}function i(e){r(e);var i=!1;if(n)for(var o=0;o<e.tabs.length;++o)e.tabs[o]=n(e.tabs[o]);null==e.group&&e.tabs.length&&(e.group=e.tabs[0].group);var a=null===t||void 0===t?void 0:t[e.group];a&&(null!=a.widthFlex&&(e.widthFlex=a.widthFlex),null!=a.heightFlex&&(e.heightFlex=a.heightFlex));var s,u=f(e.tabs);try{for(u.s();!(s=u.n()).done;){var l=s.value;l.parent=e,l.id===e.activeId&&(i=!0),l.minWidth>e.minWidth&&(e.minWidth=l.minWidth),l.minHeight>e.minHeight&&(e.minHeight=l.minHeight)}}catch(h){u.e(h)}finally{u.f()}!i&&e.tabs.length&&(e.activeId=e.tabs[0].id),e.minWidth<=0&&(e.minWidth=1),e.minHeight<=0&&(e.minHeight=1);var c=e.panelLock;return c&&(e.minWidth<c.minWidth&&(e.minWidth=c.minWidth),e.minHeight<c.minHeight&&(e.minHeight=c.minHeight),null!=e.panelLock.widthFlex&&(e.widthFlex=c.widthFlex),null!=e.panelLock.heightFlex&&(e.heightFlex=c.heightFlex)),e.z>Q_&&(Q_=e.z),e}function o(e){r(e);for(var t=0;t<e.children.length;++t){var n=e.children[t];if(n.parent=e,"children"in n){if(o(n),0===n.children.length)e.children.splice(t,1),--t;else if(1===n.children.length){var a=n.children[0];if(a.mode===e.mode){var s,u,l=0,c=f(a.children);try{for(c.s();!(u=c.n()).done;){l+=u.value.size}}catch(g){c.e(g)}finally{c.f()}var h,d=n.size/l,p=f(a.children);try{for(p.s();!(h=p.n()).done;){h.value.size*=d}}catch(g){p.e(g)}finally{p.f()}(s=e.children).splice.apply(s,[t,1].concat(q(a.children)))}else a.size=n.size,e.children[t]=a;--t}}else"tabs"in n&&(i(n),0===n.tabs.length&&(n.panelLock?n.group===Sp&&(e.children.length>1||e.parent)&&(e.children.splice(t,1),--t):(e.children.splice(t,1),--t)));switch(e.mode){case"horizontal":n.minWidth>0&&(e.minWidth+=n.minWidth),n.minHeight>e.minHeight&&(e.minHeight=n.minHeight),null!=n.widthFlex&&(e.widthFlex=W_(e.widthFlex,n.widthFlex)),null!=n.heightFlex&&(e.heightFlex=X_(e.heightFlex,n.heightFlex));break;case"vertical":n.minWidth>e.minWidth&&(e.minWidth=n.minWidth),n.minHeight>0&&(e.minHeight+=n.minHeight),null!=n.heightFlex&&(e.heightFlex=W_(e.heightFlex,n.heightFlex)),null!=n.widthFlex&&(e.widthFlex=X_(e.widthFlex,n.widthFlex))}}if(e.children.length>1)switch(e.mode){case"horizontal":e.minWidth+=4*(e.children.length-1);break;case"vertical":e.minHeight+=4*(e.children.length-1)}return e}if(e.floatbox?e.floatbox.mode="float":e.floatbox={mode:"float",children:[],size:1},e.windowbox?e.windowbox.mode="window":e.windowbox={mode:"window",children:[],size:1},e.maxbox?e.maxbox.mode="maximize":e.maxbox={mode:"maximize",children:[],size:1},o(e.dockbox),o(e.floatbox),o(e.windowbox),o(e.maxbox),0===e.dockbox.children.length){var a={id:"+0",group:Sp,panelLock:{},size:200,tabs:[]};a.parent=e.dockbox,e.dockbox.children.push(a)}else for(;1===e.dockbox.children.length&&"children"in e.dockbox.children[0];){var s=Y_(e.dockbox.children[0]);e.dockbox=s;var u,l=f(s.children);try{for(l.s();!(u=l.n()).done;){u.value.parent=s}}catch(c){l.e(c)}finally{l.f()}}return e.dockbox.parent=null,e.floatbox.parent=null,e.windowbox.parent=null,e.maxbox.parent=null,H_=new WeakMap,e}function fw(e,t,n){var r,i=f(n.tabs);try{for(i.s();!(r=i.n()).done;){r.value.parent=n}}catch(u){i.e(u)}finally{i.f()}var o=t.parent;if(o){var a=o.children.indexOf(t);if(a>=0){var s=Y_(o);return s.children[a]=n,hw(e,o,s)}}return e}function hw(e,t,n){var r,i=f(n.children);try{for(i.s();!(r=i.n()).done;){r.value.parent=n}}catch(u){i.e(u)}finally{i.f()}var o=t.parent;if(o){var a=o.children.indexOf(t);if(a>=0){var s=Y_(o);return s.children[a]=n,hw(e,o,s)}}else{if(t.id===e.dockbox.id||t===e.dockbox)return Object.assign(Object.assign({},e),{dockbox:n});if(t.id===e.floatbox.id||t===e.floatbox)return Object.assign(Object.assign({},e),{floatbox:n});if(t.id===e.windowbox.id||t===e.windowbox)return Object.assign(Object.assign({},e),{windowbox:n});if(t.id===e.maxbox.id||t===e.maxbox)return Object.assign(Object.assign({},e),{maxbox:n})}return e}function dw(e,t){if(!e)return[300,300];var n=e.offsetWidth,r=e.offsetHeight,i=c(t.preferredFloatWidth||[100,600],2),o=i[0],a=i[1],s=c(t.preferredFloatHeight||[50,500],2),u=s[0],l=s[1];return n>=o?n<=a||(n=a):n=o,r>=u?r<=l||(r=l):r=u,[n,r]}function pw(e,t,n){var r=-1,i=-1,o=0;switch(n){case"ArrowUp":r=e.top-t.bottom+e.height,i=Math.min(e.right,t.right)-Math.max(e.left,t.left);break;case"ArrowDown":r=t.top-e.bottom+e.height,i=Math.min(e.right,t.right)-Math.max(e.left,t.left);break;case"ArrowLeft":r=e.left-t.right+e.width,i=Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top),o=Math.abs(e.top-t.top);break;case"ArrowRight":r=t.left-e.right+e.width,i=Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top),o=Math.abs(e.top-t.top)}return r<0||i<=0?-1:r*(o+1)-.001*i}!function(e){e[e.Tab=1]="Tab",e[e.Panel=2]="Panel",e[e.Box=4]="Box",e[e.Docked=8]="Docked",e[e.Floated=16]="Floated",e[e.Windowed=32]="Windowed",e[e.Max=64]="Max",e[e.EveryWhere=120]="EveryWhere",e[e.AnyTab=121]="AnyTab",e[e.AnyPanel=122]="AnyPanel",e[e.AnyTabPanel=123]="AnyTabPanel",e[e.All=127]="All"}($_||($_={}));var gw=n(5355),vw=n.n(gw),yw=n(3369),mw="object"===typeof window?n.n(yw)().getParser(window.navigator.userAgent):null;var bw="safari"===(null===mw||void 0===mw?void 0:mw.getBrowserName(!0)),_w="desktop"===(null===mw||void 0===mw?void 0:mw.getPlatformType()),ww=function(){switch(null===mw||void 0===mw?void 0:mw.getOSName(!0)){case"windows":var e;switch(mw.getBrowserName(!0)){case"firefox":e=[68,8,8];break;case"microsoft edge":e=[62,8,8];break;default:e=[60,8,8]}return window.devicePixelRatio>1&&(e[0]-=2,e[1]-=1,e[2]-=1),e;case"macos":switch(mw.getBrowserName(!0)){case"safari":return[22,0,0];case"firefox":return[59,0,0];default:return[51,0,0]}}return[60,8,8]}(),xw=vw()((function(){var e=document.createElement("div");document.body.append(e),e.remove()}),200),Ew=function(e){re(n,e);var t=oe(n);function n(e){var r;return te(this,n),(r=t.call(this,e)).released=!1,r.container=document.createElement("div"),r.state={mounted:!1},r.onMainWindowUnload=function(){r.window&&r.window.close()},r.release=function(e){if(!r.released&&(r.released=!0,r.windowCheckerInterval&&(clearInterval(r.windowCheckerInterval),r.windowCheckerInterval=null),window.removeEventListener("beforeunload",r.onMainWindowUnload),r.window.removeEventListener("beforeunload",r.release),e)){var t=r.props.onClose;"function"===typeof t&&t()}},r}return ee(n,[{key:"render",value:function(){return this.state.mounted?Pu.createPortal(this.props.children,this.container):null}},{key:"componentDidMount",value:function(){this.openChild(),this.setState({mounted:!0})}},{key:"openChild",value:function(){var e,t=this,n=this.props,r=n.url,i=n.title,o=n.name,a=n.width,s=n.height,u=n.initPopupInnerRect,l=n.initPopupOuterRect,f=n.onBlock,h=n.onOpen,d=n.onClose,p={width:a,height:s};if(l){p=l();var g=c(ww,3),v=g[0],y=g[1],m=g[2];bw||(p.width-=2*y,p.height-=v+m)}else if(u){p=u();var b=c(ww,2),_=b[0],w=b[1];p.left-=w,p.top-=_,bw&&(p.height+=_)}else p.left=window.top.outerWidth/2+window.top.screenX-a/2,p.top=window.top.outerHeight/2+window.top.screenY-s/2;this.window=window.open(r,o,(e=p,Object.keys(e).reduce((function(t,n){var r=e[n];return"boolean"===typeof r?t.push("".concat(n,"=").concat(r?"yes":"no")):t.push("".concat(n,"=").concat(r)),t}),[]).join(","))),this.window?(window.addEventListener("beforeunload",this.onMainWindowUnload),this.window.addEventListener("resize",xw),this.window.document.title=i||document.title,this.window.document.body.appendChild(this.container),this.props.copyStyles&&setTimeout((function(){return e=document,n=t.window.document,void Array.from(e.styleSheets).forEach((function(t){var r;if(t.href){var i=e.createElement("link");i.rel="stylesheet",i.href=t.href,n.head.appendChild(i)}else{try{r=t.cssRules}catch(a){}if(r){var o=e.createElement("style");Array.from(t.cssRules).forEach((function(t){var n=t.cssText,r=t.type,i=n;[3,5].includes(r)&&(i=n.split("url(").map((function(e){return"/"===e[1]?"".concat(e.slice(0,1)).concat(window.location.origin).concat(e.slice(1)):e})).join("url(")),o.appendChild(e.createTextNode(i))})),n.head.appendChild(o)}}}));var e,n}),0),"function"===typeof h&&h(this.window),r&&d&&(this.windowCheckerInterval=setInterval((function(){t.window&&!t.window.closed||t.release(!0)}),50)),this.window.addEventListener("beforeunload",this.release)):"function"===typeof f?f():console.warn("A new window could not be opened. Maybe it was blocked.")}},{key:"componentWillUnmount",value:function(){this.window&&(this.release(),this.window.close())}}]),n}(e.PureComponent);Ew.supported=_w,Ew.defaultProps={url:"",name:"",width:640,height:480,copyStyles:!0};var kw=Ew,Cw=function(t){re(r,t);var n=oe(r);function r(){var e;return te(this,r),(e=n.apply(this,arguments)).state={dropping:!1},e.onDragOver=function(t){var n=e.props,r=n.panelElement,i=n.direction,o=n.depth,a=n.panelData;e.setState({dropping:!0});for(var s=0;s<o;++s)r=r.parentElement;if(a.group===Sp&&"float"!==i)e.context.setDropRect(r,"middle",K(e),t);else{var u=e.context.getDockId(),l=N_.getData("panelSize",u);e.context.setDropRect(r,i,K(e),t,l)}t.accept("")},e.onDragLeave=function(t){var n=e.props;n.panelElement,n.direction;e.setState({dropping:!1}),e.context.setDropRect(null,"remove",K(e))},e.onDrop=function(t){var n=e.context.getDockId(),r=N_.getData("tab",n);if(r||(r=N_.getData("panel",n)),r){for(var i=e.props,o=i.panelData,a=i.direction,s=i.depth,u=o,l=0;l<s;++l)u=u.parent;e.context.dockMove(r,u,a)}},e}return ee(r,[{key:"render",value:function(){var t=this.props,n=t.direction,r=t.depth,i=this.state.dropping,o=["dock-drop-square"];return o.push("dock-drop-".concat(n)),r&&o.push("dock-drop-deep"),i&&o.push("dock-drop-square-dropping"),e.createElement(B_,{className:o.join(" "),onDragOverT:this.onDragOver,onDragLeaveT:this.onDragLeave,onDropT:this.onDrop},e.createElement("div",{className:"dock-drop-square-box"}))}},{key:"componentWillUnmount",value:function(){this.context.setDropRect(null,"remove",this)}}]),r}(e.PureComponent);Cw.contextType=Ip;var Sw=function(t){re(r,t);var n=oe(r);function r(){return te(this,r),n.apply(this,arguments)}return ee(r,[{key:"render",value:function(){var t,n=this.props,i=n.panelData,o=n.panelElement,a=n.dropFromPanel,s=this.context.getDockId(),u=[],l=N_.getData("panel",s),c=this.context.getGroup(a.group);if(!1===c.floatable||l&&(l.panelLock||"float"===(null===(t=l.parent)||void 0===t?void 0:t.mode)||"singleTab"===c.floatable&&l.tabs.length>1)||u.push(e.createElement(Cw,{key:"float",direction:"float",panelData:i,panelElement:o})),l!==i&&!c.disableDock){r.addDepthSquare(u,"horizontal",i,o,0),r.addDepthSquare(u,"vertical",i,o,0),(null===l||void 0===l?void 0:l.panelLock)||i.group!==a.group||i===a||u.push(e.createElement(Cw,{key:"middle",direction:"middle",panelData:i,panelElement:o}));var f=i.parent;f&&f.children.length>1&&(r.addDepthSquare(u,f.mode,i,o,1),f.parent&&r.addDepthSquare(u,f.parent.mode,i,o,2))}return e.createElement("div",{className:"dock-drop-layer"},u)}}],[{key:"addDepthSquare",value:function(t,n,r,i,o){"horizontal"===n?(t.push(e.createElement(Cw,{key:"top".concat(o),direction:"top",depth:o,panelData:r,panelElement:i})),t.push(e.createElement(Cw,{key:"bottom".concat(o),direction:"bottom",depth:o,panelData:r,panelElement:i}))):(t.push(e.createElement(Cw,{key:"left".concat(o),direction:"left",depth:o,panelData:r,panelElement:i})),t.push(e.createElement(Cw,{key:"right".concat(o),direction:"right",depth:o,panelData:r,panelElement:i})))}}]),r}(e.PureComponent);Sw.contextType=Ip;var Nw=function(t){re(r,t);var n=oe(r);function r(){var e;return te(this,r),(e=n.apply(this,arguments)).getRef=function(t){e._ref=t},e.onDragOver=function(t){var n,r,i,o=e.props,a=o.panelData,s=o.panelElement,u=o.dropFromPanel,l=e.context.getDockId(),c=N_.getData("panel",l),f=e.context.getGroup(u.group);if(!c||"float"!==(null===(n=c.parent)||void 0===n?void 0:n.mode)){var h=e.getDirection(t,f,c===a,null!==(i=null===(r=null===c||void 0===c?void 0:c.tabs)||void 0===r?void 0:r.length)&&void 0!==i?i:1),d=h.direction,p=h.mode,g=h.depth;if(g=e.getActualDepth(g,p,d),!d||"float"===d&&u.panelLock)e.context.setDropRect(null,"remove",K(e));else{for(var v=s,y=0;y<g;++y)v=v.parentElement;var m=N_.getData("panelSize",l);e.context.setDropRect(v,d,K(e),t,m),t.accept("")}}},e.onDragLeave=function(t){e.context.setDropRect(null,"remove",K(e))},e.onDrop=function(t){var n,r,i=e.props,o=i.panelData,a=i.dropFromPanel,s=e.context.getDockId(),u=e.context.getGroup(a.group),l=N_.getData("tab",s),c=N_.getData("panel",s);if(l||(l=c),l){var f=e.getDirection(t,u,c===o,null!==(r=null===(n=null===c||void 0===c?void 0:c.tabs)||void 0===n?void 0:n.length)&&void 0!==r?r:1),h=f.direction,d=f.mode,p=f.depth;if(p=e.getActualDepth(p,d,h),!h)return;for(var g=o,v=0;v<p;++v)g=g.parent;e.context.dockMove(l,g,h)}},e}return ee(r,[{key:"getDirection",value:function(e,t,n,r){var i=this._ref.getBoundingClientRect(),o=Math.min(i.width,500),a=Math.min(i.height,500),s=(e.clientX-i.left)/o,u=(i.right-e.clientX)/o,l=(e.clientY-i.top)/a,c=(i.bottom-e.clientY)/a,f=Math.min(s,u,l,c),h=0;if((t.disableDock||n)&&(f=1),f<0)return{direction:null,depth:0};if(f<.075)h=3;else if(f<.15)h=1;else if(f<.3);else if(t.floatable){if("singleTab"!==t.floatable)return{direction:"float",mode:"float",depth:0};if(1===r)return{direction:"float",mode:"float",depth:0}}switch(f){case s:return{direction:"left",mode:"horizontal",depth:h};case u:return{direction:"right",mode:"horizontal",depth:h};case l:return{direction:"top",mode:"vertical",depth:h};case c:return{direction:"bottom",mode:"vertical",depth:h}}return{direction:null,depth:0}}},{key:"getActualDepth",value:function(e,t,n){var r="bottom"===n||"right"===n;if(!e)return e;var i=this.props.panelData,o=i,a=i.parent,s=0;for(i.parent.mode===t&&++e;a&&s<e;){if(a.mode===t)if(r){if(a.children[a.children.length-1]!==o)break}else if(a.children[0]!==o)break;o=a,a=a.parent,++s}for(;e>s;)e-=2;return e}},{key:"render",value:function(){return e.createElement(B_,{getRef:this.getRef,className:"dock-drop-edge",onDragOverT:this.onDragOver,onDragLeaveT:this.onDragLeave,onDropT:this.onDrop})}},{key:"componentWillUnmount",value:function(){this.context.setDropRect(null,"remove",this)}}]),r}(e.PureComponent);Nw.contextType=Ip;var Tw=function(t){re(r,t);var n=oe(r);function r(){var e;return te(this,r),(e=n.apply(this,arguments)).getRef=function(t){if(e._ref=t,t){var n=e.props.panelData.parent;"float"===(null===n||void 0===n?void 0:n.mode)&&t.addEventListener("pointerdown",e.onFloatPointerDown,{capture:!0,passive:!0})}},e.state={dropFromPanel:null,draggingHeader:!1},e.onDragOver=function(t){if(r._droppingPanel!==K(e)){e.props.panelData;var n=e.context.getDockId(),i=N_.getData("tab",n),o=N_.getData("panel",n);(i||o)&&(r.droppingPanel=K(e)),i?i.parent?e.setState({dropFromPanel:i.parent}):e.setState({dropFromPanel:{activeId:"",tabs:[],group:i.group}}):o&&e.setState({dropFromPanel:o})}},e.onPanelHeaderDragStart=function(t){var n=e.props.panelData,r=n.parent,i=n.x,o=n.y,a=(n.z,e.context.getDockId());if("float"===(null===r||void 0===r?void 0:r.mode))e._movingX=i,e._movingY=o,t.setData({panel:e.props.panelData},a),t.startDrag(null,null),e.onFloatPointerDown();else{var s=e.context.getGroup(n.group),u=c(dw(e._ref,s),2),l=u[0],f=u[1];t.setData({panel:n,panelSize:[l,f]},a),t.startDrag(null)}e.setState({draggingHeader:!0})},e.onPanelHeaderDragMove=function(t){var n=e.context.getLayoutSize(),r=n.width,i=n.height,o=e.props.panelData;o.x=e._movingX+t.dx,o.y=e._movingY+t.dy,r>200&&i>200&&(o.y<0?o.y=0:o.y>i-16&&(o.y=i-16),o.x+o.w<16?o.x=16-o.w:o.x>r-16&&(o.x=r-16)),e.forceUpdate()},e.onPanelHeaderDragEnd=function(t){e._unmounted||(e.setState({draggingHeader:!1}),e.context.onSilentChange(e.props.panelData.activeId,"move"))},e.onPanelCornerDragT=function(t){e.onPanelCornerDrag(t,"t")},e.onPanelCornerDragB=function(t){e.onPanelCornerDrag(t,"b")},e.onPanelCornerDragL=function(t){e.onPanelCornerDrag(t,"l")},e.onPanelCornerDragR=function(t){e.onPanelCornerDrag(t,"r")},e.onPanelCornerDragTL=function(t){e.onPanelCornerDrag(t,"tl")},e.onPanelCornerDragTR=function(t){e.onPanelCornerDrag(t,"tr")},e.onPanelCornerDragBL=function(t){e.onPanelCornerDrag(t,"bl")},e.onPanelCornerDragBR=function(t){e.onPanelCornerDrag(t,"br")},e.onPanelCornerDragMove=function(t){var n=e.props.panelData,r=t.dx,i=t.dy;if(e._movingCorner.startsWith("t")){var o=e.context.getLayoutSize(),a=(o.width,o.height);e._movingY+i<0?i=-e._movingY:e._movingY+i>a-16&&(i=a-16-e._movingY)}switch(e._movingCorner){case"t":n.y=e._movingY+i,n.h=e._movingH-i;break;case"b":n.h=e._movingH+i;break;case"l":n.x=e._movingX+r,n.w=e._movingW-r;break;case"r":n.w=e._movingW+r;break;case"tl":n.x=e._movingX+r,n.w=e._movingW-r,n.y=e._movingY+i,n.h=e._movingH-i;break;case"tr":n.w=e._movingW+r,n.y=e._movingY+i,n.h=e._movingH-i;break;case"bl":n.x=e._movingX+r,n.w=e._movingW-r,n.h=e._movingH+i;break;case"br":n.w=e._movingW+r,n.h=e._movingH+i}e.forceUpdate()},e.onPanelCornerDragEnd=function(t){e.context.onSilentChange(e.props.panelData.activeId,"move")},e.onFloatPointerDown=function(){var t=e.props.panelData,n=t.z,r=Z_(n);r!==n&&(t.z=r,e.forceUpdate())},e.onPanelClicked=function(t){var n=t.nativeEvent.target;!e._ref.contains(e._ref.ownerDocument.activeElement)&&n instanceof Node&&e._ref.contains(n)&&e._ref.querySelector(".dock-bar").focus()},e._unmounted=!1,e}return ee(r,[{key:"onDragOverOtherPanel",value:function(){this.state.dropFromPanel&&this.setState({dropFromPanel:null})}},{key:"onPanelCornerDrag",value:function(e,t){var n=this.props.panelData,r=n.parent,i=n.x,o=n.y,a=n.w,s=n.h;"float"===(null===r||void 0===r?void 0:r.mode)&&(this._movingCorner=t,this._movingX=i,this._movingY=o,this._movingW=a,this._movingH=s,e.startDrag(null,null))}},{key:"render",value:function(){var t,n=this.state,r=n.dropFromPanel,i=n.draggingHeader,o=this.props,a=o.panelData,s=o.size,u=a.minWidth,l=a.minHeight,c=a.group,f=a.id,h=a.parent,d=a.panelLock,p=c,g=this.context.getGroup(c),v=g.widthFlex,y=g.heightFlex;if(d){var m=d.panelStyle,b=d.widthFlex,_=d.heightFlex;m&&(p=m),"number"===typeof b&&(v=b),"number"===typeof _&&(y=_)}p&&(t=p.split(" ").map((function(e){return"dock-style-".concat(e)})).join(" "));var w="maximize"===(null===h||void 0===h?void 0:h.mode),x="float"===(null===h||void 0===h?void 0:h.mode),E="horizontal"===(null===h||void 0===h?void 0:h.mode),k="vertical"===(null===h||void 0===h?void 0:h.mode),C=this.onPanelHeaderDragStart;w&&(r=null,C=null);var S="dock-panel ".concat(t||"").concat(r?" dock-panel-dropping":"").concat(i?" dragging":""),N=1;E&&null!=v?N=v:k&&null!=y&&(N=y);var T=1e6*N;T<1&&(T=1);var I,D={minWidth:u,minHeight:l,flex:"".concat(N*s," ").concat(T," ").concat(s,"px")};if(x&&(D.left=a.x,D.top=a.y,D.width=a.w,D.height=a.h,D.zIndex=a.z),r){var M=this.context.getGroup(r.group),O=this.context.getDockId();if(!M.tabLocked||null==N_.getData("tab",O)){var P=this.context.useEdgeDrop()?Nw:Sw;I=e.createElement(P,{panelData:a,panelElement:this._ref,dropFromPanel:r})}}return e.createElement(B_,{getRef:this.getRef,className:S,style:D,"data-dockid":f,onDragOverT:x?null:this.onDragOver,onClick:this.onPanelClicked},e.createElement(Lw,{panelData:a,onPanelDragStart:C,onPanelDragMove:this.onPanelHeaderDragMove,onPanelDragEnd:this.onPanelHeaderDragEnd}),x?[e.createElement(B_,{key:"drag-size-t",className:"dock-panel-drag-size dock-panel-drag-size-t",onDragStartT:this.onPanelCornerDragT,onDragMoveT:this.onPanelCornerDragMove,onDragEndT:this.onPanelCornerDragEnd}),e.createElement(B_,{key:"drag-size-b",className:"dock-panel-drag-size dock-panel-drag-size-b",onDragStartT:this.onPanelCornerDragB,onDragMoveT:this.onPanelCornerDragMove,onDragEndT:this.onPanelCornerDragEnd}),e.createElement(B_,{key:"drag-size-l",className:"dock-panel-drag-size dock-panel-drag-size-l",onDragStartT:this.onPanelCornerDragL,onDragMoveT:this.onPanelCornerDragMove,onDragEndT:this.onPanelCornerDragEnd}),e.createElement(B_,{key:"drag-size-r",className:"dock-panel-drag-size dock-panel-drag-size-r",onDragStartT:this.onPanelCornerDragR,onDragMoveT:this.onPanelCornerDragMove,onDragEndT:this.onPanelCornerDragEnd}),e.createElement(B_,{key:"drag-size-t-l",className:"dock-panel-drag-size dock-panel-drag-size-t-l",onDragStartT:this.onPanelCornerDragTL,onDragMoveT:this.onPanelCornerDragMove,onDragEndT:this.onPanelCornerDragEnd}),e.createElement(B_,{key:"drag-size-t-r",className:"dock-panel-drag-size dock-panel-drag-size-t-r",onDragStartT:this.onPanelCornerDragTR,onDragMoveT:this.onPanelCornerDragMove,onDragEndT:this.onPanelCornerDragEnd}),e.createElement(B_,{key:"drag-size-b-l",className:"dock-panel-drag-size dock-panel-drag-size-b-l",onDragStartT:this.onPanelCornerDragBL,onDragMoveT:this.onPanelCornerDragMove,onDragEndT:this.onPanelCornerDragEnd}),e.createElement(B_,{key:"drag-size-b-r",className:"dock-panel-drag-size dock-panel-drag-size-b-r",onDragStartT:this.onPanelCornerDragBR,onDragMoveT:this.onPanelCornerDragMove,onDragEndT:this.onPanelCornerDragEnd})]:null,I)}},{key:"componentWillUnmount",value:function(){r._droppingPanel===this&&(r.droppingPanel=null),this._ref&&this._ref.removeEventListener("pointerdown",this.onFloatPointerDown,{capture:!0}),this._unmounted=!0}}],[{key:"droppingPanel",set:function(e){r._droppingPanel!==e&&(r._droppingPanel&&r._droppingPanel.onDragOverOtherPanel(),r._droppingPanel=e)}}]),r}(e.PureComponent);Tw.contextType=Ip;var Iw=n(6540),Dw=function(t){re(r,t);var n=oe(r);function r(){var e;return te(this,r),(e=n.apply(this,arguments)).onOpen=function(t){!e._window&&t&&(e._window=t)},e.onUnload=function(){var t=e.props.panelData,n=e.context.getRootElement(),r=(0,Iw.fA)(n,e._window);r.width>0&&r.height>0&&(t.x=r.left,t.y=r.top,t.w=r.width,t.h=r.height),e.context.dockMove(t,null,"float")},e.initPopupInnerRect=function(){var t=e.props.panelData;return(0,Iw.xj)(e.context.getRootElement(),{left:t.x,top:t.y,width:t.w,height:t.h})},e}return ee(r,[{key:"render",value:function(){var t=this.props.panelData,n=(t.x,t.y,t.w),r=t.h;return e.createElement(kw,{copyStyles:!0,onOpen:this.onOpen,onClose:this.onUnload,onBlock:this.onUnload,initPopupInnerRect:this.initPopupInnerRect,width:n,height:r},e.createElement("div",{className:"dock-wbox"},e.createElement(Tw,{size:t.size,panelData:t,key:t.id})))}}]),r}(e.PureComponent);Dw.contextType=Ip;var Mw=function(t){re(r,t);var n=oe(r);function r(){return te(this,r),n.apply(this,arguments)}return ee(r,[{key:"render",value:function(){var t,n=[],r=f(this.props.boxData.children);try{for(r.s();!(t=r.n()).done;){var i=t.value;"tabs"in i&&n.push(e.createElement(Dw,{key:i.id,panelData:i}))}}catch(o){r.e(o)}finally{r.f()}return e.createElement(e.Fragment,null,n)}}]),r}(e.PureComponent);function Ow(e){var t,n;return null==e||"LI"===(null===(t=e.parentElement)||void 0===t?void 0:t.tagName)||"LI"===(null===(n=e.parentElement)||void 0===n?void 0:n.parentElement.tagName)}Mw.enabled="object"===typeof window&&("Win32"===(null===window||void 0===window?void 0:window.navigator.platform)||"MacIntel"===(null===window||void 0===window?void 0:window.navigator.platform));var Pw=function(){function t(e){var n=this;te(this,t),this.getRef=function(e){Ow(e)||(n._ref=e)},this.getHitAreaRef=function(e){Ow(e)||(n._hitAreaRef=e)},this.onCloseClick=function(e){n.context.dockMove(n.data,null,"remove"),e.stopPropagation()},this.onDragStart=function(e){var t=n.data.parent;if("float"!==t.parent.mode||1!==t.tabs.length){var r=function(e){for(var t=0;t<10;++t){if(!e)return null;if(e.classList.contains("dock-panel"))return e;e=e.parentElement}return null}(n._ref),i=c(dw(r,n.context.getGroup(n.data.group)),2),o=i[0],a=i[1];e.setData({tab:n.data,panelSize:[o,a]},n.context.getDockId()),e.startDrag(n._ref.parentElement,n._ref.parentElement)}},this.onDragOver=function(e){var t,r,i,o=n.context.getDockId(),a=N_.getData("tab",o),s=N_.getData("panel",o);if(a)s=a.parent,i=a.group;else{if(!s)return;if(null===s||void 0===s?void 0:s.panelLock)return void e.reject();i=s.group}var u=n.context.getGroup(i);if(i!==n.data.group)e.reject();else if("singleTab"===(null===u||void 0===u?void 0:u.floatable)&&"float"===(null===(r=null===(t=n.data.parent)||void 0===t?void 0:t.parent)||void 0===r?void 0:r.mode))e.reject();else if(a&&a!==n.data){var l=n.getDropDirection(e);n.context.setDropRect(n._hitAreaRef,l,n),e.accept("")}else if(s&&s!==n.data.parent){var c=n.getDropDirection(e);n.context.setDropRect(n._hitAreaRef,c,n),e.accept("")}},this.onDragLeave=function(e){n.context.setDropRect(null,"remove",n)},this.onDrop=function(e){var t,r=n.context.getDockId(),i=N_.getData("tab",r);if(t=i?i.parent:N_.getData("panel",r),i&&i!==n.data){var o=n.getDropDirection(e);n.context.dockMove(i,n.data,o)}else if(t&&t!==n.data.parent){var a=n.getDropDirection(e);n.context.dockMove(t,n.data,a)}},this.context=e}return ee(t,[{key:"setData",value:function(e){return e!==this.data&&(this.data=e,this.content=this.render(),!0)}},{key:"getDropDirection",value:function(e){var t=this._hitAreaRef.getBoundingClientRect(),n=t.left+.5*t.width;return e.clientX>n?"after-tab":"before-tab"}},{key:"render",value:function(){var t=this.data,n=t.id,r=t.title,i=t.group,o=t.content,a=t.closable,s=t.cached,u=t.parent,l=this.onDragStart,c=this.onDragOver,f=this.onDrop,h=this.onDragLeave;"window"===u.parent.mode&&(l=null,c=null,f=null,h=null);this.context.getGroup(i);"function"===typeof o&&(o=o(this.data));var d=e.createElement(B_,{getRef:this.getRef,onDragStartT:l,role:"tab","aria-selected":u.activeId===n,onDragOverT:c,onDropT:f,onDragLeaveT:h},r,a?e.createElement("div",{className:"dock-tab-close-btn",onClick:this.onCloseClick}):null,e.createElement("div",{className:"dock-tab-hit-area",ref:this.getHitAreaRef}));return e.createElement(G_,{key:n,cacheId:n,cached:s,tab:d},o)}},{key:"destroy",value:function(){}}]),t}(),Lw=function(t){re(r,t);var n=oe(r);function r(){var t;return te(this,r),(t=n.apply(this,arguments))._cache=new Map,t.onMaximizeClick=function(e){var n=t.props.panelData;t.context.dockMove(n,null,"maximize"),e.stopPropagation()},t.onNewWindowClick=function(){var e=t.props.panelData;t.context.dockMove(e,null,"new-window")},t.renderTabBar=function(n,r){var i=t.props,o=i.panelData,a=i.onPanelDragStart,s=i.onPanelDragMove,u=i.onPanelDragEnd,l=o.group,c=o.panelLock,f=t.context.getGroup(l),h=f.panelExtra,d=f.maximizable;"window"===o.parent.mode&&(a=null,d=!1),c&&c.panelExtra&&(h=c.panelExtra);var p,g=f.newWindow&&Mw.enabled&&"float"===o.parent.mode;return h?p=h(o,t.context):(d||g)&&(p=e.createElement("div",{className:"dock-panel-max-btn",onClick:d?t.onMaximizeClick:null}),g&&(p=t.addNewWindowMenu(p,!d))),e.createElement(U_,Object.assign({onDragStart:a,onDragMove:s,onDragEnd:u,TabNavList:r,isMaximized:"maximize"===o.parent.mode},n,{extra:p}))},t.onTabChange=function(e){t.props.panelData.activeId=e,t.context.onSilentChange(e,"active"),t.forceUpdate()},t}return ee(r,[{key:"updateTabs",value:function(e){if(e!==this.cachedTabs){this.cachedTabs=e;var t,n=new Map,r=0,i=f(e);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=o.id;if(this._cache.has(a)){var s=this._cache.get(a);n.set(a,s),s.setData(o),++r}else{var u=new Pw(this.context);n.set(a,u),u.setData(o)}}}catch(v){i.e(v)}finally{i.f()}if(r!==this._cache.size){var l,h=f(this._cache);try{for(h.s();!(l=h.n()).done;){var d=c(l.value,2),p=d[0],g=d[1];n.has(p)||g.destroy()}}catch(v){h.e(v)}finally{h.f()}}this._cache=n}}},{key:"addNewWindowMenu",value:function(t,n){var r=e.createElement(Gb,{onClick:this.onNewWindowClick},e.createElement(Ov,null,"New Window")),i=n?["contextMenu","click"]:["contextMenu"];return e.createElement(S_,{prefixCls:"dock-dropdown",overlay:r,trigger:i,mouseEnterDelay:.1,mouseLeaveDelay:.1},t)}},{key:"render",value:function(){var t=this.props.panelData,n=t.group,r=t.tabs,i=t.activeId,o=this.context.getGroup(n).animated;null==o&&(o=!0),this.updateTabs(r);var a,s=[],u=f(this._cache);try{for(u.s();!(a=u.n()).done;){var l=c(a.value,2),h=(l[0],l[1]);s.push(h.content)}}catch(d){u.e(d)}finally{u.f()}return e.createElement(d_,{prefixCls:"dock",moreIcon:"...",animated:o,renderTabBar:this.renderTabBar,activeKey:i,onChange:this.onTabChange},s)}}]),r}(e.PureComponent);Lw.contextType=Ip,Lw.propKeys=["group","tabs","activeId","onTabChange"];var Aw=ee((function e(t){te(this,e),this.beforeSize=0,this.beforeMinSize=0,this.afterSize=0,this.afterMinSize=0,this.element=t.element,this.beforeDivider=t.beforeDivider,this.afterDivider=t.afterDivider;var n,r=f(this.beforeDivider);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.beforeSize+=i.size,i.minSize>0&&(this.beforeMinSize+=i.minSize)}}catch(u){r.e(u)}finally{r.f()}var o,a=f(this.afterDivider);try{for(a.s();!(o=a.n()).done;){var s=o.value;this.afterSize+=s.size,s.minSize>0&&(this.afterMinSize+=s.minSize)}}catch(u){a.e(u)}finally{a.f()}}));function Rw(e,t,n){for(var r=-1,i=[],o=0;o!==r;){r=o,o=0;var a=(e-r)/(t-r);if(!(a>=0))break;for(var s=0;s<n.length;++s){var u=n[s].size*a;u<n[s].minSize&&(o+=u=n[s].minSize),i[s]=u}}return i}var Fw=function(t){re(r,t);var n=oe(r);function r(){var e;return te(this,r),(e=n.apply(this,arguments)).startDrag=function(t){e.boxData=new Aw(e.props.getDividerData(e.props.idx)),t.startDrag(e.boxData.element,null)},e.dragMove=function(t){t.event.shiftKey||t.event.ctrlKey||t.event.altKey?e.dragMoveAll(t,t.dx,t.dy):e.dragMove2(t,t.dx,t.dy)},e.dragEnd=function(t){var n=e.props.onDragEnd;e.boxData=null,n&&n()},e}return ee(r,[{key:"dragMove2",value:function(e,t,n){var r=this.props,i=r.isVertical,o=r.changeSizes,a=this.boxData,s=a.beforeDivider,u=a.afterDivider;if(s.length&&u.length){var l=i?n:t,c=s[s.length-1],f=u[0],h=c.size+l,d=f.size-l;l>0?d<f.minSize&&(d=f.minSize,h=c.size+f.size-d):h<c.minSize&&(h=c.minSize,d=c.size+f.size-h);var p=s.concat(u).map((function(e){return e.size}));p[s.length-1]=h,p[s.length]=d,o(p)}}},{key:"dragMoveAll",value:function(e,t,n){var r=this.props,i=r.isVertical,o=r.changeSizes,a=this.boxData,s=a.beforeSize,u=a.beforeMinSize,l=a.afterSize,c=a.afterMinSize,f=a.beforeDivider,h=a.afterDivider,d=i?n:t,p=s+d,g=l-d;d>0?g<c&&(g=c,p=s+l-c):p<u&&(p=u,g=s+l-u),o(Rw(p,s,f).concat(Rw(g,l,h)))}},{key:"render",value:function(){var t=this.props.className;return t||(t="dock-divider"),e.createElement(B_,{className:t,onDragStartT:this.startDrag,onDragMoveT:this.dragMove,onDragEndT:this.dragEnd})}}]),r}(e.PureComponent),zw=function(t){re(r,t);var n=oe(r);function r(){var e;return te(this,r),(e=n.apply(this,arguments)).getRef=function(t){e._ref=t},e.getDividerData=function(t){if(e._ref){var n=e.props.boxData,r=n.children,i=n.mode,o=e._ref.childNodes;if(o.length===2*r.length-1){for(var a=[],s=0;s<r.length;++s)"vertical"===i?a.push({size:o[2*s].offsetHeight,minSize:r[s].minHeight}):a.push({size:o[2*s].offsetWidth,minSize:r[s].minWidth});return{element:e._ref,beforeDivider:a.slice(0,t),afterDivider:a.slice(t)}}}return null},e.changeSizes=function(t){var n=e.props.boxData.children;if(n.length===t.length){for(var r=0;r<n.length;++r)n[r].size=t[r];e.forceUpdate()}},e.onDragEnd=function(){e.context.onSilentChange(null,"move")},e}return ee(r,[{key:"render",value:function(){for(var t,n=this.props.boxData,i=n.minWidth,o=n.minHeight,a=n.size,s=n.children,u=n.mode,l=n.id,c=n.widthFlex,f=n.heightFlex,h="vertical"===u,d=[],p=0;p<s.length;++p){p>0&&d.push(e.createElement(Fw,{idx:p,key:p,isVertical:h,onDragEnd:this.onDragEnd,getDividerData:this.getDividerData,changeSizes:this.changeSizes}));var g=s[p];"tabs"in g?d.push(e.createElement(Tw,{size:g.size,panelData:g,key:g.id})):"children"in g&&d.push(e.createElement(r,{size:g.size,boxData:g,key:g.id}))}var v=1;"vertical"===u?(t="dock-box dock-vbox",null!=c&&(v=c)):(t="dock-box dock-hbox",null!=f&&(v=f));var y=v*a,m=1e6*v;return m<1&&(m=1),e.createElement("div",{ref:this.getRef,className:t,"data-dockid":l,style:{minWidth:i,minHeight:o,flex:"".concat(y," ").concat(m," ").concat(a,"px")}},d)}}]),r}(e.PureComponent);zw.contextType=Ip;var jw=function(t){re(r,t);var n=oe(r);function r(){return te(this,r),n.apply(this,arguments)}return ee(r,[{key:"render",value:function(){var t,n=[],r=f(this.props.boxData.children);try{for(r.s();!(t=r.n()).done;){var i=t.value;"tabs"in i&&n.push(e.createElement(Tw,{size:i.size,panelData:i,key:i.id}))}}catch(o){r.e(o)}finally{r.f()}return e.createElement("div",{className:"dock-box dock-fbox"},n)}}]),r}(e.PureComponent);function Bw(e,t){t.panels.set(e.id,e);var n,r=f(e.tabs);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.tabs.set(i.id,i)}}catch(o){r.e(o)}finally{r.f()}}function Vw(e,t){var n,r=f(e.children);try{for(r.s();!(n=r.n()).done;){var i=n.value;"tabs"in i?Bw(i,t):"children"in i&&Vw(i,t)}}catch(o){r.e(o)}finally{r.f()}}function Uw(e,t,n){function r(e){var r,i,o=[],a=f(e.tabs);try{for(a.s();!(r=a.n()).done;){var s=r.value,u=(i=s,t?t(i):{id:i.id});u&&o.push(u)}}catch(p){a.e(p)}finally{a.f()}var l,c=e.id,h=e.size,d=e.activeId;"float"===e.parent.mode||"window"===e.parent.mode?l={id:c,size:h,tabs:o,activeId:d,x:e.x,y:e.y,z:e.z,w:e.w,h:e.h}:l={id:c,size:h,tabs:o,activeId:d};return n&&n(l,e),l}function i(e){var t,n=[],o=f(e.children);try{for(o.s();!(t=o.n()).done;){var a=t.value;"tabs"in a?n.push(r(a)):"children"in a&&n.push(i(a))}}catch(s){o.e(s)}finally{o.f()}return{id:e.id,size:e.size,mode:e.mode,children:n}}return{dockbox:i(e.dockbox),floatbox:i(e.floatbox),windowbox:i(e.windowbox),maxbox:i(e.maxbox)}}function Gw(e,t,n,r){var i,o,a,s=function(e){var t={panels:new Map,tabs:new Map};return e&&("children"in e?Vw(e,t):("dockbox"in e&&Vw(e.dockbox,t),"floatbox"in e&&Vw(e.floatbox,t))),t}(t);function u(e){if(n)return n(e);var t=e.id;return s.tabs.has(t)?s.tabs.get(t):null}function l(e){var t,n,i=e.id,o=e.size,a=e.activeId,l=e.x,c=e.y,h=e.z,d=e.w,p=e.h,g=[],v=f(e.tabs);try{for(v.s();!(t=v.n()).done;){var y=u(t.value);y&&g.push(y)}}catch(m){v.e(m)}finally{v.f()}return n=d||p||l||c||h?{id:i,size:o,activeId:a,x:l,y:c,z:h,w:d,h:p,tabs:g}:{id:i,size:o,activeId:a,tabs:g},e.id===Np?n.panelLock={}:r?r(e,n):s.panels.has(i)&&(n=Object.assign(Object.assign({},s.panels.get(i)),n)),n}function c(e){if(!e)return null;var t,n=[],r=f(e.children);try{for(r.s();!(t=r.n()).done;){var i=t.value;"tabs"in i?n.push(l(i)):"children"in i&&n.push(c(i))}}catch(o){r.e(o)}finally{r.f()}return{id:e.id,size:e.size,mode:e.mode,children:n}}return{dockbox:c(e.dockbox),floatbox:c(null!==(i=e.floatbox)&&void 0!==i?i:{mode:"float",children:[],size:0}),windowbox:c(null!==(o=e.windowbox)&&void 0!==o?o:{mode:"window",children:[],size:0}),maxbox:c(null!==(a=e.maxbox)&&void 0!==a?a:{mode:"maximize",children:[],size:1})}}var Hw=function(t){re(r,t);var n=oe(r);function r(){return te(this,r),n.apply(this,arguments)}return ee(r,[{key:"render",value:function(){var t=this.props.boxData.children[0];if(t)return this.hidePanelData=Object.assign(Object.assign({},t),{id:"",tabs:[]}),e.createElement("div",{className:"dock-box dock-mbox dock-mbox-show"},e.createElement(Tw,{size:100,panelData:t}));if(this.hidePanelData){var n=this.hidePanelData;return this.hidePanelData=null,e.createElement("div",{className:"dock-box dock-mbox dock-mbox-hide"},e.createElement(Tw,{size:100,panelData:n}))}return e.createElement("div",{className:"dock-box dock-mbox dock-mbox-hide"})}}]),r}(e.PureComponent),qw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Yw=function(e){re(n,e);var t=oe(n);function n(){var e;return te(this,n),(e=t.apply(this,arguments))._caches=new Map,e.destroyRemovedPane=function(){e._pendingDestroy=null;var t,n=!1,r=f(e._caches);try{for(r.s();!(t=r.n()).done;){var i=c(t.value,2),o=i[0];null==i[1].owner&&(e._caches.delete(o),n=!0)}}catch(a){r.e(a)}finally{r.f()}n&&e.forceUpdate()},e}return ee(n,[{key:"getTabCache",value:function(e,t){var n=this._caches.get(e);if(n)n.owner=t;else{var r=document.createElement("div");r.className="dock-pane-cache",n={div:r,id:e,owner:t},this._caches.set(e,n)}return n}},{key:"removeTabCache",value:function(e,t){var n=this._caches.get(e);n&&n.owner===t&&(n.owner=null,this._pendingDestroy||(this._pendingDestroy=setTimeout(this.destroyRemovedPane,1)))}},{key:"updateTabCache",value:function(e,t){var n=this._caches.get(e);n&&(n.portal=Pu.createPortal(t,n.div,n.id),this.forceUpdate())}}]),n}(e.PureComponent),Ww=function(t){re(r,t);var n=oe(r);function r(e){var t,i;te(this,r),(t=n.call(this,e)).getRef=function(e){t._ref=e},t.onDragStateChange=function(e){null==e&&(Tw.droppingPanel=null,t.state.dropRect&&t.setState({dropRect:null}))},t._onWindowResize=vw()((function(){var e=t.getLayout();if(t._ref){var n=lw(e,t._ref.offsetWidth,t._ref.offsetHeight);e!==n&&(n=cw(n,t.props.groups),t.changeLayout(n,null,"move"))}}),200);var o,a,s=e.layout,u=e.defaultLayout,l=e.loadTab;if(u)o=t.prepareInitData(e.defaultLayout);else if(!l)throw new Error("DockLayout.loadTab and DockLayout.defaultLayout should not both be undefined.");return t.state=s?{layout:r.loadLayoutData(s,e),dropRect:null}:{layout:o,dropRect:null},a=t.onDragStateChange,F_.add(a),null===(i=globalThis.addEventListener)||void 0===i||i.call(globalThis,"resize",t._onWindowResize),t}return ee(r,[{key:"getRootElement",value:function(){return this._ref}},{key:"prepareInitData",value:function(e){var t=Object.assign({},e);return cw(t,this.props.groups,this.props.loadTab),t}},{key:"getDockId",value:function(){return this.props.dockId||this}},{key:"getGroup",value:function(e){if(e){var t=this.props.groups;if(t&&e in t)return t[e];if(e===Sp)return Tp}return Cp}},{key:"dockMove",value:function(e,t,n){var r=this.getLayout();if("maximize"===n?(r=uw(r,e),this.panelToFocus=e.id):r="front"===n?function(e,t){if(t){var n,r=!1,i={};if("tabs"in t?n=t:(n=t.parent).activeId!==t.id&&(i.activeId=t.id,r=!0),n&&n.parent&&"float"===n.parent.mode){var o=Z_(n.z);o!==n.z&&(i.z=o,r=!0)}r&&(e=fw(e,n,Y_(n,i)))}return e}(r,e):aw(r,e),t="string"===typeof t?this.find(t,$_.All):q_(t),"float"===n){var i=rw(e);i.z=Z_(null),this.state.dropRect?r=ow(r,i,this.state.dropRect):(r=ow(r,i),this._ref&&(r=lw(r,this._ref.offsetWidth,this._ref.offsetHeight)))}else if("new-window"===n){r=function(e,t){var n=Y_(e.windowbox);return n.children.push(t),hw(e,e.windowbox,n)}(r,rw(e))}else if(t){if("tabs"in t)if("middle"===n)r=nw(r,e,t);else r=function(e,t,n,r){var i=n.parent,o="left"===r||"right"===r?"horizontal":"vertical",a="bottom"===r||"right"===r,s=i.children.indexOf(n);if(s>=0){var u=Y_(i);if(o===i.mode)a&&++s,n.size*=.5,t.size=n.size,u.children.splice(s,0,t);else{var l={mode:o,children:[]};l.size=n.size,l.children=a?[n,t]:[t,n],n.parent=l,n.size=200,t.parent=l,t.size=200,u.children[s]=l,l.parent=u}return hw(e,i,u)}return e}(r,rw(e),t,n);else if("children"in t){r=iw(r,rw(e),t,n)}else r=function(e,t,n,r){var i=n.parent.tabs.indexOf(n);return i>=0?("after-tab"===r&&++i,nw(e,t,n.parent,i)):e}(r,e,t,n)}if(r!==this.getLayout()){r=cw(r,this.props.groups);var o=null;o=e.hasOwnProperty("tabs")?e.activeId:e.id,this.changeLayout(r,o,n)}this.onDragStateChange(!1)}},{key:"find",value:function(e,t){return tw(this.getLayout(),e,t)}},{key:"getLayoutSize",value:function(){return this._ref?{width:this._ref.offsetWidth,height:this._ref.offsetHeight}:{width:0,height:0}}},{key:"updateTab",value:function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.find(e,$_.AnyTab);if(i){var o=i.parent,a=o.tabs.indexOf(i);if(a>=0){var s=this.props.loadTab,u=this.getLayout();if(t){var l=o.activeId;!s||"content"in t&&"title"in t||(t=s(t)),u=nw(u=aw(u,i),t,o=q_(o),a),o=q_(o),r||(o.activeId=l,this.panelToFocus=o.id)}else r&&o.activeId!==e&&(u=fw(u,o,Object.assign(Object.assign({},o),{activeId:e})));return u=cw(u,this.props.groups),this.changeLayout(u,null!==(n=null===t||void 0===t?void 0:t.id)&&void 0!==n?n:e,"update"),!0}}return!1}},{key:"navigateToPanel",value:function(e,t){if(!t)return e||(e=this._ref.querySelector(".dock-tab-active>.dock-tab-btn")),void e.focus();for(var n,r="ArrowUp"===t||"ArrowDown"===t?".dock>.dock-bar":".dock-box>.dock-panel",i=Array.from(this._ref.querySelectorAll(r)),o=i.find((function(t){return t.contains(e)})),a=o.getBoundingClientRect(),s=[],u=0,l=i;u<l.length;u++){var c=l[u];if(c!==o){var f=c.getBoundingClientRect(),h=pw(a,f,t);h>=0&&s.push({panel:c,rect:f,distance:h})}}s.sort((function(e,t){return e.distance-t.distance}));for(var d=0,p=s;d<p.length;d++){if(n=p[d].panel.querySelector(".dock-tab-active>.dock-tab-btn"))break}n&&n.focus()}},{key:"useEdgeDrop",value:function(){return"edge"===this.props.dropMode}},{key:"setDropRect",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[300,300],o=this.state.dropRect;if(o){if("remove"===t)return void(o.source===n&&this.setState({dropRect:null}));if(o.element===e&&o.direction===t&&"float"!==t)return}if(e){var a=this._ref.getBoundingClientRect(),s=this._ref.offsetWidth/a.width,u=this._ref.offsetHeight/a.height,l=e.getBoundingClientRect(),c=(l.left-a.left)*s,f=(l.top-a.top)*u,h=l.width*s,d=l.height*u,p=.5;switch(e.classList.contains("dock-box")&&(p=.3),t){case"float":var g=(r.clientX-a.left)*s,v=(r.clientY-a.top)*u;f=v-15,h=i[0],d=i[1],c=g-(h>>1);break;case"right":c+=h*(1-p);case"left":h*=p;break;case"bottom":f+=d*(1-p);case"top":d*=p;break;case"after-tab":c+=h-15,h=30;break;case"before-tab":c-=15,h=30}this.setState({dropRect:{left:c,top:f,width:h,height:d,element:e,source:n,direction:t}})}else this.setState({dropRect:null})}},{key:"render",value:function(){this.tempLayout=null;var t,n,r=this.props,i=r.style,o=r.maximizeTo,a=this.state,s=a.layout,u=a.dropRect;if(u){u.element;var l=u.direction,h=qw(u,["element","direction"]);t=Object.assign(Object.assign({},h),{display:"block"}),"float"===l&&(t.transition="none")}o?("string"===typeof o&&(o=document.getElementById(o)),n=Pu.createPortal(e.createElement(Hw,{boxData:s.maxbox}),o)):n=e.createElement(Hw,{boxData:s.maxbox});var d,p=[],g=f(this._caches);try{for(g.s();!(d=g.n()).done;){var v=c(d.value,2),y=(v[0],v[1]);y.portal&&p.push(y.portal)}}catch(m){g.e(m)}finally{g.f()}return e.createElement("div",{ref:this.getRef,className:"dock-layout",style:i},e.createElement(Dp,{value:this},e.createElement(zw,{size:1,boxData:s.dockbox}),e.createElement(jw,{boxData:s.floatbox}),e.createElement(Mw,{boxData:s.windowbox}),n,p),e.createElement("div",{className:"dock-drop-indicator",style:t}))}},{key:"componentDidUpdate",value:function(e,t,n){var r;if(this.panelToFocus){var i=this._ref.querySelector('.dock-panel[data-dockid="'.concat(this.panelToFocus,'"]'));i&&!i.contains(this._ref.ownerDocument.activeElement)&&(null===(r=i.querySelector(".dock-bar"))||void 0===r||r.focus()),this.panelToFocus=null}}},{key:"componentWillUnmount",value:function(){var e,t;null===(e=globalThis.removeEventListener)||void 0===e||e.call(globalThis,"resize",this._onWindowResize),t=this.onDragStateChange,F_.delete(t),this._onWindowResize.cancel()}},{key:"setLayout",value:function(e){this.tempLayout=e,this.setState({layout:e})}},{key:"getLayout",value:function(){return this.tempLayout||this.state.layout}},{key:"changeLayout",value:function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.props,a=o.layout,s=o.onLayoutChange;s&&(r=Uw(e,this.props.saveTab,this.props.afterPanelSaved),e.loadedFrom=r,s(r,t,n),a&&this.forceUpdate()),a||i||this.setLayout(e)}},{key:"onSilentChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=this.props.onLayoutChange;if(n){var r=this.getLayout();this.changeLayout(r,e,t,!0)}}},{key:"saveLayout",value:function(){return Uw(this.getLayout(),this.props.saveTab,this.props.afterPanelSaved)}},{key:"loadLayout",value:function(e){this.setLayout(r.loadLayoutData(e,this.props,this._ref.offsetWidth,this._ref.offsetHeight))}}],[{key:"loadLayoutData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.defaultLayout,o=t.loadTab,a=t.afterPanelLoaded,s=t.groups,u=Gw(e,i,o,a);return(u=cw(u=lw(u,n,r),s)).loadedFrom=e,u}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.layout,i=t.layout;return n&&n!==i.loadedFrom?{layout:r.loadLayoutData(n,e)}:null}}]),r}(Yw),Xw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},Kw=function(t){re(r,t);var n=oe(r);function r(){var e;return te(this,r),(e=n.apply(this,arguments)).getRef=function(t){e._ref=t},e.getDividerData=function(t){if(e._ref){var n=e.props,r=n.children,i=n.mode,o=e._ref.childNodes,a=1;if(Array.isArray(r)&&(a=r.length),o.length===2*a-1){for(var s=[],u=0;u<a;++u)"vertical"===i?s.push({size:o[2*u].offsetHeight}):s.push({size:o[2*u].offsetWidth});return{element:e._ref,beforeDivider:s.slice(0,t),afterDivider:s.slice(t)}}}return null},e.changeSizes=function(t){var n=e.props.mode,r=e._ref.childNodes;if(r.length===2*t.length-1){for(var i=0;i<t.length;++i)"vertical"===n?r[2*i].style.height="".concat(t[i],"px"):r[2*i].style.width="".concat(t[i],"px");e.forceUpdate()}},e}return ee(r,[{key:"render",value:function(){var t,n=this.props,r=n.children,i=n.mode,o=n.className,a=Xw(n,["children","mode","className"]),s="vertical"===i,u=[];if(Array.isArray(r))for(var l=0;l<r.length;++l)l>0&&u.push(e.createElement(Fw,{idx:l,key:l,isVertical:s,getDividerData:this.getDividerData,changeSizes:this.changeSizes})),u.push(r[l]);else u=r;return t="vertical"===i?"divider-box dock-vbox":"divider-box dock-hbox",o&&(t="".concat(t," ").concat(o)),e.createElement("div",Object.assign({ref:this.getRef,className:t},a),u)}}]),r}(e.PureComponent);Kw.contextType=Ip;var $w=Ww,Qw=function(){var t,n=hs((function(e){return{selectedElements:e.selectedElements,selectedNodes:e.selectedNodes}})),r=n.selectedElements,i=(0,n.selectedNodes)(),o=null===i||void 0===i||null===(t=i[0])||void 0===t?void 0:t.id(),a=hs((function(e){return e.ynodes()})).get(null!==o&&void 0!==o?o:""),u=null===a||void 0===a?void 0:a.get("data"),l=c((0,e.useState)([]),2),f=l[0],h=l[1],d=(0,e.useRef)(null),p=(0,e.useRef)(null),g=(0,e.useCallback)((function(){var e;h(Array.from(null!==(e=null===u||void 0===u?void 0:u.entries())&&void 0!==e?e:[]))}),[u]);(0,e.useEffect)((function(){u&&g()}),[r]),(0,e.useEffect)((function(){if(u){var e=function(e,t){if(!t.local){var n=c(Array.from(e.keysChanged),2),r=n[0],i=n[1];if(i&&r){var a=document.getElementById("".concat(o,"-").concat(i,"-key")),s=document.getElementById("".concat(o,"-").concat(i,"-value"));if(!(a instanceof HTMLInputElement&&s instanceof HTMLInputElement))return;a.value=r,a.setAttribute("data-key",r),a.id="".concat(o,"-").concat(r,"-key"),s.setAttribute("data-key",r),s.id="".concat(o,"-").concat(r,"-value")}e.changes.keys.forEach((function(t,n){if("update"===t.action){var r=e.target,i=document.getElementById("".concat(o,"-").concat(n,"-value")),a=r.get(n);if(!(i instanceof HTMLInputElement))return;if("string"!==typeof a)return;i.value=a}else"add"===t.action?g():t.action}))}};return u.observe(e),function(){u.unobserve(e)}}}),[r]);var v=function(e){var t,n,r=null!==(t=e.target.getAttribute("data-key"))&&void 0!==t?t:"",i=e.target.value,a=null===u||void 0===u?void 0:u.get(r);if(null!==u&&void 0!==u&&u.has(r)&&a){null===(n=u.doc)||void 0===n||n.transact((function(){u.set(i,a),u.delete(r)}));var s=e.target,l=document.getElementById("".concat(o,"-").concat(r,"-value"));s instanceof HTMLInputElement&&l instanceof HTMLInputElement&&(s.value=i,s.setAttribute("data-key",i),s.id="".concat(o,"-").concat(i,"-key"),l.setAttribute("data-key",i),l.id="".concat(o,"-").concat(i,"-value"))}},y=function(e){var t=e.target.value,n=e.target.getAttribute("data-key");n&&null!==u&&void 0!==u&&u.has(n)&&u.set(n,t)},m=function(e){var t;if("Enter"===e.key&&d.current&&p.current){var n=d.current.value||"key-".concat(s(10)),r=p.current.value||"new attribute";null!==u&&void 0!==u&&u.has(n)||(null===u||void 0===u||u.set(n,r),d.current.value="",d.current.blur(),p.current.value="",p.current.blur(),g(),null===(t=document.getElementById("".concat(o,"-").concat(n,"-key")))||void 0===t||t.focus())}};return(0,ds.jsxs)("div",{className:"flex flex-col flex-1 overflow-auto divide-y border-b transition-colors p-0.5",children:[0!==(null===i||void 0===i?void 0:i.length)&&f.map((function(e,t){var n=c(e,2),r=n[0],i=n[1];return(0,ds.jsxs)("div",{className:"flex divide-x transition-colors",children:[(0,ds.jsx)("input",{id:"".concat(o,"-").concat(r,"-key"),"data-key":r,className:"flex-1 min-w-0 border-0 text-ellipsis",defaultValue:r,onChange:v}),(0,ds.jsx)("input",{id:"".concat(o,"-").concat(r,"-value"),"data-key":r,className:"flex-1 min-w-0 border-0 text-ellipsis",defaultValue:i,onChange:y})]},s())})),0!==(null===i||void 0===i?void 0:i.length)&&(0,ds.jsxs)("div",{className:"flex divide-x transition-colors",children:[(0,ds.jsx)("input",{ref:d,placeholder:"Add Attribute",className:"flex-1 min-w-0 border-0 text-ellipsis",onKeyDown:m}),(0,ds.jsx)("input",{ref:p,placeholder:"Add value",className:"flex-1 min-w-0 border-0 text-ellipsis",onKeyDown:m})]})]})};var Zw=e.forwardRef((function(t,n){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},t),e.createElement("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"}))}));var Jw=e.forwardRef((function(t,n){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},t),e.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}))})),ex=function(){var t=ud().register,n=function(t){var n=ud(),r=t.control,o=void 0===r?n.control:r,s=t.name,u=t.keyName,l=void 0===u?"id":u,f=t.shouldUnregister,h=c(e.useState(o._getFieldArray(s)),2),d=h[0],p=h[1],g=e.useRef(o._getFieldArray(s).map(kd)),v=e.useRef(d),y=e.useRef(s),m=e.useRef(!1);y.current=s,v.current=d,o._names.array.add(s),pd({callback:e.useCallback((function(e){var t=e.values,n=e.name;if(n===y.current||!n){var r=Yh(t,y.current,[]);p(r),g.current=r.map(kd)}}),[]),subject:o._subjects.array});var b=e.useCallback((function(e){m.current=!0,o._updateFieldArray(s,e)}),[o,s]);return e.useEffect((function(){o._stateFlags.action=!1,Sd(s,o._names)&&o._subjects.state.next({}),m.current&&o._executeSchema([s]).then((function(e){var t=Yh(e.errors,s),n=Yh(o._formState.errors,s);(n?!t&&n.type:t&&t.type)&&(t?xd(o._formState.errors,s,t):Rd(o._formState.errors,s),o._subjects.state.next({errors:o._formState.errors}))})),o._subjects.watch.next({name:s,values:o._formValues}),o._names.focus&&Ed(o._fields,(function(e){return e.startsWith(o._names.focus)})),o._names.focus="",o._proxyFormState.isValid&&o._updateValid()}),[d,s,o]),e.useEffect((function(){return!Yh(o._formValues,s)&&o._updateFieldArray(s),function(){(o._options.shouldUnregister||f)&&o.unregister(s)}}),[s,o,l,f]),{swap:e.useCallback((function(e,t){var n=o._getFieldArray(s);Ad(n,e,t),Ad(g.current,e,t),b(n),p(n),o._updateFieldArray(s,n,Ad,{argA:e,argB:t},!1)}),[b,s,o]),move:e.useCallback((function(e,t){var n=o._getFieldArray(s);Od(n,e,t),Od(g.current,e,t),b(n),p(n),o._updateFieldArray(s,n,Od,{argA:e,argB:t},!1)}),[b,s,o]),prepend:e.useCallback((function(e,t){var n=dd(Id(e)),r=Pd(o._getFieldArray(s),n);o._names.focus=Cd(s,0,t),g.current=Pd(g.current,n.map(kd)),b(r),p(r),o._updateFieldArray(s,r,Pd,{argA:Dd(e)})}),[b,s,o]),append:e.useCallback((function(e,t){var n=dd(Id(e)),r=Nd(o._getFieldArray(s),n);o._names.focus=Cd(s,r.length-1,t),g.current=Nd(g.current,n.map(kd)),b(r),p(r),o._updateFieldArray(s,r,Nd,{argA:Dd(e)})}),[b,s,o]),remove:e.useCallback((function(e){var t=Ld(o._getFieldArray(s),e);g.current=Ld(g.current,e),b(t),p(t),o._updateFieldArray(s,t,Ld,{argA:e})}),[b,s,o]),insert:e.useCallback((function(e,t,n){var r=dd(Id(t)),i=Md(o._getFieldArray(s),e,r);o._names.focus=Cd(s,e,n),g.current=Md(g.current,e,r.map(kd)),b(i),p(i),o._updateFieldArray(s,i,Md,{argA:e,argB:Dd(t)})}),[b,s,o]),update:e.useCallback((function(e,t){var n=Id(t),r=Fd(o._getFieldArray(s),e,n);g.current=q(r).map((function(t,n){return t&&n!==e?g.current[n]:kd()})),b(r),p(q(r)),o._updateFieldArray(s,r,Fd,{argA:e,argB:n},!0,!1)}),[b,s,o]),replace:e.useCallback((function(e){var t=dd(Id(e));g.current=t.map(kd),b(q(t)),p(q(t)),o._updateFieldArray(s,q(t),(function(e){return e}),{},!0,!1)}),[b,s,o]),fields:e.useMemo((function(){return d.map((function(e,t){return a(a({},e),{},i({},l,g.current[t]||kd()))}))}),[d,l])}}({name:"elementType"}),r=n.fields,o=n.append,s=n.remove;return(0,ds.jsx)(ds.Fragment,{children:(0,ds.jsxs)("div",{className:"px-4 py-2 space-y-3",children:[(0,ds.jsxs)("div",{children:[(0,ds.jsx)("label",{className:"block leading-6",htmlFor:"name",children:"Name"}),(0,ds.jsx)("input",a({type:"text",className:"w-full h-8",placeholder:"Name"},t("name",{required:!0,value:""})))]}),(0,ds.jsxs)("div",{children:[(0,ds.jsx)("label",{className:"block leading-6",htmlFor:"description",children:"Description"}),(0,ds.jsx)("textarea",a({className:"w-full h-20",placeholder:"description"},t("description")))]}),(0,ds.jsxs)("div",{children:[(0,ds.jsx)("label",{className:"block leading-6",htmlFor:"apiUrl",children:"API Url"}),(0,ds.jsx)("input",a({type:"text",className:"w-full h-8",placeholder:"Name"},t("apiUrl",{required:!0,value:""})))]}),(0,ds.jsxs)("div",{children:[(0,ds.jsx)("label",{className:"inline leading-6",htmlFor:"elementType",children:"Element Type"}),(0,ds.jsx)(Zw,{className:"w-5 h-5 ml-1 align-text-bottom cursor-pointer inline",onClick:function(){return o("*")}}),r.map((function(e,n){return(0,ds.jsxs)("div",{className:"flex items-center gap-1",children:[(0,ds.jsx)("input",a({type:"text",className:"w-full h-8 flex-1",placeholder:"'node.people' or '*'"},t("elementType.".concat(n),{required:!0}))),(0,ds.jsx)(Jw,{className:"w-6 h-6 text-red-400 hover:bg-red-200",onClick:function(){return s(n)}})]},e.id)}))]})]})})},tx=["apiUrl"],nx=function(t){var n=t.open,r=t.setOpen,i=hs((function(e){return e.getAwareness()})),o=hs((function(e){return e.yjsSharedTransforms()})),u=hs((function(e){return e.addInternalTransforms})),l=mp({defaultValues:{elementType:["*"]}}),c=l.handleSubmit((function(e){var t=a(a({},e),{},{transformId:s(),parameter:{}}),n=a(a({},t),{},{clientId:i.clientID}),l=(n.apiUrl,Ms(n,tx));u([t]),o.set(l.transformId,l),r(!1)}));return(0,ds.jsx)(uf,{show:n,as:e.Fragment,children:(0,ds.jsx)(ph,{as:"div",className:"fixed inset-0 overflow-y-auto z-max",onClose:r,children:(0,ds.jsxs)("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20",children:[(0,ds.jsx)(uf.Child,{as:e.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,ds.jsx)("div",{className:"backdrop fixed inset-0"})}),(0,ds.jsx)(uf.Child,{as:e.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,ds.jsxs)(ph.Panel,{className:"flex flex-col self-center align-bottom text-left overflow-hidden shadow-xl transition-all max-w-lg w-full",children:[(0,ds.jsx)("div",{className:"topbar",children:(0,ds.jsx)(ph.Title,{as:"h1",className:"font-mono text-lg p-3 text-white",children:"Add Transform"})}),(0,ds.jsx)("div",{className:"panel max-h-[76vh] overflow-y-auto",children:(0,ds.jsx)(ld,a(a({},l),{},{children:(0,ds.jsx)("form",{onSubmit:c,id:"connectionForm",children:(0,ds.jsx)(ex,{})})}))}),(0,ds.jsx)("div",{className:"panel border-t flex-row-reverse flex px-3 py-2",children:(0,ds.jsx)("button",{type:"submit",form:"connectionForm",className:"w-auto inline-flex justify-center shadow-sm px-4 py-2 my-0 text-sm font-medium font-mono bg-green-300  hover:bg-green-200 dark:bg-green-800 dark:hover:bg-green-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-600",children:"Add"})})]})})]})})})},rx=function(e){var t=e.transformName,n=e.username;return(0,ds.jsx)(Oh.Button,{className:"w-full odd:bg-blue-200 even:bg-blue-100 hover:bg-blue-300 dark:odd:bg-neutral-800 dark:even:bg-neutral-700 dark:hover:bg-neutral-600 transition-colors",children:function(e){var r=e.open;return(0,ds.jsxs)("div",{className:"flex gap-2 justify-between items-center px-5 py-2 font-medium font-mono text-left text-base",children:[(0,ds.jsxs)("div",{className:"flex flex-1 justify-between item-center min-w-0",children:[(0,ds.jsx)("span",{children:t}),(0,ds.jsx)("span",{className:" text-gray-500 truncate",children:n})]}),(0,ds.jsx)(bp,{className:"".concat(r?"transform rotate-180":""," w-5 h-5")})]})}})},ix=function(){var t=hs((function(e){return e.getAwareness})),n=hs((function(e){return e.yjsSharedTransforms()})),r=hs((function(e){return e.sharedTransforms})),i=hs((function(e){return e.setSharedTransforms})),o=function(e,t){i(e.target.toJSON())};return(0,e.useEffect)((function(){return n.observe(o),function(){return n.unobserve(o)}}),[n]),(0,ds.jsx)("div",{className:"w-full h-full overflow-auto",children:Object.entries(r).map((function(e){var n,r,i=c(e,2),o=(i[0],i[1]);if(Hl(o)){var a=null!==(n=null===(r=t().getStates().get(o.clientId))||void 0===r?void 0:r.username)&&void 0!==n?n:"unknown";return(0,ds.jsxs)(Oh,{children:[(0,ds.jsx)(rx,{transformName:o.name,username:a}),(0,ds.jsxs)(Oh.Panel,{className:"space-y-2 px-4 py-2 font-mono leading-tight",children:[(0,ds.jsxs)("p",{className:"break-words",children:[(0,ds.jsx)("span",{className:"text-gray-500 text-sm",children:"Name"}),(0,ds.jsx)("br",{}),o.name]}),(0,ds.jsxs)("p",{className:"break-words",children:[(0,ds.jsx)("span",{className:"text-gray-500 text-sm",children:"Provided By"}),(0,ds.jsx)("br",{}),a]}),(0,ds.jsxs)("p",{className:"break-words",children:[(0,ds.jsx)("span",{className:"text-gray-500 text-sm",children:"Type"}),(0,ds.jsx)("br",{}),o.elementType.join(", ")]}),(0,ds.jsxs)("p",{className:"break-words",children:[(0,ds.jsx)("span",{className:"text-gray-500 text-sm",children:"Description"}),(0,ds.jsx)("br",{}),o.description]}),(0,ds.jsxs)("p",{className:"break-words",children:[(0,ds.jsx)("span",{className:"text-gray-500 text-sm",children:"Parameter"}),(0,ds.jsx)("br",{}),JSON.stringify(o.parameter)]})]})]},o.transformId)}}))})},ox=function(){var t=c((0,e.useState)(!1),2),n=t[0],r=t[1];return(0,ds.jsxs)("span",{children:["SharedTransforms",(0,ds.jsx)(Zw,{className:"w-5 h-5 ml-1 align-text-top cursor-pointer inline",onClick:function(){return r(!0)}}),(0,ds.jsx)(nx,{open:n,setOpen:r})]})};var ax=e.forwardRef((function(t,n){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:n},t),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}));var sx=e.forwardRef((function(t,n){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:n},t),e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}))}));var ux=e.forwardRef((function(t,n){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},t),e.createElement("path",{fillRule:"evenodd",d:"M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z",clipRule:"evenodd"}))}));var lx=e.forwardRef((function(t,n){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},t),e.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"}))}));var cx=e.forwardRef((function(t,n){return e.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:n},t),e.createElement("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"}))})),fx=function(e,t){e.set(t.jobId,a(a({},t),{},{status:"failed"}))},hx=function(){var t=hs((function(e){return e.internalTransforms})),n=hs((function(e){return e.ydoc})),r=hs((function(e){return e.ynodes()})),i=hs((function(e){return e.yedges()})),o=hs((function(e){return e.getAwareness()})),u=hs((function(e){return e.yjsTransformJobs()})),l=hs((function(e){return e.transformJobs})),c=hs((function(e){return e.setTransformJobs})),f=hs((function(e){return e.sharedTransforms})),h=hs((function(e){return e.cytoscape}));(0,e.useEffect)((function(){var e=function(e,t){c(e.target.toJSON())};return u.observe(e),function(){u.unobserve(e)}}),[]);var d=function(e){e.stopPropagation();var t=e.currentTarget.getAttribute("data-jobid");if(t){var n=u.get(t);n&&function(e,t){e.set(t.jobId,a(a({},t),{},{status:"rejected"}))}(u,n)}},p=function(e){var o,l;e.stopPropagation();var c=e.currentTarget.getAttribute("data-transformid"),f=e.currentTarget.getAttribute("data-jobid");if(c&&f){var d=t.find((function(e){return e.transformId===c})),p=u.get(f);if(d&&p){var g={nodes:null===(o=p.request.nodesId)||void 0===o?void 0:o.map((function(e){return null===h||void 0===h?void 0:h.$id(e).data()})),edges:null===(l=p.request.edgesId)||void 0===l?void 0:l.map((function(e){return null===h||void 0===h?void 0:h.$id(e).data()})),parameter:p.request.parameter};!function(e,t){e.set(t.jobId,a(a({},t),{},{status:"running"}))}(u,p),fetch(d.apiUrl,{method:"POST",body:JSON.stringify(g),headers:{"content-type":"application/json"}}).then((function(e){return e.json()}),(function(){return fx(u,p)})).then((function(e){(function(e){return e instanceof Object})(e)&&h&&(n.transact((function(){var t,n;null===(t=e.add)||void 0===t||null===(n=t.nodes)||void 0===n||n.forEach((function(e,t){var n,o,a,u,l=null===(n=h.$id(null!==(o=e.linkToNodeId)&&void 0!==o?o:""))||void 0===n?void 0:n.position(),c=Yl(e.data,null!==(a=null===l||void 0===l?void 0:l.x)&&void 0!==a?a:0,null!==(u=null===l||void 0===l?void 0:l.y)&&void 0!==u?u:0,{pan:h.pan(),zoom:h.zoom()}),f=c.nodeId,d=c.node;if(r.set(f,d),e.linkToNodeId){var p=function(e,t,n){var r=null!==n&&void 0!==n?n:s();return{edgeId:r,edge:{source:e,target:t,id:r}}}(e.linkToNodeId,f),g=p.edgeId,v=p.edge;i.set(g,v)}}))})),function(e,t){e.set(t.jobId,a(a({},t),{},{status:"completed"}))}(u,p))}),(function(){return fx(u,p)}))}}};return(0,ds.jsx)("div",{className:"w-full h-full overflow-auto",children:l.map((function(e){var n,r,i,a,s=null!==(n=null===(r=o.getStates().get(e.fromClientId))||void 0===r?void 0:r.username)&&void 0!==n?n:"unknown",u=null!==(i=null===(a=f[e.transformId])||void 0===a?void 0:a.name)&&void 0!==i?i:"unknown";return(0,ds.jsxs)(Oh,{children:[(0,ds.jsx)(Oh.Button,{className:"w-full odd:bg-blue-200 even:bg-blue-100 hover:bg-blue-300 dark:odd:bg-neutral-800 dark:even:bg-neutral-700 dark:hover:bg-neutral-600 transition-colors",children:function(n){var r=n.open;return(0,ds.jsxs)("div",{className:"flex flex-1 gap-2 justify-between items-center w-full px-5 py-2 font-medium font-mono text-left text-base",children:[(0,ds.jsxs)("div",{className:"flex flex-1 justify-between items-center min-w-0",children:[(0,ds.jsx)("span",{children:u}),(0,ds.jsx)("span",{className:"text-gray-500 truncate",children:s})]}),{failed:(0,ds.jsx)(ax,{className:"w-6 h-6 text-red-500"}),rejected:(0,ds.jsx)(ux,{className:"w-6 h-6 text-red-500"}),completed:(0,ds.jsx)(lx,{className:"w-6 h-6 text-green-500"}),running:(0,ds.jsx)(cx,{className:"w-6 h-6 text-gray-500 animate-spin"}),pending:t.some((function(t){return t.transformId===e.transformId}))?(0,ds.jsxs)("div",{className:"flex space-x-2",children:[(0,ds.jsx)(lx,{className:"w-6 h-6 text-white bg-green-500","data-jobid":e.jobId,"data-transformid":e.transformId,onClick:p}),(0,ds.jsx)(ux,{className:"w-6 h-6 text-white bg-red-500","data-jobid":e.jobId,onClick:d})]}):(0,ds.jsx)(sx,{className:"w-6 h-6 text-gray-500"})}[e.status],(0,ds.jsx)(bp,{className:"".concat(r?"transform rotate-180":""," w-5 h-5")})]})}}),(0,ds.jsxs)(Oh.Panel,{className:"space-y-2 px-4 py-2 font-mono leading-tight",children:[(0,ds.jsxs)("p",{className:"break-words",children:[(0,ds.jsx)("span",{className:"text-gray-500 text-sm",children:"Transform"}),(0,ds.jsx)("br",{}),u]}),(0,ds.jsxs)("p",{className:"break-words",children:[(0,ds.jsx)("span",{className:"text-gray-500 text-sm",children:"Requested By"}),(0,ds.jsx)("br",{}),s]}),(0,ds.jsxs)("p",{className:"break-words capitalize",children:[(0,ds.jsx)("span",{className:"text-gray-500 text-sm",children:"Status"}),(0,ds.jsx)("br",{}),e.status]}),(0,ds.jsxs)("p",{className:"break-words",children:[(0,ds.jsx)("span",{className:"text-gray-500 text-sm",children:"Elements"}),(0,ds.jsx)("br",{}),e.request.nodesId]}),(0,ds.jsxs)("p",{className:"break-words",children:[(0,ds.jsx)("span",{className:"text-gray-500 text-sm",children:"Parameter"}),(0,ds.jsx)("br",{}),JSON.stringify(e.request.parameter)]})]})]},e.jobId)}))})};var dx={"main-panel":{floatable:!1,maximizable:!0}},px={id:s(),title:"Graph",content:(0,ds.jsx)(lc,{}),cached:!0,closable:!1,group:"main-panel"},gx={id:s(),title:"Userinfo",content:(0,ds.jsx)(ps,{}),cached:!0,closable:!1},vx={id:s(),title:(0,ds.jsx)(ox,{}),content:(0,ds.jsx)(ix,{}),cached:!0,closable:!1},yx={id:s(),title:"TransformsJobs",content:(0,ds.jsx)(hx,{}),cached:!0,closable:!1},mx={id:s(),title:"NodeAttributes",content:(0,ds.jsx)(Qw,{}),cached:!0,closable:!1},bx={dockbox:{mode:"horizontal",children:[{size:1e3,tabs:[a({},px)],panelLock:{panelStyle:"main"}},{mode:"vertical",size:300,children:[{tabs:[a({},gx)]},{tabs:[a({},vx),a({},yx)]},{tabs:[a({},mx)]}]}]}},_x=function(){var e=I(Zl);return(0,ds.jsx)(ds.Fragment,{children:(0,ds.jsxs)(S,{children:[(0,ds.jsx)($w,{defaultLayout:bx,groups:dx,style:{position:"absolute",left:10,top:10,right:10,bottom:35}}),(0,ds.jsx)(kp,{isOnlineMode:e})]})})},wx=function(e){e&&e instanceof Function&&n.e(728).then(n.bind(n,1728)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))},xx=document.getElementById("root");xx&&(0,r.s)(xx).render((0,ds.jsx)(_x,{}));wx()}()}();
//# sourceMappingURL=main.755dd10f.js.map